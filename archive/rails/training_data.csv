IS,5 0 0 beta1 generated Gemfile uses wrong version of turbolinks,I think it ought to be using the version in master rather than the released 2 5 3 version The released version uses before filter and after filter which raise deprecation warnings with Rails 5 0 0 beta1 Alternatively turbolinks should have a 3 0 0 beta1 release,,"rafaelfranca,eileencodes,rafaelfranca",2015-12-29 18:51:26,2015-12-29 19:07:17
IS,AC Parameters should be mergeable with another AC Parameters,For context this occurs here in Kaminari L23,,rafaelfranca,2015-12-29 19:40:04,2015-12-29 20:08:16
IS,table name error,Hi I have this model class ConsultantInterview Report ActiveRecord Base mount uploader document GenericReportStageUploader after commit touch enrollment on create update belongs to consultant interview stage class name ConsultantInterview Stage foreign key consultant interview stage id validates document presence true validates observations presence true validates consultant interview stage presence true def touch enrollment self consultant interview stage touch enrollment end end and when I try to create a new instance return this error PG UndefinedTable ERROR relation reports does not exist LINE 5 WHERE a attrelid ' reports ' regclass SELECT a attname format type a atttypid a atttypmod pg get expr d adbin d adrelid a attnotnull a atttypid a atttypmod FROM pg attribute a LEFT JOIN pg attrdef d ON a attrelid d adrelid AND a attnum d adnum WHERE a attrelid ' reports ' regclass AND a attnum 0 AND NOT a attisdropped ORDER BY a attnum I test this in the console 2 2 2 024 ConsultantInterview Report table name reports I can solved this adding this in the model class ConsultantInterview Report ActiveRecord Base self table name consultant interview reports But do not know why is this happening,,"maclover7,rafaelfranca,rafaelfranca",2015-12-29 23:47:13,2015-12-30 00:56:38
IS,New Rails 5 app wo not Welcome Aboard 500 is instead,I'm excited about Rails 5 and want to play around with it but I'm unable to even view the Welcome Aboard page you should see when generating a new rails app Instead I get a 500 error and the only line in the logs is Started GET for 127 0 0 1 at 2015 12 29 15 21 01 0800 There are no other log messages whatsoever Reproduce I am on OSX El Capitan and have tried on Ruby 2 2 2 I regularly work with Rails 4 2 x 1 Generate a new rails app gem install rails v 5 0 0 beta1 rails new myapp cd myapp 2 Edit the gemfile gem 'rails' '5 0 0 beta1' 3 Hit the server As mentioned above there is no detail about the error in the server console nor logs Running the server in production mode produces the same problem with no additional detail For thrills I have tried both bundler 1 10 6 and 1 11 2 as well as WEBrick puma and thin Related Issues I have seen this posted on the Ruby On Rails Talk Google Group msg rubyonrails talk Ouccsxuw7q4 YeIk6izKDQAJ but there was no resolution yet,,"maclover7,rafaelfranca",2015-12-29 23:33:05,2015-12-30 01:10:05
IS,Docs in Configuring ActionController are outdated,The docs have a section to describe how to configure ActionController configuring action controller where it says That actually throws a deprecation warning because the correct approach now is config action dispatch default charset,,,2015-12-29 23:12:17,2015-12-30 07:50:33
IS,TestController params should return AC Parameters,It seems to me that params ought to be returning AC Parameters right,,,2015-12-29 15:32:08,2015-12-30 07:52:26
IS,undefined method clean' for Hash 5 0 0 beta1,Hello Sorry if this has been reported already I did search with no luck Anywho Rails 5 0 0 beta1 gives this undefined method instead of I'm guessing what should be undefined method for nil,,rafaelfranca,2015-12-30 09:10:23,2015-12-30 14:54:29
IS,Unknown format should return 404 rather than 204,In Rails 5 0 0 beta1 When I have a PiratesController with a show action and I run It seems that a 404 response is more appropriate in this case,,rafaelfranca,2015-12-30 17:41:35,2015-12-30 17:50:26
IS,respond to with empty block should raise MissingTemplateError if no template exists for that format,In Rails 4 2 5 if I do nothing in a respond to block and there is no template for that format I get a ActionView MissingTemplate error In Rails 5 0 0 beta1 no error is thrown and the server returns a 500 error No stacktrace is in the log Setup This HTML shows the error and the stack trace This message is in the log,,rafaelfranca,2015-12-30 16:54:35,2015-12-30 19:44:34
IS,raise in transactional callbacks true does not work in rspec and rails c sandbox,Just added the option raise in transactional callbacks true and it is working in the rails c But in rails c sandbox and also when running a spec with rspec I do not get an expection Is that the expected behavior,,rafaelfranca,2015-12-31 06:38:17,2015-12-31 06:42:37
IS,AC Parameters to unsafe h does not deep dup,I would think you would get back ' f language facet Tibetan right,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki",2015-12-30 04:47:11,2015-12-31 08:04:43
IS,ActionCable stuffs on API only apps,I created an API app with Rails 5 0 0 beta1 I can see that ActionCable stuffs inside app channels directory even after passing skip action cable option It also gets loaded in rails console For my project I do not want ActionCable at all I believe that this would be the case for many API only apps,,"matthewd,prathamesh-sonpatki,prathamesh-sonpatki",2015-12-31 12:02:06,2015-12-31 12:07:13
IS,skip action cable option is not working,Passing skip action cable or C option when creating a new Rails app does not skip ActionCable for Rails 5 0 0 beta1,,matthewd,2015-12-31 12:06:50,2015-12-31 12:15:00
IS,Rails 5 0 0beta1 has a wasted space at cable coffee,It is existing at cable coffee first line,,,2016-01-01 03:56:28,2016-01-01 04:07:29
IS,quoted id failing,Rails 4 2 5 1 pry main r Restaurant first 2 pry main r quoted id 2 Rails 5 0 1 pry main r Restaurant first 2 pry main r quoted id NoMethodError private method quote value' called for Class 0x007f801cb24ca8 Did you mean quote bound value quoted id is marked TODO Deprecate this in sanitization rb but it is still called internally in connection adapters abstract quoting rb I can fix by patching the definition of quoted id But I doubt that is the right fix given the underlying changes in arel,,"ffmike,maclover7,ffmike,rafaelfranca,rafaelfranca,ffmike,rafaelfranca",2015-12-30 13:50:01,2016-01-01 17:13:30
IS,Error when starting rails server,There was a problem when I start the server 'rails s' throws me with following error bundle install works Mysql 5 7 10 installed through brew Rails 4 1 7 mysql2 gem 0 3 16,,"rafaelfranca,matthewd",2016-01-01 18:52:29,2016-01-01 18:54:08
IS,After Changing Columns of Model Fixture Is Not Working Well,Environment ruby 2 2 3p173 Rails 4 2 4 Description We can use rails g migration to change columns of a model However fixture is not updated properly in accordance with this kind of change This will lead to errors that would be very hard to track How to replicate this kind of problem 1 rails g model food name string number integer 2 rake db migrate 3 rake db test 4 rails g migration RemoveNameFromFood name string 5 rake db migrate 6 rake test Apart from removing this problem will also show up if you change the name of a column of a model,,rafaelfranca,2016-01-02 04:58:01,2016-01-02 07:39:06
IS,Validating does not stop even if one validation failed,In the validatng process of Model rails will run every validation even if the previous validation failed That is not the expected behavioral Rails should stop validating the data when one validation failed How to Replicate Run rails g Model test time record datetime Run rake db migrate Edit app models test rb to add two validations like this Run rake test What is Wrong During the validation rails should stop when the first validation failed Otherwise strange exception would be raised,,,2016-01-03 12:54:47,2016-01-03 13:51:10
IS,config assets precompile array and ruby 2 3 0,I have just tried to create a new rails 4 2 5 project with ruby 2 3 0 The behaviour of the and create a scss file in the pages subfolder Now try to access the generated page I am quiet familiar with rails development but my skills are limited when it comes to framework debugging I appreciate any help,,"maclover7,schneems,rafaelfranca",2016-01-03 22:54:02,2016-01-04 13:59:58
IS,ActionCable and posting to channel from ClientSide,Hi While investigating the codebase for ActionCable I spotted a method send L11 It wraps websocket is send method Does that mean that we are able to post to channel from the client side as well not only through the server side Can it be a potential security abuse I could not find a correct answer for this question and while trying to post to my test message channel from the browser I got an error on my server side Unable to process MessagesChannel receive body Hello from the browser,,javan,2016-01-04 09:27:18,2016-01-04 14:30:27
IS,new no content response when a template is missing creates unintuitive errors,I'm creating a new simple CRUD app and thought I would take the opportunity to try out rails 5 0 0 beta1 And I just wasted fifteen minutes trying to figure out why my extremely simple page was not working I have a resource called Card and in one of my views I have link to new card new card path but when I clicked the link nothing happened Nothing changed in my browser not even the URL and when I looked in the server log this is using Puma there was no indication that the server had even received a request Eventually I figured out that my mistake was a very simple one I would forgotten that I had not created the cards new html erb view yet and the new Rails 5 way of doing things seems to be to return 204 no content when it can not find the template rather than raising the error I suppose I see the logic in returning 204 when this is the case but this also gave me an extremely unintuitive error for what should be a very simple error and it took me 15 minutes to spot a problem something that in Rails 4 would have taken me 2 seconds Is there any way we can avoid this Maybe only return 204 in production mode not dev or include a config option like return 204 when template missing that is default true in prod but false in dev At the very least can we change things so that no template 204 responses actually appear in the server logs At the moment literally nothing appears whatsoever when I click a link which leads to a path with no template it is as if nothing has been clicked at all,,matthewd,2016-01-04 12:29:18,2016-01-04 17:51:38
IS,Rails 5 0 0 beta1 compile error hiredis 0 5 2 on windows,Hello this is my first issue on rails 5 and I would like to begin by thanking all the contributors 1 my system windows ruby 2 2 3 x64 Installing rails i had some troubles with hiredis 0 5 2 which can not be compiled on my system Version 0 6 1 can be compiled so i forced dependencies from This works but I wonder if there are downsides,,rafaelfranca,2016-01-04 16:58:18,2016-01-04 19:05:37
IS,Rails 5 0 0 beta1 exiting rails console issue,ctrl c looks like it exited to bash but did not Any bash command throw rails errors Typing exit works after 10 seconds not always with this message ERROR Could not cleanly terminate all actors in 10 seconds Also rails console does not automatically make a connect to postgres I have to type ModelName connection to force it to connect,,"maclover7,rafaelfranca,rafaelfranca,rafaelfranca",2015-12-31 23:43:35,2016-01-04 23:42:50
IS,ActiveModel Conversion to key inconsistent with ActiveModel Lint Tests test to key,The Lint says to key should return nil when persisted returns false But Conversion does not take persisted into account Note that other methods in Conversion do use persisted to make sure they are returning the right thing As a result a class that includes ActiveModel Conversion would not pass the lint tests Relevant source L53 L29,,,2016-01-05 10:42:33,2016-01-05 10:46:02
IS,Model first Model last aliases,Every time I promise myself I will remember that last is the newest and first is the oldest one but no My brain just can not accept it and I always forget and mix up these two What do you think about aliasing last as newest and first as oldest Anyone else also feel confused about them,,nateberkopec,2016-01-05 14:29:11,2016-01-05 16:44:28
IS,Params wrapper should come before instrumentation,As of the most recent change to the file 8e489db9dee1f4cfb0c3a259bd59626d86eacb07 lines 239 246 of actionpack lib action controller base rb L239 constitute the end of the list of the modules included in order into ActionController Base The contents of these lines are as follows I am not certain if this is a situation wherein the code was changed and the commenting just needs to be updated or if the code itself is incorrect the later obviously makes this a higher priority but either way a fix should probably be made NOTE The same exact code and thus the same exact error is present in actionpack lib action controller api rb,,"jmbejar,jmbejar,rafaelfranca",2016-01-03 00:36:27,2016-01-06 00:45:21
IS,Postgresql remove index error for Legacy Migrations,When running migrations on a postgresql database after updating rails to 5 0 0 beta1 remove index calls produce PG SyntaxError errors The SQL is coming from ActiveRecord Migration Compatibility remove index which has defines the SQL statement instead of using the drop index syntax defined per database in the adapters,,lsylvester,2016-01-05 09:59:07,2016-01-06 14:41:17
IS,Logger is expected to respond to broadcast messages,The logger method was added by in this commit and docs in Rails now expects a logger to have a broadcast messages method This is a method that does not exist on the other loggers such as the standard lib is logger When you try to set another logger it will break Setting your logging to STDOUT for example will be broken,,"schneems,schneems,schneems",2016-01-04 22:25:40,2016-01-06 17:05:25
IS,Missing documentation on manifest js,As far as I can see documentation is missing on the config initializers assets rb file since this part seems obsolete by the introduction of Sprockets 3 and manifest js,,"maclover7,schneems,schneems,k0kubun,schneems,k0kubun",2015-12-31 11:32:13,2016-01-07 04:20:29
IS,Data send using actioncable is only accessible on page reload,Complete example I have create a failing example here with instructions on how the bug can be reproduced and how the server is set up Problem When data is pushed to the client at the same time the user loads a page no data is received right away Instead the data appears when the page reloads Short example Here we first push some data to a background job which publishes everything it receives back to the websocket connection The client is then waiting for the data to come back and once it does appends it to the page I'm expecting the text This is a background job to show up on the page Instead nothing happens until the page later is reloaded Right after the reload button is pressed the above text appears Take a look at the link posted above for a complete failing example System Rails 5 beta 4d98b0d Ruby 2 2 4 Chrome 46 0 2490 80,,"rafaelfranca,javan,javan,javan",2016-01-03 00:23:32,2016-01-07 04:21:09
IS,generated URL helpers should accept AC Parameters as an argument,In 5 0 0 beta1 I do not think we should expect the same behavior from the last two invocations of the route helper,,"rafaelfranca,prathamesh-sonpatki,rafaelfranca",2015-12-29 17:05:28,2016-01-07 07:13:15
IS,Creating a new project without ActionCable generates cable coffee file,I created a new Project without ActionCable like so rails new rails5 backend skip action cable After that there is a file named cable coffee under app assets javascripts wich is included in application js When I then scaffold a model view and controller opening one of the generated sites does not work as require action cable in cable coffee can not be found Removing that file solves the problem For reference I'm using ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"prathamesh-sonpatki,prathamesh-sonpatki,pixeltrix",2016-01-07 11:23:55,2016-01-07 11:51:32
IS,This is just a test,sorry for the mess we will clean up in a second,,,2016-01-07 14:31:12,2016-01-07 14:33:14
IS,RoutesInspector should be more explicit when passing a filter that does not match,I was playing around with the CONTROLLER argument passed to the rake routes task and noticed that this error message get displayed when I'm passing the name of a controller that does not exist You do not have any routes defined Should we have instead different message for each case no routes found controller not found You do not have any routes defined I will be glad to open a PR for it smile At the same time should we normalize the controller argument to match route defaults controller names Passing Rails WelcomeController as argument should instead be rails welcome,,"Edouard-chin,Edouard-chin",2016-01-04 22:52:31,2016-01-07 15:38:05
IS,how to send message to specific client with actioncable,Seems that actioncable can only boardcast to all users but can I send message to specific client,,"prathamesh-sonpatki,javan,rafaelfranca",2016-01-07 08:46:00,2016-01-07 16:12:03
IS,sass rails gem not included on Gemfile,When creating a new Rails 5 0 0 beta1 app rails new AppName the sass rails gem is not included on the Gemfile Here is the generated Gemfile The only flag I have on my railsrc file is d postgresql,,rafaelfranca,2016-01-07 16:25:28,2016-01-07 16:33:22
IS,Serialized attributes are not read consistent in Rails 4 2 i e not the same object instance after assignment,This problem is present in of Rails 4 2 and 5 0 0 beta1 but behaves as I expect it to in 4 1 x Here is a gist that demonstrates the problem When I assign an object to a serialized attribute of a model I expect to be able to get the exact same object when I read the attribute but that is not the case,,"kaspth,sgrif,sgrif",2016-01-07 16:39:23,2016-01-07 16:51:47
IS,Deprecation warning for time zone aware types,In time zone conversion rb it says That way you can leverage three state logic and nil on the first boolean rather than dealing with arrays The code for time zone aware attributes will have to be update as well Thoughts,,"cllns,prathamesh-sonpatki,matthewd",2015-12-30 02:44:40,2016-01-07 16:57:28
IS,Documentation for presence validation on boolean field,At the end of the Presence section for active record validations there are examples given of how to deal with the fact that false blank is true presence Since false blank is true if you want to validate the presence of a boolean field you should use one of the following validations I think the first example is incorrect If you use this validation your validations will fail if boolean field name is false which is exactly what the documentation is trying to tell you how to avoid,,sgrif,2016-01-07 15:42:07,2016-01-08 00:07:56
IS,Database migration redo undo operation should be restricted,Accidentally executed migrate db redo STEP 2015xxxxxx instead of VERSION 2015xxxxxx and wiped my production database and following a re creation which also eliminates the possible to recover the lost files thereafter From my point of view Rails should refuse to execute such operation if STEP is apparently not correct especially under production environment,,"rafaelfranca,schneems",2016-01-08 00:33:55,2016-01-08 00:42:57
IS,Request origin does not match request base url,I am running the Rails 5 0 0 beta1 and after deploying to production have noticed something odd My application is running being an Nginx reverse proxy which decrypts SSL Every time I try to submit a form a ActionController InvalidAuthenticityToken is raised I have managed to narrow this down to line 399 L399 in ActionController The problem is that the request origin has https as the protocol and the request base url has http as the protocol I have tried setting the X Forwarded Proto header and using config force ssl true but neither made any difference I have not yet figured out a way to isolate a failing test case but am happy to look into it if anyone has any suggestions,,,2016-01-07 16:47:53,2016-01-08 10:25:32
IS,Confusion between translate in controller and view,This is just a suggestion Currently calling the translate method in a controller versus a view leads to different rendering of strings for instance controller t some message view p t some message p p p rendered view Some Message translation missing en some message Both action controller and action view seem to wrap and apply their own notions of what translate should do and it makes it very confusing especially for newcomers The main options are to call the I18n translate directly in all cases to get consistent behavior no matter where calling it but this seems like a workaround to get 'consistency' Maybe it would be better simply to have the method in the view that adds additional logic called something different for instance pretty translate so it is not confused or something along those lines Just a suggestion for improvement,,matthewd,2016-01-09 22:11:28,2016-01-09 22:23:56
IS,rails console should catch control c,I would like to suggest a change to the rails console When I hit Control C in the rails console the app goes down I would like to suggest that the rails console should not abort the app on C but instead just return a fresh prompt I believe that the rails console repl should behave like a shell I believe that C aka intr when typed in the console should not exit from the repl or abort the app but instead should just return to a fresh input prompt For me as a unix worker c means abort the current action but I still want to stay in the current shell I actually use c in my daily live whenever I screwed up an input line to get a fresh start But then when using that in the rails console I shoot the app There obviously needs to be a way to cancel a runaway loop in development mode But even then just exiting the app is not really helpful First of all I would like to modify the console behavior so that c would just clear the last input line instead of exiting from the app all development mode only I'm not so sure what should happen when c is hit while the app is not in the repl but hung in a loop have you ever heard about the status signal usually bound on t try that with dd In the console when in development modus t aka status should give a stack backtrace c should bring us back to some known state I could even imagine to add binding intr to mark places in code for debugging I believe this could be done If a loop is lost you would be thrown back on c to a console where the last binding intr was set I pry,,rafaelfranca,2016-01-10 01:23:26,2016-01-10 01:48:51
IS,Asset not precompiled in manifest js Rails 5 0 0 beta1,the default manifest js is link tree images link javascripts application js link stylesheets application css but when i run the server i get an error Sprockets Rails Helper AssetNotPrecompiled at pages Asset application css was not declared to be precompiled in production Declare links to your assets in assets config manifest js Examples link javascripts application js link directory javascripts js link directory stylesheets css link tree javascripts js link tree images and restart your server 2 things to consider here Why do i get the error The default links in manifest js are with one and in the exeption with My Gemfile Using Rails 5 0 0 beta1,,"maclover7,maclover7",2016-01-10 23:31:20,2016-01-11 00:14:26
IS,Can rails generate scaffold with namespace Controller and non namespace Model,Something like using several controllers in namespace 'controllers zoo cats controller rb' 'controllers home cats controller rb' 'controllers wild cats controller rb' but only one Model 'models cat rb' I tried rails g model cat name rails g scaffold controller zoo cat name model name cat OR model name zoo cat then edit routes file even edit Model to Zoo Cat But nothing works with errors like unknown method cat path Unsuccessfully autoload contants form helper does not work I have just asked a question on stackoverflow please read,,maclover7,2016-01-11 03:16:27,2016-01-11 03:19:06
IS,Unreleased Rack Version Compatibility Issue,I'm using oath2 in an application through Twitter Facebook and Instagram and I was hoping to upgrade to Rails 5 beta When doing so I ran into a dependency problem It looks like version 2 of Rack is not released yet but is trusted enough to be used in Rails 5 Are the only solutions to this problem Not updating to Rails 5 Forking Oath2 and updating its dependencies I just created an issue here Forking Rails 5 and downgrading its dependencies Definitely seems like the worst choice so feel free to ignore,,"nateberkopec,maclover7",2016-01-11 08:32:38,2016-01-11 12:37:58
IS,Json gem not installing in mac osx,I am having Mac os x 10 11 But when i am trying to install the json gem then it is showing like this Installing json 1 7 7 with native extensions Gem Ext BuildError ERROR Failed to build gem native extension In file included from generator c 1 fbuffer fbuffer h 175 11 warning incompatible pointer to integer conversion initializing 'VALUE' aka 'unsigned long' with an expression of type 'VALUE const char long ' Wint conversion VALUE result rb str new FBUFFER PAIR fb 1 warning and 1 error generated make generator o Error 1 make failed exit code 2 I have googled and updated the version of json 1 7 7 to 1 8 1 again it is showing the same Also it is showing incompatible version with Ruby 2 x,,,2016-01-11 17:14:53,2016-01-11 19:59:37
IS,Migration versioning not mentioned in ActiveRecord changelog,The edge migration guide shows a new syntax for migrations specifically ActiveRecord Migration 5 0 It looks like this was added by in 6940dc860c4b25bff2eded370f2af4316de15a30 but it was not documented in the CHANGELOG for AR,,"radar,maclover7,senny",2016-01-12 00:13:02,2016-01-12 08:10:53
IS,Rails installation Invalid gem package is Corrupt nokogiri,I was trying to install rails in ubuntu 14 04 but I am getting the following error gem install rails ERROR Error installing rails invalid gem package is corrupt exception while verifying undefined method size' for nil NilClass NoMethodError in home usr rbenv versions 2 2 3 lib ruby gems 2 2 0 cache nokogiri 1 6 7 1 gem Please Help with this Thank You,,rafaelfranca,2016-01-12 17:18:31,2016-01-12 17:27:29
IS,TEST does not work with new test runner when run with rake test,Previously you could specify a single test file to be run by using the TEST environment variable This no longer works and all the tests will be run instead,,"schneems,senny,senny",2016-01-12 15:26:49,2016-01-12 18:28:08
IS,ActionController Parameters as json has changed format,ActionController Parameters as json does not behave in the same way under Rails 4 2 and under Rails 5 0 0 beta1 In my opinion this is a regression and can easily be fixed but before submitting a patch I would like to know the opinion of who worked on having AC Parameters not inherit from Hash Reproducing the issue is really easy just run ActionController Parameters new hello world as json The reason is that Object as json L49 checks whether the object respond to to hash and as already commented issue 51798294 ActionController Parameters to hash will no longer work in Rails 5 0 as we stop inheriting Parameters from Hash,,"claudiob,maclover7,sikachu,claudiob,sikachu,claudiob",2016-01-12 14:54:17,2016-01-12 19:38:22
IS,pg dump invalid option i error due to depricated postgres i options flag,When running rake db migrate I am seeing pg dump invalid option i errors due to the i options flag used on line 55 of activerecord 4 2 0 lib active record tasks postgresql database tasks rb,,pixeltrix,2016-01-12 17:22:19,2016-01-12 22:39:36
IS,ar,Sorry vimium decided to create a new issue smile,,,2016-01-12 23:51:19,2016-01-12 23:51:26
IS,After upgrade to Postgres 9 5 rake db migrate fails with pg dump invalid option i,The error comes from activerecord 4 2 1 lib active record tasks postgresql database tasks rb 55 The Postgres 9 4 docs say i ignore version A deprecated option that is now ignored The 9 5 docs do not mention this option at all,,matthewd,2016-01-13 01:28:30,2016-01-13 01:29:41
IS,em hiredis dependency conflict with ActionCable,Hi Thanks to the Rails team for the huge work on this 5 0 0 beta1 It looks awesome and I can not wait to use it Being a beta it has some rough spots and here is one that is bothering me Rails 5 depends on ActionCable which depends on em hiredis 0 3 0 which depends on hiredis 0 5 0 which is kind of old a 0 6 x has been released on February 8 2015 I have been using hiredis for a while and I depend on the 0 6 x version in my app Now that Rails forces me to install ActionCable which I do not intend to use I'm blocked There is an open issue for em hiredis but it seems a bit stale NB I still do not understand why ActionCable is a hard dependency of rails and not in the default gemfile I looks like unnecessary burden,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-01-04 08:46:37,2016-01-13 03:41:30
IS,Rails 5 0 0 beta1 When creating a new app Spring can not be executed,,,,2015-12-31 22:38:18,2016-01-13 04:14:35
IS,Devise logout is not working when certain js files are included in application js,Hey I'm using the latest version of devise and rails 4 2 4 I have my home page public index html which contains heavy javascript But when I load it from some other page it does not load with all the effects So included does not work It gets rendered as GET users sign out When I remove those links from application js it works fine I have tried contacting devise on the issue and just wanted to know if it has something to do with rails on the whole,,"aditya-kapoor,prathamesh-sonpatki",2016-01-13 06:01:54,2016-01-13 07:37:53
IS,Convert Foo Bar to foo bars,I think that is must be method for convert class name to path name or method name like tableize but with correct handling of modules I want to convert Foo Bar to foo bars or foo bar not foo bar It is standard purpose and I think its must be standardise in API because this is bad piece of code Sample of this issue in popular repository L14,,maclover7,2016-01-13 09:44:52,2016-01-13 13:47:35
IS,Host constraint not working until I modify routes file Rails 4 2 2,I have an issue with host constraint I made a youtube video to possibly show the problem a little better Basic gist is I start up the server I go to localhost 3000 It renders the dashboard index route I then go to residentsurveys localhost It renders the home index method in the resident surveys co module This is located in controllers resident surveys co home controller I then go to the route get ' r campaign short id customer short id' isurvey responses new' It renders that route but the layout is wrong as if it is inheriting from the wrong application controller The main application layout expects data like the current location So it fails I make a modification to the routes file delete whitespace and then re save it Everything works fine after that This happens every time I start a rails application My routes file looks like this Thanks for any help,,"matthewd,pixeltrix",2016-01-02 17:57:33,2016-01-13 17:33:23
IS,Unable to access rails console or see rails v on production server rails 4 2 x,Hello I have a rails 4 2 3 application on production rbenv 0 4 0 ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 linux and everything is working just about fine The site is live everything is functional as expected But I'm not able to open the rails console on production server rails c production returns the following rails v also returns the same message Came across the following question discussion on stackoverflow but it does not solve the issue Is everyone else able to access the console,,"prathamesh-sonpatki,kaspth,prathamesh-sonpatki",2016-01-14 07:36:08,2016-01-14 07:53:50
IS,Enum scopes and STI conditions do not get along,This is a regression on master from 4 2 I have an Activity class with a status enum which can be pending failed or successful Activity has two subclasses Snapshot and Adjustment First I create a successful Adjustment Then I create a successful Snapshot Then I query for the first successful Snapshot and I expect to get a Snapshot object but instead I get an Adjustment object I have not tracked down the case yet but I believe it is related to 22426 In fact the SQL that runs for Snapshot successful first is different Applying the version of rails rails patched by 22426 does not seem to fix the issue,,"claudiob,maclover7,maclover7,claudiob,maclover7,claudiob",2016-01-11 15:54:25,2016-01-14 20:32:57
IS,Association scope from customization broken in Rails 5,Association scope from customizations no longer work in Rails 5 Consider the following model Here is a full executable test case,,"maclover7,maclover7,maclover7",2016-01-10 04:10:24,2016-01-14 20:38:25
IS,Setting connection pool size to zero behaves as a pool of size one,Setting a pool size of zero should force a new connection for each request When a connection is checked back in it is always added to the queue of available connections The first action of acquire connection is to pull from the available queue Even when size is zero the second pool checkout will return the connection returned after the first checkout One possible solution is to maintain the size invariant on in addition to during check in We have an external DB where we need to close connections after use so we really do not want to reuse connections,,"schneems,yahonda,maclover7",2016-01-15 19:32:41,2016-01-15 21:00:06
IS,Websocket connect disconnect loop,My connections keep getting marked as stale because the ping message is not being received by the client This causes that the close event keeps on getting called then the connection closes and reopens continuously image,,,2016-01-15 15:56:24,2016-01-15 21:13:24
IS,Document bang version for query methods,Hi Here is a basic example of using query methods sequentially depending on conditions Whether or not it is more readable might be discussed but I wonder why those methods are not documented Here is link to an example L165,,rafaelfranca,2016-01-15 08:21:58,2016-01-16 05:55:20
IS,rake minitest fails with rake task including url helpers,When creating a custom rake task below lib tasks which includes Rails application routes url helpers Then 'rake test' errors tested with 4 2 4 and 4 2 5 e g see proof,,rafaelfranca,2016-01-15 11:42:50,2016-01-16 06:12:53
IS,Support CHECK constraints in migrations and schema rb,As mentioned at the bottom of this RailsGuide section reverting previous migrations CHECK constraints cannot be expressed in schema rb Please support them A syntax suggestion,,prathamesh-sonpatki,2016-01-16 10:48:08,2016-01-16 11:22:13
IS,Actionpack wrong argument type Class expected Module TypeError,I'm facing this problem with ActionPack and heroku On my pc everything works well but the same application on heroku does not work because of this error What is missing here,,pixeltrix,2016-01-17 17:46:17,2016-01-17 19:22:22
IS,unsigned integer could not update schema rb,hi I write a migration with rails 4 2 4 mysql unsigned integer do not work in schema rb when i run with rake db test load test db use schema rb what Can I do upgrade my rails I know that i could use RAILS ENV test rake db migrate but the schema is still wrong,,pixeltrix,2016-01-17 13:02:54,2016-01-17 19:35:11
IS,Psql confused by hstore attribute in 'WHERE' clause,using Model where model first or create in Rails 5beta Trying to create new record from hash of attributes which includes an hstore column My code Attribute hashes,,"prathamesh-sonpatki,senny,prathamesh-sonpatki",2015-12-31 20:20:03,2016-01-18 09:18:46
IS,CodeStatisticCalculator raises exception when there is binary file,I'm not sure if this is something rails should take care of sorry in advance if it is not the case rake stats will raise a ArgumentError invalid byte sequence in UTF 8 if there is a binary file inside a directory The most common reason of having binary files inside directories would be because of temporary files An easy solution would be to not process if it is an hidden file starting by,,"Edouard-chin,pixeltrix,Edouard-chin,matthewd",2016-01-04 23:32:57,2016-01-18 18:47:17
IS,undefined method dig' for ActionController Parameters,Hey currently this is not considered Hash so dig added in Ruby 2 3 is not usable on ActionController Parameters Are there plans to support new Ruby 2 3 syntax sugar and speed optimization in Rails 5,,maclover7,2016-01-18 19:03:54,2016-01-18 19:09:00
IS,Cannot load 'guard' LoadError for Rails 4 2 4,When running bundle exec rake test for Rails 4 2 4 application it has an error cannot load such file guard LoadError rails bug,,maclover7,2016-01-18 19:21:03,2016-01-18 19:23:30
IS,Join table regression in 4 2 5,Duplicate of issue 22584 the change was introduced to 4 2 stable at 799aedc6437aad61a6355917f625da6fd7868d24 and fixed at a6c3376ad0c5dbaf407d332994d07ebc8c91f592,,"maclover7,maclover7,maclover7,maclover7",2016-01-19 00:36:20,2016-01-19 04:18:33
IS,Deprecate before changing interface of Strong Params,For Rails 5 strong params was changed to not inherit from hash I think that is a great idea however we did not deprecate the change did we I think we should add a method missing that will send to the underlying hash and issue a deprecation before we remove the method missing and deprecation in 5 1 This sudden change bit me on codetriage when upgrading cc,,"schneems,maclover7,rafaelfranca,schneems,maclover7,schneems,schneems,rafaelfranca,kaspth,schneems,rafaelfranca,rafaelfranca,schneems,nateberkopec,rafaelfranca,rafaelfranca,sikachu,schneems",2016-01-16 16:28:45,2016-01-19 19:04:27
IS,Ca not add enum field method already defined by Active Record,I do use Rails for many other projects with no issues but here I do use Observers and have to preload my models,,"prathamesh-sonpatki,prathamesh-sonpatki,kaspth,kaspth,vipulnsward,vipulnsward,kaspth,kaspth,kaspth",2016-01-20 13:26:16,2016-01-20 13:41:51
IS,add column ignores limit for mysql2 adapter,Passing limit when specifying a column in a create table block correctly creates the column as bigint but when you pass limit to add column it creates an int,,,2016-01-20 19:02:21,2016-01-20 19:03:09
IS,add column ignores limit for mysql2 adapter,Passing limit when specifying a column in a create table block correctly creates the column as bigint but when you pass limit to add column it creates an int,,"kamipo,sgrif",2016-01-20 19:02:13,2016-01-20 21:49:28
IS,validation fails for AR if before validation not returning true,rails 4 1 5 ruby 2 1 2 When using before validation some method if this some method is not returning true validation fails All fields that are validated are present and all validation conditions are This is not a big problem for tested applications if last line always returns false this is immediately found but in cases where last line returns false in rare cases and this have not thought through might get into some big issues like i had Why it works like this,,rafaelfranca,2016-01-20 13:50:42,2016-01-20 23:11:10
IS,Rails 5 routing issue with prefixed optionals,Hi I'm experiencing an issue with rails 5 0 0 beta1 also present on the master branch It is about paths with prefixed optionals like,,"maclover7,maclover7,eileencodes,maclover7,eileencodes,pixeltrix",2016-01-15 13:43:54,2016-01-20 23:14:13
IS,5 0 0 beta1 api rendering does not follow status on certain content types,Sample repo app generated with rails new api In render json what 'oops ' status 500 Renders with 500 Internal Server Error render plain 'oops ' status 500 Renders with status 200 OK 500 is expected This also happens with render text 'foo' status 500 An app created without api works as expected I suspect this behavior might be coming from somewhere related to ActionController API Thanks smile,,"maclover7,maclover7,maclover7",2016-01-20 18:35:34,2016-01-21 03:23:16
IS,Rails 5 0 0 beta ActionController Base RuntimeError Invalid option key per form csrf tokens,I create a new project based on rails 5 0 0 beta1 but server cannot start raise this error ActionController Base respond to per form csrf tokens false ActionController Base respond to forgery protection origin check true other config accessors works except per form csrf tokens,,prathamesh-sonpatki,2016-01-21 05:40:24,2016-01-21 05:56:02
IS,No bind parameters for ranges in where clause,For example Model where numerical value 5 10 still generates an entry in the prepared statements cache tested with v4 2 5 and v5 0 0 beta1 This is very bad because of 21992 Similar issues where solved in A similar problem was reported in 22250 and fixed as well for v5 0 0 If you could have a stab at this that would be very much appreciated,,sgrif,2016-01-15 20:01:04,2016-01-21 20:29:22
IS,Getting Started guide should be more informative about references,The getting started guide does not explain why it is generating a model with a references data type column It should be explained in a bit of details Section 6 1,,maclover7,2016-01-21 14:12:57,2016-01-21 20:39:57
IS,Cannot access owner from an has many extension method,Consider this code,,maclover7,2016-01-22 02:00:35,2016-01-22 02:24:04
IS,Rails 4 1 1 caveat when using respond to in pair with respond with,A nice approach using respond to in pair with respond with returns HTTP 1 1 406 Not Acceptable but creates a resource,,pixeltrix,2016-01-21 15:43:40,2016-01-22 08:22:22
IS,Rails 5 uninitialized constant ApplicationCable ActionCable,When I create new rails application without active record Let me know If this is correct solution and you are willing to accept a PR to fix this issue,,prathamesh-sonpatki,2016-01-22 09:22:17,2016-01-22 10:14:15
IS,Rails 5 question Unable to use rails db setup to create Postgres database on OSX,I want to create a web API service that does location calculations After some research I found that Postgres would a good database model for that so I decided to create a Rails API app with Postgres After installing postgres with Homebrew and following the instructions to launch it and add it to the LaunchAgents I created a new Rails 5 API app and wanted to run bundle exec rails db setup However this fails with the following message Confusing for a very new Rails developer that has not touched Postgres before After trying lots of Googl ing for the answer I still can not come up with a solution Most of the answers ask you to switch to the postgres user Somehow this always asks me for password and I'm at a loss as to what that password should be Often sites mention 'The password does not matter Postgres defaults to ident which is the server user ' and assume you just log in No answers as to why it asks for an unknown password for me I'm pretty sure this has to do with some kind of initial step that I forgot to do and that is not as well documented in the Homebrew installation or maybe just dead obvious to other developers But does anyone know how to get Postgres started in the Rails app,,pixeltrix,2016-01-22 08:21:04,2016-01-22 10:23:18
IS,Need to specify exact version when installing local gems Rails Guide,In section 2 1 1 and 4 1 we are told to install the engine gem with the following line in the host projects gem file gem 'blorgh' path path to blorgh This line does not work for local gems however and returns the following error The gem will not be found unless you also specify the exact version of the gem as well like this gem 'blorgh' '0 0 1' path path to blorgh See this stackoverflow question for reference Since I am still a beginner when it comes to using Rails I do not feel confident that this is an error in the guide or with my implementation of it I am also unsure of how to update the guide if it actually is an error,,prathamesh-sonpatki,2016-01-22 09:53:20,2016-01-22 10:55:21
IS,numericality validator should respect allow blank when only integer is set,Reasoning I will only accept integers but when users enters nothing it should be accepted as well So acceptable values are '' empty 5 Not acceptable values are 15 5 float foo text 5foo combination when using validates a field numericality allow blank true only integer true will not accept the empty value because its not an integer only integer seems to be too strict to me I understand that changing this might break existing applications which rely on this semi documented behaviour so I am happy as well with a new flag no floats or something similar Why do I say semi documented This does not have any limitations so it should pass the validation in all cases or it should be pointed out very clearly that there are exceptions to this where appropriate state that the validator ignores the allow blank option eg the greater or equal than can be set and it will happily accept empty values,,"egilburg,vipulnsward,prathamesh-sonpatki",2016-01-21 15:05:21,2016-01-22 13:05:13
IS,Ruby intepreter was crash with Rails 5,Does not know whether I submit report about Ruby intepreter or extension libraries or not But sometimes I got these exception when trying to refresh web page on browser I'm using Ruby 2 3 0 Rails 5 0 0beta1 and bellow is my Gemfile Uploading crash report log zip,,rafaelfranca,2016-01-06 03:21:30,2016-01-22 16:11:28
IS,ActionCable NameError when unsubscribing from a redis backed subscription,When a test client disconnects from a redis backed ActionCable connection the following exception throws There was an exception NameError undefined local variable or method hi redis conn' for ActionCable SubscriptionAdapter Redis 0x007fb1449e2b70 Looks like a simple reference to the connection was not updated,,,2016-01-22 16:56:19,2016-01-22 17:03:14
IS,NoMemoryError failed to allocate memory using BigDecimal to s method,I use Ruby 2 2 3 and Rails 4 2 3 I get an NoMemoryError failed to allocate memory using the following code in irb console Here my question on Stackoverflow,,maclover7,2016-01-22 17:48:38,2016-01-22 17:54:57
IS,retrieve connection pool not caching connections for classes correctly,I am not 100 sure but I think i have spotted a bug within the connection pool My expectation is that class to pool contains the name of the klass passed to the function However for any subclass it will always resolve to the first superclass that has a pool This defeats the author is comments stating that class to pool is a cache and has O 1 lookup times because on subsequent lookups the klass will not have an entry in the class to pool dict its pool carrying parent will instead I believe this is just a error in assigning klass in the loop to the same variable as the incoming parameter or not saving the original klass for use later Could someone take a look and just double check Its not a critical issue but it does kind of make the complexity of all the caching not really worth it See L913 L922,,,2016-01-22 18:15:03,2016-01-22 18:24:27
IS,Add exclude alias to where not,This would be a lot more readable if where not could have a exclude alias User where not age 50 User exclude age 50,,maclover7,2016-01-22 18:54:16,2016-01-22 18:57:17
IS,rails runner command with,In zsh probably also bash you can turn the output of a command into a file in memory by using Example,,"maclover7,kaspth",2016-01-22 16:49:45,2016-01-22 19:05:21
IS,Time use zone is not respected if an ActiveRecord object is loaded before the block,Using Rails 4 2 1 and a mysql2 maria DB If you load an ActiveRecord object from the database before using a Time use zone time zone block and try to srftime format that object is timestamp column eg created at then it will not respect the given time zone However if you load the ActiveRecord object while inside of the block it will be respected TBH I'm not sure if this is a bug or if this is expected behavior This problem can be easily worked around by using s updated at in time zone but I was under the impression that using a Time use zone block should render that unnecessary,,pixeltrix,2016-01-22 17:35:44,2016-01-23 15:19:56
IS,Setting enum default via ' default' on DB field is broken bisected,Testcase If column for enum is created with default value in rails master Model instance is built with field nil in rails before bad commit Model is built with filed default value ping,,"maclover7,sgrif",2016-01-22 15:51:50,2016-01-23 15:49:22
IS,actioncable activejob How do I stop a while loop,I am creating a channel that executes an infinite loop and an ActiveJob which prints a message I want to stop this loop but it seems that it gets its own thread and I am not able to ending in letting it run forever How do I break this,,matthewd,2016-01-23 20:48:09,2016-01-23 22:34:21
IS,Ca not Pass frozen strings as arguments to Rails Generators Actions gem,In railties 4 2 5 I get a frozen modification error can not modify frozen String RuntimeError when I attempt to pass frozen strings to the gem method I encountered this when adding the new frozen string literal pragma to my generator L17,,"prathamesh-sonpatki,prathamesh-sonpatki,matthewd",2016-01-20 15:00:30,2016-01-24 06:08:58
IS,unsigned ints and possibly 64bits on ids by default,I do not know if this is a miss but the ids should be generated as unsigned I'm a worst case scenario type,,maclover7,2016-01-24 14:31:31,2016-01-24 14:40:39
IS,Rails 5 collection cache,Hey guys I used this cache collection in Rails 4 and worked fine Now I have got an error articles index html haml Any help please,,prathamesh-sonpatki,2016-01-15 08:12:34,2016-01-24 15:24:31
IS,Collection cache key raises PG GroupingError with select in query,ActiveRecord Relation cache key raises PG GroupingError in PostgreSQL when there is select in the query I tested the same query in sqlite and it did not raise any error,,,2016-01-13 00:16:09,2016-01-24 18:04:36
IS,Has many through polymorphic source inserts from source type,I have the next STI When I call count it looks for records with list item type Feeling when I add records to the association it inserts list item type ListItem Same happens when I do test feeling ids 1 2 3 it always inserts list item type of parent class of my STI Rails 4 2 5,,"maclover7,maclover7,vipulnsward",2016-01-23 12:08:23,2016-01-24 18:08:32
IS,scaffold generator uses fixture replacement for model tests but not for controller tests,Using Rails 5 beta 1 factory girl rails 4 5 Steps to reproduce generate scaffold the controller test that is generated will have a setup method that relies on fixtures,,"maclover7,prathamesh-sonpatki",2016-01-20 12:09:38,2016-01-25 02:18:14
IS,reset column information does not reset ActiveRecord Base find,I am trying to change my primary key from an integer to a uuid like when I call User reset column information afterward in a migration and then try using User find a uuid I get a database error b c ActiveRecord Base find is still trying to coerce my uuid string as an integer e g PG InvalidTextRepresentation ERROR invalid input syntax for uuid 0 The migration does however work fine if ran again presumably some type of active record cache is cleared Is there some other method public or private that I can call to remedy this Thank you,,prathamesh-sonpatki,2016-01-25 01:45:15,2016-01-25 02:26:27
IS,saving an association causes all unsaved associations to be saved,Hello I have the following class Link has many uploads class Upload belongs to link uploads new file File open Rails root join test files test jpg uploads new file File open Rails root join test files test2 jpg I am calling 'new' on the uploads so I dont have to set 'link id' manually however it seems to cause 2 issues 1 uploads now contains 2 unsaved associations which causes issues with my models as they dont expect uploads to contain unsaved data 2 Doing save will save both associations to the database insead of just Is this the intended behaviour or am I doing something wrong Thanks,,"maclover7,maclover7,kaspth,kaspth",2016-01-25 19:28:30,2016-01-25 20:08:32
IS,llklklkl,l l l,,,2016-01-25 20:50:12,2016-01-25 20:50:31
IS,Undefined method cache Regression in 4 2 5 1,This line,,maclover7,2016-01-25 20:50:07,2016-01-25 20:53:01
IS,Rails 4 2 5 1 Breaks render file in RSpec,Updating to 4 2 5 1 started giving us failures in our test suite when calling our method for manually rendering a 404 It appears everything works correctly in the actual app itself Not sure if this is a Rails or RSpec issue Using rspec rails 3 3 3 Here is the code in question,,"maclover7,maclover7,maclover7",2016-01-25 20:50:02,2016-01-25 21:12:41
IS,Rails 4 2 5 1 and ActionView Resolver sub class ArgumentError wrong number of arguments 5 for 4,I'm seeing this exception since bumping to Rails 4 2 5 1 Seems like this call L116 and here L122 are passing 5 args but the method arg list is still 4 L133,,"maclover7,maclover7,maclover7",2016-01-25 20:31:26,2016-01-25 21:17:04
IS,undefined method cache for nil NilClass in actionview lib action view template resolver rb,In actionview lib action view template resolver rb a private method cached is called in find all anywhere but this method is a method that requires an instance variable to be defined which is initialized in another class class and is not initialized here thus the error raised,,"maclover7,maclover7",2016-01-25 22:42:47,2016-01-25 22:47:23
IS,Rails 3 2 22 1 actionpack 3 2 22 1 lib action view template resolver rb 113 syntax error unexpected ' ' expecting kEND,This error comes up when I attempt to run rails s So to troubleshoot I created a brand new blank app Yes it starts up just fine Next step was to create a controller and a view So I added the hello controller rb with the index method Yes I did put the proper route in the routes file Now it generates the following error when I attempt to access that hello index method Is there something I need to change in my apps Thanks programmer dev01 programming BloggerApp rails s p 3002 Booting WEBrick Rails 3 2 22 1 application starting in development on 3002 Call with d to detach Ctrl C to shutdown server 2016 01 25 14 39 33 INFO WEBrick 1 3 1 2016 01 25 14 39 33 INFO ruby 1 8 7 2014 01 28 x86 64 linux 2016 01 25 14 39 33 INFO WEBrick HTTPServer start pid 4931 port 3002 2016 01 25 14 39 39 ERROR SyntaxError home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action view template resolver rb 113 syntax error unexpected ' ' expecting kEND ternal files instance reader false instance writer false home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action view template resolver rb 113 Ca not assign to false files instance reader false instance writer false home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action view template resolver rb 113 syntax error unexpected ' ' expecting ' ' eader false instance writer false home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action view railtie rb 50 home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support lazy load hooks rb 36 in instance eval' home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support lazy load hooks rb 36 in execute hook' home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support lazy load hooks rb 43 in run load hooks' home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support lazy load hooks rb 42 in each' home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support lazy load hooks rb 42 in run load hooks' home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action view base rb 218 home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support dependencies rb 251 in require' home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support dependencies rb 251 in require' home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support dependencies rb 236 in load dependency' home programmer rvm gems ruby 1 8 7 head rails3 gems activesupport 3 2 22 1 lib active support dependencies rb 251 in require' home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib abstract controller view paths rb 1 home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib abstract controller rendering rb 35 home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib abstract controller layouts rb 195 home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action controller base rb 183 home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action dispatch middleware static rb 32 in ext' home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action dispatch middleware static rb 16 in match ' home programmer rvm gems ruby 1 8 7 head rails3 gems actionpack 3 2 22 1 lib action dispatch middleware static rb 77 in call' home programmer rvm gems ruby 1 8 7 head rails3 gems railties 3 2 22 1 lib rails engine rb 484 in call' home programmer rvm gems ruby 1 8 7 head rails3 gems railties 3 2 22 1 lib rails application rb 231 in call' home programmer rvm gems ruby 1 8 7 head rails3 gems rack 1 4 7 lib rack content length rb 14 in call' home programmer rvm gems ruby 1 8 7 head rails3 gems railties 3 2 22 1 lib rails rack log tailer rb 17 in call' home programmer rvm gems ruby 1 8 7 head rails3 gems rack 1 4 7 lib rack handler webrick rb 59 in service' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick httpserver rb 104 in service' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick httpserver rb 65 in run' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick server rb 173 in start thread' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick server rb 162 in start' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick server rb 162 in start thread' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick server rb 95 in start' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick server rb 92 in each' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick server rb 92 in start' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick server rb 23 in start' home programmer rvm rubies ruby 1 8 7 head lib ruby 1 8 webrick server rb 82 in start' home programmer rvm gems ruby 1 8 7 head rails3 gems rack 1 4 7 lib rack handler webrick rb 13 in run' home programmer rvm gems ruby 1 8 7 head rails3 gems rack 1 4 7 lib rack server rb 268 in start' home programmer rvm gems ruby 1 8 7 head rails3 gems railties 3 2 22 1 lib rails commands server rb 70 in start' home programmer rvm gems ruby 1 8 7 head rails3 gems railties 3 2 22 1 lib rails commands rb 55 home programmer rvm gems ruby 1 8 7 head rails3 gems railties 3 2 22 1 lib rails commands rb 50 in tap' home programmer rvm gems ruby 1 8 7 head rails3 gems railties 3 2 22 1 lib rails commands rb 50 script rails 6 in require' script rails 6,,"simi,maclover7,tenderlove,tenderlove,simi,tenderlove,maclover7,rafaelfranca,rafaelfranca,rafaelfranca,simi,rafaelfranca,simi,rafaelfranca",2016-01-25 21:48:57,2016-01-26 02:09:59
IS,4 2 5 1 NoMethodError undefined method cache' for nil NilClass,,,,2016-01-26 04:41:33,2016-01-26 04:53:48
IS,Rails generate incorrect asset path with 'config assets compile false',I generate a new rails 4 2 4 application and run it in production but the assets path generate incorrect Please notice the follow picture I am create an empty project with rails admin for test afab6934 cc48 4f91 836c ac92b6179f89 it not generate assert prefix with ' assets' and even though set config assets prefix ' assets' not work too I am using rails 4 2 4 and there is the demo project on github,,rafaelfranca,2016-01-26 05:16:35,2016-01-26 05:27:56
IS,DateHelper add square brackets in input names non RFC compliant URLs,The DateHelper class creates select tags with names containing and characters As per my understanding of the rfc2396 this is not allowed and these characters must be encoded This issue is causing some troubles with some application firewall that blocks non RFC compliant URLs Would the right place to fix this issue be here L1012,,pixeltrix,2016-01-25 10:48:59,2016-01-26 06:06:21
IS,undefined method cache' for nil NilClass in ActionView after upgrading to 4 1 14 1,we are getting an error in one of our specs after applying the latest security update in 4 1 14 1 which prevents us from applying the update on our production unfortunately Here is a trace from running the spec It happens even if we remove cache directives inside the view Not sure what else to test or other details to provide to reproduce this,,"vipulnsward,vipulnsward,vipulnsward",2016-01-26 07:53:09,2016-01-26 08:02:28
IS,uninitialized constant AbstractController Rendering ActionController with Actionmailer 4 2 5 1,I'm using in one of my Gems Actionmailer as standalone dependency This morning I updated from 4 2 5 to 4 2 5 1 and now my test cases are failing with this kind of exceptions If I downgrade back to 4 2 5 the tests are working again Any idea what is going on here,,prathamesh-sonpatki,2016-01-26 09:41:15,2016-01-26 09:44:58
IS,undefined method cache' for nil NilClass for Rails 4 1 14 1,I have just update update Rails version from 4 1 14 to 4 1 14 1 and have an error in controller and the path to this file is Rails root app views some file html erb I think it may have been caused by this commit but I'm not entirely sure Any ideas,,vipulnsward,2016-01-26 11:32:36,2016-01-26 11:35:56
IS,wrong number of arguments 5 for 4 Rails 4 1 14 1,I have upgraded our rails to 4 1 14 1 and its dependencies however when I try to render a file,,"maclover7,maclover7,maclover7",2016-01-26 01:28:57,2016-01-26 12:26:28
IS,Updating Rails to 4 1 14 1 introduces the concurrent ruby gem into my Gemfile lock and seems to break my app,I am using JRuby 1 7 12 in 1 9 3 mode running a Rails app on version 4 1 13 With the recent security vulnerabilities I set out to upgrade the app to 4 1 14 1 All of my specs are green before upgrading I increment the rails version in my Gemfile I set out to check what introduced that gem but I can not find any references to it inside the rails rails repo tag 4 1 14 1 The branch I see using concurrent ruby is rails 5 0 0 alphas and betas I dont know if the sudden appearance of concurrent ruby in my lock file has to do anything with this but I do not think upgrading Rails to 4 1 14 1 should be introducing that dependency nor breaking my specs I can not provide actual source code but I could answer certain questions about it,,"maclover7,maclover7,maclover7,maclover7,pixeltrix,matthewd,rafaelfranca,matthewd",2016-01-26 12:25:41,2016-01-26 16:15:52
IS,mysql2 Adapter always adds DateTime precision to queries,Not sure if I m right but I think the mysql2 adapter should check whether DateTime fields have any precision instead of just always adding it L79 Or maybe it doesn t even need to because ActiveType already handles this L22 This seems to be related to 17239 and 18850 Please let me know if you need any more details The following testcase fails both with Rails 4 2 and 5 x beta,,"maclover7,maclover7,sgrif",2016-01-26 15:44:03,2016-01-26 19:54:25
IS,UrlGenerationError when new route does not handle parameter from recall,When I call ActionDispatch Routing RouteSet url for with a hash that looks like this It appears it is trying to find a route that has the etd id even though I have not asked for that,,"maclover7,maclover7,maclover7",2016-01-26 20:49:20,2016-01-26 21:54:18
IS,STI with default on type raises an error with master Rails 5 0 0 beta1,Here is the gist to repeat And here is the explanation I have a polymorphic Resource ActiveRecord Base class with different classes that inherit from it for instance Channel Resource The create table of the resources table looks like this Note that removing the default 'Resource' solves the issue But since this was not a problem on Rails 4 I'm filing this as a regression issue,,"claudiob,maclover7,maclover7,maclover7,claudiob,sgrif,maclover7",2016-01-27 16:54:48,2016-01-27 18:29:36
IS,link to supports method patch but data does not work with it,I'm not sure if this is a bug me doing it wrong an oversight in what is supported or if it is simply not supported yet The documentation for link to says that method patch is supported but when I pass data along to link to the values in the data hash do not make it into params hash received on the server side Example Attempting to provide a 1 click status update for a Lead but from what I understand that is not really how PATCH should be used Should not the data values go into the request body of the PATCH and in turn come in on params This seems like a bug to me Apologies in advance if this is not a bug I looked at the link to documentation closely and could not figure out what might be happening here I'm happy to help update the documentation if the error is on my side Thanks for the time you dedicate to Rails I love it Ben,,"maclover7,georgeclaghorn,rafaelfranca",2016-01-27 01:40:59,2016-01-27 19:08:07
IS,env is deprecated and will be removed from Rails 5 1,It seems env is finally being deprecated in 5 1 What is the best way to access fields that I would have previously needed from env For example an Authorization header that does not exist on the headers hash,,maclover7,2016-01-27 23:04:19,2016-01-27 23:40:43
IS,rails console exits with a each registered block' undefined method each' for nil NilClass NoMethodError rails 5 0 0 beta1 1,Hello I have a rails 5 0 0 beta1 1 application rvm 1 26 11 ruby 2 2 3p173 application installed locally I have been able to run the rails server and rails generate commands without problems Unfortunately the rails console command exits with an error rails console returns the following,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,gsamokovarov",2016-01-28 04:35:55,2016-01-28 05:18:59
IS,rake doc rails failed on Windows 7,Info Windows 7 64 bit ruby 2 2 3 gem 2 4 5 1 rails 4 2 5 all these commands in PATH rake doc rails Parsing sources 0 1 824 c Ruby22 x64 lib ruby gems 2 2 0 gems actionmailer 4 2 5 README rdoc 100 824 824 uby22 x64 lib ruby gems 2 2 0 gems railties 4 2 5 lib rails welcome controller rb Generating SDoc format into d dev rails6 doc api rake aborted Errno EINVAL Invalid argument dir s mkdir d dev rails6 doc api files c Tasks TOP doc rails html created rid See full trace by running task with trace rake doc rails trace 100 824 824 uby22 x64 lib ruby gems 2 2 0 gems railties 4 2 5 lib rails welcome controller rb Generating SDoc format into d dev rails6 doc api rake aborted Errno EINVAL Invalid argument dir s mkdir d dev rails6 doc api files c c Ruby22 x64 lib ruby 2 2 0 fileutils rb 252 in mkdir' c Ruby22 x64 lib ruby 2 2 0 fileutils rb 252 in fu mkdir' c Ruby22 x64 lib ruby 2 2 0 fileutils rb 226 in block 2 levels in mkdir p' c Ruby22 x64 lib ruby 2 2 0 fileutils rb 224 in reverse each' c Ruby22 x64 lib ruby 2 2 0 fileutils rb 224 in block in mkdir p' c Ruby22 x64 lib ruby 2 2 0 fileutils rb 210 in each' c Ruby22 x64 lib ruby 2 2 0 fileutils rb 210 in mkdir p' c Ruby22 x64 lib ruby 2 2 0 pathname rb 564 in mkpath' c Ruby22 x64 lib ruby gems 2 2 0 gems sdoc 0 4 1 lib sdoc templatable rb 51 in render template' c Ruby22 x64 lib ruby gems 2 2 0 gems sdoc 0 4 1 lib sdoc generator rb 331 in block in generate file files' c Ruby22 x64 lib ruby gems 2 2 0 gems sdoc 0 4 1 lib sdoc generator rb 325 in each' c Ruby22 x64 lib ruby gems 2 2 0 gems sdoc 0 4 1 lib sdoc generator rb 325 in generate file files' c Ruby22 x64 lib ruby gems 2 2 0 gems sdoc 0 4 1 lib sdoc generator rb 180 in generate' c Ruby22 x64 lib ruby gems 2 2 0 gems rdoc 4 2 1 lib rdoc rdoc rb 534 in block in generate' c Ruby22 x64 lib ruby gems 2 2 0 gems rdoc 4 2 1 lib rdoc rdoc rb 529 in chdir' c Ruby22 x64 lib ruby gems 2 2 0 gems rdoc 4 2 1 lib rdoc rdoc rb 529 in generate' c Ruby22 x64 lib ruby gems 2 2 0 gems rdoc 4 2 1 lib rdoc rdoc rb 512 in document' c Ruby22 x64 lib ruby gems 2 2 0 gems rdoc 4 2 1 lib rdoc task rb 248 in block in define' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 240 in call' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 240 in block in execute' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 235 in each' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 235 in execute' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 179 in block in invoke with call chain' c Ruby22 x64 lib ruby 2 2 0 monitor rb 211 in mon synchronize' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 172 in invoke with call chain' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 201 in block in invoke prerequisites' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 199 in each' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 199 in invoke prerequisites' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 178 in block in invoke with call chain' c Ruby22 x64 lib ruby 2 2 0 monitor rb 211 in mon synchronize' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 172 in invoke with call chain' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake task rb 165 in invoke' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 150 in invoke task' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 106 in block 2 levels in top level' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 106 in each' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 106 in block in top level' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 115 in run with threads' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 100 in top level' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 78 in block in run' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 176 in standard exception handling' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 lib rake application rb 75 in run' c Ruby22 x64 lib ruby gems 2 2 0 gems rake 10 5 0 bin rake 33 in top required ' c Ruby22 x64 bin rake 23 in load' c Ruby22 x64 bin rake 23 in main ' Tasks TOP doc rails html created rid,,rafaelfranca,2016-01-28 06:24:37,2016-01-28 11:42:10
IS,Action Cable thread leak Process freeze,Hey guys Was playing with AC on the beta1 it is a simple app and does nothing just started to work on it it is been good for some time then I got distracted for an hour or so and it just ping ponged itself However when I refreshed browser it was not able to connect to WS I have tried to ctrl c AC is app but it failed Had to kill 9 it I have put a code to dump all threads trapping USR2 and got interesting dump Fresh puma instance has only 6 threads but after few page refreshes ws connection and after closing the browser it has close to 130 threads all has this content Is it normal And what options do we have to debug stuck process except playing with gdb,,"maclover7,pixeltrix",2016-01-25 16:25:19,2016-01-28 12:08:23
IS,Implement new welcome page for localhost 3000,Implement new welcome page for localhost 3000 image We are cutting away needless links and extra data Just keep it simple Purpose is just to reflect that Things Work Here are the files rails localhost zip,,"dhh,gsamokovarov,prathamesh-sonpatki",2016-01-25 15:49:37,2016-01-28 13:36:24
IS,Shoryuken adapter,Hi What is the process to add a new Active Job adapter to Rails I would like know what are the criteria before attempting to create a pull request for a Shoryuken Queue Adapter Shoryuken is very similar to Sidekiq but for AWS SQS For SQS you can also use aws sdk ruby directly but Shoryuken offers workers multi threading long running process etc that are not available on the official SDK Based on a search for SQS on RubyGems I believe Shoryuken is the most popular message processor for SQS This issue is inspired by the comment below from PS maybe try to add the shoryuken adapter to the rails issuecomment 176129041 I have two posts related to Shoryuken Sidekiq and SQS that might motivate the acceptance of this request Sidekiq Redis vs Shoryuken AWS SQS SQS to the rescue,,"maclover7,maclover7,rafaelfranca",2016-01-28 13:01:36,2016-01-28 16:41:18
IS,asset images folder not precompiled by default,Trying to generate an image tag image tag 'foo png' for an image placed in assets images foo png I get the following Now I do not if this was supposed to happen but IMHO its not a very good experience for such a basic task,,vipulnsward,2016-01-28 15:21:12,2016-01-28 16:55:52
IS,structure sql not working with multiple schema search paths defined,Hi there After upgrading postgres from 9 4 to 9 5 and then upgrading rails from 9 4 2 to 9 4 5 to fix 21931 I'm finding that running db migrate is resulting in an error when multiple schema search path s are set in database yml Interestingly the pg dump command it provides seems to work it does create a structure sql file and it returns 0 Example with multiple search paths set,,"prathamesh-sonpatki,maclover7",2016-01-20 18:06:39,2016-01-28 22:10:48
IS,Template resolver nil v4 2 5 1 calling render file,This busts our spec between v4 2 5 and v4 2 5 1,,maclover7,2016-01-28 20:19:15,2016-01-28 22:18:39
IS,number to currency should not absolute value its input,this is functionally broken currencies should never be abs ed for display it should negate it an possibly throw it in some 34 00 but the existing admittedly documented method i number to currency behavior is just silly,,rafaelfranca,2016-01-28 22:15:24,2016-01-29 01:50:41
IS,Rails 5 is inserting null into fixture is timestamp column when loading test db,Rails 5 0 0 beta1 1 When running a test where a fixture is loaded into my test db I get the following error,,"maclover7,maclover7",2016-01-28 19:01:20,2016-01-29 03:30:15
IS,uninitialized constant ActiveRecord ConnectionAdapters SchemaStatements ReferenceDefinition,When trying to add a reference to an existing table bin rails g migration AddOrganizationRefToUsers organization references,,"maclover7,maclover7",2016-01-04 21:49:36,2016-01-29 03:47:21
IS,primary key not being respected when calling Relation where,Example,,,2016-01-29 04:41:22,2016-01-29 05:52:14
IS,number to currency should not return negative zero,negative zero is not a humanized money amount so it should never be returned by this function,,"prathamesh-sonpatki,rafaelfranca",2016-01-28 22:10:16,2016-01-29 06:53:21
IS,Rails 4 2 added support for after bundle to app generation but not for plugin generation,16359 added support for after bundle to app generation but did not for plugin generation This prevents certain actions from occurring that may be dependent upon bundle install e g rspec test generation It is somewhat misleading as the developer guide makes it seem like after bundle should work in both kinds of generation,,rafaelfranca,2016-01-28 18:53:13,2016-01-29 07:02:32
IS,Rails 5 Logging adds extra lines that should not be there,This is a default application that was created to reproduce the issue The attached image demonstrates the issue I am seeing It happens on Rails Master and 5 0 0 beta1 with a new application and existing application image,,"maclover7,schneems,vipulnsward,vipulnsward,schneems,maclover7,vipulnsward,maclover7,vipulnsward",2016-01-24 01:55:11,2016-01-29 07:45:52
IS,Rails g Controller issue,Hi I am using Rails 4 2 4 in my application By using rails generator create controller called Blobs in my route file I have added resource blobs When I am trying to find routes for that controller it shows all routes except index screen shot 2016 01 29 at 6 15 27 pm,,eileencodes,2016-01-29 12:46:05,2016-01-29 13:48:54
IS,attachments inline returns a nil error in the image tag call if there is a space or a hyphen in the filename,From the Rails guide 2 3 2 Making Inline Attachments Action Mailer 3 0 makes inline attachments which involved a lot of hacking in pre 3 0 versions much simpler and trivial as they should be First to tell Mail to turn an attachment into an inline attachment you just call inline on the attachments method within your Mailer And in my mailer view image tag attachments ea file filename gsub ' ' ' ' gsub ' ' ' ' url,,"Edouard-chin,maclover7",2016-01-28 00:02:31,2016-01-29 13:57:24
IS,Rails 5 ActionCable undefined method fetch' for nil NilClass,Hello guys I see this error when calling ActionCable server broadcast Can you advise please,,"maclover7,kaspth,kaspth,kaspth,maclover7",2016-01-29 19:47:50,2016-01-29 21:42:02
IS,Rails 4 2 2 counter cache not updating,Using Rails 4 2 2 I created the following migration to add a counter cache to the model Users whenever I run rake db migrate the counter shows the current book shelf count correctly but it does not update when it changes add shelf book count rb,,"maclover7,maclover7",2016-01-29 17:19:04,2016-01-29 22:07:31
IS,Could not find timers 4 0 2 in any of the sources when invoking bundle,I have searched googled but I can not really find an answer to this Every time I run bundle install on my rails app I always get this error message I have tried running gem install timers but it did not solve the problem either What am I missing here,,,2016-01-30 11:18:16,2016-01-30 11:30:02
IS,Websocket request being sent multiple times and then not recieving due to disconnecting,network network 2 Just a regular rails g channel and using is tutorial Even if attempting to speak via the console on the first websocket request it still is not recieved,,"maclover7,maclover7,matthewd,maclover7,maclover7",2016-01-29 21:56:01,2016-01-30 14:40:16
IS,Joining on polymorphic join table causes bind params issue,This is tested in Rails 4 2 0 without using Arel I have a scope that joins on a polymorphic join table counts the uniq results and returns those with at least that many matches Possibly related to 20077 but not using Arel Here is the scope,,,2016-01-30 15:44:32,2016-01-30 15:53:36
IS,Passing an existing db symbol into ActiveRecord Base establish connection fails with Method Not Found,Hi All I started looking into this while migrating to 5 0 0 beta1 still says the method of passing in a symbol is acceptable Any ideas why it is doing this Code class PhpbbGroup ActiveRecord Base establish connection phpbb Rails env to sym or class PhpbbGroup ActiveRecord Base establish connection phpbb Rails env Both failed in the same error Error line is here L36 Start of stack ruby 2 3 0 gems activerecord 5 0 0 beta1 lib active record connection adapters connection specification rb 36 in initialize' undefined method tr' for nil NilClass NoMethodError,,"rafaelfranca,al2o3cr,al2o3cr,maclover7,maclover7,maclover7",2016-01-05 18:35:22,2016-01-31 00:47:46
IS,Unable to start rails5 beta1 1 server get 'cannot load such file action cable process logging',Twice since working with rails5 master beta1 I have received the below error message when starting rails I bundle update to ensure the app is using the latest gems prior to starting the rails server I even removed the rails 5 beta 1 gem and reinstalled it gem install rails version 5 0 0 beta1 1 no ri no rdoc I can not remember what I actions I took to resolve the the issue when it first occurred might have been when I bundle update from beta1 to beta1 1,,"maclover7,matthewd",2016-01-31 00:48:27,2016-01-31 01:07:22
IS,What is wrong under this case Maybe is a bug,image image And this is my code I dont know what is wrong,,kaspth,2016-01-31 16:01:30,2016-01-31 18:07:52
IS,create join table should include indexes and foreign key contraints,Currently if one generates a join table like this Why would not somebody want foreign keys and indexes on them in a join table,,,2016-01-07 11:55:42,2016-02-01 04:38:41
IS,Waves changed to Wafe,I had an issue where I tried creating a scaffold called brainwave and it converted brainwaves to brainwafe but brainwave was used when singular This was fine I changed everything to wave when it should be singular and it appeared to work Then when I tried adding it to users i e adding has many brainwaves and using it I received an error that brainwafe is uninitialized Any solutions would be helpful brainwafe,,rafaelfranca,2016-02-01 04:49:04,2016-02-01 04:52:52
IS,Test DB wont update on migration,Scenario Create migration add new column Run it Change column type string int Rollback Run again End up with having int column in dev db and string in test,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-02-01 14:25:19,2016-02-01 14:27:35
IS,rails5 can not access session in ActionDispatch IntegrationTest,Reproduction scenario Test results throwaway txt this is with rails master Note I reran rails test with BACKTRACE set as the actual error is inside action dispatch testing test process Example with similar code working in Rails 4 2 Code cmd3 Test cmd8 Results for same example in Rails 5 master cmd8,,"rubys,dhh,rubys,dhh,dhh",2016-01-31 19:12:41,2016-02-01 15:19:07
IS,Typecasting Array value in where query possible,I'm currently looking to implement a custom type with ActiveRecord Type Value following the enum implementation using Rails 5 0 0 beta1 1 So far I have I got it working to cast everything from and to database correctly Is this possible,,rafaelfranca,2016-02-01 18:57:41,2016-02-01 19:14:47
IS,Active Record find method cannot simultaneously search post tags and content,When building a custom search bar I was unable to use Active Record to search for both relevant tags and content I wrote a raw SQL statement to do this,,rafaelfranca,2016-02-01 18:54:52,2016-02-01 19:36:00
IS,Comment out examples in fixtures yml to stop hurting newbies,When installing devise and creating a User model with If you comment out these lines the errors go away but it could take a newbie like me a while to figure out what s wrong Here s an examples in stackoverflow that has been viewed nearly 4000 times and another one A quick and simple fix would be to comment out all the lines in rails railties lib rails generators test unit model templates fixtures yml Sorry I didn t make a PR but I m pretty new and didn t want to screw anything up to just comment out two lines of code Thanks,,"claudiob,sgrif",2016-02-01 22:29:25,2016-02-02 00:33:30
IS,first or create fails if current scope searches an enum field for several values,Hello I recently found a problem bug intentional behavior while using first or create Consider the following scenario If I now do Cat possibly alive first or create status alive in the rails console I will get ArgumentError ' 1 0 ' is not a valid status So it seems that ActiveRecord or ActiveModel first initializes a new record with whatever value is prepared for the query which for an enum field results in the exception above as 1 0 is no valid status But as I pass a valid value for the creation case I do not see the necessity to do so Is this a bug or do I have to work around it which of course would be easy but first or create seems to be the convenient shortcut meant for exactly such cases,,"sgrif,maclover7,sgrif",2016-01-27 16:54:53,2016-02-02 00:39:10
IS,Suggestion for performance improvement lazy type conversion,Hi on the rails road I would like to make a suggestion that could improve performance I would like to suggest that type conversion of attributes loaded from the database should not happen upfront on load but instead should be performed on the first access to the respective attribute aka lazy I have not yet looked into this deeply nor did I perform any benchmarks yet My current understanding is the database adapter delivers rows as as hashes of strings that hashes values get converted to the proper types to populate the ActiveRecord objects attributes the objects are ready for use I would like to suggest that the type conversion step should not be done at load time but should instead be lazy and only be done on the first access to the respective attribute I have been working with date parsing and found that to be slow some tables might at least have created at and updated at this sums up I have pretty wide tables and joining in more tables makes them even wider you guess it they might have the two date fields attached as well So a lot of effort is spent up front on type conversion of these fields even if they are never used I'm pretty much aware that I could only select the fields in question I want to suggest that the type conversion should be postponed to the first access of a field he would need to carry around the row is hash from the database adapter we would need to mark the not yet converted attributes we would need to modify the read accessors to do the conversion on the first access lazy That should make it work for read only access Some more work might be needed for write back Maybe some parts of the code do not yet go through the read accessors like was modified or such But it would be ok for that part of AR as well once we get them to access the attributes through the read accessors Last but not least my rationale queries are fast rendering is fast take on that next so where does this time get lost correct if I'm wrong but quite some time is spent in type conversion I have not yet looked deeply into this so I might be completely wrong As mentioned before another option is to only select the columns that one needs but this fails when you need to guess the column names of the joins and it leaves you with uninitialized columns and that would not be rails style anyway I believe that lazy type conversion can be implemented into AR possibly without even breaking any client code I would expect that to speed up some of our most used pages at least three fold that is a gain to run for I have also been thinking of memory usage We would need to take the not yet typed columns around but we could delete them from the adapters hash when they got converted Again I have not yet benchmarked this Your mileage may vary,,"maclover7,rafaelfranca,sgrif,sgrif",2016-02-02 03:17:51,2016-02-02 03:19:47
IS,HashWithIndifferentAccess dig does not behave in Rails 5 0 0 beta2 as it did in beta1,Here is the snippet of code to replicate In short given a hash with indifferent access like Then calling data dig this views was correctly returning 1234 under beta1 but returns nil under beta2 Even calling data dig this returns nil under beta2,,"claudiob,sgrif,maclover7,maclover7",2016-02-01 23:54:14,2016-02-02 03:21:06
IS,Suggestion a new cache level,Hi on the rails road I would like to suggest a new level of caching for rails apps aka local host caching in memory Caching is built into rails You might know doll caching We currently use memcached as backend But this involves ip traffic So there is some price to pay if you need the cache I stumbled upon That is a shared in memory cache We could use that to share even smaller snippets within the instances running on one machine,,rafaelfranca,2016-02-02 04:25:08,2016-02-02 04:28:02
IS,Add prepared statement support for Mysql2 adapter,The mysql2 gem supports prepared statements since version 0 4 Should possible for applications which can upgrade to 0 4 to use prepared statements Useful case is when doing bulk insert and fetching inserted IDs afterwards prepared statements offer great performance with little added complexity i e prepare statement execute insert get last inserted ID rinse and repeat with comparable performance to prepared mass insert statement,,kaspth,2016-02-02 10:36:06,2016-02-02 11:34:02
IS,Rails 5 Incorrect foreign key type when specifying references in model generator,While playing with Rails 5 5 0 0 beta2 I have run into a problem with foreign keys and generated models I have two models It looks to me like the model generator is not checking to see what type of primary key is set on the referenced model so it is assuming incorrectly in this case that it will be an integer type I have dumped my basic app into a public GitHub repo here If you need me to do anything else to help diagnose this let me know,,"maclover7,matthewd,matthewd,matthewd,matthewd",2016-02-02 10:54:43,2016-02-02 14:03:41
IS,Trying to save a column with a type mismatch raises Stacklevel too deep error instead of failing gracefully,This occurs on master as of 6dfab475ca23 but does not seem to be occurring in 5 0 0 beta1 Simple demo assuming a model called Model with normal timestamps In 5 0 0 beta1 Note that this is not caused by the save method per se rather it is coming from whatever is being used to read display created at E g I get the same error if I try m created at m to s or simply just typing m in the console because that triggers inspect which then attempts to display the created at timestamp Tested this with SQLite and Postgres Note that I'm not sure if this issue is specific to date datetime columns because I could not think of any other cases which would normally raise a TypeError i e ActiveRecord can not cast the type,,"maclover7,maclover7,matthewd,maclover7",2016-01-25 19:51:34,2016-02-02 16:19:26
IS,ActiveRecord 4 2 clones all strings arrays during typecast on default setters,Hi consider following simple project If I have a serialized attribute with arrays the array including all string elements will be cloned This started with Rails 4 2 0 while in 4 1 14 all three object id outputs are the same Tested with Ruby 2 2 2 2 2 3 and JRuby 9 0 4 0,,"sgrif,sgrif,sgrif",2016-02-02 17:17:04,2016-02-02 17:42:30
IS,Rounding Decimal on Assignment before validation,Hey I think this is a breaking change when upgrading from 4 2 4 to 4 2 5 It looks like previously when assigning a decimal value no rounding or changes occurred It looks like after upgrading rounding is occurring before validation which prevents us from adding errors to the object and informing users that their input was invalid steps to reproduce can run this in pry setup in 4 2 4 this would have assigned the decimal place to 55 5555555555 and valid would return false,,"maclover7,maclover7,maclover7,maclover7,sgrif,sgrif,sgrif",2016-02-01 17:57:37,2016-02-02 17:48:26
IS,ActiveRecord Migration maintain test schema without rails,ActiveRecord Migration maintain test schema does not work out of the box without rails The code below makes two assumptions that I think should be addressed 1 You have to have Rails defined for this to work 2 You have to have binstubs for this to work lib active record migration rb 581 I do not have a better solution but it could at least be documented somewhere I also do not have a better solution for the 2nd item but if you are running without binstubs then the system call to bin rake db test prepare fails silently,,"maclover7,sgrif,sgrif,rafaelfranca,sgrif",2016-01-29 22:50:44,2016-02-02 18:00:19
IS,rails5 before destroy hooks no longer prevent updates,Given the following model The above test passes with Rails 4 2 and prior It fails with master A complete minimal app as well as captured output from running this on both Rails 4 2 and master can be found at,,"rubys,rubys",2016-02-02 20:28:36,2016-02-02 20:34:19
IS,Is Rails 5 dropping support for PostgreSQL 8 4,The pg v0 18 4 gem works with PostgreSQL 8 4 and later however in Rails 5 ActiveRecord makes use of pg collation function which was introduced in PostgreSQL 9 1 This causes Rails apps to error when connecting to the 8 4 PG database see error below Is PG 8 4 support being dropped intentionally or is this a bug This is the code in question in Rails 4 2 L732 Thanks Edit Here is the commit that introduced the change f8e748b4e85996cb70a3e6f258944ad45f07a802 Edit2 I also added a pull request that fixes this for PG 8 4 but maintains new functionality for 9 1 23234,,,2016-01-25 14:27:41,2016-02-02 21:53:43
IS,Instance dependent association preloading which was removed has valid use cases,4ed97979d14c5e92eb212b1a629da0a214084078 removed support for preloading instance dependent associations While it is understandable that they might have been a source of confusion associations such as the one presented in 15024 which this addressed can be properly preloaded in this manner This code results in an association that can both be called on an instance as well as preloaded in another query Removing this feature actually breaks working code What do you think,,"rafaelfranca,rafaelfranca",2016-02-02 21:55:33,2016-02-02 22:04:10
IS,OS4CS Open Source for Computer Science research,Dear Rail is contributors I would like to invite you to participate in my PhD research which is about contributing to Open Source to modernize Computer Science education The survey will take few minutes but will be of great value to my research as i need direct evidences from OS users like you plz to do my research I found that Ruby in Rails is one of the Open Source project and community that involves students as well which motivated me to invite all of you experts mentors educators and students please to take my PhD research survey I hope you will be happy to participate by clicking on the related link to take the suitable survey Here you are the link to the student is survey Here you are the link to the mentor is survey Here you are the link to the educator is survey Here you are the link to other experts professionals from the OS industry Please support my PhD research by circulating this invitation and mention it to your friends your educators your students your mentors other experts professional interested in the OS field For more information about my research kindly find the Participant Statement is attached here Participant Implied Consent Statement pdf Many thanks in advance Nada Alasbali PhD of Computer Science Engineering UNSW Australia,,,2016-02-03 01:49:27,2016-02-03 01:51:51
IS,number to currency prints Inf when passed infinity,This is not human readable and makes no sense for this view helper method to return I propose throwing an error instead of returning Inf,,"rafaelfranca,rafaelfranca",2016-02-03 02:02:58,2016-02-03 02:11:41
IS,Command rails generate model does not work in one particular project,In a project which uses Rails 4 2 5 and Ruby 2 3 when I run rails generate model in the console nothing happens The terminal stays busy for a few seconds and then returns as if the command was executed successfully but I do not see the usual lines and no files actually get created git status nothing to commit working directory clean The command rails generate controller works The command rails generate scaffold works but only creates the files that are related to a controller not the ones that are related to a model also rspec does not create model related specs Spring is not running On the same computer in another project which uses Rails 4 2 3 and Ruby 2 2 2 rails generate model works fine Would you please provide any clues how thiscan be debugged I assume that for some reason ActiveRecord does not get invoked Where can I see what happens after one issues the command to the terminal What code gets triggered I would try to execute the code line by line if that is possible and see where the problem occurs,,,2016-02-03 12:08:10,2016-02-03 12:12:39
IS,rails 5 beta2 still eager loads model based on old EventMachine dependency,Since rails 5 beta 2 dropped the dependency on EventMachine config ru on a newly generate project rails new should not contain these lines,,matthewd,2016-02-03 11:56:58,2016-02-03 12:15:57
IS,Rails 5 Migration timestamp null option,In Rails 4 2 release notes img width 584 alt screenshot 2016 02 02 14 05 04 src It says we need to pass in null option otherwise a deprecation warning will be thrown Today I tried Rails 5 both beta1 beta2 does not emit this option in migration file What is the correct behaviour Related In 4 2 migrations timestamps defaulted to null true Change the default null value for timestamps 16481,,"JuanitoFatas,prathamesh-sonpatki,JuanitoFatas,vipulnsward,prathamesh-sonpatki,prathamesh-sonpatki,JuanitoFatas",2016-02-02 06:08:34,2016-02-03 15:23:01
IS,Better spacing with the default logger on Puma,The default logger needs to send a CR after the request is over Right now it is all smushed together like,,"dhh,vipulnsward,dhh,vipulnsward,schneems,dhh",2016-02-02 15:10:51,2016-02-03 15:29:29
IS,Rails 4 2 5 reassign value to serialized field after SerializationTypeMismatch,In Rails 4 2 5 after assign incorrect value type to serialized attribute error ActiveRecord SerializationTypeMismatch raised and no possibility to assign a new value Looks like previous value is not set to nil after error raised,,sgrif,2016-02-03 15:13:24,2016-02-03 16:39:29
IS,rake rails update does not update config ru,Not sure if this is intentional but I had to remove the eventmachine stuff from config ru when updating from beta1 to beta2 logging had to go Looks like the comment changed too,,"maclover7,maclover7,matthewd,rafaelfranca",2016-02-03 16:33:31,2016-02-03 16:53:51
IS,Performance Regression using url router,After Rails upgrade from 4 2 4 to 4 2 5 we encoutered a performance regression in our views The now take mostly twice that many times rendering out json views The regression was introduced with that commit For confirming that we created a complete new app using In 22320 there is a fix mentioned but that commit does change nothing at this benchmark results or our view render benchmarks,,sgrif,2016-02-03 17:10:13,2016-02-03 17:40:13
IS,after filter not executing when ActionController Live is included in controller,In my controller I have an include ActionController Live line at the top of the file One of my methods has an after filter which will only fire when I comment out the aforementioned include line My first intuition was to move the after filter method body after the render call in the controller but this did not solve the problem It appears that anything after render in the controller will not execute if ActionController Live is included If this is intended or expected then maybe let is find a place to document it so others are not as confused as I was,,sgrif,2016-02-03 19:25:37,2016-02-03 20:00:16
IS,Add dummy files for apple touch icon precomposed png and apple touch icon png,Like we did with favicon ico we should add dummy files for apple touch icon precomposed png and apple touch icon png Right now Safari will try to load those two files when you visit localhost 3000 That creates two ugly exceptions in the backlog for Rails If you were running an exception notifier it would send those out there too Blah,,"dhh,kaspth,dhh,dhh",2016-02-02 15:08:47,2016-02-03 20:12:53
IS,nil value ignored when passing arguments to a scope method,Is it a normal behaviour for a scope method to ignore the default assigned value and defined as follows As we can see the first 2 cases have a correct query but the last one with a nil value returns 30 IDs instead of 5 by default Or may be it is a postgresql adapter issue Thank you,,matthewd,2016-02-04 10:21:16,2016-02-04 10:29:48
IS,Could not find api controller rb in any of your source paths,Hi I am trying to create a Rails 5 api app using I get the could not find api controller rb error while executing the scaffold command as below rails g scaffold team name string city string championships integer Running via Spring preloader in process 32480 invoke active record identical db migrate 20160204101609 create teams rb identical app models team rb invoke test unit identical test models team test rb identical test fixtures teams yml invoke resource route route resources teams identical app serializers team serializer rb invoke scaffold controller Could not find api controller rb in any of your source paths Your current source paths are home kpatil gem ruby gems active model serializers 0 9 4 lib active model serializer generators serializer templates I think because of it I could not execute the command curl H Content Type application json charset utf 8 d ' name Lakers city Los Angeles championships 16 ' 3000 teams DOCTYPE html html head title The page you were looking for does not exist 404 title meta name viewport content width device width initial scale 1 style body background color EFEFEF color 2E2F30 text align center font family arial sans serif margin 0 div dialog width 95 max width 33em margin 4em auto 0 div dialog div border 1px solid CCC border right color 999 border left color 999 border bottom color BBB border top B00100 solid 4px border top left radius 9px border top right radius 9px background color white padding 7px 12 0 box shadow 0 3px 8px rgba 50 50 50 0 17 h1 font size 100 color 730E15 line height 1 5em div dialog p margin 0 0 1em padding 1em background color F7F7F7 border 1px solid CCC border right color 999 border left color 999 border bottom color 999 border bottom left radius 4px border bottom right radius 4px border top color DADADA color 666 box shadow 0 3px 8px rgba 50 50 50 0 17 style head body This file lives in public 404 html div class dialog div h1 The page you were looking for does not exist h1 p You may have mistyped the address or the page may have moved p div p If you are the application owner check the logs for more information p div body html Which shows below message in terminal rails s Booting Puma Rails 5 0 0 beta2 application starting in development on 3000 Run rails server h for more startup options Ctrl C to shutdown server Puma 2 16 0 starting Min threads 0 max threads 16 Environment development Listening on tcp 3000 Started POST teams for 127 0 0 1 at 2016 02 04 16 25 06 0530 ActiveRecord SchemaMigration Load 0 2ms SELECT schema migrations FROM schema migrations ActionController RoutingError uninitialized constant TeamsController activesupport 5 0 0 beta2 lib active support inflector methods rb 259 in const get' activesupport 5 0 0 beta2 lib active support inflector methods rb 259 in block in constantize' activesupport 5 0 0 beta2 lib active support inflector methods rb 257 in each' activesupport 5 0 0 beta2 lib active support inflector methods rb 257 in inject' activesupport 5 0 0 beta2 lib active support inflector methods rb 257 in constantize' actionpack 5 0 0 beta2 lib action dispatch http request rb 93 in controller class' actionpack 5 0 0 beta2 lib action dispatch routing route set rb 44 in controller' actionpack 5 0 0 beta2 lib action dispatch routing route set rb 30 in serve' actionpack 5 0 0 beta2 lib action dispatch journey router rb 42 in block in serve' actionpack 5 0 0 beta2 lib action dispatch journey router rb 29 in each' actionpack 5 0 0 beta2 lib action dispatch journey router rb 29 in serve' actionpack 5 0 0 beta2 lib action dispatch routing route set rb 724 in call' rack 2 0 0 alpha lib rack etag rb 25 in call' rack 2 0 0 alpha lib rack conditional get rb 38 in call' rack 2 0 0 alpha lib rack head rb 12 in,,matthewd,2016-02-04 11:02:13,2016-02-04 11:03:16
IS,Standardize ActionCable config ru location,The ActionCable config ru location is not standardized Although the README and all the current tutorials suggest making a cable config ru this is only a suggestion not a recommended default location A standardized ActionCable config ru location will make it much easier for Passenger to autodetect whether the application uses ActionCable and if so determine how to start the ActionCable server,,"FooBarWidget,dhh,FooBarWidget",2016-02-04 10:01:58,2016-02-04 12:58:59
IS,bin rails rails update does not respect API mode,With the recent release of Rails 5 0 0 beta2 I tried to upgrade my new app on 5 0 0 beta1 1 using the bin rails rails update command While looking at the diff for config application rb at least I noticed that the generator tried to replace this previous file content content without keeping the API configuration line,,,2016-02-04 08:12:22,2016-02-04 14:12:53
IS,rails skip sprockets option creates many undocumented issues for the unwary,Sprockets integration is systemic starting with Rails 3 and cannot be trivially disabled without introducing other issues The Asset Pipeline L32 guide makes it appear easy to disable sprockets by using skip sprockets without any warnings or caveats One caveat is that using skip sprockets leaves jquery rails in the generated Gemfile But jquery rails relies on vendor assets javascripts in order to work Most Rails devs would expect that app assets would not work after disabling the pipeline but many others I have talked to are surprised that jquery rails does not work because 1 the official rails generator includes it and 2 they may be less familiar with how the asset pipeline functions Other caveats some Rails Engines do not work properly such as bootstrap rails engine gems such as active scaffold and cells do not work properly remote true no longer functions this particularly affects constructs using form for and ajax Notice that the Working with Javascript in Rails guide does not mention that this feature is dependent on jquery ujs located in the jquery rails gem which is broken by disabling the asset pipeline Many junior and even some senior Rails developers are confused by these issues because it is not obvious how the asset pipeline is involved and the integration errors arising from these situations can be difficult to diagnose There should be some warning about the extended consequences so that Rails developers can make an informed decision about whether to disable the asset pipeline or not,,"matthewd,rafaelfranca,rafaelfranca",2016-02-02 19:12:42,2016-02-04 16:03:46
IS,The asset pipeline is compiling sass files separately,I'm experiencing a really weird behavior in the Assets Pipeline after updating to Rails 4 2 5 1 I changed the Gemfile and did bundle update I did not change anything else but now when I try to load my development environment the application wo not start The browser receives an HTTP 500 error with no content In the logs I can see the error is related to a undefined mixin in one of my sass files This did not happen with Rails 4 2 3 Something that bothers me is the fact that these files are not directly in the app assets stylesheets directory but actually four levels down If the Asset Pipeline behavior changed and now it scans the stylesheets directory and sub directories then where should I put the files I do not want compiled separately,,sgrif,2016-02-03 23:35:37,2016-02-04 18:10:44
IS,Strange routing bug,I have a mailer called ContactMailer and a controller called ContactController both are generated with rails The routing for this looks like this So I know that is not wrong The only way I can fix this is to change the send to send email Not sure if it is a conflict with the mailer or what Just thought I would let you know Let me know if you need more information,,,2016-02-05 00:11:58,2016-02-05 00:28:06
IS,Have link to add rel nofollow' to GET links with remote true,It is my understanding that the link to helper adds rel nofollow to non GET links so that they are not crawled by well behaved bots However would not it be useful if this also applied to GET links with remote true We are having issues with bots crawling our site accessing remote GET links for which no html response format is available leading to an ActionView MissingTemplate error While it could be argued that there are other workarounds e g custom js using button to instead of link to etc sometimes this is not very practical for instance when the link is already within a form Since remote GET links should not really be crawlable would you consider the aforementioned functionality Thank you in advance,,rafaelfranca,2016-02-05 10:31:59,2016-02-05 14:21:36
IS,ActiveRecord calling after update before calling after create,I have some code which when calling save seems to invoke callbacks incorrectly Some how after calling create record it ends up calling after update but soon after after create is invoked Here is a stack trace of the first call to after update It seems like the issue is the order of invocation of self autosave associated records for poi But I'm not sure what other information would be useful to debug this issue,,"rafaelfranca,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,maclover7,maclover7,maclover7",2016-02-01 03:42:02,2016-02-05 15:16:33
IS,Docs for first or create and similar methods,Hi The first or create first or create and the first or initialize methods were nodoc'ed a while ago october 2012 rails rails 0096f53b25e68c3fc79429253f816fff4a4ee596 So despite those being public methods they do not appear in the API Docs but they are not deprecated either Is there a plan to deprecate those If not we could add the docs back to them so that new users can find those methods in the API Docs or even in the guides Thanks for your time,,"maclover7,sgrif,rafaelfranca,sgrif",2016-02-05 12:24:37,2016-02-05 15:22:17
IS,rails5 ActionController Live locks database,Adding the following to any controller Full scenario create model,,"rubys,maclover7,maclover7,rubys,rubys,rubys",2016-02-04 15:52:01,2016-02-05 19:43:59
IS,ActiveRecord marks iserialize' columns dirty on initialization in Rails 4 1,While upgrading an app from Rails 3 2 to Rails 4 0 we discovered a change in the behaviour of serialize columns on initialization The issue still exists in Rails 4 1 and is caused by a bug in the ActiveRecord initialization logic The problem is that serialize columns are marked as change on initialization The failing check is at L58 The check fails because it attempts to compare a literal value to a member in which in the case of serialized columns is a ActiveRecord AttributeMethods Serialization Attribute instead of a literal value The failing example in Rails 4 1,,sgrif,2016-02-05 22:07:05,2016-02-05 22:48:28
IS,model dup regression from Rails 3 2 to Rails 4 2,We recently updated our app from Rails 3 2 to Rails 4 2 and discovered that model dup is much slower on Rails 4 2 I would love some help in seeing if this can be improved These benchmarks are from ruby 2 2 4p230 2015 12 16 revision 53155 x86 64 darwin15 I benchmarked against Rails 5 0 0 beta1 and it is similar to Rails 4 2 4,,sgrif,2016-02-04 22:41:47,2016-02-05 22:49:55
IS,Delete associated records when model is saved,I am trying to mutate objects in memory without persisting them to the database we always mutate the object then we use it for a few business purposes and then we only sometimes save the change other times we reject them Active record already supports modifying existing records in memory and adding new records in memory which only get persisted to the database on save However deletions seem to always happen immediately I believe this is the same idea that was put forth on this issue 6994 The simplest example I can extract from my code would be something like this A similar occurrence happens on has many associations but it was simpler to demonstrate on the has one because we do not have to think about the array at the same time Another point of reference This guy on Stack Overflow did a good job explaining the situation I can vouch that the behavior described occurs on Rails version 4 2 5 which is what I'm running in our project,,sgrif,2016-02-05 04:43:15,2016-02-05 22:51:13
IS,Time now today false 8 15PM EST February 5 2016,So if you run this command It will return false on 8 15PM in the EST I'm on a Mac El Capitan ruby 2 2 1p85 rails 4 0 0 Do not want to upgrade rails because it breaks ActiveRecord Base silence I assume this is because the today method is using UTC or GMT as the assumed time zone in this case rather than EST I will leave this to the experts Good day gentlemen,,sgrif,2016-02-06 01:23:14,2016-02-06 01:50:15
IS,Speed up ActionDispatch Reloader for static assets 10x,Given a dummy Rails app with large number of scaffold generated objects Code LOC 18849 and hundred gems sample taken from tried to measure performance hit for static assets Newelic in development mode helped to figure it out thoroughly The problem is a middleware responsible for Ruby classes reload L63 L65 slows serving static assets down Profiling with Newrelic shows the following results 88 spent on Reloader middleware screen shot 2016 02 06 at 01 08 48 siege benchmark results siege b 3000 assets application js Having some change in application js does not require rails server to restart changes reloaded on fly as usual the difference is no callbacks chain and no clears dependencies for static assets anymore This change makes a diffference in development mode when serve static assets without Nginx Please let me know what you think patch is available as gist for a moment Increase LOC from 18K to 27K followed by slowness of response for non patched middleware It seems the complexity is O n compare to O 1 for code with the patch,,"schneems,schneems,maclover7,kirs,matthewd",2016-02-06 01:17:41,2016-02-06 14:36:03
IS,MySQL test breakage Mysql2JSONTest raises StatementInvalid,I'm getting broken mysql2 tests on master Travis shows the tests pass Is the issue is that mariadb is not supported anymore,,rafaelfranca,2016-01-08 20:57:44,2016-02-06 21:44:45
IS,action cable url have no impact on action cable meta tag,I set config action cable url 'ws 3000 cable' on my development rb to use ActionCable while using BrowserSync But action cable meta tag returns meta name action cable url content ws 4000 cable I have BrowserSync on 4000 port I have used before rails 5 0 0 beta1 so i had to change some configs for ActionCable to work Am i doing something wrong,,"maclover7,maclover7",2016-02-05 23:14:05,2016-02-06 23:31:12
IS,Mailer missing template in Rails 5 api only,I am currently trying to set up a mailer on my Rails 5 api only server I get the following error I have tried setting config api only false and I have also stopped Spring several times I am using Rails 5 0 0 beta1,,"maclover7,maclover7",2016-02-06 15:11:05,2016-02-07 00:24:17
IS,Publish Using Rails for API only Applications guide,Since it is one of the big features in Rails 5 we should publish with in the release Right now it is marked as work in progress A few things we need to do x Check if the list of modules middleware are correct Check if it conform our documentation guidelines cc documentation,,"rafaelfranca,fxn,vijaydev,fxn,vijaydev,fxn,rafaelfranca,fxn,fxn",2016-01-28 22:26:09,2016-02-07 12:50:59
IS,Minor CSRF Documentation Update,Greetings For the link csrf countermeasures OR method i form authenticity token I thought the additional documentation might be useful The csrf token will be displayed in a randomized appearance on every rendering of the token This is a protection against crafted attacks against the server BREACH attack Thank you daniel,,maclover7,2016-02-07 15:33:59,2016-02-07 15:35:56
IS,rails command gives inconsistent results for errors,Because of how this line L66 checks for available commands something like rails class would silently fail echo would be 0 On the other hand something like rails foobar would fail with By defining a better way to check available commands those that inherit from Rails Command 23410 could be fixed by dynamic generating that additional piece of the help What do you think,,"repinel,kaspth,repinel,kaspth",2016-02-04 04:34:12,2016-02-07 17:40:00
IS,Rails 4 Association Unscoped does not work,Issue was locked without a final resolution,,,2016-02-07 19:35:48,2016-02-07 19:43:41
IS,rails5 ActionController Live causes requests to hang,Adding the following to any controller causes all requests to hang Full scenario create company,,"rubys,tenderlove,matthewd,rubys",2016-02-05 20:37:34,2016-02-07 20:12:49
IS,Guide Rails Routing from the Outside In namespace,dynamic segments You can not use namespace or module with a controller path segment If you need to do this then use a constraint on controller that matches the namespace you require What does namespace mean here,,maclover7,2016-02-07 21:44:47,2016-02-07 21:58:25
IS,Order of arguments for the comparison matters for certain Date TimeWithZone situations,should at the very least return the same result likely false,,meinac,2016-02-04 21:03:59,2016-02-08 01:28:52
IS,dev cache command is not listed in rails help,Easiest fix is to add a line to ADDITIONAL COMMANDS in railties lib rails commands commands tasks rb I'm happy to submit a PR for that However this seems like a short term fix Is there any reason Rails commands do not self document the way Rake tasks do It seems odd that all Rake tasks but not all Rails commands are listed in rails help I can submit a more comprehensive PR to move documentation into the individual commands if desired It seems like this was the original intention of set banner in,,"maclover7,kaspth",2016-02-01 23:03:02,2016-02-08 14:23:23
IS,Rails 5 0 0 beta2 API Exits due to undefined method in logger silence activesupport,This is the error that I get It is a new app and it just start failing Sample App is zipped I remove the json file because it contains potentially sensitive information Sample zip Command rails s Booting Puma Rails 5 0 0 beta2 application starting in development on 3000 Run rails server h for more startup options Ctrl C to shutdown server Exiting usr local lib ruby gems 2 3 0 gems activesupport 5 0 0 beta2 lib active support logger silence rb 23 in level' undefined method ' for nil NilClass NoMethodError from usr local lib ruby gems 2 3 0 gems railties 5 0 0 beta2 lib rails commands server rb 140 in log to stdout' from usr local lib ruby gems 2 3 0 gems railties 5 0 0 beta2 lib rails commands server rb 76 in start' from usr local lib ruby gems 2 3 0 gems railties 5 0 0 beta2 lib rails commands commands tasks rb 90 in block in server' from usr local lib ruby gems 2 3 0 gems railties 5 0 0 beta2 lib rails commands commands tasks rb 85 in tap' from usr local lib ruby gems 2 3 0 gems railties 5 0 0 beta2 lib rails commands commands tasks rb 85 in server' from usr local lib ruby gems 2 3 0 gems railties 5 0 0 beta2 lib rails commands commands tasks rb 49 in run command ' from usr local lib ruby gems 2 3 0 gems railties 5 0 0 beta2 lib rails command rb 20 in run' from usr local lib ruby gems 2 3 0 gems railties 5 0 0 beta2 lib rails commands rb 19 in top required ' from Users okywingz Projects DevServer bin rails 9 in require' from Users okywingz Projects DevServer bin rails 9 in top required ' from usr local lib ruby gems 2 3 0 gems spring 1 6 3 lib spring client rails rb 28 in load' from usr local lib ruby gems 2 3 0 gems spring 1 6 3 lib spring client rails rb 28 in call' from usr local lib ruby gems 2 3 0 gems spring 1 6 3 lib spring client command rb 7 in call' from usr local lib ruby gems 2 3 0 gems spring 1 6 3 lib spring client rb 28 in run' from usr local lib ruby gems 2 3 0 gems spring 1 6 3 bin spring 49 in top required ' from usr local lib ruby gems 2 3 0 gems spring 1 6 3 lib spring binstub rb 11 in load' from usr local lib ruby gems 2 3 0 gems spring 1 6 3 lib spring binstub rb 11 in top required ' from Users okywingz Projects DevServer bin spring 13 in require' from Users okywingz Projects DevServer bin spring 13 in top required ' from bin rails 3 in load' from bin rails 3 in main ',,"maclover7,maclover7,maclover7",2016-02-09 00:37:10,2016-02-09 01:14:17
IS,send data w content type gets charset appended,I have the following code simplified Since the document is binary data adding charset information to the content type is wrong,,"maclover7,vipulnsward,maclover7",2016-02-09 13:27:20,2016-02-09 14:11:44
IS,Failing test in MariaDB,Right now test formatting time according to precision in time precision test rb is failing in MaraiDB On this line L53 The problem is that MariaDB v10 1 9 is not comparing time and datetimes the same way as other databases Issue filed upstream we will see how it goes Issue filed here too in case someone else trips over it irc log,,,2016-02-09 20:45:48,2016-02-09 20:46:44
IS,Rails 5 Beta2 link to issue with post method,resources smiley images do member do post random add to default end end which produces this route random add to default smiley image POST smiley images id random add to default format link to 'Random smiley collection' random add to default smiley image path sc id method post class 'link' Generates a class link rel nofollow data method post href smiley images 1 random add to default Random smiley collection a Which produces ActionController RoutingError No route matches GET smiley images 1 random add to default I have javascript include tag 'application' no turbolinks since it blows up on multiple layouts and themes at least it did in Rails 4,,"maclover7,meinac",2016-02-06 00:56:34,2016-02-09 22:57:27
IS,Rails 4 2 1 db migrate creating duplicate definitions,Context Multi tenant app implementation based on RailsCasts' Multitenancy with PostgreSQL Rails 4 2 x Ruby 2 2 Running rake db migrate is now behaving differently after upgrading some gems it is now dumping the schema definition with duplicate entries schema Running rake db schema dump fixes the schema rb Related gems that got updated rails 4 2 1 to 4 2 5 1 rake 10 4 2 to rake 10 5 0 pg 0 18 2 to 0 18 3 I'm using rbenv 1 0 0 if that is relevant and here is a trace of db migrate db migrate trace,,,2016-02-10 08:49:31,2016-02-10 09:33:25
IS,rails5 generate scaffold with only ref fields generates a broken controller test,Reproduction scenario Test results throwaway txt this is with rails master,,"rubys,sgrif,rubys,rubys",2016-01-31 17:38:58,2016-02-10 16:23:31
IS,rails5 generate scaffold with no fields generates a broken controller test,Reproduction scenario Test results throwaway txt this is with rails master,,"rubys,vipulnsward,vipulnsward,mohitnatoo,rubys,rubys,rubys",2016-01-28 18:21:35,2016-02-10 16:24:49
IS,Provide parsed body to work together with post as json for testing,If you post JSON in testing it is likely you want to test JSON coming back too Providing parsed body will save everyone from having to do JSON parse body over and over again,,"dhh,maclover7,kaspth",2016-02-10 17:30:48,2016-02-10 21:39:29
IS,AC Parameters transform keys does not work as a substitute for deprecated symbolize keys,Hey I am in the middle of an update to Rails 5 In my app I am passing params to a path helper and I needed to call symbolize keys since now they keys must be symbols per Since symbolize keys is deprecated I figured transform keys would be perfect substitute but this does not work for AC Parameters because it is still relaying on a HashWithIndifferentAccess instance under the hood Is any of this intended behavior I understand it might be tricky since moving away from HashWithIndifferentAccess would be a far bigger change than simply moving away from Hash like AC Parameters already did However and since the initial reasoning for the move away was security issues would not the same apply to HashWithIndifferentAccess Or are we operating under the assumption that the underlying HashWithIndifferentAccess should be private state of params Reproduction script,,"rafaelfranca,rafaelfranca",2016-02-10 22:06:43,2016-02-10 22:27:50
IS,Rails 5 beta2 link to with post or put do not work,resources smiley images do member do post random add to default end end which produces this route random add to default smiley image POST smiley images id random add to default format link to 'Random smiley collection' random add to default smiley image path sc id method post class 'link' Generates a class link rel nofollow data method post href smiley images 1 random add to default Random smiley collection a Which produces ActionController RoutingError No route matches GET smiley images 1 random add to default I have javascript include tag 'application' no turbolinks since it blows up on multiple layouts and themes at least it did in Rails 4 YES I HAVE THE JQUERY UJS file loaded script src assets jquery self c64a74367bda6ef8b860f19e74df08927ca99d2be2ac934e9e92d5fd361e0da4 js body 1 script script src assets jquery ujs self d602bdfe68ffc63b9f9cc512872aa3cfff046228a0a36e90dd476e8ef54c1b09 js body 1 script No button to is not an option in the few cases I need links and post and put not working in link to is an actual bug I am not sure what else is needed to hunt down this bug,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-02-10 23:08:36,2016-02-10 23:11:44
IS,Ambiguity between Array first and ActiveRecord first,I'm using Postgres which does not order my query data by primary key by default so for instance So going back to the a b example is that the desired behavior If not we can potentially rethink which of the first methods is being called there If so we might want to articulate in the documentation the basis on which Rails will resolve these ambiguous first calls Note that all of this would be moot if Unit limit defaulted to ordering by the primary key which I actually think might be a good idea,,"brchristian,rafaelfranca,brchristian",2016-02-10 23:16:40,2016-02-10 23:22:02
IS,set backtrace is called with the wrong arguments,With activesupport 5 0 0 beta1 and ruby 2 3 0 I get the following error if I set config active support deprecation raise and I have deprecations in my app although it seems silly to me that set backtrace can not be called with caller locations directly so maybe a Ruby bug would be in order too,,"rafaelfranca,tenderlove,maclover7",2016-01-14 19:58:32,2016-02-11 00:03:10
IS,ActiveRecord QueryMethods where values hash to include NotEqual wheres,Usage For testing purposes I would say it would be useful to have where values hash return the not conditions too in either a separate method where not values hash by modifying the currently returned hash is structure from where values hash Relevant code parts Current Rails 4 2 5 implementation L560 Current Rails 5 x x implementation L48 Examples Example that returns not conditions in where values hash Closure If you agree with this idea I will gladly work on a PR,,maclover7,2016-02-11 14:17:21,2016-02-11 14:30:27
IS,Performance regression caused by cbcdecd,It is a strange dip which I would not have expected to see I will take a look at this on Monday,,sgrif,2016-02-05 23:17:56,2016-02-11 16:01:49
IS,Long arguments to rails routes are not respected,results in invalid option controller cart Would be probably a good idea to scan other rake tasks support long options,,"vipulnsward,kaspth,maclover7,vipulnsward,kaspth",2016-02-08 08:01:19,2016-02-12 09:40:04
IS,Misleading section in the guide Getting Started with Rails,In section 5 12 Using partials to clean up duplication in views using partials to clean up duplication in views the guide states Our edit page looks very similar to the new page in fact they both share the same code for displaying the form Let is remove this duplication by using a view partial This is wrong if you follow the guide at that moment the code for new html erb starts with Then the guide suggest to join the code in a partial called form html erb Which creates the bug The resulting rails application example is unable to edit any blog article It duplicates articles instead of updating This could be a put off for many students considering Ruby on Rails My solution was to create two partials edit form html erb and new form html erb then for the code in common each partial render another partial called form html erb But instead of my improvised solution as I moved on with the guide maybe for the sake of simplicity this duplication removal part should be erased Nothing would be lost because later on the guide explains partials and DRY principles in the 7 Refactoring refactoring section Thanks,,"maclover7,vipulnsward,vipulnsward",2016-02-11 22:56:25,2016-02-13 13:33:52
IS,unprepared statement does not work on Arel Nodes TableAlias,I do not know whether this is intended or constitutes a bug Trivial example using an enum called gap I get the exact same SQL with the 1 not replaced Thank you,,"vipulnsward,matthewd",2016-02-07 23:47:40,2016-02-14 09:29:35
IS,tag data attributes has different behavior dependent on declaration,Rails helper converts attributes differently based on declaration I would expect output to have no attributes with null value in both ways L173 L179,,senny,2016-02-12 13:55:17,2016-02-14 12:04:49
IS,Ca not eagerload classes,Rails 4 2 5 I'm doing following in development mode ActionDispatch Reloader to prepare do Rails application eager load end And it is throwing following exception rvm gems ruby 2 2 3 gems activemodel 4 2 5 lib active model validations validates rb 120 in rescue in block in validates' Unknown validator 'PersenceValidator' ArgumentError PS Needed to eagerload classes to get subclasses of my STI model,,"maclover7,fxn",2016-02-14 15:09:45,2016-02-14 15:38:07
IS,ActiveSupport is since operations returns wrong date and time,Datetime calculation returns wrong result if timezone is Wellington 13 00 Test code Ruby version It can be reproduced on these environment ruby 2 2 0p0 2014 12 25 revision 49005 x86 64 darwin13 ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15 ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux Gem version activesupport 4 2 5 1,,"simi,simi,matthewd",2016-02-15 11:19:25,2016-02-15 11:52:59
IS,Test runner misreports model class as test file for rerun,Stumbled across this today The test file is test models delivery test rb but it is reporting the model file instead The test itself uses Mocha If I flunk earlier in the test before that is triggered then the reporting is correct,,"dhh,senny,kaspth",2016-02-15 12:36:54,2016-02-15 14:23:28
IS,Mailer generator does not generate view in Rails 5 in API mode,I'm not sure if this was intended but it does seem odd If you are app was made with the api flag then the mailer generator does not make any views It probably should because even in an API only backend the emails being sent should have html It seems a little odd to have the mailer active by default but have the generator not make any views,,dhh,2016-02-11 20:05:08,2016-02-15 14:25:52
IS,ActionPack Nested routes make 'widgets show' resolve before 'widgets new',Problem The resource route for projects new resolves to projects show instead of projects new To Duplicate ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15 rbenv Rails 4 2 5 5 0 0 beta2 and master 7c3dc96 Per the guidelines for ActionPack bugs see example gist for self contained executable test I have narrowed it down to when shallow nested routing was introduced to my project Bad code,,"maclover7,vipulnsward,maclover7,maclover7",2016-02-15 14:51:39,2016-02-15 16:27:07
IS,Action View Digests for wildcard declarations are not deterministic,When you declare a wildcard template dependency like Template Dependency events the digest differs from machine to machine This suggests that something in the wildcard dependency walker is non deterministic Basically it means that each app server generates a different digest for the same dependency tree which renders the feature broken as each server creates their own cache for the same content,,"dhh,kaspth,kaspth,kaspth",2016-02-10 16:18:47,2016-02-15 17:39:02
IS,Arel union on active record relations results in unbound value for polymorphic type,Something that worked as I expected in Rails 4 1 no longer works in Rails 4 2 5 or 5 0 0 beta2 The first two assertions are true the sellable type in the relation is set to Book In the union however sellable type is set to a question mark I gather this is the same issue that commented that Raw Arel union AR Relation bind values worried as you have found But I'm hoping that my simple contrived example may help solve it Bug report template,,rafaelfranca,2016-02-15 21:36:46,2016-02-15 21:45:37
IS,Rails 5 strong params giving unpermitted params on nested attributes index keys,This is Rails 5 0 0 beta2 For example Why is this All the other hashes work fine those that only have one key 0 but it empties out the song audio files attributes due to the two unpermitted parameters above This is coming from Rails 4 2 5 1 which worked fine,,maclover7,2016-02-14 04:32:35,2016-02-15 22:05:39
IS,has many with scope not caching,I'm using v5 0 0 beta2 I can reproduce the caching issue by changing 1 line of code leaving that uncommented I end up with this in my logs With it commented the logs look like There is an outbound call here which is why I'm caching the method Any idea why this is happening The reason for the scope is I have some ordered lists and want to store their position in the db I tried this with acts as list and now with ranked model same behavior,,"maclover7,maclover7,maclover7,sgrif,sgrif,sgrif",2016-02-15 20:39:38,2016-02-15 22:48:35
IS,Excess spaces while rendering multiline string,Hello today I end up with strange issue in Rails 5 Here is how a simple text html erb file looks like textarea a nb nc textarea And here is what it produce enter image description here enter image description here I'm talking about these leading spaces before second and third strings In my code I have a form with textarea And the same issue happens there on Edit action,,matthewd,2016-02-16 11:41:44,2016-02-16 14:58:21
IS,undefined method cache on 4 2 5 1 when rescue from,I have got such code In the line with render not found method on render call,,vipulnsward,2016-02-15 15:44:46,2016-02-16 16:22:01
IS,Request IDs do not show on every line for errors,Requests tagged with request id do not show up on ever line when there is an error Example,,"schneems,vipulnsward,schneems,vipulnsward,schneems,vipulnsward,vipulnsward,schneems",2016-01-08 20:41:36,2016-02-16 20:54:35
IS,Repository Information Pointing to an HTTP Website,I'm security concerned about this http link in the github repository info img width 338 alt Ruby on Rails src Would it be possible to remove it Or even better serve rubyonrails org per HTTPS and change the link to,,,2016-02-16 19:50:27,2016-02-16 21:18:44
IS,What is correct way to use ActionCable Channel Base transmit in service layers,Hey guys I'm trying to keep channels thin and move some logic to service layers what is the correct way to reply directly to client ActionCable Channel Base transmit is protected and passing controller instance to the service layer is not the best option,,maclover7,2016-02-16 18:03:47,2016-02-16 21:29:29
IS,Sprockets Rails Helper AssetNotPrecompiled in Development mode,I migrated my project from 4 2 5 to 4 2 5 1 Each image that I add in my project I get the following error When I restart the application error disappear,,rafaelfranca,2016-02-16 21:55:21,2016-02-16 21:56:54
IS,rails5 master most validations fail,The Agile Web Development with Rails tests are now failing Git bisect identifies enables the evented monitor in new applications as the problematic commit Failure is early in the scenario create scaffold for product add some validations go to the add product page and press create product to see the validations fail Expected test results as seen with Rails 4 2 Current test results with master,,"rubys,fxn,fxn,rubys,fxn,rubys,rubys,rubys,fxn,rubys,fxn,fxn,matthewd,rubys,fxn,rubys,rubys,fxn,fxn,rubys",2016-02-10 11:25:22,2016-02-17 00:02:22
IS,rake aborted db seed,I'm trying to use rake db seed and its not working I already did rake db create rake db migrate but my rake db seed does not work and it happens in all my ruby projects the error that I'm getting is the following rake aborted No users in the system home booletmarket Desktop bmf BoolaMarket db seeds rb 50 in ' Tasks TOP db seed NOTE I HAVE CRATED USERS IN MY DB EVEN SUPER USERS,,"maclover7,maclover7,rafaelfranca,rafaelfranca",2016-02-17 01:04:59,2016-02-17 01:27:39
IS,or triggers an error undefined method limit value',Here is my code The framework trace points to this line L1209 I'm using rails 5 0 0 beta2 and activerecord 5 0 0 beta2,,"rafaelfranca,prathamesh-sonpatki,prathamesh-sonpatki,rafaelfranca,prathamesh-sonpatki",2016-02-16 16:58:53,2016-02-17 06:42:02
IS,Intermittent error Cannot visit ThreadSafe Array,I am receiving this error on an intermittent when trying to get a simple value from active record This is the line that is getting the issue I am using sqlite with just a couple of records Any ideas,,"maclover7,maclover7,matthewd,matthewd",2016-02-16 21:43:07,2016-02-17 13:01:00
IS,Incorrect error message with accepts nested attributes for has many,Proof I have accepts nested attributes for configured properly,,"maclover7,maclover7",2016-02-09 03:21:32,2016-02-17 21:15:23
IS,ActionController Streaming doesnt work in Rails 5,Streaming doenst work in 5 0 0 beta2 The response is sent with Transfer Encoding chunked but waits for the view to finish rendering I encountered this while upgrading a Rails 4 2 5 1 app with slim as templating engine Tested with unicorn and passenger standalone Created a new Rails 5 App with erb views Same result,,maclover7,2016-02-13 14:25:43,2016-02-17 22:03:25
IS,Rails 5 Looping through params before sanitizing causes permitted hashes to be thrown out,Using Rails 5 0 0 beta2 Originally I thought this was a nested parameter sanitization issue but I'm not so sure now If I loop through a nested hash as follows Why is that I need to loop through to do some conversion on those parameters as they come in but before they are sanitized This worked fine in 4 2 5 1,,"maclover7,sikachu,tenderlove",2016-02-16 00:53:53,2016-02-18 00:17:58
IS,Options are not propagated correctly,Hi Looking at line 93 of lib active support json encoding rb I see that the call to as json is missing the options in the context As a reference the same call in method encode value is done with the options This is causing my custom serialization to be incorrect I'm serializing an object nested in another one I'm manually instantiating new object options the serializer for the internal data Could you please validate my understanding Regards Alex B,,"maclover7,maclover7,maclover7,maclover7",2016-02-17 18:48:05,2016-02-18 05:11:11
IS,Guides Misplacement of Dynamic Finders 'Tip' block in active record querying guide,rails guides issue,,"vipulnsward,vipulnsward",2016-02-18 06:30:33,2016-02-18 06:33:29
IS,JSON render exclude attribute type by default,Hey Guys When using STI with rails I see that when controller render the model it exclude the type column I checked this bug closed some time ago According the guy that closed it is a server concern and not a client concern I need to disagree of that once we have rails just as an API the frontend need to know about the type Let is imagine that frontend retrieve one servers from the server controllers When frontend tried to update it how de frontend dont know about the type rails wo not validate correct the model Is it correct Is it not an issue how I can solve it,,,2016-02-18 13:48:27,2016-02-18 14:42:01
IS,Add null store to test rb,By default caching is only enabled in your production environment I have found this statement in the guides but it is false Yes it is true in Rails master development rb sets the strategy to null store however test rb contains no such configuration Therefore it defaults to file store if the tmp cache directory is present and memory store if it is not Ideally should the documentation be changed or should null store be added to test rb,,rafaelfranca,2016-02-18 19:24:39,2016-02-18 19:30:33
IS,Error page in development,Hey I have been developing a new app that is using Rails 5beta2 and one thing I am missing the most is the error screen Where errors were shown like migrations missing or any other error It just outputs a simple text Internal server error and then I need to go to the terminal and lookup the error Will it be back,,"rafaelfranca,rafaelfranca",2016-02-18 16:51:26,2016-02-18 21:52:22
IS,Could not find gem 'actioncable' in git at master 58fdac9,When i try install actioncable gem i get bundle error Could not find gem 'actioncable' in git at master 58fdac9 Source does not contain any versions of 'actioncable' my Gemfile Two month ago I have successfully used this combination,,rafaelfranca,2016-02-18 22:40:47,2016-02-18 22:42:23
IS,ActionCable disconnect client,I'm not if this is an issue or get something wrong I'm using ActionCable beta2 and i'm trying to do kind of available online chat feature It is obvious that subscribed method is called when user is connected to channel but unsubscribed is never called I tried waiting for few hours turning off browser or even computer Every page refresh adds new subscriber to list but there is no event to unsubscribe one This leads to strange behaviour when message is broadcasted to huge amount of subscribers even when they are not really connected So my question is what are the requirements to user get properly disconnected on tab close browser close or just navigate to subpage that do not have this channel subscription PS I set logger on disconnect in Connection too it is just never called I'm using Puma server and async adapter on development environment,,"maclover7,maclover7,maclover7,maclover7,maclover7,maclover7,maclover7",2016-02-16 11:47:31,2016-02-19 00:47:51
IS,STI with abstract base class not working,On Rails v4 2 5 1 single table inheritance does not work when the base class is marked abstract See failing code below,,matthewd,2016-02-19 17:39:17,2016-02-19 17:57:30
IS,Presence validation of virtual attribute not firing appropriately,In Clearance we use a conditional validation on the virtual password attribute to determine whether the password field needs to be validated We only need to validate it when the underlying database row is encrypted password is not set or if the user is changing the password I found that when testing against rails 5 the conditional validation does not behave as expected The method that guards the validation returns as it did under 4 2 but calls to valid return true when they should return false Interestingly the call to save inside the valid conditional does fire the validation appropriately It seems valid is short circuiting maybe because no active record level changes have been detected Yet save does not short circuit Here is a test case,,"derekprior,sgrif,derekprior,eileencodes,eileencodes,eileencodes,eileencodes,derekprior",2016-02-12 21:23:49,2016-02-20 14:19:45
IS,Test case use RAW POST DATA but it is not used anywhere,Hello guys Using rspec rails on my project I noticed a strange behavior When I make a post sending a hash object like id 1 the number 1 will be converted to String It doesnt happens with Minitest only on RSpec please consider this script If you guys take a look on the line 50 when using to json and sending a string as parameter to post method it will works correctly Swimming in the code I noted that 1 The problem is at actionpack lib test case rb 2 RSpec use the method post at test case rb L519 L519 3 minitest does not use it The problem here is test case rb L598 L598 If RSpec try to send a string it assume it will be a raw data like an json object and set it to request env RAW POST DATA Which is correctly but the code that take care with this env var is a middleware at params parser rb L42 L42 and it is never called because the method on test case just call the controller method as an plain object I will open a PR to correct this behaviour Regards,,rafaelfranca,2016-02-19 16:01:40,2016-02-21 05:19:59
IS,AR class level scopes leaking into associations defined on other AR classes,Hi there I was working on a Rails 4 2 5 1 app and I found a surprising behavior I think it is fair to call it a bug or at least an undocumented surprising behavior It is a bit difficult to explain but easy to showcase so I have setup below a basic test case for rails master Rails 5 beta and the issue still exists I'm not sure when this was introduced I have been using Rails for many years and it is the first time I encounter this but it could just be dumb luck Please compare the two test cases one is passing one is failing When looking at the SQL for the failing case,,"maclover7,pixeltrix",2016-02-21 05:31:52,2016-02-22 09:51:09
IS,rails5 form authenticity tokens do not work,This will cause problems for automation tools like mechanize Reproduction instructions view source on any page that uses form for Any edit page generated by scaffolding will do What you will see will be something like Note that the values do not match They do with Rails 4 x releases,,"rubys,maclover7,rubys,rafaelfranca,rubys,rubys,rafaelfranca,rubys,rafaelfranca,rubys",2016-02-06 13:42:16,2016-02-22 15:46:01
IS,Rails logger silence does not work,I have tested on rails 5 0 0 beta2 and the master branch In both I see this behavior from a rails console Here the quiet was silenced as expected It looks like there was a lot of work attempting to make it threadsafe Could be related to,,"maclover7,rafaelfranca,dhh",2016-02-11 03:52:26,2016-02-22 16:25:55
IS,NameError uninitialized constant ApplicationCable Connection User,The suggested authorization solution at a full stack example yields,,,2016-02-22 22:31:45,2016-02-22 22:35:27
IS,Params not processed properly when content type is application vnd api json as of c4d90b7,Oddly this bug report script does not fail even though application vnd api json is not registered as a mime type I really hoped to produce a failure with the bug report template I can show this bug by generating a fresh rails app as follows I pushed an app created this way includes a test case to,,"prathamesh-sonpatki,meinac,rafaelfranca",2016-02-18 21:37:21,2016-02-23 00:40:39
IS,rake db structure load silently fails if dependencies are not installed,My team runs PostgreSQL and with it comes shell utilities such as psql pg dump and pg restore We ran into an silent failure where rake db structure load is silently failing but appears to succeed This happens because calls to ActiveRecord Tasks DatabaseTasks structure load invoke PostgreSQLDatabaseTasks structure load which calls Kernel system psql q f Shellwords escape filename configuration wouldatabase' The scrypt psql was not included in our PATH environment variable and this failed the above Kernel system call However The exit status of Kernel system is not checked by ActiveRecord Tasks DatabaseTasks structure load so everything appeared to be A OK A migration system should HARD FAIL when a dependency is missing or a command fails,,,2016-02-10 00:45:00,2016-02-23 00:57:05
IS,Transaction is not rolled back when updating record children by destroying one of the children would result in failing validations on the parent record,Using accepts nested attributes for allow destroy true transaction is not rolled back when updating a record and its children by destroying one of the children would result in failing validations on the parent record Reproduction script,,,2016-02-22 06:07:39,2016-02-23 04:26:44
IS,ActionCable in app conflicts with force ssl,If running actioncable in app when the app is configured with force ssl true the SSL middleware 301s the wss requests to https which prevents the web socket communications from connecting,,"maclover7,maclover7,maclover7,maclover7,dhh,maclover7,matthewd,matthewd,matthewd",2016-02-11 22:13:31,2016-02-23 04:55:43
IS,Rails 5 Strong Parameters,It seems using a HABTM relationship strong parameters will not allow an array of ids For instance with the following params require request permit sort code number cheques number books start cheque sent batch account ids I am getting an unpermitted parameter 'account ids' error in the controller and it wo not save I can brute force it with params require request permit and it works fine which tells me that the rest of the code forms etc is working fine I have searched the issues and can not seem to find anything Wondering if anyone else is having the same problem or there has been a syntax change that is not showing in the edge docs yet,,maclover7,2016-02-23 13:55:46,2016-02-23 14:21:15
IS,rails db drop all db create all db migrate is not creating tables after adding InternalMetadata EnvironmentMismatchError,Right now rails db drop all db create all db migrate leaves DB without any tables before adding internal metadata this command resulted in migrated DB Unfortunately I can not bisect the issue because in many commits dropping creating migration in a single run is broken but AFAICS the issue emerged after adding InternalMetadata EnvironmentMismatchError The first bad commit could be any of d70c68d76abcbc24ef0e56b7a7b580d0013255dd f6628adc11e2e57db75030fca9bae035be5cd95b c1a1595740b243bed02f5e59090cc58dac77bbf3 de2cb20117af68cef4126d8998cc63e178c58187 302e92359cc88258ae15a82454c58408a4b8157e a76c4233a9ee9ffbf413c4b8353e73e8ffbeb3a5 350ae6cdc1ea83e21c23abd10e7e99c9a0bbdbd2 ab40d71ff88f99ee4219747fcc8774514ec50ef8 7b065f623f2a56d74eca88ed27970c71a76f0a17 921997675258147fdc2bbbca0da4fb0c771c218d 30391e9ddba745d6bdc0b23f526ecf432dfe6adf 900bfd94a9c3c45484d88aa69071b7a52c5b04b4 34ac8a1e98e85b28fe3ee02a83c85cdaa4b77714 We cannot bisect more cc,,"prathamesh-sonpatki,prathamesh-sonpatki,schneems,prathamesh-sonpatki,schneems,schneems,schneems,prathamesh-sonpatki,schneems,schneems,schneems,schneems,bquorning,schneems,schneems,schneems",2016-01-27 14:24:10,2016-02-23 16:15:09
IS,scope in routes,Does this generates correct path Generated admin api users user id profile format I was expecting admin users user id api profile format namespace admin do resources users do scope api do resources profile end end end,,,2016-02-23 00:37:44,2016-02-23 17:32:17
IS,When validates uniqness of is used on primary key column of type uuid validation fails on update,I ran into this on 5 0 0 beta1 but it behaves the same on beta2 I'm using uuid column type as primary key for table Update when model does not have validation works as expected If model have validation update fails with error of uuid not being uniq I'm not sure if this is because of incorrect table declaration or if this is bug Here is failing test,,"maclover7,maclover7,maclover7,sgrif,maclover7,sgrif",2016-02-12 00:56:34,2016-02-23 19:24:30
IS,How to validate saved record,In Rails5 a few of validations check record persisted L167 to skip validation After save record valid returns true even if the context is changed In Rails4 2 it returns false Is this intentional,,"prathamesh-sonpatki,eileencodes,eileencodes",2016-02-20 07:44:34,2016-02-23 20:31:50
IS,ActionCable not working with Thin,I got an exception NoMethodError undefined 'method possible ' for nil NilClass while using Thin server Puma is working correctly Full stacktrace,,"maclover7,maclover7,maclover7,matthewd",2016-02-15 23:24:27,2016-02-23 21:17:11
IS,error when deployed Error during WebSocket handshake Unexpected response code 404,When attempting to deploy the simple chat example to a single EC2 instance on AWS we get 'Error during WebSocket handshake Unexpected response code 404' This works locally with RAILS ENV production but fails when deployed strong Steps to reproduce strong 1 Clone 2 Add redis install script by adding ebextensions ruby config like this file ebextensions redis config Git commit and deploy 3 Use Elastic Beanstalk to spin up a single instance thus chatroom2 Check the logs and verify redis installed and started ok This is also asked on stackoverflow,,"rafaelfranca,maclover7,maclover7",2015-12-31 13:58:14,2016-02-23 21:41:32
IS,Relation include loads all and delegates to the array should do exists as associations do,CollectionAssociation include,,"maclover7,maclover7,rafaelfranca,rafaelfranca",2016-02-23 21:15:51,2016-02-23 22:11:07
IS,Rails microseconds fails out of the box with mysql2 adapter,,,"jeremy,jeremy",2016-02-23 23:33:41,2016-02-23 23:53:58
IS,rails 5 0 0 beta2 api only app does not work with jbuilder,I am trying to build a API only app using the Rails 5 0 0 beta2 The problem is the API endpoint does not generate any json output not sure why this is the case I have included the ActionController ImplicitRender as suggested still no luck,,rafaelfranca,2016-02-23 22:57:34,2016-02-24 00:07:37
IS,Raisl Generate Scaffold Error,So I'm trying to a test application with rails But I'm stumped once I get to the generate scaffold step This is the error I receive C Ruby22 x64 lib ruby gems 2 2 0 gems web console 2 0 0 beta3 lib web console slave rb 1 in require' cannot load such file pty LoadError from C Ruby22 x64 lib ruby gems 2 2 0 gems web console 2 0 0 beta3 lib web console slave rb 1 in top required ' from C Ruby22 x64 lib ruby gems 2 2 0 gems web console 2 0 0 beta3 lib web console rb 13 in require' from C Ruby22 x64 lib ruby gems 2 2 0 gems web console 2 0 0 beta3 lib web console rb 13 in top required ' from C Ruby22 x64 lib ruby gems 2 2 0 gems web console 2 0 0 beta3 lib web console rb 1 in require' from C Ruby22 x64 lib ruby gems 2 2 0 gems web console 2 0 0 beta3 lib web console rb 1 in top required ' from C Ruby22 x64 lib ruby gems 2 2 0 gems bundler 1 11 2 lib bundler runtime rb 77 in require' from C Ruby22 x64 lib ruby gems 2 2 0 gems bundler 1 11 2 lib bundler runtime rb 77 in block 2 levels in require' from C Ruby22 x64 lib ruby gems 2 2 0 gems bundler 1 11 2 lib bundler runtime rb 72 in each' from C Ruby22 x64 lib ruby gems 2 2 0 gems bundler 1 11 2 lib bundler runtime rb 72 in block in require' from C Ruby22 x64 lib ruby gems 2 2 0 gems bundler 1 11 2 lib bundler runtime rb 61 in each' from C Ruby22 x64 lib ruby gems 2 2 0 gems bundler 1 11 2 lib bundler runtime rb 61 in require' from C Ruby22 x64 lib ruby gems 2 2 0 gems bundler 1 11 2 lib bundler rb 99 in require' from C Users lmiln workspace toy app config application rb 7 in top required ' from C Ruby22 x64 lib ruby gems 2 2 0 gems railties 4 2 2 lib rails commands commands tasks rb 141 in require' from C Ruby22 x64 lib ruby gems 2 2 0 gems railties 4 2 2 lib rails commands commands tasks rb 141 in require application and environment ' from C Ruby22 x64 lib ruby gems 2 2 0 gems railties 4 2 2 lib rails commands commands tasks rb 128 in generate or destroy' from C Ruby22 x64 lib ruby gems 2 2 0 gems railties 4 2 2 lib rails commands commands tasks rb 50 in generate' from C Ruby22 x64 lib ruby gems 2 2 0 gems railties 4 2 2 lib rails commands commands tasks rb 39 in run command ' from C Ruby22 x64 lib ruby gems 2 2 0 gems railties 4 2 2 lib rails commands rb 17 in top required ' from bin rails 4 in require' from bin rails 4 in main ' I'm not sure what causes this error I have checked my gemfile to make sure my sql3 version was correct and still could not find the issue,,"maclover7,gsamokovarov",2016-02-23 23:41:17,2016-02-24 09:28:21
IS,Rails 5 0 0 beta 204 no content confusing in development,When a controllers method is reached but the template can not be found Rails now returns 204 No Content As a result the browser does not refresh but more important the current page whatever it was does not clear an error if one is being displayed For a few moments I thought I would run into my prior issue Now I experienced this when I renamed a controller and a route but forgot to move the views directory a naive thing In previous version of Rails this would have tried to render and failed and I'm sure this new behaviour is here for a reason However I think some here may see how this could momentarily cause confusion would blanking out the current error if one is shown here a good idea This would at least then cause someone to turn to their log to see what is happening,,"maclover7,matthewd,matthewd,dhh",2016-01-15 22:57:36,2016-02-24 11:19:58
IS,Deprecation warnings not showing the correct location,While converting my app to rails 5 I see two deprecation warnings showing the wrong 'called from' location render text warning DEPRECATION WARNING render text is deprecated because it does not actually render a text plain response Switch to render plain 'plain text' to render as text plain render html ' strong HTML strong ' to render as text html or render body 'raw' to match the deprecated behavior and render with the default Content Type which is text plain called from realtime at Users bronson rubies ruby 2 2 2 lib ruby 2 2 0 benchmark rb 303 and the kwargs warning DEPRECATION WARNING ActionController TestCase HTTP request methods will accept only keyword arguments in future Rails versions Examples get show params id 1 session user id 1 process update method post params id 1 called from block 2 levels in module Integration at Users bronson gem ruby 2 2 2 gems rails controller testing 0 0 3 lib rails controller testing integration rb 12 and DEPRECATION WARNING ActionController TestCase HTTP request methods will accept only keyword arguments in future Rails versions Examples get show params id 1 session user id 1 process update method post params id 1 called from process at Users bronson gem ruby 2 2 2 gems rails controller testing 0 0 3 lib rails controller testing template assertions rb 61 I suspect that this warning is being printed twice can investigate Those are the only ones I have noticed other deprecation warnings work just fine DEPRECATION WARNING uniq is deprecated and will be removed from Rails 5 1 use distinct instead called from rebuild relationships at Users bronson propertysearch app importers combined geography importer rb 67,,"maclover7,rafaelfranca,vipulnsward,dhh,rafaelfranca",2016-01-08 23:12:52,2016-02-24 13:05:25
IS,AC Parameters inspect doesn t reveal what s permitted,,,"bquorning,rafaelfranca,bquorning,rafaelfranca",2016-02-23 11:07:33,2016-02-24 13:10:45
IS,Enable rails restart to work in development mode,add plugin tmp restart to config puma rb to enable rails restart to work in development File to change railties lib rails generators rails app templates config puma rb,,"rubys,rubys",2016-02-24 15:53:12,2016-02-24 16:01:19
IS,Eager loading nested objects with conditions not working as expected duplicates objects,Queries like Parent includes kiddos where kiddos gender F MF and Parent includes kiddos joins kiddos where kiddos gender F MF both will result in duplicate objects in the included relation Reproduction EDIT to add SQL output joins sql,,,2016-02-23 21:44:26,2016-02-24 16:47:49
IS,JSON pretty generate throws a TypeError when there is a BigDecimal object as a value,As the title states JSON pretty generate throws a TypeError when there is a BigDecimal object as a value This used to work in ruby 2 0 and rails 4 0 before upgrading in development Example console log of how to replicate Not sure if this is a ruby 2 3 0 bug or a rails bug Either way this definitely seems to be a bug,,Edouard-chin,2016-02-24 01:04:56,2016-02-24 16:55:41
IS,ActionCable does not properly reject WebSockets with invalid origin,Steps to reproduce 1 Checkout 2 Run bin cable 3 Send the following request to localhost port 28080 Expected result The request is origin is 0 0 0 0 but should be localhost so the request should be rejected with some kind of error response Actual result log development log logs Request origin not allowed 3000 which is correct However no error response is sent Instead the socket just hangs without any activity Cause ActionCable Server in its call method creates an ActionCable Connection object and calls process on it ActionCable Connection Base process indeed tries to send an error response respond to invalid request but it does not work The reason for that is because ActionCable Connection Base initialize creates a ActionCable Connection WebSocket which in turn creates a ActionCable Connection ClientSocket which in turn creates a ActionCable Connection Stream which in turn hijacks the socket immediately By the time respond to invalid request is called the socket is already hijacked so no regular Rack response can be sent back,,"FooBarWidget,maclover7",2016-02-04 09:20:00,2016-02-25 03:30:31
IS,Docs and guides update for 17573,With 17573 Rails will only generate weak etags We need the following changes to go with that PR x Mention this as a minor breaking change in the 5 0 release notes and upgrade guides x Go through the guides and docs to see if anything needs to be updated x Document how to override this behavior and add a test probably x Nice to have briefly explain the difference between strong and weak etags probably just a sentence or two with links to external resources any gotchas and how to customize this behavior Most of these are fairly easy please feel free to grab and work on these items,,"chancancode,maclover7,maclover7,chancancode,prathamesh-sonpatki,chancancode",2016-01-20 22:32:36,2016-02-25 08:32:49
IS,Adding a hot restart no need to open new terminal,just a suggestion can a hot restart be implemented by this there will be no use of opening another terminal just type restart in the present console where server is running and then it restarts no use of another terminal to execute this,,prathamesh-sonpatki,2016-02-25 08:04:58,2016-02-25 08:58:39
IS,Postgresql 9 5 breaking rake db migrate,I have upgraded my postgresql to 9 5 1 Currently the rake db migrate task breaks with error about the pg dump command saying i is an invalid option I saw that in postgres 9 5 pg dump i option was deprecated I am using 3 2 19 version of the active record gem but i see that even in the current L428 stable branch this is still an issue Currently I fixed the issue by removing the option but I am not sure about the purpose that is serving,,rafaelfranca,2016-02-25 13:11:06,2016-02-25 13:29:56
IS,Rails 5 0 0 beta3 breaks sessions,I'm still investigating how this happened but the session code in my application worked with beta 1 and beta 2 as well as all versions of rails 4 It stopped working at beta3 L1897 More to follow,,"maclover7,matthewd,matthewd,kaspth,matthewd",2016-02-25 13:52:45,2016-02-25 16:43:10
IS,CollectionProxy append push unexpected behaviour,Given A has many B will the following code trigger a database insertion a B new The answer is that it depends on wether a is persisted or not I'm unsure if this is intended or not but I can not seem to find anything mentioned in the documentation,,"maclover7,rafaelfranca",2016-02-25 15:06:29,2016-02-25 17:34:10
IS,Action cable bug,So i have made a chat app to check the functionality of action cable Now the bug is the function in the channel is never called until I explicitly call it from console like App room speak 'yes' After I run this from the console it is functional from the UI also But otherwise nothing happens Made a sample repo for the app Please let me know if I made a mistake implementing this Thanks,,"maclover7,maclover7,maclover7",2016-02-25 17:41:21,2016-02-25 17:55:26
IS,Regression saving in an after create with a uniqueness validation,Currently on master if you save a record in an after create on a model with a uniqueness validation the validation always fails This was previously working in 5 0 0 beta2 and also works on rails 4 2 5 I have git bisected this to Note From 23581 changing from id to id was breaks after create and after save callbacks because id was trails id for these callbacks In other words the id was value is the pre save pre create value In my example below id was is nil in the after create while id is not nil Full recreation script and output is here With rails master Because id was is nil the validation query from the gist above looks like this,,"matthewd,tenderlove",2016-02-24 05:00:32,2016-02-25 18:39:42
IS,Question Does ActionCable only generates JS in coffee script syntax,I removed the coffee rails gem but the channel generator still creates a js file with coffee script syntax and extension is coffee script the only option with ActionCable,,rafaelfranca,2016-02-25 18:42:01,2016-02-25 18:45:44
IS,Issue with postgres,Frequently getting timeout while using action cable with Postgres ConnectionTimeoutError could not obtain a connection from the pool within 5 000 seconds,,rafaelfranca,2016-02-25 19:32:52,2016-02-25 19:36:09
IS,Activerecord first and last method get same result when order null column,I have qiandaos records as following image Then I type following command in console Image image In rails 4 2 4,,rafaelfranca,2016-02-26 02:14:17,2016-02-26 02:24:24
IS,ActionCable feature request before action,Hey guys It would be awesome to have before action for ActionCable as well as we have in Controllers I need to set user online on any action when he uses websockets So it would be great to set before action in action cable channel rb and thus it would fire on every action in channels What do you think,,rafaelfranca,2016-02-26 08:46:46,2016-02-26 11:34:49
IS,Why default log level for production mode is debug,Steps to reproduce Hi guys I found interesting issue that default log level for production is debug Please look to production rb file for new generated app Expected behavior command does not show anything that should be related to debug Actual behavior It behaves like with log level error System configuration Rails version 4 2 5 1 Ruby version 2 1 2,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-02-26 11:35:24,2016-02-26 11:39:10
IS,Rails Commands Not Work,bundle install Fetching gem metadata from Fetching version metadata from Fetching dependency metadata from Using rake 10 4 2 Using i18n 0 7 0 Using json 1 8 3 Using minitest 5 8 3 Using thread safe 0 3 5 Using builder 3 2 2 Using erubis 2 7 0 Using mini portile2 2 0 0 Using rack 1 6 4 Using mime types 2 99 Using arel 6 0 3 Using ansi 1 5 0 Using awesome print 1 6 1 Using bcrypt 3 1 10 Using debug inspector 0 0 2 Using byebug 8 2 1 Using ffi 1 9 10 Using coderay 1 1 0 Using coffee script source 1 10 0 Using execjs 2 6 0 Using thor 0 19 1 Using commonjs 0 2 7 Using commonwatir 4 0 0 Using concurrent ruby 1 0 0 Using deep merge 1 0 1 Using connection pool 2 2 0 Using database cleaner 1 5 1 Using diff lcs 1 2 5 Using docile 1 1 5 Using unf ext 0 0 7 1 Using eventmachine 1 0 8 Using excon 0 45 4 Using fastercsv 1 5 5 Using ffaker 2 1 0 Using multi xml 0 5 5 Using grocer 0 6 1 Using guard compat 1 2 1 Using power assert 0 2 6 Using hashdiff 0 2 3 Using multi json 1 11 2 Using jwt 1 5 2 Using tilt 2 0 1 Using metaclass 0 0 4 Using mysql2 0 3 20 Using net http persistent 2 9 4 Using netrc 0 11 0 Using pg 0 18 4 Using phonelib 0 5 4 Using puma 2 15 3 Using ruby openid 2 7 0 Using bundler 1 11 2 Using rails perftest 0 0 6 Using rails serve static assets 0 0 4 Using rails stdout logging 0 0 4 Using rdoc 4 2 0 Using redis 3 2 2 Using rubyzip 1 1 7 Using rspec support 3 4 1 Using ruby prof 0 15 9 Using sass 3 4 20 Using websocket 1 2 2 Using simplecov html 0 10 0 Using smarter csv 1 1 0 Using spring 1 5 0 Using sqlite3 1 3 11 Using uuidtools 2 1 5 Using tzinfo 1 2 2 Using ruby push notifications 0 3 1 Using nokogiri 1 6 7 Using rack test 0 6 3 Using mail 2 6 3 Using binding of caller 0 7 2 Using childprocess 0 5 8 Using coffee script 2 4 1 Using uglifier 2 7 2 Using less 2 6 0 Using sprockets 3 5 2 Using unf 0 1 4 Installing mandrill api 1 0 53 Installing httparty 0 13 7 Installing test unit 3 1 5 Installing twilio ruby 4 2 1 Installing mocha 0 14 0 Installing pubnub 3 7 9 Installing rack openid 1 4 2 Installing rails 12factor 0 0 3 Installing sdoc 0 4 1 Installing sidekiq 4 0 1 Installing rspec core 3 4 1 Installing rspec expectations 3 4 0 Installing rspec mocks 3 4 0 Installing simplecov 0 11 1 Installing activesupport 4 2 4 Using loofah 2 0 3 Installing roo 2 3 0 Installing selenium webdriver 2 48 1 Installing domain name 0 5 25 Installing googl 0 7 1 Installing pushmeup 0 3 0 Installing guard test 2 0 6 Installing rspec 3 4 0 Using rails deprecated sanitizer 1 0 3 Using globalid 0 3 6 Installing activemodel 4 2 4 Installing config 1 0 0 Installing factory girl 4 5 0 Installing jbuilder 2 3 2 Installing rails html sanitizer 1 0 2 Installing watir webdriver 0 9 1 Installing http cookie 1 0 2 Using rails dom testing 1 0 7 Installing activejob 4 2 4 Installing activerecord 4 2 4 Installing watir 5 0 0 rails v Users kvanadev6 rbenv versions 2 2 3 lib ruby site ruby 2 2 0 rubygems path support rb 50 in split gem path' undefined method split' for Array 0x007fa4289a2300 NoMethodError from Users kvanadev6 rbenv versions 2 2 3 lib ruby site ruby 2 2 0 rubygems path support rb 32 in initialize' from Users kvanadev6 rbenv versions 2 2 3 lib ruby site ruby 2 2 0 rubygems rb 351 in new' from Users kvanadev6 rbenv versions 2 2 3 lib ruby site ruby 2 2 0 rubygems rb 351 in paths ' from Users kvanadev6 Developer rails new sikka humos web bin spring 11 in top required ' from bin rails 3 in load' from bin rails 3 in main ' ruby v ruby 2 2 3p173 2015 08 18 revision 51636 x86 64 darwin15 which ruby Users kvanadev6 rbenv shims ruby which rails Users kvanadev6 rbenv shims rails gem env RubyGems Environment RUBYGEMS VERSION 2 6 0 RUBY VERSION 2 2 3 2015 08 18 patchlevel 173 x86 64 darwin15 INSTALLATION DIRECTORY Users kvanadev6 rbenv versions 2 2 3 lib ruby gems 2 2 0 USER INSTALLATION DIRECTORY Users kvanadev6 gem ruby 2 2 0 RUBY EXECUTABLE Users kvanadev6 rbenv versions 2 2 3 bin ruby EXECUTABLE DIRECTORY Users kvanadev6 rbenv versions 2 2 3 bin SPEC CACHE DIRECTORY Users kvanadev6 gem specs SYSTEM CONFIGURATION DIRECTORY Users kvanadev6 rbenv versions 2 2 3 etc RUBYGEMS PLATFORMS ruby x86 64 darwin 15 GEM PATHS Users kvanadev6 rbenv versions 2 2 3 lib ruby gems 2 2 0 GEM CONFIGURATION update sources true verbose true backtrace false bulk threshold 1000 gem no document REMOTE SOURCES SHELL PATH Users kvanadev6 rbenv versions 2 2 3 bin usr local Cellar rbenv 1 0 0 libexec Users kvanadev6 rbenv shims Users kvanadev6 rbenv bin usr local heroku bin usr bin bin usr sbin sbin usr local bin git safe bin Users kvanadev6 bin usr local sbin,,rafaelfranca,2016-02-26 14:23:22,2016-02-26 14:32:58
IS,Config in config puma rb not working properly,The environment param in config puma rb is not setting to the value in RAILS ENV it is always set to the default value environment ENV fetch RAILS ENV development This is getting set to development even when I have RAILS ENV set to production This is happening on a production server,,"prathamesh-sonpatki,schneems,schneems,schneems,schneems,schneems,schneems,schneems,prathamesh-sonpatki,schneems,schneems,schneems,schneems",2016-02-15 04:58:57,2016-02-26 14:55:53
IS,Mark the start of rendering in the log,It would be helpful to know in the log when rendering of the view templates started so you can quickly glance and see which SQL and other calls are happening in the controller and which are being triggered in the view I propose,,"dhh,matthewd,vipulnsward,dhh,vipulnsward,kaspth,matthewd,bogdan,dhh,vipulnsward,dhh,dhh,bogdan,dhh,bogdan,dhh,bogdan,dhh,rafaelfranca",2016-02-16 15:00:38,2016-02-26 19:08:27
IS,Default Gemfile places web console in the test group,Steps to reproduce Create a new rails app generate a model and uncomment the model is example test When you run the test you will be given the error Web Console is activated in the test environment which is usually a mistake To ensure it is only activated in development mode move it to the development group of your Gemfile I assume my expectation is the same as other is I expect it to run my tests without modifying the Gemfile The clear fix is to move the web console gem into a development group block and outside the development test group Is this intended behavior I cannot imagine so It appears like a bug to me,,"matthewd,rafaelfranca",2016-02-26 20:15:48,2016-02-26 20:26:27
IS,Rails 5 and locale is unpermitted parameter,I want translate my application with rails 5 but I can not do that because the locale params is not permitted I have tried to permit params on ApplicationController with before action set locale def set locale params permit locale I18n locale params locale I18n default locale puts I18n locale end But It is not ok because everytime is set only I18n default locale value for me it is en If I try to set other language into link on browser I do not have any result Into routes I have set scope locale locale I18n available locales join ' ' defaults locale I18n locale I18n default locale 'en' I18n locale do end There are other params that not permitted format What can I do,,"maclover7,eileencodes,rafaelfranca,sikachu,rafaelfranca,rafaelfranca",2016-02-26 17:50:44,2016-02-26 23:32:36
IS,gem install rails wo not install bundler,I'm trying to follow Getting Started guide and stuck in the very beginning I have create clean vagrant box with Ubuntu 15 10 Installed sqlite and executed sudo gem install rails gem reported 27 packages installed but it did not install bundler So when I executed rail new blog it reported at the very end ruby 2 1 5p273 2014 11 13 x86 64 linux gnu gem 2 2 2 Rails 4 2 5 1 rails bundler console txt,,"pixeltrix,rafaelfranca",2016-02-24 06:04:23,2016-02-29 13:06:51
IS,Rails 5 polymorphic associations not saving,Hello I am trying to create a polymorphic association with a has many through for categories Steps to reproduce I have created two very simple repositories one with Rails 5 0 0 beta3 and the other using Rails 4 1 13 which works as expected Expected behavior When you create an event with multiple categories selected it should create the association between the event and category on the categorisations model Actual behavior However when saving the event with multiple categories selected I get the following error messages categorisations is invalid when using Rails 5 0 0 beta3 Below is the output when debugging from byebug byebug event params ActionController Parameters name Test location london category ids 1 2 permitted true byebug Event id nil name Test location london created at nil updated at nil byebug categorisations ActiveRecord Associations CollectionProxy Categorisation id nil category id 1 categorisable type Event categorisable id nil created at nil updated at nil Categorisation id nil category id 2 categorisable type Event categorisable id nil created at nil updated at nil byebug categories ActiveRecord Associations CollectionProxy Category id 1 name Category 1 created at 2016 02 28 21 51 16 updated at 2016 02 28 21 51 16 Category id 2 name Category 2 created at 2016 02 28 21 51 24 updated at 2016 02 28 21 51 24 byebug valid false byebug errors ActiveModel Errors 0x007fa113eda628 Event id nil name Test location london created at nil updated at nil categorisations is invalid categorisations error invalid error invalid System configuration Rails version 5 0 0 beta3 Ruby version 2 2 3,,"eileencodes,eileencodes,eileencodes",2016-02-29 13:15:34,2016-02-29 23:45:55
IS,5 0 0 beta3 behaves differently than 5 0 0 beta2 when validating polymorphic associations,Hello I upgraded my app from 5 0 0 beta2 to 5 0 0 beta3 and I started getting an error You can reproduce it by running the code below both with beta2 tests pass and with beta3 tests fail Description of this issue This issue only affects a very specific case that I believe is uncommon to most Rails apps Imagine you have the following code To be extra sure of the validity of our data we use validates associated so whenever a partnership is created we also make sure that the associated partner is valid Until Rails 5 0 0 beta2 the code above was working correctly If we upgrade our app to Rails 5 0 0 beta3 and already have in our database authorizations that do not belong to a partner then the validation above will fail see attached gist Impact of this issue Although this issue is reproducible it affects only a specific case where you already have in your database some records that are valid according to 5 0 0 beta2 and invalid according to 5 0 0 beta3 The current behavior of 5 0 0 beta3 and master is in line with the desire of having belongs to required by default This issue would only affect people who are upgrading apps where they are validating an associated polymorphic field and do not have that association in the database since it was not required until 5 0 0 beta2 Therefore I'm okay if we decide that this issue should not be fixed but in that case it should be clearly documented in the upgrade notes of Rails Cause of this issue I used git bisect and I think the culprit commit is,,"claudiob,dhh,claudiob,eileencodes,claudiob,claudiob,eileencodes,claudiob,eileencodes,claudiob,eileencodes,claudiob,eileencodes,eileencodes,eileencodes,claudiob",2016-02-26 17:37:50,2016-03-01 00:14:00
IS,Confusion about whether ActionCable supports Unicorn or not,The ActionCable README is a bit confusing because in one segment it tells me that I need a threaded server but in another it tells me that I can use unicorn The parts I'm referring to are Deployment deployment The Action Cable server does not need to be a multi threaded application server This is because Action Cable uses the Rack socket hijacking API to take over control of connections from the application server Action Cable then manages connections internally in a multithreaded manner regardless of whether the application server is multi threaded or not So Action Cable works with all the popular application servers Unicorn Puma and Passenger And in app in app If you are using a threaded server like Puma or Thin the current implementation of Action Cable can run side along with your Rails application Maybe I am misunderstanding why you can not use Unicorn for the application and websocket server at the same time but it might be worth clearing this up you added the part about Unicorn being supported maybe this is just an inconsistency,,"maclover7,FooBarWidget",2016-02-28 21:08:13,2016-03-01 01:44:02
IS,Breakage finding templates,This looks related to is On Rails master I'm now getting Tell me if there is anything else I should look at,,"maclover7,chancancode,chancancode",2016-02-25 12:30:57,2016-03-01 09:27:04
IS,Rails 4 2 5 2 ActionView Template Error incompatible character encodings UTF 8 and ASCII 8BIT,Steps to reproduce Update Rails from 4 2 5 1 to 4 2 5 2 and do a bundle update rails Deploy Rails app to Heroku Some pages which are views with Haml give a ActionView Template Error incompatible character encodings UTF 8 and ASCII 8BIT A rollback to previous release on Heroku and the page is working again Expected behavior Page should work as normal Actual behavior error ActionView Template Error incompatible character encodings UTF 8 and ASCII 8BIT occurs System configuration Rails version 4 2 5 2 Ruby version 2 2 2,,"pixeltrix,rafaelfranca,pixeltrix,pixeltrix,pixeltrix",2016-03-01 07:47:43,2016-03-01 15:18:59
IS,Guides for v3 2 do not work,Steps to reproduce Go to Expected behavior Guides work Actual behavior Guides do not work 403 Forbidden,,"fxn,rafaelfranca,fxn",2016-03-01 16:00:44,2016-03-01 16:12:10
IS,Regexp used to colorize sql logs can take several seconds to match a line,Steps to reproduce Expected behavior The test should pass because it should not take a tenth of a second much less 30 seconds to match the line even though it is a long line Actual behavior The test will fail System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,,2016-02-28 19:47:48,2016-03-01 18:18:52
IS,Change cable coffee to cable js instead,Issue inconsistent default files in 'app javascripts' directory To reproduce rails new appname Results application js cable coffee Either application js goes coffeescript or make the cable coffee file a js file I would vote for cable js given that coffeescript is probably going to be used less and less due to ES6 adoption Background Now that ES6 is here there is a growing body of people moving away from coffeescript Perhaps someday 'rails new appname default coffeescript' and 'rails new appname default javascript' or the like could be a thing and those could create all default coffee files or default js files Until then lets go js,,"maclover7,javan,dhh,dhh,dhh,dhh,rafaelfranca",2016-02-27 18:01:35,2016-03-01 18:20:11
IS,ActionMailer does not quote the label portion of the address in the From header,Steps to reproduce 1 Create a mailer set it to use a From address containing a comma from 'Sammy Davis Jr sammy example com ' 2 Send through SMTP 3 result 501 5 1 7 Bad sender address syntax Expected behavior If you format such a From header in a desktop mail client it will wrap the Sammy Davis Jr portion in double quotes and the mail will go through correctly Actual behavior ActionMailer does nothing so garbage in becomes a 501 error System configuration Rails version 4 2 5 1 Ruby version 2 3 0 I would very much like to contribute to Rails by adding this behavior to ActionMailer If you agree that this is worthwhile please let me know and if you can suggest an entry point for this I would appreciate it,,jeremy,2016-03-01 20:29:52,2016-03-01 20:51:02
IS,Range include override breaks edge case,See comment here commitcomment 15772711,,,2016-01-29 21:32:41,2016-03-02 16:15:09
IS,require' cannot load such file active support testing method call assertions LoadError,Steps to reproduce cd activerecord bundle rake test Expected behavior ActiveRecord unit tests for sqlit3 mysql2 and postgresql adapters should run Actual behavior System configuration Rails version master branch Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux Based on git bisect 23932 triggers this error,,"yahonda,rafaelfranca,yahonda,rafaelfranca",2016-03-02 15:59:22,2016-03-02 16:39:58
IS,In production custom autoload paths are not respected,When both config cache classes and config eager load are set to true as in the default production environment custom paths added to config autoload paths are not respected This can be fixed by any of these workarounds Add the path to config eager load paths Set config cache classes to false Set config eager load to false Steps to reproduce In application rb add a custom autoload path Expected behavior The Foo constant should be evaluated to the Foo class defined in the autoloaded path Actual behavior NameError is raised System configuration Rails version 5 0 0 beta3 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"rafaelfranca,pixeltrix,pixeltrix",2016-03-02 21:51:30,2016-03-02 22:06:38
IS,enhancement cache name options nil block new options if unless,I would like to suggest new options for the CacheHelper cache method if and unless These should work like cache if and cache unless respective but providing the condition as an option aka instead of writing cache if foo key block I would like to write cache key if foo block This might look like syntactic sugar at first and pretty much it is My current use case is for temporarily disabling a cache section while debugging production mode I could obviously temporarily rewrite the code to use the cache if method but that would change the signature But it would feel more natural and less error prone to just attach if false as an option and easily remove that when done with debugging This might also be valuable when someone needs conditional caching for whatever reason As a bonus the if and unless options should also accept lambdas procs and evaluate them aka cache key unless foo block,,"rafaelfranca,simi",2016-03-02 23:23:06,2016-03-02 23:29:14
IS,formated postgre sql query is 14 times slower than an minified query,I'm using Rails 5 0 0 beta2 in api mode ruby v 2 3 0p0 I created a custom sql query and executed it using find by sql I encoutered that an sql query that is formatted nicely is 14 times slower than the same query that is stripped of all it is unnecessary spaces You can find my example here The relevant queries are inside the detailed info for people in dept method The fast query takes about 165ms and the slow one 2300ms fast I ran both queries directly in psql and could not find any time differences To reproduce the issue clone the repository and seed the db might take some time it creates 400 000 entries,,"rafaelfranca,meinac,rafaelfranca",2016-03-02 16:43:08,2016-03-02 23:41:59
IS,ActionCable Jruby give null pointer exception on startup,I'm using Jruby 9 0 5 0 This is only happening when I launch my ActionCable server I can open my regular rails server ok,,,2016-02-24 05:00:45,2016-03-03 03:56:25
IS,Getting Started with Rails Guide has an issue,Steps to reproduce We discovered this issue in 24017 Create a new Rails app I have only tested 4 2 5 2 not sure about Rails 5 Follow the Getting Started with Rails guide Once you get to the Deleting Comments deleting comments section you are told to add the following code to the view I have never actually seen the comment article comment syntax before is there any reason we are specifically using it here System configuration Rails version 4 2 5 2 Ruby version 2 3 0,,matthewd,2016-03-03 04:40:38,2016-03-03 04:52:23
IS,Unable to follow the Delete Comment chapter of Getting Started,Hey guys I'm a novice in Rails and trying to follow Getting Started with Rails The learning experience is quite smooth until I finished mimic the code shows in chapter 8 Deleting Comments Although I cannot definitely sure that I did not missed any crucial content so far I can not find any difference between my code and tutorial is version Here is the pertinent code Thanks,,prathamesh-sonpatki,2016-03-03 03:28:02,2016-03-03 11:09:51
IS,Turbolinks 5 Upgrade Guide for Rails 5 Release Notes,Turbolinks 5 upgrade notes should be mentioned in the Rails 5 0 0 Release Notes Guide Currently there are no directions in the Release Notes for changes between Turbolinks classic and Turbolinks 5 In my opinion this is a pretty big oversight The Rails Guide Release Notes already have Turbolinks 5 0 as a major point of the Rails 5 release but have no guide for them anywhere in the document,,"maclover7,dhh,rafaelfranca,dhh,dhh",2016-03-03 03:48:56,2016-03-03 14:43:20
IS,Cannot preload assocation with an extension block,It is not possible to preload a scoped association which has an extension block This is because the association scope which is not instance dependant is wrapped in a proc with parameters It looks like the fix from 18467 is not present in the Rails 5 master branch Runnable test Expected behavior There should be no runtime error Actual behavior Parent includes children to a triggers a runtime error ArgumentError The association scope 'children' is instance dependent the scope block takes an argument Preloading instance dependent scopes is not supported System configuration Rails version 5 0 0 beta3 Ruby version 2 2 4,,"maclover7,senny,senny",2016-02-27 22:16:41,2016-03-03 15:54:44
IS,Concerns with deferred Action Cable connection opening,introduced a change that defers opening a WebSocket connection until data is sent which could be problematic I outlined some concerns in commitcomment 16450672 It is not clear why this change was needed to implement and the commit message does not help clarify Even if it works I do not think the logic is quite right Every call to send when the WebSocket is state is not OPEN will attempt to open a connection ignoring the possibility that the state is CONNECTING can you explain the purpose of the change And please consider revising or reverting before another Rails release goes out cc,,"javan,javan,dhh,matthewd,matthewd,javan,dhh,javan",2016-03-03 14:34:05,2016-03-03 23:13:04
IS,4 2 5 2 breaks backward compatibility with 4 2 5 due to attempted performance tweak,Steps to reproduce Run your working 4 5 2 project that uses less rails 2 7 on 4 2 5 2 Expected behavior It works Actual behavior It does not work Comes from this commit Problem with this change is that tsort each returns nil whereas tsort each returns an empty array So this breaks backwards compatibility with 4 2 5 at a security fix 4 2 5 2 which is bad System configuration Rails version 4 2 5 2 Ruby version 2 2 4,,matthewd,2016-03-04 11:57:05,2016-03-04 12:46:37
IS,Rails 5 0 0 beta3 Development environment Assets not re loaded with HTTP requests javascript not working,Using Rails 5 0 0 beta3 I render a typical full edit profile page using a GET request The problem The javascript jQuery features do not work on this page anymore once the page has loaded However if I hit reload these features do work again The page structure looks like this My gems that could be the source of the problem Rails 5 0 0 beta3 jquery rails 4 1 0 jquery turbolinks 2 1 0 turbolinks 5 0 0 beta2 EDIT I just noticed that while browsing the site in question still in dev mode I see in the server logs that the assets are not loaded again when the next page is loaded Is this the reason for my issue What is the best way to deal with this This behavior is new right EDIT 2 Added demo app,,"maclover7,schneems,schneems,rafaelfranca,prathamesh-sonpatki",2016-03-03 21:53:50,2016-03-04 12:59:43
IS,remove js compressor and css compressor in production rb made precompile quickly,I am trying to precompile assets in production It very slowly in production But quickly on development So I try to remove this lines in production rb It made compile faster than development Why using 4 2 4 Rails,,"sikachu,rafaelfranca",2016-03-04 16:17:38,2016-03-04 20:12:52
IS,Fresh Rails 3 2 22 2 engine raises Exception when running rails console,Steps to reproduce rails plugin new myengine mountable cd myengine test dummy bundle exec rails console Expected behavior I should get a console session Actual behavior The exception is raised here L4 Can you explain the rationale for expecting the user to require the test unit gem themselves System configuration Rails version 3 2 22 2 Ruby version 2 3 0p0 rev 53290,,matthewd,2016-03-05 05:54:59,2016-03-05 06:41:25
IS,enhancement render file should handle File,The render file option currently accepts strings aka path names I would like to suggest that the file option should also accept File objects I use this with dynamically generated jpgs I put them into a Tempfile I currently need to do render file tempfile path but it would be more natural to just say render file tempfile I would like to suggest that the file option should be enhanced to accept kind of File arguments And further more the file option should really be more strict on arguments checking I believe it currently does some kind of to s down there which could become a security hole I would like to suggest improve checking of the file argument if it is a String then it needs to be sanitized avoid ' ' or ' ' problems if it is a File the same does apply back thought Like sanitizing parameters we should also sanitize all file names,,"rafaelfranca,kaspth",2016-03-05 23:19:16,2016-03-05 23:22:51
IS,render file broken,using Rails 4 2 5 2 When I do render file ' tmp foo jpg' I get the exception Missing template tmp foo jpg please note that the leading slash is removed Expected result send file ' tmp foo jpg' should be called Actual result Instead of sending the file a template is searched Comments I have not tried this api before so maybe I just got it wrong My expectation from the documentation at using render was that render file 'foo' should invoke send file 'foo' method i send file,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-03-05 22:48:29,2016-03-06 00:00:46
IS,inconsistency in time ago in words when being in March,Steps to reproduce It is right now the 1st of March and usually I get about 1 month when I call time ago in words 1 month ago But today I get 29 days because the February is shorter then the other months Expected behavior I would expect to get about 1 month too even though the February is shorter then the other months System configuration Rails 4 2 5 1 ruby 2 2 0p0 2014 12 25 revision 49005 x86 64 linux,,"sgrif,rafaelfranca",2016-03-01 13:23:19,2016-03-07 19:44:06
IS,Inconsistent restful route names when using the only option,When generating restful routes using the only option in routes rb the route name for the index action differs from the route name it is assigned when using all actions Initially I thought this was due to some gem that does something 'fancy to the rails routes but having generated a brand new Rails app it turns out the issue persists Steps to reproduce Create a new Rails application Optionally generate a NewsController with a single index action Add a restful route to a new Rails application Expected behaviour I would expect the path and URL helpers to be consistent regardless of action constraints Ie still having news path and news url without the index suffix In case this an intended change to the rails routing system then I guess the Guides are outdated But please tell me this is not the case System configuration Rails version 4 2 5 1 and 4 2 5 2 these are the only 2 I have looked at Ruby version ruby 2 2 3p173 2015 08 18 revision 51636 x86 64 darwin13,,rafaelfranca,2016-03-07 21:15:37,2016-03-07 21:20:21
IS,Rails 5 respond to unexpected behaviour,Steps to reproduce I have a simple link to method and in my controller I have a respond to block if I add a format xml it will always use this instead of the format any call See my code below html erb link to 'Edit' edit car path car controller rb Expected behavior Should ignore format xml and redirect to the home page Actual behavior format any is never used and always uses format xml System configuration Rails version 5 0 0 beta3 Ruby version 2 2 3,,"sikachu,sikachu,maclover7,kaspth",2016-03-03 22:44:48,2016-03-08 14:13:34
IS,regression App with Rails 3 2 22 2 fails with ArgumentError wrong number of arguments 5 for 4,An internal application just broke upgrading from Ruby on Rails 3 2 22 1 to 3 2 22 2 Ruby 2 1 is used It s happening already when loading the log in screen,,rafaelfranca,2016-03-08 14:23:04,2016-03-08 14:48:42
IS,Default scopes defined on abstract classes are missing table names when called from subclasses,Similar to except this only seems to affect uses of default scope on master I created an executable test case to show the failure This happens with all supported database adapters as far as I can tell although the way that each fails when the table name is missing is different This does not happen if default scope is defined as a class method only when using the default scope syntax,,"sgrif,sgrif,sgrif,sgrif,rafaelfranca",2016-02-02 00:45:13,2016-03-08 20:10:46
IS,find by mysql works very slowly with large queries,Steps to reproduce I am running a large sql query 258 lines that results in 2 rows with 128 columns It does have a nested select Unfortunately I am not able to paste the exact query here This is the way I am running the sql query I have been reading through the source for the connection select all but I cannot see any reason why this would be taking so long System configuration Rails version 5 0 0 beta3 Ruby version 2 2 3p173,,"jeremy,jeremy",2016-03-08 21:17:46,2016-03-08 21:44:41
IS,RailsGuides for 3 2 is giving a 403 response,,,rafaelfranca,2016-03-08 22:20:46,2016-03-08 22:36:29
IS,ActiveSupport TimeWithZone converts to date wrongly,Steps to reproduce Time zone parse Mon 18 Jul 0016 00 00 00 UTC 00 00 class ActiveSupport TimeWithZone Time zone parse Mon 18 Jul 0016 00 00 00 UTC 00 00 Mon 18 Jul 0016 00 00 00 UTC 00 00 Time zone parse Mon 18 Jul 0016 00 00 00 UTC 00 00 to date Mon 20 Jul 0016 Time zone parse 18 Jul 0016 00 00 00 UTC 00 00 to date Mon 20 Jul 0016 But if year is normal then Time zone parse Mon 18 Jul 2016 00 00 00 UTC 00 00 to date Mon 18 Jul 2016,,"rafaelfranca,rafaelfranca,pixeltrix",2016-03-09 09:59:17,2016-03-09 20:20:14
IS,jQuery not working in es6 files compiled by sprockets,Steps to reproduce 1 Add gem isprockets es6' and bundle install 2 Create a new rails app using rails new 3 Add a simple controller with one action Make it the root route 4 Add code using jQuery to the es6 file I have included an example app testing zip Expected behavior I expect the jQuery to execute It appears like it is being ignored Actual behavior The jQuey code does nothing The es6 code runs fine I'm not sure if this is the right way to use es6 code in Rails 5 I googled around but could not find any documentation on it System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0p0,,"jeffreyguenther,jeffreyguenther",2016-03-10 03:44:43,2016-03-10 03:49:17
IS,Rails 5 controller test get index not working but works on Rails 4,Steps to reproduce Side note Sorry if this issue has been identified before I skimmed through the open and closed issue and did not see anything resembling it so I am opening this one Please close if this is a duplicate As much as it pains me I really do not want to contribute to increasing the Rails 5 countdown clock but it looks like I will have to for the sake of making Rails 5 solid P Created a gemset rails500 Freshly installed Rails 5 0 0beta3 using RVM I generated a new api app called Neko using Rails 5 0 0beta3 I have a cats controller rb System configuration Rails version Rails 5 0 0 beta3 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"kaspth,kaspth,kaspth",2016-03-10 15:56:45,2016-03-10 16:09:41
IS,Redirect code in routes rb is not working fine,Steps to reproduce I have routes something like in routes rb resources biographies to redirect params req path isome path related code' Instead of redirecting it is passing redirection code in params Parameters to redirect 301 client id peak It was redirecting properly in Rails 4 System configuration Rails version 5 0 0 beta3 Ruby version ruby 2 3 0p0,,"maclover7,rafaelfranca",2016-03-10 15:22:31,2016-03-10 21:30:43
IS,I18n exception feature does not apply to ActionController,Using config action view raise on missing translations true for the purposes of testing translation completeness does not effect translations that occur within a controller for example redirect to polymorphic url thing notice t ' success message' name name Given that people use this feature for the express purpose of testing their translations the support for t in controllers should also support throwing exceptions I have ended up monkey patching for now to support this,,"maclover7,rafaelfranca",2016-03-10 15:21:04,2016-03-11 01:01:40
IS,Empty body for JSON requests with status codes 4xx and 5xx,Steps to reproduce Creating a minimalist app with a routes rb Expected behavior Get requests to error and working should result in responses with an existing body Actual behavior While working works fine error only responds with the correct error code but with an empty body in development as well as in production Setting config debug exception response format api does not change this behavior System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0p0,,maclover7,2016-03-10 21:28:37,2016-03-11 07:39:01
IS,Upgrade to Rails 4 2 6 raises active support logger silence rb 23 exception,I just upgrade from Rails 4 2 5 2 to 4 2 6 I'm using a config initializer to configure the PayPal REST API Ruby SDK gem So I have this line of code in config initializers paypal rb that it is now failing when I compile all the assets It looks that local levels is not set at this point System configuration Rails version 4 2 6 Ruby version 2 3 0,,"rafaelfranca,rafaelfranca",2016-03-10 16:01:00,2016-03-11 17:05:29
IS,Controller tests lose some parameters,I'm not sure what circumstances cause this but when issuing a POST request with a large parameters object in a controller test not all of the parameters make it through to the controller Of all that JSON this is what makes it through Note that all but the last object in the measure range sections collection are lost Reproduction an app to demo the bug app was generated using the api option Failing test showing the bug is effect bugs controller test L8 L9 With curl H 'Content Type application json' H 'Accept application json' data json XPOST 3000 bugs everything works as expected all params present,,"maclover7,maclover7,maclover7,maclover7,sgrif",2016-02-11 23:24:21,2016-03-11 17:26:31
IS,Executing query using ActiveRecord differs from querying the database directly,Steps to reproduce 1 Execute postgres query ActiveRecord Base connection execute System configuration Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin13 activerecord' '4 2 5 2' Postgres psql 9 3 5,,sgrif,2016-03-11 16:41:00,2016-03-11 17:47:10
IS,rescue from can no longer handle wrapped exceptions,Prior to 18774 it was possible with rescue from to rescue wrapped exceptions Many of my applications use this technique to centralize error handling logging metrics API visible display etc by rescue from StandardError and a handful of error type wrapper exceptions ie BadRequest etc This allowed me to determine in a controller how to respond to a third party gem is failure by raising the appropriate wrapper exception without having to mention every possible third party failure in my generic error handling code but still maintain common error handling for exceptions I was not expecting After the change in 18774 the wrapper exception is cause is being used to lookup a rescue handler This means that if I do not have a handler registered for a specific exception many coming out of third party gems I can not rescue them even if I catch and re raise as a different type Steps to Reproduce Note that as far as I can tell from the documentation even prior to the change rescue from StandardError must be the first call such that it is on the bottom of the search stack RailsGuides also mentions that it is not advised to rescue StandardError but claims that it is due to missing out on default functionality of getting stack traces on error in development Expected behavior The specific handler method should be used to handle the raised BadRequestError Actual behavior The generic handler method is used to handle the wrapped ThirdPartyGemError because ActionController Rescue rescue with handler L10 grabs cause which is auto set as of Ruby 2 1 System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,,2016-02-27 07:12:49,2016-03-11 17:54:26
IS,ActiveRecord schema info is not preloaded in production on first request,I know this is not stack overflow great way to open an issue eh but I have been bashing my head at this one for awhile and think it might be an issue in rails I'm seeing these kind of queries being issued for each running process' first request screen shot 2016 03 10 at 12 09 42 am I'm doing vanilla ActiveRecord Base find stuff Both of these options are set Steps to reproduce 1 boot server 2 Issue first request 3 Inspect rack mini profiler stats Expected behavior The 50 sql queries are not executed The app preloads all that information on boot Actual behavior Every process running for me its 16 executes 50 sql schema queries on its first request So for me I have 5 servers with 16 processes each it takes 80 requests before my response times drop from 1 second to 100 200ms System configuration Rails version 4 2 6 Ruby version 2 3 0 Puma version 3 1 0 pg version 0 18 4 Heroku Potentially relevant gems identity cache,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,sgrif",2016-03-10 08:31:46,2016-03-11 17:56:12
IS,Numericality validator error messages do not respect localized number formatting,Steps to reproduce Set language to dutch or any language where the decimal seperator is and the thousands separator is Add a model form with a floating value Add a numericality validator with a greater than value being a floating number Enter form value with a value lower than the greater than value Expected behavior The error message should respect the localized number formatting Actual behavior Is displaying the normal ruby display of the number System configuration Rails version 4 2 6 but observed in all earlier versions as well Ruby version 2 3 but observer in any ruby version,,sgrif,2016-03-11 13:34:24,2016-03-11 18:33:05
IS,Some issue in action view caching after updating to rails 3 2 22 2,Hi after updating to rails 3 2 22 2 we have an issue I will try to add a failing test Steps to reproduce when trying to render a file TemplateRenderer receives the following options file public 404 formats html status 404 template index layout nil because of this change diff d010ed2738c7b1e87f729689bbc8f295R29 it fails Expected behavior no error Actual behavior some requests fail with an error System configuration Rails version rails 3 2 22 2 Ruby version ruby 2 1 2p95 2014 05 08 revision 45877 x86 64 darwin13 0,,"rafaelfranca,rafaelfranca",2016-03-11 17:26:29,2016-03-11 19:57:42
IS,inversed has one association is not updated before saving during create association so after save callbacks see wrong instance,Steps to reproduce Expected behavior Lines 73 and 74 in activerecord associations singular association rb should be reversed so the association should is set before calling save to ensure after save callbacks have the right instance Actual behavior Association is set after calling save so after save callbacks have a stale instance System configuration Rails version 4 2 4 5 Ruby version 2 2 4p230,,"maclover7,sgrif,sgrif",2016-03-08 21:52:43,2016-03-11 19:59:44
IS,Calling preload on has many does not preload,The next code fails,,"sgrif,sgrif",2016-03-09 07:08:09,2016-03-11 20:10:38
IS,application mailer rb not being created when using generator,Steps to reproduce Run the command rails generate mailer StudentsMailer The output is System configuration Rails version Rails 5 0 0 beta3 Ruby version 2 2 2p95,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-03-11 19:45:54,2016-03-12 01:25:59
IS,Route is as false defines a route named false,Steps to reproduce Create a route like the following System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,sgrif",2016-03-12 19:45:00,2016-03-12 22:17:52
IS,Actioncable emit and broadcast with in single channel,Steps to reproduce Current version of actioncable supports the broadcast functionality well but many times need to emit data in channel to single subscriber only Lets take a simple usecase of a chat A chat room with 10 users and 200 messages already created by these users Upon new message broadcast it to all subscribers Now first time when page load it make sense to lazy load messages as user keep scrolling down Expected behaviour It make more sense to have a function which just emit back to single subscriber only or emulate request response behaviour over ChatChannel I have aggressively used these feature in socket io it a life saver Actual behavior Using Actioncable create a ChatChannel with a chat id Upon new message broadcast new chat messages to ChatChannel with chat id While lazyload next 20 messages via the ChatChannel there is no way to send it to one user without broadcasting it to all Currently for implementing this need to create a dedicated channel for user for loading such data System configuration 5 0 0 beta1 Ruby version ruby 2 2 2,,maclover7,2016-03-12 23:35:38,2016-03-13 01:06:05
IS,bundle install local does not work,Why do I need local switch I'm a person who a lot of times use the offline installation method and ri and rdoc to to work on rails applications when I'm away or on some tour so this is very needed feature for me Steps to reproduce System configuration Ubuntu 14 04 Rails v 5 0 0 beta3 Ruby v 2 3 0,,rafaelfranca,2016-03-13 03:58:57,2016-03-13 15:00:20
IS,Brittle test sometimes causing build failures on master,Hello Rails community I am a new contributor and I am very enthusiastic about contributing to this fascinating project I was looking into what I could do when I saw the master had a build failure I went into the CI log and found the following If I have your green light I would really like to work on fixing the test Thank you all,,kaspth,2016-02-28 10:59:48,2016-03-13 16:22:55
IS,Test the validity of each attribute independently,I made a small gem to run specific validator on specific attributes of an object independently any interest in getting this into Rails Happy to turn it into a PR Here is the full implementation which can be refactored and modernized for Rails 5 Steps to reproduce Let is say you have System configuration Rails version 4 2 5 2 Ruby version 2 3 apologies if this was already proposed or discussed I did not find anything about it in the repo,,"rafaelfranca,rafaelfranca",2016-03-14 16:02:44,2016-03-14 16:05:20
IS,accepts nested attributes for in STI,I am facing Issue when trying to destroy using nested attribute for STI classes in rails 4 eg I think its issue with STI in rails same as you can not update the type of the STI class object there is workaround fix for that,,"vipulnsward,meinac",2016-02-07 06:09:57,2016-03-15 12:37:02
IS,ActiveJob What do you think of adding sidekiq options support,Hi sidekiq have pretty crucial feature sidekiq options what do you think of adding options class setter to ActiveJob that all other adapters can use,,rafaelfranca,2016-03-15 15:40:16,2016-03-15 15:41:46
IS,Set value jQuery issue,Steps to reproduce Create a form make an input field submit button on click call function set value in the form field using jQuery Expected behaviour Value persists until page refresh Actual behaviour When the button is clicked it does set the value in the form input field but also sends a get request which causes the page to refresh removing the value System configuration Rails version 2 2 3 Ruby version 4 2 6,,rafaelfranca,2016-03-15 17:20:52,2016-03-15 17:25:31
IS,Versioning Vulnerability issue with mail gem,Steps to reproduce Set your Gemfile to call for mail 2 6 0 Or gemfile lock whatever you prefer Run bundle install Expected behavior I want to be able to use the non vulnerable version of the mail gem which is a dependent of action mailer Actual behavior System configuration Rails version 3 2 22 1 Ruby version ruby 2 0 0p645 2015 04 13 x86 64 linux,,rafaelfranca,2016-03-16 13:45:51,2016-03-16 16:32:35
IS,Tests fail while using collection caching of partials,I am trying to setup collection caching of partials here but getting test failures as follows The code is assigning collection cache store here L42 but in this case it is nil So it is failing on this line L16 r,,"prathamesh-sonpatki,kaspth,kaspth,prathamesh-sonpatki,sikachu,prathamesh-sonpatki,sikachu,kaspth,sikachu,kaspth,kaspth,lsylvester",2016-03-10 05:34:51,2016-03-16 19:00:52
IS,PG NotNullViolation ERROR null value in column created at violates not null constraint,Steps to reproduce There is no way to reproduce this problem I start the server It works great during only a few hours After a few hours It show me the error Expected behavior Insert record without error Actual behavior System configuration Rails version 4 2 5 2 Ruby version 2 2 4 db yml,,"maclover7,sgrif",2016-03-16 16:14:08,2016-03-16 23:11:46
IS,PG ConnectionBad fe sendauth no password supplied,Steps to reproduce rails console User create name Fabiano Expected behavior Insert data in database Actual behavior PG ConnectionBad fe sendauth no password supplied 10 levels from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems railties 5 0 0 beta3 lib rails commands commands tasks rb 78 in console' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems railties 5 0 0 beta3 lib rails commands commands tasks rb 49 in run command ' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems railties 5 0 0 beta3 lib rails command rb 20 in run' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems railties 5 0 0 beta3 lib rails commands rb 18 in top required ' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems activesupport 5 0 0 beta3 lib active support dependencies rb 302 in require' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems activesupport 5 0 0 beta3 lib active support dependencies rb 302 in block in require' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems activesupport 5 0 0 beta3 lib active support dependencies rb 268 in load dependency' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems activesupport 5 0 0 beta3 lib active support dependencies rb 302 in require' from vagrant Temp Rails jsonb test bin rails 9 in top required ' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems activesupport 5 0 0 beta3 lib active support dependencies rb 296 in load' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems activesupport 5 0 0 beta3 lib active support dependencies rb 296 in block in load' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems activesupport 5 0 0 beta3 lib active support dependencies rb 268 in load dependency' from home vagrant rbenv versions 2 3 0 lib ruby gems 2 3 0 gems activesupport 5 0 0 beta3 lib active support dependencies rb 296 in load' from home vagrant rbenv versions 2 3 0 lib ruby 2 3 0 rubygems core ext kernel require rb 55 in require' from home vagrant rbenv versions 2 3 0 lib ruby 2 3 0 rubygems core ext kernel require rb 55 in require' System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0 In Rails 4 2 6 works fine same code and same database yml configuration Database yml default default adapter postgresql encoding unicode pool ENV fetch RAILS MAX THREADS 5 username my user password my password development default database my database development,,"maclover7,sgrif",2016-03-15 01:16:47,2016-03-17 00:54:11
IS,ActiveRecord as of 4 2 inconsistently raises RangeError on some read only queries but not others,Steps to reproduce 1 Pick any database table that has a 32 bit integer column Any table with a default id column will do provided that it is the usual int 11 on MySQL or integer on PostgreSQL Suppose you pick people corresponding to the ActiveRecord model person 2 Execute Person where id 2147483648 exists Expected behavior The query should return false I base this on the behavior of PostgreSQL and MySQL in strict mode which are both happy to perform the SELECT but refuse the out of range inserts PostgreSQL,,matthewd,2016-03-18 15:38:48,2016-03-18 16:31:24
IS,TypeError can not dump Socket with mongoid 5 on Rails 4 2 3,TypeError can not dump Socket with mongoid 5 on Rails 4 2 3 I tried to cache the controller method However I ran into confuse exception app controllers api v1 comments controller rb,,maclover7,2016-03-18 15:09:11,2016-03-18 23:01:47
IS,Scope with enum does not accept symbols,Steps to reproduce Migration SQL statement on broken code User Load 0 4ms SELECT users FROM users WHERE users approval status NULL Any symbol turns into NULL in the SQL code Guidelines for creating a bug report are available here creating a bug report Expected behavior User Load 0 4ms SELECT users FROM users WHERE users approval status NULL Actual behavior User Load 0 4ms SELECT users FROM users WHERE users approval status 0 System configuration Rails version 4 2 3 Ruby version 2 2 2,,"willnet,willnet,rafaelfranca",2016-03-17 21:59:24,2016-03-19 02:21:54
IS,Boot time ActionDispatch Routing RouteSet is very slow delegation anon modules,I'm currently profiling the boot time of a large Rails application 400 controllers 2000 LOC routes and noticed that Module delegate takes a significant amount of time using the StackProf gem Module delegate does not show up any longer I would be really glad to have a fix for this If you guys agree I would prepare a PR based one of he solutions above or any other better approach System configuration Rails version Rails 4 2 6 Ruby version 2 1 6 2 2 4 2 3 0,,rafaelfranca,2016-03-19 10:52:20,2016-03-19 15:37:15
IS,Development logging is inconsistent in Rails 5 beta 3,Steps to reproduce Upgrade 4 2 6 app to 5 0 beta3 Try to load a page View the development log file Expected behavior The development log file and console screen should be written to Actual behavior Sometimes it writes sometimes it does not System configuration Rails version 5 0 beta3 Ruby version 2 3 0,,"codeodor,rafaelfranca,codeodor",2016-03-19 20:09:36,2016-03-19 20:17:00
IS,TypeError no implicit conversion of Hash into String when action mailer default is set,Steps to reproduce As a workaround changing to config action mailer default options seems fix the issue System configuration Rails version Rails 5 0 0 beta3 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"maclover7,rafaelfranca,rafaelfranca",2016-03-18 17:01:56,2016-03-19 23:50:59
IS,attribute not backed by a db column crashes when partial writes is set to false,Not sure if this is a legit issue or an undocumented side effect of using both attribute and setting partial writes false at the same time Steps to reproduce Please find this gist reproducing the bug Expected behavior From rails doc Attributes do not need to be backed by a database column method i attribute This is working fine and we should be able to override define the desired type for an attribute on the model Actual behavior Setting partial writes L16 to false as well as using attribute on a non db backed column raises a ActiveRecord StatementInvalid as ActiveRecord will try to persist every attributes defined in the model and not only the ones that are persistable L118 L124 System configuration Rails version Both rails gem 4 2 6 and master is affected Ruby version 2 2 4 I would be glad to fix the issue if it appears it is a real issue based on your advices Thanks,,"Edouard-chin,Edouard-chin,sgrif",2016-03-19 02:21:33,2016-03-20 17:06:01
IS,Relation empty which is used by any does a count which is needlessly more expensive than exists,it should only care about a single matched row anything beyond that is a potentially expensive waste,,sgrif,2016-03-13 20:17:42,2016-03-20 17:08:31
IS,Behaviour of ActiveRecord Calculations count when a block is supplied,So yesterday we had a bug in our code caused by accidentally calling count with a block on an ActiveRecord Relation rather than a plain Ruby Array Supplying a block to Array count returns the count of array elements for which the block returns true A block supplied to ActiveRecord Relation count is silently ignored and a normal SQL COUNT is executed In the spirit of the Principal of Least Surprise would it be sensible to have ActiveRecord Relation count behave like Array count if a block is supplied I would understand if you did not want to change this but if not it might be a good idea for it to at least fail with an exception or a warning,,,2016-02-26 21:29:55,2016-03-21 16:53:53
IS,Reference to request flash left in request rb,Steps to reproduce Call reset session on api only project L340 diff 3179d24efacadd64068c4d9c1184eac3 Expected behavior Should reset session Actual behavior Throws exception NoMethodError undefined method flash ' for ActionDispatch Request 0x0056141a714b78 System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,maclover7,dhh",2016-03-17 09:36:44,2016-03-21 17:06:15
IS,Could not render layout undefined local variable or method mailer' for,Steps to reproduce Run command rails generate mailer LoanMailer Add code to mailer System configuration Rails version Rails 5 0 0 beta3 Ruby version ruby 2 2 2p95 Switching the layout line in application mailer rb seems to do the trick and send the email as desired Switch layout mailer to layout mailer,,,2016-03-17 20:58:40,2016-03-21 17:09:59
IS,Method missing when including ActionController Cookies in Rails 5 0 API,Steps to reproduce Hello guys Ca not include ActionController Cookies into controller inherited from ActionController API Here is a gist reproducing the bug Expected behavior Successfully included ActionController Cookies into ApplicationController inherited from ActionController API Actual behavior Ca not include module due to method missing in ActionController API System configuration Rails version all since 5 0 0 beta1 Ruby version 2 2 3 2 3 0,,"spastorino,spastorino,spastorino,spastorino,matthewd,spastorino,spastorino",2016-03-18 16:29:29,2016-03-21 17:58:02
IS,alias attribute in a PORO crashes unintuitively when the first argument ends in a question mark,As stated in the title when I use alias attribute in a PORO for the common use case of creating a ends in question mark alias for an attribute that should be boolean just like AR automatically does for boolean columns I get a syntax error Would it be possible to patch alias attribute so it behaves identical to plain old Ruby attr methods when passed an invalid attribute name I'm happy to make this change myself I just wanted to make sure it is something you guys would accept before I put the time in PS if I'm not mistaken valid attribute names in Ruby are those that match the regex A a zA Z a zA Z0 9 z amirite,,kaspth,2016-03-15 13:22:22,2016-03-21 21:39:39
IS,Client side memory leak in 5 0 0beta3 when calling return false in a controller,Steps to reproduce Clone this repo and checkout the rails bug branch 1 bundle install 2 run db setup sh which creates the database and runs migrations uses postgres 3 run rails server 1 Using Chrome go to 3000 company search 3000 company search The action is in PagesController and it is empty except for a single render and return Open the Chrome process manager with shift esc Since this controller action calls render before return there is no memory leak 2 go to 3000 company search2 3000 company search2 The Chrome process manager will show this tab gradually increasing in memory I let it get as high as 1GB before I closed it The only difference between this route and the other is is the order in which render and return are called There is no console output relating to this bug The rails console shows that the response is successfully sent with a no content status code Not sure if it is relevant but I have ActiveSupport halt callback chains on return false false Expected behavior Calling return false in a controller action should cause an immediate no content response if render has not already been called The browser should display the page load as finished Actual behavior The console says that the request has successfully completed with No Content The browser renders no content but the page load is not indicated as finished The memory of the tab gradually increases to 1GB System configuration Rails version Rails 5 0 0 beta3 Ruby version ruby 2 4 0dev 2015 12 26 trunk 53314 x86 64 linux,,"maclover7,fxn,rafaelfranca,fxn,fxn",2016-03-21 22:43:30,2016-03-22 05:59:07
IS,Curves singular is wrong,I think that curves should be added to the list of irregulars in inflections rb but the comment at the beginning of the file says that rules are frozen and I'm not sure whether rules refers only to the regexp based rules or everything Expected behavior 'curves' singular should be 'curve' Actual behavior System configuration Rails version 4 2 3 Ruby version 2 2 4p230,,prathamesh-sonpatki,2016-03-22 13:07:14,2016-03-22 13:10:09
IS,Make Rails' Minitest reporters loading configurable,Steps to reproduce I will use minitest reporters First add it to the Gemfile Now run tests You should see results from both Rails reporters and minitest reporters Expected behavior After disabling Rails custom reporters only the output of the custom reporter should be seen Actual behavior Adding a custom reporter will always output test results several times Rails should include a configuration e g environment variable or something as config minitest enable reporters to disable injecting Rails default reporters This is the expected output after commenting out these lines L87 L89 of railties lib rails test unit minitest plugin rb System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,zenspider,kaspth,zenspider,zenspider,kaspth,kaspth,kaspth,kaspth,kaspth",2016-03-13 12:16:45,2016-03-22 20:40:03
IS,Getting ActiveRecord StatementInvalid error on TravisCI for Rails 5 project,Steps to reproduce Clone the repo and checkout rails5 branch Set up TravisCI Change something small such as add blank line to README Push to GitHub and watch TravisCI Expected behavior Expected not to get ActiveRecord StatementInvalid error This behavior did not occur on the master Rails 4 2 6 branch Actual behavior I have been working on upgrading our local Ruby Users Group web site from Rails 4 2 to Rails 5 in repo is rails5 branch and it fails TravisCI run works fine locally with this error message Code is at Last TravisCI build System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0 Thanks,,"kaspth,kaspth,yahonda,yahonda,vipulnsward",2016-03-23 13:09:05,2016-03-23 14:00:02
IS,destroy command,Steps to reproduce rails g controller abc rails d controller abc rails d controller abc Expected behaviour Second time destroy is run it should say controller does not exist Actual behaviour Shows log deleting controller and other related files created System configuration Rails version 4 2 6 Ruby version 2 2 3,,rafaelfranca,2016-03-14 13:52:08,2016-03-23 16:22:18
IS,to json include option does not call as json to json recursively,Hello guys When I tried to call to json passing include options and it is a association to json is only called for the root model how you can guys can see here L124 for the associations it just call the raw method name On my understand once I defined on the model how the model should render as a json I expect that all call is for render the model as json respect it What do you guys think is it correct please follow the example to reproduce and get a better understand Steps to reproduce Expected behavior Once I defined how the model should be render as json I think the render json should respect that Actual behavior to json include option does not call as json to json recursively System configuration Rails version 4 2 stable Ruby version 2 2,,"maclover7,rafaelfranca",2016-03-16 13:23:39,2016-03-23 16:38:23
IS,Rails test does not recognize the pride flag,Hi everyone minor issue here Steps to reproduce When running Expected behavior Rails test should output with pride Actual behavior It seems that pride has no action on the output Running rails test with or without gives the same output on stout System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,kaspth",2016-03-02 02:19:31,2016-03-23 17:36:47
IS,text field does not display correctly with attribute default value of Proc,Steps to reproduce executable test case create new rails project rails g scaffold post title rails db migrate modify post model like following rails s visit 3000 posts new Expected behavior image Actual behavior image System configuration Rails version 5 0 0 beta3 and master Ruby version 2 3 0,,"willnet,maclover7,prathamesh-sonpatki,willnet",2016-03-19 15:07:07,2016-03-24 21:00:17
IS,Incorrect rounding in decimal columns,When assigning certain floating point values to a PostgreSQL decimal column the least significant digit is off by one This happens on a new record before any database writes occur Steps to reproduce The following code will demonstrate this Gemfile,,,2016-03-18 09:58:45,2016-03-24 22:11:21
IS,ActiveModel Errors include adding a key to hash,Steps to reproduce Expected behavior Checking if ActiveModel Errors has a value should not add that key to the messages hash Actual behavior By doing record errors include foo it actually adds a new key to the messages hash that defaults to an empty array This happens because of a combination of these 2 commits Added in Rails 4 1 and diff fdcf8b65b5fb954372c6fe1ddf284c78R76 Rails 5 0 By adding the default proc that returns an array for non existing keys ruby adds that key to the hash Ideally include should do check with has key and then check if that value is present What do you think More than happy to send a PR if you think this is correct Is it worth to add a test case System configuration Rails version 5 0 0 beta3 Ruby version 2 2 4 2 3 0,,"maclover7,prathamesh-sonpatki,kaspth",2016-03-22 20:52:21,2016-03-25 12:25:19
IS,Default submit button text casing changed in Rails 5,Steps to reproduce 1 Run rails generate scaffold post title string 2 Run rails db migrate 3 Start up your server and go to 3000 posts new Expected behavior Button should say Create Post as it did in Rails 4 Actual behavior Button says Create post Impact This changes the user interface of all users that upgrade to 5 0 in a subtle way If you have tests that catch such things by clicking on the Update Post button changing the tests so that they pass downcasing the model name is tedious Keeping the old behavior requires either using i18n for the value or creating your own submit helper This is a areally small thing but if it matters to you it is not trivial to fix in larger apps I could not find the original change for this only PRs or issues that claim to ultimately have left the functionality intact If this change is by design it should appear in the changelog I think,,"derekprior,vipulnsward",2016-03-25 20:09:42,2016-03-26 07:30:25
IS,Rails 5 Beta 3 Performance is Degraded Severely in one of my apps,Steps to reproduce I'm working on narrowing down the cause Essentially what happens is I load an action that takes less than 1 second in Rails 4 2 6 after upgrading to Rails 5 0 0 beta3 and the same action takes 7 seconds It also appears to grow linearly one section of code that runs in 3 seconds would take 21 seconds System configuration Rails version 5 0 0 beta3 vs 4 2 6 Ruby version MRI 2 3 0 on both Profiling comparison I put a bunch of timing statements throughout the view on my app and in most places there is a large increase in time in the Rails 5 version I narrowed down further to a particularly bad spot 0 007 seconds in Rails 4 up to 0 12 seconds in Rails 5 and performed a profile of the code These are the top lines Rails 4 Though I'm only looking at the text output for the moment so I might have misinterpreted it I will try to do some more investigation but before I get to far into it I thought I would ask if anyone had any ideas Thanks,,"codeodor,rafaelfranca,codeodor",2016-03-26 14:43:27,2016-03-26 20:07:17
IS,Scaffold model destroy link depends on JS Rails5 0 0 beta3,Steps to reproduce 1 create new rails5 application Ruby 2 3 and Rails 5 0 0 beta3 rails new todo and bundle install 2 generate model rails g scaffold task name done boolean 3 apply migration as production environment RAILS ENV production bundle exec rails db migrate 4 add secret key and start server export SECRET KEY BASE 'aslkdjf alskdjf ' RAILS ENV production rails s 5 Open tasks page 3000 tasks As I expected to see page without CSS and JS 6 Add some tasks there 7 The issue Destroy button does not work because it depends on JS Guidelines for creating a bug report are available here creating a bug report Expected behavior I expect to have functional button destroy without JS and CSS Actual behavior Destroy link lead to show page without JS System configuration Rails version 2 3 Ruby version 5 0 0 beta3,,"maclover7,rafaelfranca",2016-03-28 01:46:07,2016-03-28 06:29:55
IS,Default option missing for an attribute in NumberHelper API Documentation,Steps to reproduce method i number to human Expected behavior Default value should be there i e Actual behavior See this screenshot actionview helpers numberhelper,,vipulnsward,2016-03-21 10:01:41,2016-03-28 11:20:31
IS,More precise Filter Parameters pattern matching,General description ActionDispatch Http ParameterFilter compiles L21 filters from blocks regexps and strings ducks Particularly the module joins strings to the one global regexp with ONLY pipe and performs alternation this way I have found this strange behaviour with doorkeeper gem help Doorkeeper is engine initializes L4 client secret code token filter parameters and they are compiled further to client secret code secret password regexp inside ParameterFilter module password is Rails default That means application specific parameters like postcode codebase tokenization etc will be filtered out This issue crosses with exactly the same question from Stackoverflow Steps to reproduce System configuration Rails version 4 2 1 Ruby version 2 2 2 Please give me a feedback according to the report because it is my first time If everything described above is reasonable I would like to provide PR with changes,,"pixeltrix,pixeltrix",2016-03-28 15:02:58,2016-03-28 17:03:01
IS,Schema cache does not update with removed columns,Steps to reproduce See related issue Given the following set of migrations I'm using the Postgresql adapter here Migration 1 Expected behavior User columns does not include a title object as that column has been removed Actual behavior User columns includes a title object even as that column has been removed System configuration Rails version Edge Ruby version 2 3 0 I would love to help find a fix for this issue but would need a bit of guidance about where to start I have not dug into the cacheing here before cc,,"kirs,vipulnsward",2016-03-22 17:59:54,2016-03-28 20:11:38
IS,Rails 4 1 15 Unexpected constantize behavior,Steps to reproduce I have a model Pod that looks like this I do not think the background details on this are important please let me know if I'm wrong but when I call Pod Default constantize it returns ActiveRecord Scoping Default Expected behavior Pod Default constantize should return Pod Default Actual behavior Instead Pod Default constantize returns ActiveRecord Scoping Default System configuration Rails version 4 1 15 Ruby version 2 1 2 via rvm I have a feeling this is a bug in my app so I'm mostly asking for clarification as to what is going on here,,"maclover7,maclover7,fxn",2016-03-28 18:37:31,2016-03-28 21:23:17
IS,Listen radion onligne its possible,Hi excuse me for inconvenience it s possible to listen radio online with ROR if yes how,,,2016-03-29 11:49:52,2016-03-29 11:53:12
IS,default scope table name update all weird WHERE part of query,Steps to reproduce Model Expected behavior System configuration Rails version 4 1 14 Ruby version 2 2 4,,,2016-03-29 18:18:23,2016-03-29 18:27:32
IS,number to currency crashing with nil unit,Steps to reproduce number to currency 42 unit nil Expected behavior A string without unit as nil separator or nil delimiter outputs no separator or no delimiter 42 00 Actual behavior System configuration Rails version 4 2 6 Ruby version 2 3 0,,rafaelfranca,2016-03-29 09:30:00,2016-03-30 03:54:35
IS,rails restart does not work with puma3,Steps to reproduce Expected behavior Server should restart Actual behavior Puma notices the change to tmp restart txt stops the server and attempts to restart the server with its own ideas of what ARGV should look like Rails does not like what it sees in ARGV and spits out usage instructions At that point the server is down The problem also occurs with rails dev cache System configuration Rails version Rails 5 0 0 beta3 master Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"rubys,sikachu,rubys,sikachu,sikachu,rubys,sikachu,sikachu,rubys,rubys,rubys,prathamesh-sonpatki",2016-02-26 17:04:18,2016-03-30 06:17:49
IS,No file information is provided for fixtures ERB,Steps to reproduce 1 Try to set a breakpoint in a test fixture ERB injection e g on line 3 in the following file 1 Debug tests Expected behaviour Debugger should stop at the breakpoint in fixture file Actual behaviour Debugger does not stop at the breakpoint because file information is not passed into ERB System configuration Rails version Any Ruby version Any Corresponding issue in RubyMine bugtracker,,"kaspth,kaspth",2016-03-29 11:35:11,2016-03-30 09:51:52
IS,ApplicationMailer some method some ar object deliver later hanging onto DB connections in default config,I have a controller action that calls deliver later on a mailer method that receives an AR object which I thought would be run immediately by the default active job handler immediate runner and release the database connection back to the pool Steps to reproduce I have pushed a sample app to www github com erikse deliver later Error occurs with no special setup just bundle rails s and visiting localhost 3000 5 to 6 times Expected behaviour To see the home page Actual behaviour On the 5th or 6th visit I'm seeing ActiveRecord ConnectionTimeoutError could not obtain a connection from the pool within 5 000 seconds waited 5 005 seconds all pooled connections were in use If I change the mailer method so it does not receive an active record user object no error occurs System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,vipulnsward,vipulnsward",2016-03-25 14:45:44,2016-03-30 16:27:05
IS,Nested model validation errors has useless format in json,Hi everyone I have class Order that can content Entries And each Entry can be complex type and consist from another entries associated as Members Problem is that i cant find which entry and which member in it has a validation error and that is why i cant for example highlight this field Moreover it merges similar errors And this is problem On submit i pass unique index in name attributes and rails correctly use it for creating nested models it would be nice if error response contained this index In update I can create custom error response and back ID for existing entry member with error but it still not solves problem with 50 new nested Entries and 2 validation problems i just cant identify it in response Is there any other way to return nice indexed errors from server and use rails as api for json without any pain Rails 4 2 6,,morgoth,2016-03-31 11:13:29,2016-03-31 17:02:02
IS,Rails 5 migration schema dump issue question with postgres and OracleEnhancedAdaptor,I'm using Rails5 0 0 beta3 with multiple database connections one to postgres and one to Oracle When I execute rake db migrate or rake db schema dump an error is generated which appears that the OEA is asking the Postgres adaptor for a listing of it is materialized views I'm not sure if this is a AR issue or an OEA issue or maybe both rake db schema dump rake aborted NoMethodError undefined method materialized views' for ActiveRecord ConnectionAdapters PostgreSQLAdapter 0x007ff33b5a9110 Dev projects Storeburst vendor ruby 2 3 0 bundler gems oracle enhanced 3f31fcc86f06 lib active record connection adapters oracle enhanced schema dumper rb 30 in tables' Dev projects Storeburst vendor ruby 2 3 0 gems activerecord 5 0 0 beta3 lib active record schema dumper rb 37 in dump' Dev projects Storeburst vendor ruby 2 3 0 gems activerecord 5 0 0 beta3 lib active record schema dumper rb 21 in dump' Dev projects Storeburst vendor ruby 2 3 0 gems activerecord 5 0 0 beta3 lib active record railties databases rake 253 in block 4 levels in top required ' Dev projects Storeburst vendor ruby 2 3 0 gems activerecord 5 0 0 beta3 lib active record railties databases rake 252 in open' Dev projects Storeburst vendor ruby 2 3 0 gems activerecord 5 0 0 beta3 lib active record railties databases rake 252 in block 3 levels in top required ' rvm gems ruby 2 3 0 bin ruby executable hooks 15 in eval' rvm gems ruby 2 3 0 bin ruby executable hooks 15 in main ' Tasks TOP db schema dump If I comment out the OEA gem in the Gemfile the db migrate and db schema dump work as expected The OEA gem is from the rails5 branch gem 'activerecord oracle enhanced adapter' git '' branch 'rails5',,rafaelfranca,2016-03-31 19:17:10,2016-03-31 19:19:05
IS,Activerecord 5 undefined method reflect on association' for nil NilClass,System configuration Rails version 4 2 6 and 5 0 0 beta3 and master Ruby version 2 2 4 Database Postgresql 9 3 Webserver Sinatra Gemfile gem isinatra' gem 'activerecord' ' 5 0' gem 'activerecord' github 'rails rails' branch 'master' gem 'pg' Active record 4 2 6 no problem Last beta version and master version I have this error undefined method reflect on association' for nil NilClass My models are linked to exist tables on remote database and I read a view and write into a table class User ActiveRecord Base id code body date created self table name 'view users' self primary key 'id' has many histories class name UserHistory foreign key users id end class UserHistory ActiveRecord Base id users id body date created self table name 'giri users history' belongs to user class name User foreign key users id end If I try u User first h user histories I have the error undefined method reflect on association' for nil NilClass on Activerecord 5 but not on Activerecord 4 2 6 Any suggestions,,"rafaelfranca,rafaelfranca,rafaelfranca,kuldeepaggarwal,kuldeepaggarwal,kuldeepaggarwal,sgrif",2016-03-30 09:09:25,2016-03-31 19:19:52
IS,pluck with includes apply joins on association,Is it expected behavior or bug,,,2016-03-31 16:54:38,2016-03-31 19:29:56
IS,unprepared statement does not work with find by,Steps to reproduce I noted that if you do not execute the query first with prepared statements enabled then unprepared statement will work just fine System configuration Rails version Rails 5 0 0 beta3 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"tgxworld,tgxworld",2016-03-29 01:19:50,2016-03-31 19:47:18
IS,Sometimes Crash in query methods,Hi I have build an Importer to import Product Data from various sources like Zanox Affiliate CJ Affiliate etc Now the problem is after parsing the data sometimes yes sometimes not everytime its crash I am not sure how to reproduce Maybe you have seen this error before so i put my CrashReport from Terminal an Ruby Crash Report Rails version 4 2 6 Ruby version ruby 2 2 3p173 2015 08 18 revision 51636 x86 64 darwin14 active record crash txt ruby 2016 04 01 185813 MacBook Pro txt,,rafaelfranca,2016-04-01 17:45:25,2016-04-01 18:38:13
IS,ActionCable No documentation on unsubscribing from a channel,It is unclear from the documentation how a client can unsubscribe to a channel Calling calls the unsubscribe method in the Rails channel but does not seem to actually unsubscribe nor is there documentation on what should go in the unsubscribe method to achieve it,,"maclover7,maclover7,javan,javan",2016-03-28 19:10:28,2016-04-01 20:00:35
IS,Unable to use a dot at the base of the route path,Steps to reproduce Add this route at the top of your routes rb Make sure there is a Pages home action Start your server Visit the following url localhost 3000 well known Expected behavior The app should render the page at pages home Actual behavior You get a 404 response System configuration Rails version 4 2 5 Ruby version 2 2 2,,"maclover7,maclover7",2016-04-01 19:40:28,2016-04-01 20:06:24
IS,It should be the type of time argument that decides the generated sql,Steps to reproduce rails g model post System configuration Rails version Rails 4 2 5 1 Ruby version ruby 2 2 4p230,,"maclover7,sgrif",2016-04-02 15:11:07,2016-04-03 00:35:03
IS,ActionDispatch Routing RouteSet Generator mutates request path parameters,I m having some trouble upgrading to Rails 5 0 0 beta3 and it looks like 21057 is to blame In a controller I can trigger an ActionController UrlGenerationError exception by calling e g root path right before calling url for In a show action I would get something like this message No route matches action index controller foo id 42 Notice how url for thinks the current show action is an index action This is because ActionDispatch Routing RouteSet Generator is mutating request path parameters The commits 1993e2ccbd7c5651278ea30bdc9d8034f5197945 and 1a14074fb525cde4a439a1fb7515fe417c37ff96 remove the dup of the recall and options hashes and changes a subsequent call to recall delete But there are still several ways to mutate the original objects I m seeing these calls My problems are fixed by changing only recall recall into recall recall dup but I would rather we fixed the mutation problems instead r,,"bquorning,maclover7,bquorning,bquorning,maclover7,bquorning,pixeltrix,bquorning,pixeltrix,bquorning,schneems,bquorning,jeremy",2016-04-01 13:26:41,2016-04-03 12:20:36
IS,Routing Specs do not set query parameters on request,Steps to reproduce In order to support legacy routes I have a constraint that keys off query parameters to decide which action controller to route to Previously delete and create were being passed to the same legacy route Both legacy routes are being called as get requests Expected behavior Expect the test to pass Actual behavior The functionality works via the browser but when running specs it fails After tracing the code it does not look like query parameters are getting set on the ActionController TestRequest System configuration Rails version 4 2 Ruby version 2 2 3,,"maclover7,pixeltrix",2016-03-22 19:03:17,2016-04-03 12:36:42
IS,rails DateTime override does not do coercion as the original ruby does,in plain ruby DateTime now non time will call coerce on non time the rails override does not,,pixeltrix,2016-03-17 18:41:44,2016-04-03 22:50:18
IS,String to time and String to datetime return different dates for certain input,For some certain inputs String to time cannot parse the date correctly but returns the current date at midnight instead of nil Take a look at the following example According to Date parse the string 010 represents the 10 day of the year However String to time does not use the yday parameter returned by Date parse and just uses the default according to the documentation instead Expected behaviour would be to use all parameters returned by Date parse to build the Time object or return nil if the hash returned by Date parse does not contain any parameters that are used in the construction of the Time object Tested with both Rails 4 2 1 and Rails 5 0 0 beta1,,pixeltrix,2016-01-07 09:57:48,2016-04-03 23:02:57
IS,ActionCable having troubles parsing JSON,Steps to reproduce I'm trying to connect with ActionCable not using JS but with websocket client on raspi So my simplified client side example looks like this There is actually not much information about non JS actioncable connections so maybe I'm just doing it wrong If that is the case what is the best way to communicate with actioncable from external devices I'm planning to use it with python script on raspi and iOS devices System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,jeremy",2016-03-07 12:48:28,2016-04-04 01:16:41
IS,Render JSON does not work with ActionController API Rails 5 0 0 beta,Steps to reproduce Example System configuration Rails version 5 0 0 beta Ruby version ruby 2 3 Does anyone have any idea,,maclover7,2016-04-03 19:26:01,2016-04-04 03:11:18
IS,Use coffeescript compiler to convert ActionCable coffee files to js when javascript engine js set,Steps to reproduce in config application rb add config generators javascript engine js Then run rails generate channel Chat speak Expected behavior app assets javascripts channels chat js Actual behavior app assets javascripts channels chat coffee Suggested fix If config generators javascript engine js is set feed the output of the channel generator into the coffeescript compiler and write the resulting javascript into a js file do not write out the intermediate coffee file Benefit Lets the core team keep writing generators in coffee but still lets developers use only javascript if they set it as a preference Why Rails always gave developers the option to generate plain javascript before Is there a good reason to start forcing coffeescript only on generator users today,,maclover7,2016-04-04 12:36:14,2016-04-04 19:59:52
IS,Foreign Key column names should be inferred via table name not class name,According to ActiveRecord Reflection AssociationReflection derive foreign key L610 and the current documentation foreign key names are inferred via the class name of the model when an explicit foreign key name is not provided The drawback of this approach is that custom table names are not taken into consideration when inferring the foreign key is name I suggest instead using the following algorithm This has the following benefits Custom table names are supported Fully qualified table names are supported allowing tables from other schemas not in the search path Backwards compatible with existing implementation,,maclover7,2016-04-04 23:33:39,2016-04-04 23:49:05
IS,Puma worker config breaks spring reloading for helpers,Steps to reproduce 1 rails new app name 2 rails g controller Home index 3 Edit config puma rb to use workers without that the bug does not occur 4 Create a dummy helper and use it in the view 5 rails server 6 Edit the helper 7 Refresh A minimal example can be found here Expected behavior The result should change because Spring should reload the app Actual behavior Spring does not reload the app old version is executed instead System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0 p0 Puma version 3 2 0,,"rafaelfranca,rafaelfranca",2016-04-04 14:41:12,2016-04-05 00:27:14
IS,Rails 5 beta 3 Cannot read property isubscriptions' of undefined,Ruby 2 2 3 rails g channel foo bar speak Enabled cable in router then restart server Now got Cannot read property isubscriptions' of undefined which point to,,"jeremy,maclover7,jeremy,vipulnsward,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,vipulnsward",2016-04-04 17:37:17,2016-04-05 12:07:29
IS,Possible bug with fields for in combination with multipart forms,I have ran into a problem with a form not rendering correctly after submitting with validation validation errors While setting up a sample application I could not demonstrate my exact issue but found something else In my real world setup I was using Devise with a linked resource has one being created on sign up At the time I would added a file field to this linked resource as part of the fields for block form redisplays were omitting the fields inside the fields for block In my sample application there a 2 options for adding users One with a linked restaurant and one with a linked restaurant with a file field When you go to the first and you submit without entering anything you will see a validation messages for both the users email and the name of the restaurant When you enter an invalid value for email the same happens Which is all good Now when you go to the second and you submit without entering anything you will get an error message for missing params This probably has to do with the fact that the form is set to multipart when a file field is added but it is inconsistent nonetheless And also when you enter an invalid value for email the form redisplays but with the fields for the restaurant missing Edit I have managed to set up a test visualizing the difference between regular and multipart requests Source of this sample application is here,,"maclover7,vipulnsward,vipulnsward",2016-04-04 17:00:38,2016-04-05 12:33:13
IS,ActiveRecord Type module bleeds into ActiveRecord Base,It appears as though the ActiveRecord Type module has been included in ActiveRecord Base This causes an autoloading issue when trying to use namespaced models as models with a class name of Type will need to first be required in the parent model before they are referenced,,"rafaelfranca,fxn,sgrif",2016-04-05 01:51:58,2016-04-05 20:57:54
IS,NameError uninitialized constant SomeJobNameJob,Steps to reproduce This is actually very hard to reproduce since I only randomly get it during production Expected behavior The constant should be loaded Actual behavior The constant is not initialized System configuration Rails version,,,2016-04-05 21:20:03,2016-04-05 21:20:16
IS,reorder breaks last,Steps to reproduce System configuration Rails version 4 2 5 2 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,,2016-04-06 01:01:22,2016-04-06 01:30:56
IS,reorder breaks order values,Steps to reproduce System configuration Rails version 4 2 5 2 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux PS This issue supersedes,,,2016-04-06 01:30:44,2016-04-06 01:45:55
IS,NoMethodError undefined method owners' for ActiveRecord Associations Preloader NullPreloader Class,Steps to reproduce Expected behavior Tests in the gist should pass Actual behavior Tests in the gist are not passing,,,2016-04-04 13:01:44,2016-04-06 03:46:56
IS,ActiveRecord Schema Default Value,Steps to reproduce 1 Pull latest changes from remote repo 2 Run rake db migrate Expected behaviour Integer column to have default value of 1 Actual behaviour Integer column does not having default value Notice that it seems to a problem for negative integer values only img width 324 alt screen shot 2016 03 25 at 12 06 32 pm src git diff after running rake db migrate img width 487 alt screen shot 2016 03 25 at 12 07 14 pm src Table schema from psql CLI I think I might have an explanation as to why this is happening The regex L95 above does not take into account inverted commas ' when extracting default value from the columns I believe this is something new to PostgreSQL 9 5 The same table schema with PostgreSQL 9 3 on Ubuntu 14 04 machine but I do not think it makes a difference screenshot from 2016 03 25 12 18 52 System configuration Rails version 4 0 12 Ruby version 2 0 0 Mac OS X v10 11 3 PostgreSQL 9 5 1,,"rafaelfranca,rafaelfranca",2016-03-25 04:24:55,2016-04-06 03:53:49
IS,Question Pass more than one param to Action Cable server,Could you change this to a question Based on my StackOverflow question comment60456495 36420246 is it possible to pass more than one param to the Action Cable AC server Is AC purpose to operate as a chat app where only one param is passed,,,2016-04-06 07:27:52,2016-04-06 08:18:47
IS,Add the option to preserve original SELECT clause,When using select method on ActiveRecord it replaces the default SELECT clause Sometimes you want to only add custom values such as subquery from related tables and restoring the original clause table is painful As a squeel user I do not really like using custom SQL and I do not want to have to specify the table name which can also be aliased or in a different database type There needs to be an option to either not replace the SELECT clause or to restore it for example with this scope on ActiveRecord Base System configuration Rails version 4 2 5 1 Ruby version 2 2 3,,"vipulnsward,vipulnsward",2016-04-06 08:02:07,2016-04-06 08:19:34
IS,Rails destroy does not remove routes previously included,Assume I created a Welcome controller with just one method using rails g controller Welcome index This will create in my config routes rb a route get 'welcome index' Then I changed my mind and decided to remove this Welcome controller with rails destroy controller Welcome It removes the controller and other files but the route is still there As I see things rails destroy should restore the state previous to the creation of the controller including the route to its methods I'm using Rails 4 2 6 with Ruby 2 3 0,,"maclover7,vipulnsward,vipulnsward",2016-04-05 18:16:31,2016-04-06 09:10:58
IS,Pluck Method Issue,Steps to reproduce As per this page pluck I am trying to use Client pluck id name But it is giving following error ArgumentError wrong number of arguments 2 for 1 Ruby Version ruby 2 0 0 p247 Rails Version Rails 3 2 14 let me know if mistake from my side,,,2016-04-07 08:15:46,2016-04-07 08:34:33
IS,Generated ApplicationMailer is not namespaced when generating within mountable engine,Steps to reproduce Follow the Rails Guide to generate an engine Actual behavior Covered in Steps to reproduce steps to reproduce System configuration Rails version 4 2 5 2 Ruby version 2 2 3,,rafaelfranca,2016-04-07 19:27:32,2016-04-07 22:29:19
IS,pluck does not work with pg array type,Steps to reproduce I would expect to have an array of arrays of department s account ids Actual behavior Instead I get array of empty arrays System configuration Rails version 4 2 3 Ruby version 2 3 0,,"vipulnsward,vipulnsward",2016-04-08 12:46:17,2016-04-08 18:10:08
IS,Possible bug with enabling caching on dev environment,Steps to reproduce When I run the following command for the first time bin rails dev cache I got the following feedback Development mode is now being cached And the file tmp caching dev txt is created From this point I expect to when I run the server bin rails server to be running with caching on dev enabled But it is not happing that way After run bin rails dev cache followed by the command bin rails server the caching on dev mode is disabled and the file tmp caching dev txt deleted The only way is to run bin rails server C And the bin rails server C command can be executed without previously execute the bin rails dev cache command In this case my question is Is this supposed to run this way If yes why do I need the bin rails dev cache command System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"vipulnsward,vipulnsward",2016-04-08 18:09:43,2016-04-08 18:44:57
IS,No link to About your application is environment in Welcome page,The last paragraph in section 4 1 of the edge version of Rails Guides Getting Started with Rails chapter states The Welcome aboard page is the smoke test for a new Rails application it makes sure that you have your software configured correctly enough to serve a page You can also click on the About your application is environment link to see a summary of your application is environment Launching a new app beta 3 I can not see such link Inspecting railties 5 0 0 beta3 lib rails templates rails welcome index html erb I can not see such link too I think docs should be updated Or better I would like to see the link in the welcome page,,"vipulnsward,vipulnsward",2016-04-08 17:41:23,2016-04-08 21:22:13
IS,Support for Float years,There are some scientific data sets that use floating point numbers for years For instance the ice core CO2 measurements here uses the standard Years Before Present unit which is floating point by default At present there is no way to my knowledge to ingest these values cleanly into Rails If there is interest in merging something to adapt the years method for use with Float s so that scientific data sets like these can be more easily handled in Rails I can prepare a PR,,"brchristian,vipulnsward,brchristian",2016-04-08 21:18:40,2016-04-09 09:09:54
IS,update to 4 2 6 broke getting my assets,Steps to reproduce update to Rails 4 2 6 visit my app is homepage Expected behavior It should return 200 OKs for all my assets Actual behavior it returns 500 ERRORs and this error for each asset 2016 04 09 12 55 19 0700 Rack app error NoMethodError undefined method ' for nil NilClass 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 4 2 6 lib active support logger silence rb 23 in level' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems quiet assets 1 1 0 lib quiet assets rb 24 in call with quiet assets' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 4 2 6 lib action dispatch middleware request id rb 21 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 1 6 4 lib rack methodoverride rb 22 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 1 6 4 lib rack runtime rb 18 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack timeout 0 3 2 lib rack timeout core rb 125 in block in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack timeout 0 3 2 lib rack timeout support timeout rb 19 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack timeout 0 3 2 lib rack timeout support timeout rb 19 in timeout' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack timeout 0 3 2 lib rack timeout core rb 124 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 4 2 6 lib active support cache strategy local cache middleware rb 28 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 1 6 4 lib rack lock rb 17 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 4 2 6 lib action dispatch middleware static rb 120 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 1 6 4 lib rack sendfile rb 113 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems railties 4 2 6 lib rails engine rb 518 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems railties 4 2 6 lib rails application rb 165 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems newrelic rpm 3 15 0 314 lib new relic agent instrumentation middleware tracing rb 96 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 2 16 0 lib puma commonlogger rb 31 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 2 16 0 lib puma configuration rb 81 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 2 16 0 lib puma server rb 557 in handle request' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 2 16 0 lib puma server rb 404 in process client' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 2 16 0 lib puma server rb 270 in block in run' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 2 16 0 lib puma thread pool rb 106 in call' 12 55 19 web 1 Users BrennerSpear rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 2 16 0 lib puma thread pool rb 106 in block in spawn thread' System configuration Rails version 4 2 6 Ruby version 2 2 2,,rafaelfranca,2016-04-09 20:17:16,2016-04-09 23:16:09
IS,Unable to skip default unit test while generating new rails application,Steps to reproduce rails new myapp database mysql skip test unit Expected behavior The rails application should not have default test framework installed Actual behavior Currently it has 'test' folder created System configuration Rails version Rails 5 0 0 beta3 Ruby version ruby 2 2 2p95,,"vipulnsward,vipulnsward,vipulnsward",2016-04-10 17:54:10,2016-04-10 18:03:25
IS,is there a way to re render,I have written an API in which I am rescuing from all StandardError Incase of any StandardError I send an exception email and render json with error message This works great except when the exception is raised from views i am using jbuilder for json responses As then when I render json with error message it raises double render exception cause render has already been called in controller Is there a way to override the initial render call ruby 2 1 8 rails 4 2 6,,maclover7,2016-04-10 19:00:20,2016-04-10 22:10:09
IS,Rails 5 not showing error page when template is not found,Steps to reproduce I have a controller PagesController with an action index And try to access 3000 pages At this step deliberately I dont create the view app views pages index html erb Expected behavior Not creating the view on development machine I expect to have an error page like Missing template pages index application index with locale en formats html variants handlers erb builder raw ruby coffee jbuilder Searched in Users psantos Workspace demos demo15 app views As it happens this way on other Rails versions Actual behavior But instead this it redirect to the root path 3000 Checking the logs I found this Started GET pages for 1 at 2016 04 11 14 25 34 0100 Processing by PagesController index as HTML No template found for PagesController index rendering head no content Completed 204 No Content in 3ms ActiveRecord 0 0ms This was changed on Rails 5 Is it supposed to redirect instead of showing the error page I did not find any reference about this change on the Internet System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,vipulnsward,vipulnsward",2016-04-11 14:10:02,2016-04-11 14:18:55
IS,Overridden accessor methods fail numericality validation,Steps to reproduce When all of the following is true An integer field is accessor method is overridden with a custom method The field is passed a params hash with a blank string which is then translated to nil A NumericalityValidator with allow nil true is set for the field The validation fails with not a number even though the field resolves to nil Expected behavior The validation should succeed System configuration Rails version 4 2 6 Ruby version 2 2 3 Executable test case Here is an executable test case for the issue,,"vipulnsward,meinac,vipulnsward",2016-04-09 10:18:50,2016-04-11 20:10:38
IS,ActiveRecord Preloading and accented characters,Steps to reproduce Create a set of two tables where one has many of the other and the key is some text field like below System configuration Rails version 4 1 14 1 Ruby version 2 1 5p273,,"rafaelfranca,utilum,al2o3cr,vipulnsward",2016-03-30 02:29:36,2016-04-12 07:55:59
IS,Date today in time zone does not appear to work,Steps to reproduce Let is play around with time zones I ran into an unexpected conversion I'm writing this issue around 7 40pm Eastern time on a Monday 1 The time zone on my computer is Eastern Time US Canada 2 Set the Time zone Fiji 3 Let is see how Time behaves 1 Time now 2016 04 11 19 40 33 0400 This is correct 2 Time current Tue 12 Apr 2016 11 43 01 FJT 12 00 This is correct 3 Time now in time zone Tue 12 Apr 2016 11 40 38 FJT 12 00 This is correct 4 Now let is see how Date behaves 1 Date today Mon 11 Apr 2016 This is correct 2 Date current Tue 12 Apr 2016 This is correct 3 Time zone today Tue 12 Apr 2016 This is correct 4 Date today in time zone Mon 11 Apr 2016 00 00 00 FJT 12 00 Uh 5 Date today in time zone Fiji Mon 11 Apr 2016 00 00 00 FJT 12 00 Umm Expected behavior I expected Date today in time zone to be similar to Time now in time zone Actual behavior Time now in time zone correctly converts the system time into Fiji time and produced the correct date and time in the output string Date today in time zone however does not seem to be aware of the time zone and it looks like it returns the date based on the system although it does show FJT 12 00 in the output so it is somewhat timezone aware It shows 'Monday' in the output which is correct for Eastern time but not Fiji System configuration Rails version 4 2 6 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"maclover7,al2o3cr,vipulnsward,pixeltrix",2016-04-12 00:05:54,2016-04-12 09:19:09
IS,ActiveRecord RecordInvalid Validation failed XXX must exist,Steps to reproduce My rails version is 5 0 0beta3 I want to do self join today My model is Person Person can be separated to parent and child My person rb When I use the rails console to create Person like Person create name ABC I got ActiveRecord RecordInvalid Validation failed Parent must exist However in Rails 4 there is no such validation Does Rails 5 add the validation Is it possible to create without validation In this scenario I cannot create any people How can I assign the parent when creating a person Expected behavior Creating person without assigning a parent Actual behavior A error ActiveRecord RecordInvalid Validation failed parent must exist is shown System configuration Rails version 5 0 0beta3 Thanks BRs Ryan,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-04-12 09:36:58,2016-04-12 09:46:46
IS,Ruby on Rails Getting Started tutorial Destroy method does not work at all I'm using rails version 4 2 5 1,Steps to reproduce Excellent Ruby on Rails tutorial at Expected behavior One would expect the basic CRUD fuctions to work as documented They were working and now they are not Specifically the Destroy method as documented in the tutorial does not work at all The Destroy example should bring up a dialog box to confirm a delete of the blog entry Instead the log entry is displayed using the Show method Actual behavior The example tutorial just displays the Weblog entry instead of bringing up the confirmation box and doing the delete System configuration I'm running rails and ruby in production mode https on a Linux box CentOS 6 6 with Linux Kernel 2 6 32 504 el6 i686 desktop is Gnome 2 28 2 Rails version Rails version is 4 2 5 1 Ruby version Ruby version reports as ruby 2 3 0p0 2015 12 25 revision 53290 i686 linux Details comments Specifically this issue is documented on Stack Overflow and other sites as a problem with several suggestions to resolve I have tried several methods to get the Destroy feature to work correctly So far no luck The initial User tutorial should work correctly This may seem trivial to experienced users but it is unacceptable and unfortunate that the excellent tutorial is marred by this fail I have confirmed the Gemfile has gem 'jquery rails' included to load the javascript library I have also confirmed that file application js in app assets javascripts specifically includes the require jquery ujs entry It is possible to hack the example Weblog application by changing the link to verb to a button to verb This presents a Destroy button on the example application but the confirmation dialog is suppressed For a real world application this is of course quite unacceptable The dialogue box to confirm the delete of the datapage is obviously a critical entity for anything real In the tutorial example index html erb the syntax for the Destroy feature is link to 'Destroy' article path article method delete data confirm 'Are you sure ' This does not work If the link to is replaced with a button to then it works but there is NO CONFIRMATON DIALOG BOX presented which is of course unacceptable button to 'Destroy' article path article method delete data confirm 'Are you sure ' The Getting Started Tutorial is both useful and necessary so care should be taken to ensure it operates as indicated I have confirmed javascript is enabled in my webbrowser via about config option in Firefox version 44 0 2,,"vipulnsward,sgrif,sgrif",2016-04-07 23:48:28,2016-04-12 16:44:25
IS,Calling path helper can pollute url for when routes are scoped,Steps to reproduce the test passes This happens only with scoping scope ' locale' do When you remove the scoping it generates the urls correctly with and without the extra path helper call System configuration Rails version 2b92069 Ruby version 2 3 0,,maclover7,2016-04-13 11:33:05,2016-04-13 16:01:06
IS,The global request variable ActionDispatch Request is spookingly altered when invoking a url helper method within views under special circumstances,Hello everyone I think I have found a spooky bug in Rails 5 0 0 beta1 last commit 179df9df6839 The code below worked perfectly fine on Rails 4 2 0 Consider this dead simple erb view under specific circumstances which I will outline below the request ActionDispatch Request instance variable is changed simply by invoking root path Ruby 2 3 0 Ubuntu 15 10 x86 32,,"pixeltrix,schneems,maclover7",2016-01-11 22:08:24,2016-04-13 16:12:31
IS,PostgreSQL json PG InvalidTextRepresentation,Steps to reproduce Migration System configuration Rails version 4 2 4 Ruby version MRI 2 2 3p173,,"meinac,sgrif,meinac,sgrif,sgrif,meinac,sgrif,meinac,sgrif",2016-03-18 07:08:46,2016-04-13 16:54:15
IS,Relations validate true only runs on create,Steps to reproduce Actual behavior items are not validated on update System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"vipulnsward,sgrif",2016-04-13 09:38:02,2016-04-13 21:07:45
IS,Enums on rails 5 PostgreSQL,Hi all I'm using new rails 5 beta3 I want to create an enum type in database postgresql This is my migration I have the following error undefined method enum' for ActiveRecord ConnectionAdapters PostgreSQL TableDefinition 0x00563ff5ae7320 is there any change with rails 4 Ruby ruby 2 2 4p230 2015 12 16 revision 53155 x86 64 linux Rails Rails 5 0 0 beta3 Regards,,vipulnsward,2016-04-14 13:36:40,2016-04-14 14:17:09
IS,possibly licence violation in ActiveSupport up to 4 6,All ActiveSupport and other rails parts until the recent uses gem json E g L24 As I understand this gem is under Ruby license but the old the copy left one Ruby License see the COPYING file included in the source distribution The Ruby License includes the GNU General Public License GPL Version 2 so see the file GPL as well e g version which ruby used up to 1 9 2 Therefore my opinion is that it is copyleft license and cannot be included in MIT projects I am not a lawyer Personally I hope I am wrong I searched similar questions but it seams that nobody found checked it,,"rafaelfranca,sgrif,jeremy",2016-04-14 13:03:21,2016-04-14 15:14:41
IS,ActionCable can deplete AR is connection pool,Normally ActionCable ServerWorker ActiveRecordConnectionManagement takes care to ensure connections are checked back into the pool This is not ensured when using ActiveRecord from within a ActionCable Channel Streams stream form stream for callback Observed this behaviour in rails 5 0 0 beta2 Example,,"maclover7,dhh,dhh,jeremy,matthewd,jeremy,jeremy,jeremy",2016-02-19 14:39:03,2016-04-14 17:25:08
IS,includes seems to be uniq ing the values,Steps to reproduce 1 Set up a simple model structure like Posts have many Comments 2 Create a Post record with 2 Comment records associated with it 3 Run Post joins comments includes comments to a size Detailed in this gist Expected behavior I would expect the result to be 2 since we are joining and there are two child records and Post joins comments includes comments count returns 2 Actual behavior It returns 1 It appears that the includes statement somehow de dupes the records Removing the includes makes the statement return 2 as expected System configuration Rails version 4 2 6 Ruby version 2 3 0,,"sgrif,sgrif,sgrif,sgrif,sgrif",2016-04-14 19:43:22,2016-04-14 20:22:21
IS,uninitialized constant ActiveModel Serializers Xml in MongoMapper,After switch to rails 5 0 0 beta 3 receiving following error Rails version 5 0 0 beta 3 Ruby version 2 2 3,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,vipulnsward",2016-04-15 10:13:30,2016-04-15 13:03:51
IS,How to debug on rails 5,Hi I'm starting with a new app with I wonder how to debug on this release In fact just print on a console is sufficient but puma does not show it to me Has anyone already debug on rails 5 Regards,,maclover7,2016-04-15 13:41:39,2016-04-15 14:40:34
IS,Unscoped block not work with association,Steps to reproduce Here the test I get nil because user is deactivated default scope filter only not deactivated users I expect instead of getting the deactivated user System configuration Rails version 4 2 6 Ruby version 2 3 0,,"vipulnsward,vipulnsward",2016-04-14 12:04:57,2016-04-15 15:51:50
IS,Controllers still try to render view when using render json,Steps to reproduce Routes Rails still seems to be attempting to render a view template rather than the value provided to render json System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,maclover7,maclover7,prathamesh-sonpatki,jeremy",2016-02-27 04:03:08,2016-04-15 16:58:40
IS,Rails 5 master branch Mysql2 Result each segfaults array size too big and negative array size,Steps to reproduce I have not been able to reproduce this outside my application yet So far I can only get it to happen in a test not even in console during test mode and have not been able to isolate where it is happening inside Rails It comes about often when using ActiveRecord Base connection execute query each as hash symbolize keys true but not always In the test the actual result is an empty array And if I print the whole stacktrace Rails does not show up myfile rb 45 in each' is the first line but I do not define each and it does not make it to the 1st line inside the block Expected behavior Iterate over each row of the result set with the row as a hash using symbolized keys Actual behavior segfaults array size too big and negative array size System configuration Rails version 5 0 on master Ruby version 2 3 0 mysql2 0 4 3 is the adapter in use,,"codeodor,codeodor,codeodor,codeodor,codeodor",2016-04-15 19:18:05,2016-04-15 19:42:29
IS,Controller instance variables are not cleared between successive calls from a single test,Steps to reproduce Create a controller that lazily initializes an instance variable Expected behavior I expect a controller to have no instance variables set upon each call Actual behavior Instance variables stay set between calls to a controller when called from a test System configuration Rails version 4 1 14 2 Ruby version 2 1 2p95,,"maclover7,rafaelfranca,rafaelfranca",2016-04-15 16:09:30,2016-04-15 20:34:24
IS,postgresql array foreign Keys support,,,sgrif,2016-04-16 13:31:28,2016-04-16 15:03:39
IS,Destroy callback passes false to Comparable method,Steps to reproduce Expected behavior Comparison method parameter should be an ActiveRecord object of the same class Actual behavior Callbacks rb sends false to the comparison method System configuration Rails version master and 4 2 6 Ruby version 2 3 0,,"maclover7,sgrif,jeremy,jeremy",2016-04-16 17:39:36,2016-04-16 18:42:18
IS,created at have unexpected behavior,Steps to reproduce When you create a model in console I'm using blog as an example Expected behavior System configuration Rails version 4 2 6 Ruby version 2 2 3 Actually the expected behavior happened in my mac the actual behavior happened in my ubuntu server Is it system related I still think it should be the same as I use created at to do the md5 thing,,"vipulnsward,maclover7,jeremy",2016-04-16 06:38:47,2016-04-17 19:11:24
IS,ActiveRecord 4 2 default scope eager load fail with find by,Hi I notice that the eager load does not include the join table when using find by method The failing test is test search on admin using eager load and find by Steps to reproduce Expected behavior All test should pass there must not have difference using between find by and where Actual behavior It does not include the join table when using find by 1 Error BugTest test search on admin using eager load and find by ActiveRecord StatementInvalid SQLite3 SQLException no such column accounts domain SELECT users FROM users WHERE accounts domain AND users email LIMIT 1 System configuration Rails version 4 2 Just tested with gem 'rails' github 'rails rails' Rails 5 does not fail Ruby version 2 3 tested on but not related to ruby,,"vipulnsward,vipulnsward",2016-04-18 09:57:54,2016-04-18 10:57:26
IS,Has one through autosave bug,Steps to reproduce You can see the failing example here Expected behavior In 4 1 stable the given example would persist the changes to the AccountManager Adding autosave to the Account and UserAccount on the User model fixes it but I am wondering if this is what should be happening Actual behavior In previous versions the changes to the AccountManager would also be saved System configuration Rails version 4 2 6 Ruby version 2 3 0,,"maclover7,maclover7,vipulnsward,maclover7,vipulnsward",2016-04-16 17:15:13,2016-04-18 18:55:24
IS,dependent restrict with error not working properly,Steps to reproduce File for testing Expected behavior blog destroy should add an error on blog object Actual behavior But it is throwing an exception System configuration Rails version 4 2 5 1 Ruby version 2 3 0,,"vipulnsward,vipulnsward,vipulnsward,vipulnsward",2016-04-12 18:37:02,2016-04-19 21:15:27
IS,Frozen hashes cannot be passed as route options,Steps to reproduce Add to routes something like this System configuration 4 1 7 but also applies to current master Ruby version 2 1 5,,,2016-03-03 15:30:51,2016-04-19 22:04:24
IS,ActiveRecord finder last behave unexpectedly with previous use of present or blank,Hi I have some issues when I call present or blank ok this is not efficient but a valid call on a scope before I call last In this case the order is random For example the following calls I expect that the returned value is the last record ordered by primary key With Rails 3 I did get the last record but with rails 4 it returns a random record I think this happens because present simply calls to a and does not respect the default order by primary key After this call last checks if the records are loaded In this case loaded is true because of the previous to a call but the order of the records is wrong Maybe present should act like exsits without an argument activerecord 4 2 6 rails 4 2 6 ruby 2 3 0p0 regards dieter,,"maclover7,vipulnsward,maclover7,maclover7,vipulnsward,rafaelfranca,rafaelfranca",2016-04-19 10:00:37,2016-04-20 02:28:58
IS,Could not find template for digesting name a ActionView DependencyTracker ERBTracker render dependencies accuracy problem,Steps to reproduce Cook up a view that looks something like this contains a commented out line that includes the word arender' See the word render in there Lol that will do it I guess The function looks a little different in master now is the accuracy of this function being improved already I just tried with rails 4 2 6 and it has an inaccurate render dependencies function in it see actionview 4 2 5 2 lib action view digestor rb 105 wherein my index template has a dependency named 'them thems' because of the above comment line,,"vipulnsward,vipulnsward,vipulnsward",2016-04-20 05:34:02,2016-04-20 11:04:10
IS,Cannot add an existing readonly record to HMT collection,When I have a has many through association where the has many class is readonly I get an error when replacing or adding an unchanged record to the collection that the collection class is marked as readonly I believe d849f42b4ecf687ed5350f5a2402fb795aa33aac is the first offending commit It should probably have replaced if record new record with if record readonly instead of removing the condition Gist in System configuration Rails version v5 0 0 beta1 and later Master branch since commit d849f42b4ecf687ed5350f5a2402fb795aa33aac Ruby version Tested with 2 3 0,,"bquorning,bquorning,sgrif,bquorning,bquorning,bquorning,maclover7",2016-04-20 11:58:18,2016-04-20 14:00:46
IS,Wrong documented path to images when using image tag image path helper,It is indicated L208 in the doc that when using image path helper the generated HTML will be as follows I put multiple devices vg file into assets icons What is wrong with that,,"maclover7,schneems,schneems,schneems",2016-02-15 09:51:55,2016-04-20 14:22:38
IS,Error while dumping structure sql file for Pg 9 5 2,Steps to reproduce 1 Should store database structure in structure sql file 2 Should have latest version of postgresql database 9 5 2 in my case 3 Create a migration with 'rails g migration testMigrateFunctionality' 4 rake db migrate Expected behavior Should update structure sql file Actual behavior structure sql file not updated error shown System configuration Rails version Rails 3 2 22 2 Ruby version ruby 2 1 7p400 2015 08 18 revision 51632 x86 64 darwin14 0,,"vipulnsward,prathamesh-sonpatki",2016-04-20 13:32:44,2016-04-20 14:40:45
IS,Specify both coder and class in serialized attributes,Steps to reproduce Setup db System configuration Rails version 4 2 6 Ruby version 2 2 2,,rafaelfranca,2016-04-20 16:50:36,2016-04-20 16:53:18
IS,ActiveModel Dirty attribute name changed returning nil instead of false,Steps to reproduce Here is a gist using the ActiveRecord bug template demonstrating the issue Expected behavior I would expect that calling ModelKlass new attribute name changed to always return true or false Specifically in this case it should return false if the attribute has yet to changed since it is a method with a question mark appended to the end of it Actual behavior It returns nil in these cases This is a departure from the behavior in the rest of the Rails 4 2 releases System configuration Rails version 4 2 6 Ruby version I saw it happen on 2 2 1 and 2 3 0,,"maclover7,jeremy,sgrif,maclover7",2016-03-16 22:28:34,2016-04-20 19:58:22
IS,Error raised inside the event loop no implicit conversion of Puma MiniSSL Socket into Integer,I use actioncable which include puma Trying to make puma to work with ssl I run command bundle exec puma b issl 28080 key var ssl exams st key cert var ssl exams st crt' home deployer exams current cable config ru and get error Puma starting in single mode Version 2 15 3 ruby 2 2 1 p85 codename Autumn Arbor Airbrush Min threads 0 max threads 16 Environment development Listening on ssl 28080 key var ssl exams st key cert var ssl exams st crt Use Ctrl C to stop Error raised inside the event loop no implicit conversion of Puma MiniSSL Socket into Integer home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 767 in attach fd' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 767 inattach io' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 745 in attach' home deployer exams shared bundle ruby 2 2 0 gems faye websocket 0 10 2 lib faye rack stream rb 37 inblock in hijack rack socket' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 258 in call' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 258 inblock in schedule' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 981 in call' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 981 inblock in run deferred callbacks' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 978 in times' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 978 inrun deferred callbacks' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 193 in run machine' home deployer exams shared bundle ruby 2 2 0 gems eventmachine 1 0 9 1 lib eventmachine rb 193 inrun' home deployer exams shared bundle ruby 2 2 0 gems faye websocket 0 10 2 lib faye websocket rb 36 in block in ensure reactor running' home deployer exams current cable config ru require File expand path ' config environment' FILE Rails application eager load require 'action cable process logging' ActionCable server config allowed request origins run ActionCable server When i changed puma on thin everything was great,,"maclover7,maclover7,matthewd,maclover7",2016-01-27 15:13:18,2016-04-20 20:27:27
IS,ActionDispatch request helpers do not properly rewrite positional arguments to keyword arguments,The code that rewrites deprecated positional argument version of get post put etc does not properly rewrite positional arguments to keyword arguments This appears to be an issue with nested hashes of params Here is the bug template to reproduce this The test with positional method will blow up because params session is nil in the controller,,"derekprior,maclover7,maclover7,maclover7,maclover7,derekprior,maclover7,senny,derekprior,maclover7,rafaelfranca,derekprior,derekprior,matthewd,derekprior,senny,rafaelfranca,maclover7",2016-02-12 18:48:23,2016-04-21 03:24:21
IS,ActiveSupport TimeZone utc offset gets stale during timezone transition,Steps to reproduce During time zone transition when current time zone changes its utc offset ActiveSupport TimeZone caches this information and it becomes stale This can be an issue when TZInfo TimeZone current period is refreshed due to time zone period transition but it is not reflected in ActiveSupport TimeZone object For example on Sun 26 Oct 2014 22 00 UTC Moscow changed its TZ from MSK 04 00 to MSK 03 00 1 hour If ActiveSupport TimeZone 'Moscow' happens to be initialized just before the time zone transition it will cache its stale utc offset even after the time zone transition Test case ActiveSupport TimeZone utc offset caches its initial value System configuration Rails version 5 0 0 alpha Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux gnu,,jeremy,2016-04-20 23:34:35,2016-04-21 06:18:32
IS,Adding includes to a scoped has many through produces SQL missing table in FROM clause,Test case available here Steps to reproduce I ran across this behavior when attempting to create a scoped has many through association The association itself works as expected when called on an instance However if I attempt to eager load the scoped association using includes the produced SQL references a table in the WHERE clause that is not present in the FROM clause ActiveRecord StatementInvalid SQLite3 SQLException no such column comment types comment type SELECT posts posts id AS t0 r0 posts user id AS t0 r1 comments id AS t1 r0 comments post id AS t1 r1 comments comment type id AS t1 r2 FROM posts LEFT OUTER JOIN comments ON comments post id posts id WHERE comment types comment type AND posts user id IN 1 System configuration Rails version 4 2 6 5 0 0 beta3 Ruby version 2 2 1 2 2 4 Databases Postgres SQLite3 If anyone can suggest a workaround in the meantime I would appreciate it,,"vipulnsward,vipulnsward",2016-04-21 11:46:13,2016-04-21 12:11:32
IS,Updating default settings of ApplicationController renderer is not working,We generate an initializer application controller renderer to allow users to update the default config options for rendering templates outside of controller with following content But the ApplicationController renderer defaults hash is frozen L45 So it raises an error if we try to modify it,,"prathamesh-sonpatki,matthewd,prathamesh-sonpatki,maclover7,maclover7",2016-01-08 14:23:18,2016-04-21 13:58:20
IS,Rails 5 beta3 db reset with 3 migrations triggers ActiveRecord StatementInvalid SQLite3 SQLException,I ran into issues with migrations either SQLite3 exception see below or an error saying I have some pending migrations but then it would throw an error that tables already exist and figured out that the problem appears whenever I have 3 migrations IIRC db reset task is not the only one way for triggering this bug I think ran into this also when redoing migrations in development I often modify my migrations remigrate them and rerun tests Steps to reproduce Minimal demo here Simply run System configuration Rails version beta3 edge 81f4a7d Ruby version 2 2 3p173 I have tested it with Rails 4 2 6 too but everything works fine there,,"yahonda,vipulnsward",2016-04-21 17:33:48,2016-04-21 17:48:52
IS,Delivering mail causes tests to fail,Steps to reproduce,,"rubys,rubys,sikachu,sikachu,rubys,rubys",2016-03-01 20:30:27,2016-04-22 18:56:43
IS,Transaction deadlock with rails 5 beta 3,Steps to reproduce We have a complex test with rspec database cleaner factorygirl Some runs are deadlocking Debugging showed that there is a transaction started but not finished A simplified case Expected behavior Pass or error but not a deadlock Actual behavior Deadlock Test does not finish System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0 cannot repro in 4 2 0,,"arthurnn,arthurnn",2016-04-10 13:58:37,2016-04-22 18:56:43
IS,installing rails on kubuntu 16 04 problem,devang devang Presario CQ57 Notebook PC sudo gem install rails Building native extensions This could take a while ERROR Error installing rails ERROR Failed to build gem native extension usr bin ruby2 3 r siteconf20160423 17360 1iu6t3v rb extconf rb mkmf rb can not find header files for ruby at usr lib ruby include ruby h extconf failed exit code 1 Gem files will remain installed in var lib gems 2 3 0 gems nokogiri 1 6 7 2 for inspection Results logged to var lib gems 2 3 0 extensions x86 64 linux 2 3 0 nokogiri 1 6 7 2 gem make out,,jeremy,2016-04-22 18:46:21,2016-04-22 21:11:57
IS,Ruby 2 4 to time incompatibility,Ruby 2 4 changes Time to time and DateTime to time to preserve timezone This is a good thing but it breaks Active Support is scheme to harmonize to time behavior Example build failures L55 L423 L533 L542 Ruby changes DateTime Time We will need to update our to time to feature detect the new versions and behave consistently on Ruby 2 3 0 and 2 4 0,,"jeremy,jeremy,yui-knk,jeremy,jeremy,pixeltrix,jeremy,pixeltrix,pixeltrix",2016-04-19 06:18:41,2016-04-23 14:12:31
IS,Optimistic locking raise ActiveRecord StaleObjectError when lock version in database is null,,,,2016-04-23 08:28:48,2016-04-23 23:27:09
IS,remove index fails to find expression index on postgresql,Steps to reproduce System configuration Rails version 5 0 0 beta3 Ruby version MRI 2 3 0,,"meinac,arthurnn,jeremy",2016-03-29 14:47:49,2016-04-24 21:28:38
IS,Rails 5 0 0beta3 form authenticity token does not work when page loaded by Turbolinks,I have a simple Rails 5 0 0beta3 app with a simple form to create a record Default configuration and environment in development form for url admin book nodes url as node do form render form f form p form submit or link to Cancel admin book nodes path p end When the form is loaded through a link on another page of the app on submission a ActionController InvalidAuthenticityToken is generated 'Started POST admin book nodes for 1 at 2016 03 20 11 54 31 0000 Processing by Admin Book NodesController create as HTML Parameters utf8 authenticity token G5pF6hSPx0Vf21Fi0FCh VlOcHY4w8C5lmHmwr3NQRjfXUP9 xboybeV3tevmyTyHcwSX8LplU HgZVGDbGlw node parent id 1 position 1 title lkjlkj description lkjlj published 0 content lkjlkj commit Create node Ca not verify CSRF token authenticity Completed 422 Unprocessable Entity in 1ms ActiveRecord 0 0ms ' However if the form page is manually reload before being filled then everything works fine The behaviour is the same with both Safari and Chrome What I have noticed When the form is loaded from a link on another page failure case it is loaded by Turbolinks through an XHR request In such case the page authenticity token in csrf meta tags and the form is token in authenticity token have different values When the form is loaded or reloaded by the browser successful case so not by Turbolinks the tokens in in csrf meta tags and the form is authenticity token are the same Disabling Turbolinks specifically for the link to the form e g a data turbolinks false href admin book nodes new New node a will also prevent the issue It does not seem the same as 23524 but perhaps it is related Note also my submission on Stackoverflow,,"maclover7,sstephenson,rafaelfranca,rafaelfranca,jeremy",2016-03-20 17:38:33,2016-04-24 21:32:34
IS,Rails5 beta3 url for appends unwanted parameters,Steps to reproduce System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,vipulnsward,vipulnsward,maclover7,jeremy",2016-04-05 21:06:46,2016-04-24 22:14:51
IS,Valid rake command line arguments reported as invalid on running 'test' task,Steps to reproduce It seems test framework tries to parse all rake cli arguments System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0 by rbenv,,"maclover7,maclover7,kaspth,kaspth,kaspth,kaspth,jeremy,kaspth,kaspth",2016-03-30 18:21:23,2016-04-25 06:07:52
IS,merge on hstore set dirty to changed even if no changes,Steps to reproduce Create a Model Expected behavior In the second test with merge the object should not have been marked has changed as merge do Actual behavior The object is marked has changed and changes prove that there is no changes System configuration Rails version 4 2 6 Ruby version 2 3 0 Database postgres,,"maclover7,vipulnsward,maclover7,sgrif,sgrif",2016-04-25 09:45:54,2016-04-25 20:01:57
IS,Intermittent test failures after Publish AS Executor and AS Reloader APIs,Looks like d3c9d80 according to my bisect leads to intermittent test failures in my in house app Test rspec factory girl that looks in a nutshell like this Unfortunately I'm unable to make reduced testcase maybe you can point me how to debug this further cc,,"rafaelfranca,jeremy,arthurnn,jeremy",2016-03-02 11:50:12,2016-04-25 21:58:41
IS,add column tablename field datetime index true does not create an index,Steps to reproduce Expected behavior The migration according to this method i add column and this method i column documentation should create an index on the deleted at column Actual behavior After running the migration no index for deleted at is visible in schema rb System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,prathamesh-sonpatki,2016-04-26 09:04:23,2016-04-26 09:15:01
IS,Provide proper hooks for fork based initialization,Coming from here issuecomment 213834207 where you can find a POC script designed for rails currently not compatible with sidekiq that I know of The main integration candidate would be foreman although any fork based dependency could benefit from this Request the Rails initialization process should contain hooks for some possible before after fork workflow Why General handling of fork lifecycle for maximum CoW benefit Current State Dependencies which integrate with rails usually have a railtie and suggest user configuration in an initializer file Example sidekiq devise etc in the specific case of sidekiq there are configurations db pools etc which vary depending of the process being the rails process or the sidekiq job processing process resque works similarly I think Which means one has to currently start N different scripts which will load the same codebase so that stuff gets properly configured example of foreman Procfile In the foreman case this strategy would pay off even more as we would share the eager loadable code throughout all process types and each dependency would just have to handle what to do everytime the process would be forked I understand that it is not rails job to assume fork is supported in the platform where it is running I'm just suggesting a kind of abstract API a la active job which dependencies can integrate with Also I think fork is first class citizen in most of the platforms where rails is being deployed most used application servers unicorn puma and job processing frameworks resque sidekiq paid the main argument being true parallelism but I think that CoW memory savings is a greatly understated argument,,"maclover7,jeremy",2016-04-26 10:49:53,2016-04-26 11:48:26
IS,Actioncable deadlock resuming a connection with multiple channels,I ran into an issue with my ActionCable enabled app where the server was locking up constantly using the current master branch from the rails repository I was able to recreate the issue in my own fork of the ActionCable examples repo I modified the ActionCable example to mount ActionCable at the ' ws' endpoint in the routes rb file and I also created a second channel which the client subscribes to at the same time as the first 2channel rails5 master Steps to reproduce Additional info I also created 1channel beta3 and 1channel rails5 master branches and they seem unaffected by this issue so in my limited research it seems that it has something to do with subscribing to multiple channels simultaneously Like I show above it also seems to work with rails 5 0 0beta3 unfortunately that release has an issue that prevents deployment on Heroku That issue is fixed in the master branch unfortunately I ran into this separate issue It can be temporarily remedied by creating a master channel that will subscribe to multiple separate channels but I do not think that is ideal going forward,,maclover7,2016-03-07 15:58:11,2016-04-26 19:23:25
IS,Ca not install Rails 4 2 6 with Ruby 1 9 3,Steps to reproduce gem install rails Actual behavior Following error has occurred coz mime types data requires Ruby version 2 0 System configuration Rails version 4 2 6 Ruby version 1 9 3 p551,,vipulnsward,2016-04-27 04:06:22,2016-04-27 06:43:36
IS,Add config assets digest exclusions,Steps to reproduce This problem was solved a long time ago but seems like the fix have been removed I am installing frontend libs with bower under vendor assets bower components so moving stuff to public would be very hacky Is there anyway that we can skip fingerprinting just on selected assets Expected behavior We should be able to skip the digest fingerprinting for selected assets Actual behavior Currently the digest setting can only be all or nothing config assets digest true false System configuration Rails version 5 0beta Ruby version 2 2,,vipulnsward,2016-04-27 07:11:58,2016-04-27 07:21:05
IS,How can I override thing like model type in polymorphic relation,I have two projects project A and Project B And I will access the DB of project B in readonly mode in project A To avoid the constant conflcts in project A I add a namespace to models that I will access the DB of project B The model type stored in the table resources is 'Stuff' that without namespace B How could I override the resourceable type in polymorphic relation like this case Thank in advance,,vipulnsward,2016-04-27 07:31:22,2016-04-27 07:39:21
IS,Rails 5 0 0 beta3 Collection caching showing weird behavior no read multi in some cases NoMethodError in others,Tried to enable the read multi function of collection rendering But according to the comment at the top of L7 something similar should be happening in a Railtie somewhere This does NOT fix the first case standard render syntax it still performs multiple reads every time,,"prathamesh-sonpatki,prathamesh-sonpatki,kaspth,kaspth",2016-04-22 19:44:58,2016-04-27 11:57:41
IS,annot set locale,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-04-27 15:02:06,2016-04-27 15:02:39
IS,Chaining where statements produces incorrect SQL,We recently upgraded to Rails 4 2 5 from latest rails 3 2 x and noticed something strange in some of our statements The following code will produce incorrect SQL with mangled key value mappings Have we stumbled upon a bug or is this behaviour documented somewhere,,"sgrif,sgrif",2016-01-14 15:09:54,2016-04-27 18:45:33
IS,Custom fonts exist in production buts says not found,I deployed an rails 4 2 4 app on Digital Ocean which was working fine in development mode But on server everything work except fonts it says Failed to load resource the server responded with a status of 404 Not Found the path it searches for is but when I actual click on the path it open the fonts file at exactly same path its pointing with not found error Whats wrong with it,,"maclover7,rafaelfranca",2016-04-27 12:34:22,2016-04-28 03:57:58
IS,confusing usage of capitalized first letter in 'Getting Started with Rail' documentation,Steps to reproduce Go to chapter 6 4 'Generating a Controller' of the 'Getting Started with Rails' guide where the following is stated ' bin rails generate controller Comments' Expected behavior It is confusing that the first letter of the controller name is capitalized because only Model names have a capitalized first letter Also throughout the guide the generation of the article controller is written with a lower case first letter for the controller name It is true that the rails generate command ignores the capital letter and generates the controller with a lower case first letter but I find this confusing for the reader Suggestion I suggest to use a lower case first letter like so ' bin rails generate controller comments' Then add a information box where there is stated that rails always generates controllers with lower case first letters despite the use of capital letters in de generate command,,"prathamesh-sonpatki,vipulnsward,vipulnsward",2016-04-13 07:23:19,2016-04-28 08:34:51
IS,Rails 5 0 0 beta4 Cannot customize scaffold templates,Steps to reproduce Either create templates at lib templates erb scaffold this location is suggested elsewhere and works pre 5 modify or replace the templates at GEM LOCATION gems railties 5 0 0 beta4 lib rails generators erb scaffold templates Then run rails generate scaffold Class name string Expected behaviour Rails generates the Models Views Controllers etc based on the modified templates Actual behaviour Rails completely ignores the modified templates and generates bare bones System configuration Rails version Rails 5 0 0 beta4 Ruby version ruby 2 2 4p230 2015 12 16 revision 53155 x86 64 linux,,"vipulnsward,rafaelfranca",2016-04-28 16:33:20,2016-04-28 20:52:59
IS,Timeout parameter not working for oracle database,Below is the configuration in the database yml file development adapter oracle enhanced host 10 10 10 58 port 1521 database TUTSDB username tutsadmin password Tuts1234 encoding utf8 timeout 15000 Rails version 4 2 5 Ruby version ruby 2 0 0p648 Actual Result We get the below error ActiveRecord ConnectionTimeoutError could not obtain a database connection within 5 seconds waited 5 000144774 seconds Expected Result It should wait for 15 sec and then throw the above error We have used the gem activerecord oracle enhanced adapter 1 6 6 to connect to the DB,,"maclover7,rafaelfranca",2016-04-28 13:20:12,2016-04-28 21:41:30
IS,ActionCable beta4 stops stream and creates it again on refresh,,,vipulnsward,2016-04-29 13:25:56,2016-04-29 16:08:13
IS,Child association does not see parent record and fails with validation error on creation,Steps to reproduce Hi the following code fails for Rails 4 and master but passes in Rails 3 Child association does not see that user will be created in current transaction I will investigate it,,Erol,2016-04-27 19:34:12,2016-04-29 17:10:45
IS,Migration on several databases,Hi I'm using rails 5 and a multi database model database for acl main database I want to setup my acl database with devise There is my migration I do not understand this behavior since I manually open an other database Has someone already created 2 databases in rails 5 PS ruby 2 2 4p230 2015 12 16 revision 53155 x86 64 linux Rails 5 0 0 beta4 psql PostgreSQL 9 4 7,,"maclover7,jeremy",2016-04-28 15:25:33,2016-04-29 20:16:32
IS,redirect to with turbolinks option failing,I have an issue with cross domain redirects and Turbolinks not working as expected If I add wouldata turbolinks' false to the HTML link that triggers the redirect then the redirection happens fine and no errors are printed to the JavaScript console However if I remove that data tag and instead add the turbolinks false option to redirect to then I get the initial XHR request followed by the No 'Access Control Allow Origin' header is present on the requested resource Origin is therefore not allowed access printed to the JavaScript console followed by the HTML redirection request I was under the impression from reading the docs that adding turbolinks false to a redirect to call would cause the browser to redirect normally and therefore not print the Access Control Allow Origin error to the log Steps to reproduce followed by a normal redirection System configuration Rails version Rails 5 0 0 beta3 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"maclover7,jeremy",2016-04-26 18:48:25,2016-04-29 21:48:06
IS,Rails 5 beta4 Ca not start 2 servers actioncable and rails server,Hi Got this error A server is already running when trying to run bin cable and rails server I guess i can not run 2 versions of puma Rails 5 beta4 Ruby 2 3 0 Ubuntu 14 04 bin cable and then,,"vipulnsward,jeremy,vipulnsward,vipulnsward,jeremy,jeremy",2016-04-29 20:44:00,2016-04-29 21:50:25
IS,Send array over ActionCable channel,Problem This has never worked if you want to send an array back to the default receive method of a channel you wind up throwing a cannot convert to int error Channel Clean up how you like this was quick and dirty monkey patching on my end,,"vipulnsward,maclover7,jeremy,jeremy",2016-04-28 03:15:16,2016-04-29 21:51:52
IS,Rails 5 0 0beta2 When creating a new app spring is not found,No I am not using RVM or any other pointless and worthless version manager I have ruby installed at home me sdk running bundle exec home me sdk ruby binspring binstub all works I am not sure if it is a rails issue or bundler,,"rafaelfranca,jeremy",2016-02-10 23:06:37,2016-04-29 21:57:19
IS,Rails Server Segfaults when running with ObjectSpace,Steps to reproduce I'm running rails server with objspace to try and identify a memory leak I have added the following to config environment rb I am then reloading the index page to force memory allocations which I suppose to leak but do not segfault without objectspace Expected behavior Rails Server not to segfault Actual behavior Rails Server segfaults the traceback starts somewhere in sprockets System configuration Linux l pc 4 5 0 1 ARCH 1 SMP PREEMPT Tue Mar 15 09 41 03 CET 2016 x86 64 GNU Linux Rails version Rails 4 2 6 Ruby version ruby 2 2 4p230 2015 12 16 revision 53155 x86 64 linux,,"prathamesh-sonpatki,jeremy",2016-04-30 09:23:42,2016-05-01 04:14:55
IS,counter cache is incremented twice times,I have two models student and school with one to many relationship Counter cache student school count is incremented twice time When I replace above code with school students student It works fine Rails version 4 2 5 1 Ruby version 2 3 0,,"maclover7,tomkadwill,vipulnsward,tomkadwill",2016-03-14 09:41:14,2016-05-01 04:50:47
IS,Column name not correctly escaped when grouping,Steps to reproduce Create a model Customer with an attribute 'from' of type string You can not perform Customer group from count Expected behavior It should not raise an error even if from is a reserved SQL word Actual behavior It raise an error The reason is it does not escape correctly the column name SELECT COUNT customers from AS count customers from from AS from FROM customers GROUP BY analytics customers from You must write Customer group customers from count in order to perform the request System configuration Rails version activerecord 4 2 3 Ruby version 2 2 0,,"maclover7,jeremy,maclover7,vipulnsward,vipulnsward,jeremy,vipulnsward",2016-04-29 15:12:53,2016-05-01 07:09:41
IS,Array sum is very slow,AS is Array sum is much slower than core is implementation Steps to reproduce Expected behavior Ruby 2 4 has Array sum so AS is implementation should be as fast as core is implementation Actual behavior AS is implementation is about 4x slower than core is implementation System configuration Rails version a4b3c78 Ruby version ruby 2 4 0dev 2016 04 30 trunk 54853 x86 64 darwin15,,"egilburg,jeremy",2016-05-01 13:01:18,2016-05-02 01:36:12
IS,5 0 0 beta4 Failing version check,I'm using RVM 1 26 11 latest on OS X As you can see from the screenshot my Ruby version is up to date evidence,,,2016-05-02 16:07:53,2016-05-02 16:16:30
IS,Setting the TimeZone in an initializer instead of application rb has unexpected effect,Steps to reproduce Instead of setting config time zone in application rb which works properly create an initializer and set the timezone there with Rails application config time zone 'Brasilia' This works with other configurations such as Rails application config active job queue adapter delayed job so it probably should work for setting the timezone too Expected behavior When running Rails application config time zone the configured timezone is shown and everything including Time zone must be in the configured timezone Actual behavior When running Rails application config time zone the configured timezone is shown but everything including Time zone is still UTC System configuration Rails version master at f03c27cad2d3b4a9751cccdc3834f719f1cfbaa2 Rails 5 0 0 beta3 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"maclover7,repinel,vipulnsward,fxn",2016-04-27 01:24:15,2016-05-02 18:19:23
IS,AR Calculations count does not expand Arel attribute,Steps to reproduce System configuration Rails version 4 2 6 Ruby version 2 3 1 There is also a question to the issue on StackOverflow com,,maclover7,2016-05-02 12:41:54,2016-05-02 19:25:25
IS,beta4 fails to upgrade websocket when running on a different port than 3000,Steps to reproduce run rails 5 0 beta4 on a different port i tried 3333 and 3001 works fine using 3000 rails s p 3333 visit the app Expected behavior cable websocket should work Started GET cable for 1 at 2016 05 02 15 56 21 0400 Started GET cable WebSocket for 1 at 2016 05 02 15 56 21 0400 Successfully upgraded to WebSocket REQUEST METHOD GET HTTP CONNECTION keep alive Upgrade HTTP UPGRADE websocket SettingsChannel is transmitting the subscription confirmation RoomChannel is transmitting the subscription confirmation RoomChannel is streaming from room channel Actual behavior Tell us what happens instead getting this error repeatidly Failed to upgrade to WebSocket REQUEST METHOD GET HTTP CONNECTION keep alive Upgrade HTTP UPGRADE websocket Started GET cable for 1 at 2016 05 02 15 55 47 0400 Started GET cable WebSocket for 1 at 2016 05 02 15 55 47 0400 Request origin not allowed 3001 Failed to upgrade to WebSocket REQUEST METHOD GET HTTP CONNECTION keep alive Upgrade HTTP UPGRADE websocket Finished cable WebSocket for 1 at 2016 05 02 15 55 47 0400 Started GET cable for 1 at 2016 05 02 15 55 53 0400 Started GET cable WebSocket for 1 at 2016 05 02 15 55 53 0400 Request origin not allowed 3001 Failed to upgrade to WebSocket REQUEST METHOD GET HTTP CONNECTION keep alive Upgrade HTTP UPGRADE websocket Finished cable WebSocket for 1 at 2016 05 02 15 55 53 0400 Started GET cable for 1 at 2016 05 02 15 55 56 0400 Started GET cable WebSocket for 1 at 2016 05 02 15 55 56 0400 Request origin not allowed 3001 Failed to upgrade to WebSocket REQUEST METHOD GET HTTP CONNECTION keep alive Upgrade HTTP UPGRADE websocket Finished cable WebSocket for 1 at 2016 05 02 15 55 56 0400 System configuration Rails version 5 0 0 beta4 Ruby version 2 3 1,,maclover7,2016-05-02 19:59:24,2016-05-02 20:08:02
IS,can not require active support dependencies in beta 4,Steps to reproduce bundle exec ruby ractive support dependencies e '' Expected behavior should not fail Actual behavior raises an exception System configuration Rails version 5 0 0 beta4 Ruby version 2 3 1,,"rosenfeld,derekprior,matthewd,rosenfeld,rosenfeld,rafaelfranca",2016-05-02 21:02:22,2016-05-02 21:19:41
IS,has many collection proxy is build does not create the correct STI class when the type argument is a Class object in Rails 5 0 0 beta4,This is a regression for 5 0 0 beta3 The test below fails on master and 5 0 0 beta4 and passes on 5 0 0 beta3 Test case System configuration I ran the test in Ruby 2 2 4 and 2 3 0,,"pwnall,pwnall,vipulnsward,pwnall,vipulnsward,maclover7",2016-05-02 05:24:26,2016-05-02 21:39:29
IS,Cached counter updated twice when reassigning association on persisted model,Cached counters on a belongs to association of a model e g Comment are being updated twice when the model is reassigned after first being created and loaded back from the database Example pre class Post ActiveRecord Base domain has many posts end class Comment ActiveRecord Base hg belongs to post counter cache comments count end class BugTest Minitest Test def test counter update post1 post2 Post create Post create comment1 Comment create post post1 assert equal 1 post1 reload comments count assert equal 0 post2 reload comments count Remove this finder to prevent a reload which exposes the bug Using the same newly created object prevents the counter being incremented again comment1 Comment find by id comment1 id The counter of both models are updated twice in this call instead of once It is the model is association setter that is incrementing the counter as well as a model callback monitoring post id for changes comment1 update attribute post post2 assert equal 0 post1 reload comments count assert equal 1 post2 reload comments count end end pre The last two assertions will fail the following on line 66 is the post1 reload comments count assertion pre 1 Failure BugTest test counter update reproducer rb 66 Expected 0 Actual 1 1 runs 3 assertions 1 failures 0 errors 0 skips pre Full reproducer script ActiveRecord test The existing AR tests for reassignment run correctly but they use a newly created model which has slightly different behaviour The commit above changes the test to reload the model to show the problem An instance variable on the belongs to association stops counters being updated twice for newly created models L36 and so on a model that is not newly created causes it to increment decrement counters here L44 The second counter update appears to come from here L13 The reproducer seems to pass OK on 3 2 stable but fails on 4 1 stable and above I did not try 4 0 stable,,"domcleal,maclover7,maclover7,domcleal",2016-01-26 15:48:29,2016-05-03 07:12:42
IS,5 0 0 beta4 actionpack undefined method symbol' for nil NilClass,I cannot fully reproduce this issue but I am seeing some errors with the following details Error NoMethodError undefined method symbol' for nil NilClass Location vendor bundle ruby 2 3 0 gems actionpack 5 0 0 beta4 lib action dispatch http parameters rb 63 parse formatted parameters,,,2016-05-03 07:25:59,2016-05-03 08:41:51
IS,has secure password allow different name instead of password digest,I searched on Google Stackoverflow and This Git Repo Ca not find any document about this is this support by Rails or its impossible to do by now if I got grammar error please point out help me improve thank you,,"Erol,prathamesh-sonpatki,prathamesh-sonpatki",2016-05-03 08:06:22,2016-05-03 11:58:44
IS,ActionCable JS Uncaught TypeError Cannot read property areceived' of undefinedActionCable Subscriptions Subscriptions notify,Steps to reproduce 1 Mount ActionCable in Rails 5 app on Rails server at cable port 3000 on development 2 Run independent Node frontend app at port 8080 could be anything I imagine 3 Include any version of action cable actioncable js bower or node npm written 5 to 2 months ago presumably issue has not changed since hten in frontend app 4 Call cable ActionCable createConsumer 'ws 3000 cable' 5 Receive following error in JS console Chrome actioncable js 436 Uncaught TypeError Cannot read property areceived' of undefinedActionCable Subscriptions Subscriptions notify actioncable js 436ActionCable Connection Connection events message actioncable js 173 If I further add this line to the default inside the switch case in Connection prototype events console log cs subscriptions this consumer subscriptions 0 JSON stringify message types identifier message I intermittently either get cs subscriptions undefined confirmation confirm subscription rejection reject subscription undefined undefined or cs subscriptions undefined confirmation confirm subscription rejection reject subscription undefined 1462329058 or with some other timestamp at the end Likewise in the rails server console output you see repeated connection attempts which seem to succeed but apparently do not I dug through the code for a while but I'm pretty stumped Apologies if this is not supposed to be supported behavior though I can not imagine why not Expected behavior Persistent connection forms without error Rails version Rails 5 0 0 beta4 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"maclover7,jeremy",2016-05-04 02:33:23,2016-05-04 03:27:33
IS,incorrect utf 8 being serialized for 1F4A1 and perhaps others,Steps to reproduce hash istr' ' ' hash istr' bytes do b puts b to s 16 n end f0 9f 92 a1 This is correct so far but then it does something unexpected 2 1 1 134 hash istr' to json uf4a1 This does not appear to be correct It is code 1F4A1 perhaps that is what is intended Expected behavior Should return the lightbulb utf 8 character Actual behavior hash istr' ' ' broken hash JSON parse hash to json broken hash istr' bytes do b puts b to s 16 n end ef 92 a1 System configuration Rails version 3 2 22 2 Ruby version 2 1 1 tested on other versions this is just what I'm running it on at the moment,,vipulnsward,2016-05-04 02:44:45,2016-05-04 14:50:58
IS,Outdated doc in Active Record Query Interface',The 2 3 1 Equality Conditions doc in Active Record Query Interface page says The values cannot be symbols For example you cannot do Client where status active But actually the symbols used in where conditions will be converted to strings for querying,,"prathamesh-sonpatki,vipulnsward",2016-05-03 09:19:16,2016-05-04 15:52:22
IS,before action callbacks and controller inheritance,Steps to reproduce I have the two controllers as shown below System configuration Rails version 4 2 5 1 Ruby version 2 2 3,,"vipulnsward,Erol,rafaelfranca",2016-05-04 06:21:10,2016-05-05 17:00:10
IS,ActiveRecord reads id as null if table has no primary key,Steps to reproduce 1 Create a rails app with Rails 4 2 with PostgreSQL database 2 Configure a PostgreSQL database and enable uuid ossp 3 Create a books table with id being a UUID Create some records manually 4 rails g model book 5 In rails c Expected behavior b id to be equal to bfaae356 3f40 7ffc 30cc bf5d9c95ffab Actual behavior b id is null But attributes 'id' has the correct value System configuration Rails version 4 2 6 also happens with 5 0 0 beta4 Ruby version 2 3 1,,"maclover7,eugeneius",2016-05-05 10:32:26,2016-05-05 19:57:16
IS,Regression on 5 0 0 beta4 with JSONB fixtures,While upgrading from beta3 to beta4 I found a possible regression on how data for JSONB columns is loaded from fixtures On beta4 master the first fixture props attribute is inserted accessed as a String instead of a Hash while the second fixture works as expected on both versions Using a json column seems to have the same type mismatch I'm not sure if there is a blessed way to deal with JSON JSONB data inside fixture files if we plan to support only the YAML format it might be worth to mention it on the FixtureSet docs or on the Testing guide There is a repository with a reproduction script and sample fixture at,,"lucasmazza,vipulnsward,lucasmazza,vipulnsward,lucasmazza",2016-05-05 22:42:58,2016-05-05 23:52:48
IS,rails 5 0 0beta2 multipart form missing empty input value in params,when update product with name and aliases params does't include name field,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,jeremy",2016-02-03 01:36:11,2016-05-06 02:22:21
IS,Active support issue,I'm learning how to use Ruby on Rails Last time I tried making a scaffold for users rails generate scaffold user first name string last name string For some reason it would not work I first got one message then a few seconds later a rather big message First error message C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support values time zone rb 282 warning circular argument reference now invoke active record Second message C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib active record connection adapters connection specification rb 58 in rescue in resolve hash connection' Specified 'mysql2' for database adapter but the gem is not loaded Add gem 'mysql2' to your Gemfile Gem LoadError from C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib active record connection adapters connection specification rb 55 in resolve hash connection' from C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib active record connection adapters connection specification rb 46 in resolve string connection' from C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib active record connection adapters connection specification rb 30 in spec' from C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib active record connection handling rb 39 in establish connection' from C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib active record railtie rb 176 in block 2 levels in class Railtie' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support lazy load hooks rb 38 in instance eval' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support lazy load hooks rb 38 in execute hook' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support lazy load hooks rb 45 in block in run load hooks' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support lazy load hooks rb 44 in each' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support lazy load hooks rb 44 in run load hooks' from C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib active record base rb 322 in module ActiveRecord' from C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib active record base rb 22 in top required ' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support dependencies rb 229 in require' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support dependencies rb 229 in block in require' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support dependencies rb 214 in load dependency' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support dependencies rb 229 in require' from C row Ruby23 lib ruby gems 2 3 0 gems railties 4 0 2 lib rails generators named base rb 172 in pluralize table names ' from C row Ruby23 lib ruby gems 2 3 0 gems railties 4 0 2 lib rails generators named base rb 112 in table name' from C row Ruby23 lib ruby gems 2 3 0 gems activerecord 4 0 2 lib rails generators active record model model generator rb 18 in create migration file' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor command rb 27 in run' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 126 in invoke command' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 133 in block in invoke all' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 133 in each' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 133 in map' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 133 in invoke all' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor group rb 232 in dispatch' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 115 in invoke' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor group rb 277 in block in invoke for class method' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor shell rb 68 in with padding' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor group rb 266 in invoke for class method' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor group rb 133 in invoke from option orm' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor command rb 27 in run' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 126 in invoke command' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 133 in block in invoke all' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 133 in each' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 133 in map' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor invocation rb 133 in invoke all' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor group rb 232 in dispatch' from C row Ruby23 lib ruby gems 2 3 0 gems thor 0 19 1 lib thor base rb 440 in start' from C row Ruby23 lib ruby gems 2 3 0 gems railties 4 0 2 lib rails generators rb 156 in invoke' from C row Ruby23 lib ruby gems 2 3 0 gems railties 4 0 2 lib rails commands generate rb 11 in top required ' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support dependencies rb 229 in require' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support dependencies rb 229 in block in require' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support dependencies rb 214 in load dependency' from C row Ruby23 lib ruby gems 2 3 0 gems activesupport 4 0 2 lib active support dependencies rb 229 in require' from C row Ruby23 lib ruby gems 2 3 0 gems railties 4 0 2 lib rails commands rb 48 in top required ' from bin rails 4 in require' from bin rails 4 in main ' Rails v 4 0 2 Ruby v 2 3 0p0,,arunagw,2016-05-06 09:20:34,2016-05-06 09:26:46
IS,5 0 0 beta4 ActiveRecord references polymorphic true creates schema with id type column order swapped,Steps to reproduce Given you define a schema with a t references XXX polymorphic true System configuration Rails version 5 0 0 beta4 Ruby version 2 2 5,,"maclover7,rafaelfranca,jeremy,sgrif",2016-05-05 16:44:18,2016-05-06 16:41:10
IS,ORA 01036 since Oracle does not allow select for update with fetch first n rows only,Steps to reproduce Update Gemfile to support,,"yahonda,jeremy,sgrif,yahonda,sgrif",2016-04-28 21:49:31,2016-05-06 16:59:06
IS,bound attributes needs support to change limit and offset orders,Steps to reproduce Update Gemfile to support,,"yahonda,maclover7,yahonda,maclover7,sgrif,yahonda,sgrif,metaskills,jeremy,yahonda",2016-04-28 17:27:42,2016-05-06 17:00:20
IS,bundle exec rake test mysql2 causes Mysql2 Error SAVEPOINT active record 1 does not exist ROLLBACK TO SAVEPOINT active record 1,Steps to reproduce,,"yahonda,vipulnsward,yahonda,vipulnsward,vipulnsward,yahonda,yahonda,vipulnsward,yahonda",2016-04-01 13:02:01,2016-05-06 19:00:50
IS,Accessing response body inside any controller action messes up the response,I was trying to set strong ETags header by using the response body inside the controller,,"prathamesh-sonpatki,vipulnsward,tenderlove,tenderlove,prathamesh-sonpatki,sgrif,vipulnsward,maclover7,jeremy,sgrif",2016-02-29 16:51:14,2016-05-06 19:22:05
IS,Rails 5 is flash messages are incompatible with Rails 4 is,Steps to reproduce Rails 5 app System configuration Rails version 5 0 0 beta3 1st app 4 2 3 2nd app Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"vipulnsward,rafaelfranca,vipulnsward,jeremy,rafaelfranca,rafaelfranca,jeremy",2016-04-25 13:38:28,2016-05-06 20:14:30
IS,5 0 0 beta4 controller redirect to with turbolinks action 'change' renders action replace instead of change,Steps to reproduce I have this view with turbolinks and would like to have a partial update of the div result System configuration Rails version 5 0 0 beta4 Ruby version 2 3 0,,maclover7,2016-05-06 21:46:13,2016-05-06 21:51:15
IS,Shortcuts for request params key and request params key value removed without deprecation,When ActionDispatch Request stopped inheriting from Rack Request the methods L19 L29 shortcut for request params isome key' and shortcut for request params isome key' isomething' were removed I was wondering if there should at least be a deprecation warning to make upgrading easier Otherwise it is hard to upgrade to Rails 5 when multiple gems are still accessing the params using those methods System configuration Rails version Rails 5 0 0 beta3 Ruby version ruby 2 3 0p0,,"tgxworld,maclover7,maclover7,maclover7,maclover7,maclover7,jeremy,maclover7,jeremy,maclover7,vipulnsward,jeremy,maclover7,tenderlove,tenderlove,maclover7,tenderlove,jeremy,tenderlove",2016-04-15 06:22:16,2016-05-08 00:30:40
IS,where and where do not return the same results for association collections,Steps to reproduce Expected behavior where and where should return the same results for association collections Actual behavior where and where behave differently for association collections the former returns the proper records and the latter returns all records This seems like a bug System configuration Rails version 5 0 0 rc1 also reproduced on 4 2 6 Ruby version 2 3 1p112,,"prathamesh-sonpatki,matthewd",2016-05-08 02:09:53,2016-05-08 04:17:09
IS,time does not follow the same dst behavior of datetime,Steps to reproduce Expected behavior post time offset bug utc offset should be 3 and the time saved in the database should be saved in UTC Actual behavior post time offset bug utc offset is 2 and the time saved in the database is not saved in UTC System configuration Rails 5 0 0 beta4 happens at master as well ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"sgrif,vipulnsward,sgrif,vipulnsward,sgrif,sgrif,sgrif,sgrif,sgrif",2016-05-06 02:56:02,2016-05-09 14:39:18
IS,Is it possible to have multiple actioncable servers speak to eachother,Here is the scenario I'm envisioning client sends a message to server A server A finds out that the message from the client is actually intended for server B server A forwards the message from the client to server B I guess short of going back to communicating over HTTP S is there a way to maybe on server boot open a cable between server A and server B Or would I need to start action cable client in a thread or fiber or something and use that to send to the other server when I need to,,"jeremy,jeremy,jeremy",2016-05-09 15:55:58,2016-05-09 16:05:43
IS,Could not find proper version of railties 4 2 5 1 in any of the sources,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen I installed the newest ruby version and rails version I was expecting to do something like this to create a new rails application I did a gem list to verify that the only rails I have installed is 5 0 0 rc1 I am using rvm which I am wondering if that has something to do with it System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1p112,,"maclover7,maclover7,maclover7,maclover7",2016-05-08 21:49:44,2016-05-09 16:21:39
IS,AR Base find,,,"rwz,rwz",2016-05-09 17:43:15,2016-05-09 17:57:53
IS,AR Base find in batches version for relations,In real world application there are times when you have to migrate a column in a really big table from one value to another Performing a single update is not really an option because it will lock the whole table and will take forever and iterating over each row is just too slow The ideal approach would be to do update in batches Set a relation with some offsets limits perform an update to all records in it move to the next one This code illustrates this approach but does not actually work This code does not work because find in batches explicitly casts to a on the relation before returning it It seems like a bit lower level abstraction that returns AR Relations instead of arrays would be very useful for cases similar to the one described above Obviously changing the behavior of the existing method wo not do but maybe adding a new method someling like AR Relation split into batches and extracting 90 of find in batches code into it would work nicely,,"rwz,rafaelfranca,rwz,rwz",2016-05-09 17:54:00,2016-05-09 17:58:54
IS,Cable JavaScript integration tests,We test the Action Cable server components We do not test the JavaScript client Let is set up a test suite like Trix runs with Blade and build out the beginnings of an integration test suite,,"jeremy,vipulnsward,jeremy,vipulnsward,javan",2016-05-06 02:04:01,2016-05-09 18:20:26
IS,NameError uninitialized constant Rails 5 0 0 rc1,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Today I tried to use rails 5 rc1 I installed the newest ruby version and rails version generate a default application rails new test switch for folder cd test run bundle install and next up the server rails server I expected run the server ok Actual behavior But when I tried to run the server I got this System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1p112,,"maclover7,rafaelfranca,maclover7,rafaelfranca,vipulnsward",2016-05-08 20:48:03,2016-05-09 20:25:18
IS,Update rails dom testing,It is weird that this is not causing problems yet but rails dom testing 1 x should not work with Rails 5 The gemspecs of actionview actionmailer and actionpack have a dependency on rails dom testing 1 0 1 0 5 As of rails dom testing 1 0 7 the gem has a dependency on activesupport 5 0 4 2 0 beta meaning it should not work with 5 0 I guess 5 0 0 rc1 is considered 5 0 by Bundler rails dom testing 2 0 0 supports activesupport 6 0 4 2 0 however so it will work with Rails 5 0 0 Files to update actionmailer gemspec actionpack gemspec actionview gemspec Should probably fix that before 5 0 0 stable drops and stuff breaks cc,,"prathamesh-sonpatki,rafaelfranca",2016-05-08 21:13:28,2016-05-10 03:16:19
IS,Adding an engine to API rails app results in engine routes behaving like API routes,Steps to reproduce When I add engine to API rails application routes in the engine are messed up Expected behavior Should not it be possible to use engines as regular apps even when their parent app is in API mode I want to add an engine that behaves like a regular rails app Actual behavior When I use resources in the config routes rb of the engine it does not generate routes for new and edit actions Also when I try to save a record it raises ActionController InvalidAuthenticityToken And it throws errors in json format System configuration Rails version 5 0 0 beta3,,"prathamesh-sonpatki,rafaelfranca,rafaelfranca,jeremy,vipulnsward,spastorino,jeremy,spastorino",2016-03-21 15:14:04,2016-05-10 16:46:10
IS,belongs to presence validation failing,This breaks custom setter methods that need write attribute to be sent during spec testing Steps to reproduce System configuration Rails version 5 0 0 beta4 Ruby version 2 2 3,,maclover7,2016-05-10 16:47:27,2016-05-10 20:27:55
IS,AR associations and scopes behave totally different,Using ActiveRecord 4 2 6 Example 1 Here again delete all on a CollectionProxy nullifies the foreign key for some reason while same method on a AssociationRelation scope does exactly what is expected deletes the records All documentation kind of makes it look like scopes and associations behave the same and should be interchangeable most of the time You can even specify conditions on the association the same way you can do it on scopes But this example shows that this is not true Is that intended What is the reason for making similar things produce such drastically different results I have many years of Rails experience but this completely caught me off guard,,"rwz,sgrif,rwz",2016-05-10 20:42:31,2016-05-10 21:56:08
IS,5 0 0 rc1 Regression Unable swap to a custom connection pool and back to AR Base pool after 24844,Steps to reproduce See the failing AR test case and output file test for swapping connection pools diff L31 I was not sure where the fix test for this should live but I believe the test case is valid in terms of testing how remove connection should undo what establish connection does Expected behavior klass2 remove connection should remove any custom connection pool and allow the superclass is pool to be used by resetting caches ivars indicating a custom pool is to be used Actual behavior 24844 is refactoring changed behavior when you configure a custom connection and remove it Any subsequent calls to connection from that model will fail to find a pool and NOT fallback to the superclass' pool Neither of these changes were needed prior to 24844 System configuration Rails version 5 0 0 rc1 Ruby version 2 2 4,,"arthurnn,arthurnn",2016-05-10 20:12:26,2016-05-11 03:45:06
IS,How to make state consistency while using Action Cable,Hey I have tried to ask in rails core group and on stackoverflow but have not got any replies within two days It might be not a good place for such question but we can also use it to improve documentation to describe such use cases which is not clear for new users Let is assume we use something like current user which is an instance of a ServiceClass which holds user model session params and other info The thing is that variable is being set during connection with websocket and being reused for all AC calls on different subscriptions Then at some point user decides to update his username we make a call to some channel let is say SettingsChannel update and update user data current user update new username and it works okay for that channel But other AC subscriptions under that user still use old user model I suppose as each subscription works under their own thread thus updating user model under one thread will not update them under other threads So the question is how should we process with variables which can be used across many subscriptions for subscribed user,,"jeremy,jeremy,jeremy",2016-05-11 14:48:11,2016-05-11 15:41:26
IS,ActionController TestCase process method not reading current value in env,Steps to reproduce env HTTP AUTHORIZATION 'Bearer abc' post create env HTTP AUTHORIZATION 'Bearer xyz' post create Expected behavior 2nd post should have xyz Actual behavior 2nd post still has abc System configuration 4 2 0 Ruby version 2 2 2,,"maclover7,vipulnsward",2016-05-09 17:44:32,2016-05-11 16:24:32
IS,redirect to ignores cache and destination url is still stale,Steps to reproduce redirect to ignores cache and destination url is still stale I have a post action that redirects to another path on success The problem is that the destination path always has set the cache control to no cache even if the cache control is set in the destination path controller action Expected behavior redirect to in controller action redirects like expected but the destination should use the cache control set in controller System configuration Rails version 4 2 3 Ruby version 2 2 3,,maclover7,2016-05-11 21:10:14,2016-05-12 00:55:15
IS,Model using ActiveRecord Attribute with default value not backed by database cannot be saved,Steps to reproduce System configuration Rails version master Ruby version 2 3 1,,,2016-05-11 16:07:25,2016-05-12 02:00:37
IS,Regression on 5 0 0 beta4 with JSONB columns and changes method,The changes method returns for changes JSONB columns when there was no change actually This happens in combination with Model serialize and simple presence validation Steps to reproduce The test is green against Rails 5 0 0 beta3 and fails with 5 0 0 beta4 and rc1 Expected behavior Rails 5 0 0 beta3 behavior Only track changes if there are any Actual behavior Changes for JSONB column are listed in changes even if none are made System configuration Rails version Rails 5 0 0 beta4 Rails 5 0 0 rc1 Ruby version ruby 2 3 0p0,,"maclover7,maclover7",2016-05-12 07:43:26,2016-05-12 13:12:02
IS,Undefined method start' for Thread 0x007fc17f821ca0,Steps to reproduce I started working on a new Rails 5 RC1 project with the api flag I see this problem when I run bin rails routes Expected behavior Routes should be shown Actual behavior An error is thrown System configuration Rails version 5 0 0 rc1 Ruby version ruby 2 3 1 Gemfile lock I have tried this with listen v3 0 7 and v3 1 4 I have added a number of gems to the project see Gemfile lock so it could be an interaction between them Some evidence for this is that bin rails routes RAILS ENV test works as expected,,"rafaelfranca,vipulnsward,rafaelfranca",2016-05-12 15:53:19,2016-05-13 19:26:24
IS,Documentation of how to contribute to documentation is out of date,section 3 Contributing to the Rails Documentation discusses docrails I believe based on a little searching around just now that docrails is no longer available I believe the only current way of updating documentation is to open a PR on rails rails That section should be updated to only suggest opening a PR I would be happy to open a PR on this but I would like confirmation that my understanding of the current process is correct,,"maclover7,rafaelfranca",2016-05-13 14:44:51,2016-05-13 19:27:58
IS,dependent destroy may not work with default scope,Hello I appreciate your work This is not a bug report but I wonder the current behavior is desirable so I would like to ask you Summary I faced to a problem that I could not destroy an ActiveRecord object The model of that object had a foreign key constraint and was specified has many xxx dependent destroy The error was Mysql2 Error Cannot delete or update a parent row a foreign key constraint fails I wondered why it occurred despite of dependent destroy Finally I found that the model of belonging table had default scope and the problem did not occur if I commented it out The associated model was not found because of that default scope so it could not be deleted on rails and it failed by the constraint on database I can not tell whether it is a desirable behavior or not but it was so undetectable for me to fail to destroy because of default scope Sorry I can not describe it well so I write whole of the steps to reproduce Steps to reproduce 1 create new rails project use mysql2 adapter 2 shell System configuration Rails version 4 2 edge Ruby version 2 3,,maclover7,2016-05-13 17:40:50,2016-05-13 19:31:26
IS,Wrong number of arguments 3 for 0 1 with link to,Expected behavior link to should allow me to pass more than one parameter Actual behavior link to now allows me to pass only one parameter So I can do things link to board path board but not link to groups board path group Or even board url board format json subdomain current domain name This is the error I'm getting ActionView Template Error wrong number of arguments 3 for 0 1 I have had to manually remove all paths and fill it in with hard coded links something I know I will regret when I find a permanent fix for this bug Steps to reproduce I'm not sure how this error popped up I only pushed code to production and this happened Even when CI passed But this error has been reported before here System configuration Rails version 4 2 3 Ruby version ruby 2 1 5p273 2014 11 13 revision 48405 x86 64 linux,,"maclover7,rafaelfranca,rafaelfranca",2016-05-13 10:55:33,2016-05-14 04:07:42
IS,Do NOT return BigDecimal as string in JSON breaks DynamoDB support,Steps to reproduce First thanks for all of your hard work Rails Amazon AWS DynamoDB stores ALL numbers as BigDecimal This is beyond my control and not something I can change I have a client app sending in arbitrary JSON data like the following Some of the field values are strings some are floats and some are integers I am not doing anything with giant numbers or arbitrary precision floats I'm just sending in regular numbers However Rails now sends back all BigDecimal as JSON strings see and you have removed the encode big decimal as string boolean option which I could have used to fix this see This now means that the client sends in actual JSON numbers like 32 3 but gets back JSON strings like 32 3 This is a strong violation of the Principle of Least Surprise I do not have control over the client and it is sending arbitrary JSON so I can not get the client to force these numbers returned as strings back into being numbers clientside And because I have to return arbitrary JSON I cannot just use Rabl or some other serialization templating tool to force the BigDecimal back to regular numbers serverside So this is making it difficult for me to back Rails with DynamoDB as my persistent data store and also send and receive data to my client via a JSON API The client is NOT sending in BigDecimal and knows nothing about BigDecimal the client is sending regular numbers and expects regular numbers back so the comment the other other end knows by contract that the data is supposed to be a BigDecimal see is totally inapplicable in this case I suppose I could write some code that descends through the returned dictionary before converting it to JSON and convert all BigDecimal to Ruby numbers e g Float but this seems possibly error prone and a PITA Please bring back encode big decimal as string otherwise you are making it difficult for people to back a Rails apps with DynamoDB And this is thousands of people not just me If you can provide some guidance I would be happy to submit a PR to restore encode big decimal as string Guidelines for creating a bug report are available here creating a bug report Expected behavior I should have a choice as to whether BigDecimal are returned as a string or regular old number in JSON Actual behavior All BigDecimal are returned as string no matter what This totally breaks DynamoDB support because DynamoDB stores all numbers as BigDecimal System configuration Rails version 4 2 5 2 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin14,,"rafaelfranca,rafaelfranca,pixeltrix,pixeltrix,chancancode",2016-05-14 00:25:56,2016-05-14 04:31:21
IS,Rails g controller Access denied Mysql2 Error,Steps to reproduce rails db create OK rails db migrate OK Created database 'test development' Created database 'test test' rails g controller Demos new create destroy home vagrant rvm gems ruby 2 3 1 gems mysql2 0 4 4 lib mysql2 client rb 87 in connect' Access denied for user 'root' 'localhost' using password NO Mysql2 Error from home vagrant rvm gems ruby 2 3 1 gems mysql2 0 4 4 lib mysql2 client rb 87 in initialize' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters mysql2 adapter rb 25 in new' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters mysql2 adapter rb 25 in mysql2 connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters abstract connection pool rb 721 in new connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters abstract connection pool rb 765 in checkout new connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters abstract connection pool rb 744 in try to checkout new connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters abstract connection pool rb 705 in acquire connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters abstract connection pool rb 501 in checkout' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters abstract connection pool rb 364 in connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection adapters abstract connection pool rb 877 in retrieve connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection handling rb 128 in retrieve connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record connection handling rb 91 in connection' from home vagrant rvm gems ruby 2 3 1 gems activerecord 5 0 0 rc1 lib active record query cache rb 47 in block in install executor hooks' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 396 in instance exec' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 396 in block in make lambda' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 169 in block 2 levels in halting' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 547 in block 2 levels in default terminator' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 546 in catch' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 546 in block in default terminator' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 170 in block in halting' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 454 in block in call' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 454 in each' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 454 in call' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 101 in run callbacks ' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 750 in run complete callbacks' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support callbacks rb 90 in run callbacks' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support execution wrapper rb 107 in complete ' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support execution wrapper rb 64 in ensure in block in run ' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support execution wrapper rb 64 in block in run ' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support execution wrapper rb 58 in tap' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support execution wrapper rb 58 in run ' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support execution wrapper rb 74 in wrap' from home vagrant rvm gems ruby 2 3 1 gems activesupport 5 0 0 rc1 lib active support reloader rb 45 in reload ' from home vagrant rvm gems ruby 2 3 1 gems spring 1 7 1 lib spring application rb 154 in serve' from home vagrant rvm gems ruby 2 3 1 gems spring 1 7 1 lib spring application rb 131 in block in run' from home vagrant rvm gems ruby 2 3 1 gems spring 1 7 1 lib spring application rb 125 in loop' from home vagrant rvm gems ruby 2 3 1 gems spring 1 7 1 lib spring application rb 125 in run' from home vagrant rvm gems ruby 2 3 1 gems spring 1 7 1 lib spring application boot rb 19 in top required ' from home vagrant rvm rubies ruby 2 3 1 lib ruby 2 3 0 rubygems core ext kernel require rb 55 in require' from home vagrant rvm rubies ruby 2 3 1 lib ruby 2 3 0 rubygems core ext kernel require rb 55 in require' System configuration Rails version 5 0 0 rc1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux the database works well from rails if I use a controller created by hand,,"rafaelfranca,rafaelfranca",2016-05-12 13:48:25,2016-05-14 04:45:49
IS,Misleading minimal version in Getting started for 4 2 6 or compatibility of 4 2 6 Rails with Ruby 1 9 3 was unintentionally broken,Steps to reproduce Open Select Run rails new blog It results in Gem InstallError mime types data requires Ruby version 2 0 full gist Expected behavior Following is possible on systems with minimal listed requirements including The Ruby language version 1 9 3 or newer Actual behavior Gem InstallError mime types data requires Ruby version 2 0 System configuration Rails version 4 2 6 Ruby version 1 9 3,,,2016-05-14 10:42:29,2016-05-14 13:24:14
IS,Request format not set when Content Type is application json,Steps to reproduce Simply create a new rails project rails new demo create a random controller and call it using f ex Postman Expected behavior I would expect the request format to be json but instead it is nil Actual behavior The format is nil screen shot 2016 05 13 at 08 53 51 screen shot 2016 05 13 at 08 54 48 There might just be something I have misunderstood or configured incorrectly but for now this seems strange to me System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1,,"maclover7,maclover7,maclover7",2016-05-13 06:55:47,2016-05-14 14:38:45
IS,Rails 5 0 0 rc1 image tag issue on Heroku,Ruby 2 3 0 Whenever I have added a new image then the code image tag o section mascot svg I get an error in the heroku logs ActionView Template Error Unexpected token punc expected punc line 23041 col 10 pos 685332 error This is due to the image tag Remove this line the website loads I can confirm that the image is uploaded to heroku Any help Works ok with Rails 4 2 6,,"schneems,schneems,schneems",2016-05-14 19:31:46,2016-05-15 05:41:12
IS,Rails Update Misses Feedback,I recently updated my Rails project from 5 0 0 beta2 to 5 0 0 rc1 using rails rails update Here is a list of things where it missed or did not provide feedback I resolved this manually but posting only to provide you with feedback Hope this helps Context I used to see the difference of new vs old My project is configured to use SASS HAML and Rspec Steps to reproduce Take existing Rails 5 0 0 beta2 app update Gemfile run bundle install and then run rails rails update Expected behavior It magically updated all the config files to the new one with all my edits in place just kidding on last part Actual behavior It did not make the following changes delete cable coffee and replace with cable js changes to application html erb Since I'm using HAML I do not expect it to autofix it but I think a print out in STDOUT to change the data turbolinks track from true to reload would be nice all changes to require paths in Rakefile config ru config did not create config initializers ssl options rb and config initializers to time preserves timezone rb files In cases where config options were removed or it can not make changes like in my application haml file falling back to a note STDOUT to inform the user of the changes would be really nice to have and prevents pain down the road System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-05-11 20:19:05,2016-05-15 10:22:41
IS,ActiveModel Errors 5 0 0 rc1 difference between messages and details attributes,Hi I identified a weird behavior and I think it could be a bug The problem is located on the validation of a record and a belongs to association with required option to true Steps to reproduce Expected behavior I saw the belongs to instruction adds a required presence with the message required I guess by consistency the details hash should contain an error required Actual behavior But in the details hash we get a blank message whereas the added method takes a required message System configuration Rails version Rails 5 0 0 rc1 I could not test with the master branch and the template provided above I think the bundler inline feature does not work with Git source Ruby version Ruby 2 3 1 I tried to look for the origin of the problem but i did not have enough time to understand the whole process,,"maclover7,morgoth,rafaelfranca",2016-05-15 12:50:16,2016-05-15 15:18:53
IS,Documentation on engine decorators,Hello everyone link overriding models and controllers I think it would be good to add advice to add decorators directory to Spring watch Today I was facing some problems with it and at last I realized that problem was that Spring does not watch decorators It is not related to engines or decorators directly but it would be nice and confy to have this advice there and in all places where custom directories are being referenced imho Sorry for my english,,rafaelfranca,2016-05-15 15:06:47,2016-05-15 16:09:20
IS,Not autoloading custom subdirectories of app,Steps to reproduce Add app foo bar rb to application defining Bar class Elsewhere in application reference Bar Expected behavior According to All subdirectories of app in the application and engines For example app controllers They do not need to be the default ones any custom directories like app workers belong automatically to autoload paths app foo should be in autoload paths and bar rb should be autoloaded by referencing Bar Actual behavior NameError uninitialized constant Bar System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1,,"vipulnsward,prathamesh-sonpatki,rafaelfranca,prathamesh-sonpatki,rafaelfranca,prathamesh-sonpatki,rafaelfranca,rafaelfranca,prathamesh-sonpatki,rafaelfranca,rafaelfranca,fxn,fxn",2016-05-11 08:27:51,2016-05-15 16:46:09
IS,Surprising sequence of order clauses in nested through associations,When a through association involves order clauses on more than one point in the chain from default scope or from lambda arguments to the association class method the order clauses are applied in the opposite order from what would be naturally expected Steps to reproduce Expected behavior Rails retrieves page words using a query similar to SELECT FROM words ORDER BY paragraphs x ASC words y ASC Actual behavior The query instead has an order clause like ORDER BY words y ASC paragraphs x ASC I have written a unit test to demonstrate this more behavior more thoroughly System configuration Rails version master as of 2016 05 04 Ruby version 2 3 0p0,,"maclover7,maclover7,maclover7,sgrif,sgrif,sgrif,rafaelfranca,rafaelfranca",2016-05-06 15:08:47,2016-05-16 17:34:05
IS,To date MD5 is uncompromised,Steps to reproduce visit Expected behavior contains up to date information Actual behavior contains claim that MD5 is uncompromised System configuration Rails version 4 2 6 Ruby version not relevant According problems is that Bits of that guide are very out of date eg the xss section has not caught up with the fact that rails considers all strings as needing escaping unless told otherwise it could certainly do with some love It looks like that section has not been touched since at least 2009 Rails has not used the method you describe for generating session ids for a long time If I'm reading the runes correctly since rails 2 3 the session id has been generated with SecureRandom which provides cryptographically secure random numbers either using Ruby is builtin support on 1 8 7 or using platform specific methods such as openssl dev urandom win32 apis In addition since rails 2 0 the default session store has been the cookie store which does not use session id in the first place or rather the value of the session cookie is the session rather than a key used to read the session from elsewhere so it is merely severe documentation problem not a severe security problem Note that is linked from other security considerations,,vipulnsward,2016-05-16 13:04:21,2016-05-16 19:59:27
IS,Highlight test success failure with colors,Detecting scripts real users is pretty easy stdout tty and done by many libraries it would be a nice helpful shiny feature to show red green test output by default there can be an opt out for the x that either love gray or have some strange config that is pty but does not support colors but for everyone else that should be a great addition Steps to reproduce Run a test Expected behavior Red green Actual behavior Boring unhelpful Gray System configuration Rails version 5 0 0 rc1,,"grosser,prathamesh-sonpatki,grosser,prathamesh-sonpatki,prathamesh-sonpatki,grosser,prathamesh-sonpatki,kaspth,grosser",2016-05-17 04:29:49,2016-05-17 12:41:41
IS,ActiveRecord does not serialize properly with custom class,Steps to reproduce 1 Create a table with a integer column 2 Add CustomDateSerialize to the model to convert Date to integer yyyymmdd But then it does not convert it back to Date object on load Only way around this is to override the getter and setter for each date field in the application,,maclover7,2016-05-17 15:57:05,2016-05-17 20:47:31
IS,link to with method and confirm ignores method,I'm having an issue in 5 0 0 rc1 where if I have both a method and specify confirm in a link to call the method is ignored and a get request is sent instead of a delete For example here is my erb and generated html If I remove the confirm it works properly System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0,,sikachu,2016-05-17 05:12:50,2016-05-17 22:02:23
IS,Rails 4 cannot drop all tables disable referential integrity seems to be ignored,Steps to reproduce Run the following code in either a rake task or in the Rails console System configuration Rails version 4 2 6 Ruby version 2 3 0 Database PostgreSQL,,matthewd,2016-05-18 07:32:50,2016-05-18 07:56:22
IS,ActiveRecord schema load with jsonb type failed,Steps to reproduce Write db schema rb paste from rake db schema dump into new rails project use pgsql as DB System configuration Rails version 5 0 0 rc1 with pgSQL 9 5 3 Ruby version 2 3 0 p0,,,2016-05-19 07:56:53,2016-05-19 13:38:36
IS,ActionCable running without mount,Steps to reproduce Create Rails app with functional channels actioncable accepted origins etc Omit mount ActionCable server ' cable' from config routes rb Observed in development environment Expected behavior No ActionCable server mounts Actual behavior ActionCable server mounts System configuration Rails version 5 0 0 beta4 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux Is there something I'm missing here Auto mount,,"rafaelfranca,matthewd",2016-05-19 21:50:50,2016-05-19 22:26:10
IS,rails 5 0 0 rc1 help option does not show anything other then options for new,Steps to reproduce with rails version Rails 5 0 0 rc1 type at the command line any request to show command line options with help rails help Usage rails new APP PATH options Options r ruby PATH Path to the Ruby binary of your choice Default Users wildboar rvm rubies ruby 2 3 1 bin ruby m template TEMPLATE Path to some application template can be a filesystem path or URL d database DATABASE Preconfigure for selected database options mysql oracle postgresql sqlite3 frontbase ibm db sqlserver jdbcmysql jdbcsqlite3 jdbcpostgresql jdbc Default sqlite3 j javascript JAVASCRIPT Preconfigure for selected JavaScript library Default jquery skip gemfile no skip gemfile Do not create a Gemfile B skip bundle no skip bundle Do not run bundle install G skip git no skip git Skip gitignore file skip keeps no skip keeps Skip source control keep files M skip action mailer no skip action mailer Skip Action Mailer files O skip active record no skip active record Skip Active Record files P skip puma no skip puma Skip Puma related files C skip action cable no skip action cable Skip Action Cable files S skip sprockets no skip sprockets Skip Sprockets files skip spring no skip spring Do not install Spring application preloader skip listen no skip listen Do not generate configuration that depends on the listen gem J skip javascript no skip javascript Skip JavaScript files skip turbolinks no skip turbolinks Skip turbolinks gem T skip test no skip test Skip test files dev no dev Setup the application with Gemfile pointing to your Rails checkout edge no edge Setup the application with Gemfile pointing to Rails repository rc RC Path to file containing extra configuration options for rails command no rc no no rc Skip loading of extra configuration options from railsrc file api no api Preconfigure smaller stack for API only apps Runtime options f force Overwrite files that already exist p pretend no pretend Run but do not make any changes q quiet no quiet Suppress status output s skip no skip Skip files that already exist Rails options h help no help Show this help message and quit v version no version Show Rails version number and quit Description The 'rails new' command creates a new Rails application with a default directory structure and configuration at the path you specify Expected behavior compare to this version rails version Rails 3 2 22 rails help Usage rails COMMAND ARGS The most common rails commands are generate Generate new code short cut alias g console Start the Rails console short cut alias c server Start the Rails server short cut alias s dbconsole Start a console for the database specified in config database yml short cut alias db new Create a new Rails application rails new my app creates a new application called MyApp in my app In addition to those there are application Generate the Rails application code destroy Undo code generated with generate short cut alias d benchmarker See how fast a piece of code runs profiler Get profile information from a piece of code plugin Install a plugin runner Run a piece of code in the application environment short cut alias r All commands can be run with h or help for more information Actual behavior no matter what i type eg rails server help rails console help rails generate help it is showing the rails new help System configuration rails version Rails 5 0 0 rc1 ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,rafaelfranca,2016-05-19 23:58:26,2016-05-20 03:53:38
IS,3 2 22 2 broke actionmailer,Steps to reproduce simple application Gemfile contains Expected behavior Should receive a mail to the specified address which works with 3 2 22 1 Actual behavior Users rk tmp bundler ruby 2 2 0 gems actionpack 3 2 22 2 lib action view renderer renderer rb 14 in render' uninitialized constant ActionView Renderer HashWithIndifferentAccess NameError even require 'rails all' does not solve the problem System configuration Rails 3 2 22 2 ruby 2 2 3p173 2015 08 18 revision 51636 x86 64 darwin15,,"maclover7,rafaelfranca,prathamesh-sonpatki,rafaelfranca",2016-05-19 20:18:19,2016-05-20 05:38:22
IS,5 0 0 rc1 weird performance issues,I may be a little vague but this is due to not fully understanding where to look Maybe someone can provide me clues on that I have an app which I slowly move into 5 0 state Everything is going fine but upon testing the app in semi production environment I noticed that rendering application html erb takes 30 to 50ms while on 4 2 6 it takes 3ms And overall the app is slower To measure the time I use rack mini profiler gem and the time reported is said to be 'without children duration' So I began hacking out parts of layout to see where it changes Assets pipeline was the first to go but that did not yield any visible change After some time I discovered that if I remove all the render calls from the layout but leave the actual yield and page content at place the application html erb time actually drops back down to 3ms Let me state this again rack mini profiler reports the time of layout without actual time spent rendering partials so it looks like something to do with render method itself be it template resolution or whatever Also my application consists of several engines 6 7 so the partial lookup paths array is longer than in a usual Rails app Any thoughts System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1,,"jeremy,jeremy,jeremy",2016-05-19 10:32:59,2016-05-20 14:19:58
IS,Rails 3 2 22 2 Ruby 2 3 Hash now responds to to proc and interpolate blows up,Background As of Ruby 2 3 Hash responds to to proc method i to proc This is a change from Ruby 2 2 In ActiveRecord 3 2 22 2 the interpolate method duplicated across ActiveRecord Associations JoinDependency JoinAssociation L148 ActiveRecord Associations Association L160 and ActiveRecord Associations Preloader Association L115 checks its input to see if it responds to to proc I have seen a few bug reports on other projects that seem to be caused by this issue but Casecommons pg search issues 297 is the clearest Steps to reproduce,,arthurnn,2016-05-13 14:24:22,2016-05-21 02:23:46
IS,ActiveRecord LogSubscriber fails to log SQL statements for serialized binary columns,Steps to reproduce This model and migration create a model with a serialized column preferences backed by a binary column type System configuration Rails version 5 0 0 beta1 Ruby version 2 2 4,,"maclover7,maclover7,maclover7",2016-05-10 16:28:55,2016-05-21 02:34:48
IS,select tag with include blank true generates invalid HTML,In at least Rails 4 2 5 2 select tag called with include blank true creates invalid HTML From the documentation From the HTML 5 specification the option element If the element has no label attribute Text that is not inter element whitespace So for a blank text of the option element is empty the label attribute has to be set PS There is an extension options for select with attributes which allows to set the HTML attributes,,rafaelfranca,2016-05-02 17:57:06,2016-05-21 11:45:13
IS,IOError not modifiable string thrown by Hash from xml,Steps to reproduce IOError not modifiable string from activesupport 4 2 6 lib active support xml mini rexml rb 27 in ungetc' Expected behavior I would expect Hash from xml not to fail on frozen strings Actual behavior Error raised System configuration Rails 4 2 6 Ruby 2 3 0,,,2016-04-20 09:21:47,2016-05-21 12:16:21
IS,Rails root encoding problem,Just found some weird behavior with the Rails root path while upgrading an app Did not find anything on the web so maybe someone here can tell me if this is a bug or a feature that I have to add 'force encoding' to lots of lines Thanks Steps to reproduce,,"vipulnsward,rafaelfranca,rafaelfranca",2016-05-19 15:51:55,2016-05-21 13:38:06
IS,Controller generator does not display all available options,Steps to reproduce When running rails g controller the output does not include all available options This is the output for Rails 4 2 6 Expected behavior Help command should display all available options Actual behavior Help command is not displaying all available options System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"maclover7,maclover7",2016-03-12 15:09:46,2016-05-21 15:50:54
IS,find by append id id,Steps to reproduce Traing to update model ID 16 tst Test find by name params name tst update phone params phone Rails querry append AND tests id 16 to sql query As a result it is not updated And no errors System configuration Rails version 5 0 0 rc1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,,2016-05-21 18:20:22,2016-05-21 18:33:09
IS,DELETE Request spec wants number as first argument instead of url,Hi Steps to reproduce I'm performing the following API request spec test using Rspec delete api notifications unsubscribe params device token device device token headers headers token token Expected behavior I expect a delete request to be performed like my other get or post request tests and the unsubscribe action to be performed Actual behavior I get the following error Delete argument api notifications unsubscribe needs to be a number I have checked the params headers are correct route does exist and verified the route is working using curl Has the argument params changed for delete request spec testing I posted this on Rspec 1625 but they mentioned it was a Rails command I looked at the Rails doc and I believe my passed params in the method are correct i e delete path args not sure where the needs to be a number is coming from System configuration Rails version Rails 5 0 0 rc1 Ruby version Ruby 2 3 0,,"vipulnsward,sgrif,sgrif,rafaelfranca",2016-05-21 17:00:20,2016-05-23 05:49:57
IS,Raise on missing translations does not include controllers,The option raise on missing translations is scoped to ActionView Since AbstractController provides its own implementation of translate and localize it does not include the raise on missing behaviour This is problematic I can not think of a use case where you would want to only raise exceptions in either views or controllers Usually if you want to raise errors you want the behaviour everywhere There was another issue addressing the issue but it was closed and no pull request have emerged I would be happy to create a pull request addressing the issue but I think it is important that we decide how we want to go about implementing this I think the option should be moved out of config action view and instead be moved into config i18n raise on missing translation AbstractionController and TranslationHelper can then utilize this option in their implementation Doing this would also mean deprecating config action view raise on missing translations,,"rafaelfranca,rafaelfranca",2016-05-23 08:44:12,2016-05-23 08:47:31
IS,in ' invalid byte sequence in UTF 8 ArgumentError,I was processing DB records and got a weird value When calling blank on the above String I get the below error Reproduced on Windows 7 x64 Ruby ruby 2 3 0p0 2015 12 25 revision 53290 x64 mingw32 activesupport 4 2 6 Any idea on how to fix that Or it would be better to gsub all non printable characters Thank you,,maclover7,2016-05-19 12:44:12,2016-05-24 07:21:02
IS,Unexpected transaction behaviour,I think I may have run into some odd behaviour with transactions in rails I am use postgres as my database but the issue also occurs using sqlite in the gist below Steps to reproduce Create a new record when in a transaction block and make further changes to the record and save it again Expected behavior Record should not be persisted in the database and the active record object should not have an ID and persisted should be false Actual behavior Record is not persisted in the database but the active record object maintains an ID and persisted is true System configuration Rails version 4 2 6 Ruby version 2 2 4p230,,vipulnsward,2016-05-24 14:42:07,2016-05-24 16:28:56
IS,Add Module delegate missing to,Here is a common pattern if you want to build a decorator,,"dhh,gsamokovarov,rafaelfranca,dhh,rafaelfranca,dhh,rafaelfranca,rafaelfranca,rafaelfranca,dhh",2016-02-23 14:29:42,2016-05-24 21:45:52
IS,has many through validate false not being obeyed,Steps to reproduce at concat records records Array at Users marcalc rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activerecord 5 0 0 rc1 lib active record associations collection association rb 587 Apparently the method insert record is always being called with the arg validate true not obeying the relation is option validate false Maybe this should this be result insert record rec reflection validate should raise unless owner new record Expected behavior When posting a User new params user with role ids checkboxes it should ignore roles validation per validate false Actual behavior When posting a User new params user with role ids checkboxes I'm receiving a role related validation error System configuration Rails version 5 0 0 rc1 Ruby version MRI 2 3 1,,maclover7,2016-05-24 23:56:53,2016-05-25 00:31:45
IS,Class subclasses returns unreachable classes,When I remove a Class constant with remove const it still is listed as a subclass Is this the intended behavior It could be changed by appending or k reachable to this line L37 If that makes sense I can open a PR with tests This is on rails master ruby 2 2 4 Oh the module A sneaked in from my original use case This happens also with classes in top level namespace,,matthewd,2016-05-25 17:37:24,2016-05-25 18:37:17
IS,Test Issue JS,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-05-26 01:59:42,2016-05-26 02:02:08
IS,Date class methods future past and today does not work as expected,Steps to reproduce System configuration Rails version 5 0 0 rc1 Ruby version 2 2 3p173,,"fxn,vipulnsward",2016-05-25 20:46:37,2016-05-26 02:47:02
IS,Test Issue JS1,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-05-26 04:30:55,2016-05-26 10:11:37
IS,Document Write Rails Guide about Deployment,Can you guys write a new guide about the Basic of Rails Deployment I can not find any on I know there are many tutorial on Google but I hope just official guide can have a short intro about how many web server there are like puma unicorn passanger rainbow maybe a bit of history like Mongrel and thing like that would that be nice,,prathamesh-sonpatki,2016-05-26 03:53:12,2016-05-26 10:14:06
IS,Bundle install issue,sasmple app bundle install Fetching source index from 9292 Retrying fetcher due to error 2 4 Bundler HTTPError Could not fetch specs from 9292 Retrying fetcher due to error 3 4 Bundler HTTPError Could not fetch specs from 9292 Retrying fetcher due to error 4 4 Bundler HTTPError Could not fetch specs from 9292 Could not fetch specs from 9292 System configuration Rails version 4 2 6 Ruby version ruby 2 3 0p0 2015 12 25 x86 64 linux gnu,,rafaelfranca,2016-05-26 20:49:15,2016-05-26 21:21:49
IS,ActiveModel Dirty behaves incorrectly with type casting,Steps to reproduce Executable Test Case 1 Create a model with an integer attribute 2 Create an object with some value 3 Assign some value to that object so that this value will be type casted to equal value System configuration Rails version 4 2 6 Ruby version 2 3 1,,"maclover7,maclover7,sgrif",2016-05-26 15:29:48,2016-05-26 21:52:06
IS,Bug with loading top level class if namespaced is defined,Steps to reproduce Create 2 files app controllers concerns example rb Next start console rails c 1 pry main Example Expected behavior We should get Class defined in models example rb Actual behavior When cache classes or eager load false we will get 1 pry main Example LoadError Unable to autoload constant Example expected app controllers concerns example rb to define it from rails 3d01d00e348f activesupport lib active support dependencies rb 512 in load missing constant' When cache classes and eager load true we will get 1 pry main Example NameError uninitialized constant Example System configuration Rails version 5 0 0 3d01d00e348f 5 0 stable but tested also on cc7bd7cc394d0bbd9ead5763e077c8965c305755 beta3 Ruby version ruby 2 3 0p0,,"fxn,fxn,fxn,fxn,fxn,dhh,dhh,fxn",2016-05-26 21:21:08,2016-05-26 21:56:04
IS,Ca not use enum value in where key with joins for has one relation query,Steps to reproduce I wrote following code but it is not work System configuration Rails version Rails 5 1 0 alpha Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"maclover7,maclover7,maclover7",2016-05-24 13:03:39,2016-05-27 00:11:14
IS,Thread safety problem in template loading can not add a new key into hash during iteration,Steps to reproduce This is a thread safety as such it cannot be reliably reproduced Expected behavior Template loading and compilation is performed lazily even when config eager load true Since this needs to work in production where multiple threads might try to load a template at the same time it needs to be thread safe Actual behavior Template loading is not thread safe occasionally causing the following error See full trace here System configuration Rails version 5 0 0 beta3 rev db9bc8097399aab9c86 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"vipulnsward,jeremy,jeremy,matthewd,thedarkone,jeremy,thedarkone,rafaelfranca,jeremy,jeremy,thedarkone,jeremy,jeremy,jeremy,jeremy,rafaelfranca,thedarkone,jeremy,thedarkone,jeremy,thedarkone,jeremy",2016-04-19 13:20:23,2016-05-27 00:45:47
IS,ActiveSupport silence undefined method reopen' for nil NilClass,silence method described here silence throws an error Steps to reproduce System configuration Rails version 4 2 6 Ruby version ruby 2 1 5p273,,"Edouard-chin,vipulnsward",2016-05-26 12:16:13,2016-05-27 06:08:43
IS,urce,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-05-27 13:48:01,2016-05-27 13:52:52
IS,The Live Http Headers plugin is dead,Steps to reproduce visit Expected behavior contains up to date information Actual behavior The Live Http Headers plugin for Mozilla Firefox logs every request and may repeat and change them Note that this project appears to be dead see Some currently used project may be mentioned System configuration Rails version master Ruby version Not relevant,,"maclover7,maclover7,maclover7",2016-05-17 19:24:27,2016-05-27 18:53:23
IS,Stop making public assets in api mode,When you start a new app in API mode you should not get the following None of these make sense for the API,,dhh,2016-05-28 13:15:32,2016-05-28 14:50:15
IS,incorret sydney time zone,Steps to reproduce start Rails Console then do Date today in time zone 'Sydney' strftime Z Expected behavior should always print AEST Actual behavior on different computers it prints EST or AEST I dont know what server configs would make that difference yet System configuration Rails version 4 1 Ruby version 2 1 1p76 and 2 3 0 both show EST on my macbook,,"vipulnsward,vipulnsward",2016-05-27 05:37:57,2016-05-29 02:17:28
IS,Code is not reloaded in dev with Docker on OS X,Steps to reproduce 1 Install the Docker toolbox on OS X Here are my instructions to install it with brew 2 Clone I have created this dummy application specifically for this issue 3 Follow the short instructions to set up the project and have a server running 4 Open the application in your browser 5 While the server is running edit app controllers static controller rb and change 'hello world ' to 'coconut' 6 Reload the page in your browser Expected behavior The page should display coconut Actual behavior The page displays the old hello world text System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1 Workaround To make code reloading work for now in config environments development rb replace Restart everything and code reloading should work Additional comments I have a feeling that for the ActiveSupport EventedFileUpdateChecker file watcher the change event does not occur for docker machine shared files So it may be more about docker machine than Rails But since I am not versed enough in the EventedFileUpdateChecker internals I cannot say for sure Even if it is docker machine is fault since I cannot pinpoint the exact problem I would not know how to articulate it if I were to open an issue on their github repo We might also find a workaround in Rails or add a warning the Rails documentation That is why I am opening this issue here Any insight would be appreciated,,"gsamokovarov,fxn,jeremy,fxn,fxn",2016-05-28 19:33:30,2016-05-29 07:16:26
IS,Move new default initializers into their own directory,We have a number of new initializers that are generated for new apps to prevent old apps from hitting breaking changes They are These are not files that anyone is likely to edit by hand on a new app so they should not litter the top initializers directory Let is move all these into config initializers new framework defaults,,"dhh,dhh,prathamesh-sonpatki,dhh,prathamesh-sonpatki,dhh,dhh",2016-05-28 13:41:25,2016-05-29 15:35:52
IS,Running rails new with skip active record ignores database option,Steps to reproduce Run rails new todo app database mysql skip active record also tested with postgresql Check freshly created app is Gemfile Expected behavior Gem mysql2 should be present in the Gemfile Actual behavior Gem msql2 is missing in the Gemfile System configuration Rails version 4 2 6 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin14 Both pg and mysql2 gems are ruby not rails specific gems In my opinion installing rails without activerecord has nothing to do with database driver as you might want to use different ORM Please let me know what do you think about it,,"vipulnsward,vipulnsward",2016-05-29 18:07:11,2016-05-29 18:36:04
IS,Mashal dump raises a TypeError since model errors details,Rails 5 introduces model errors details Since then model instances can not be dumped You can reproduce this with Rails 3 4 with this gem Without this feature it works fine,,"maclover7,vipulnsward,sgrif",2016-05-27 11:33:36,2016-05-30 18:06:34
IS,ActiveRecord composed of does not trigger converter on mass assignments hash assignment,Steps to reproduce Upgrading from Rails 3 we are running into issues with the current composed of implementation We are using an aggregation like for mapping custom ldap attribute names Expected behavior In Rails 3 we were able to assign attributes to it using mass assignment through a form or assign a hash using obj mapping firstname 'custom ldap FN attr' lastname 'custom ldap LN attr' Actual behavior This is broken now because of this block L259 that prevents the converter from being called May I ask if there is a reason not to call the converter first if defined Why had the behaviour of the aggregations changed How can I workaround this Thank you very much for looking into this System configuration Rails version 4 2 6 upgrading from 3 2 Ruby version 2 1 5,,"maclover7,sgrif,sgrif,sgrif",2016-05-31 13:29:33,2016-05-31 14:05:38
IS,Rails guides index,It seems that the Rails Guides index does not contain all the pages Let me give you two examples 1 Accessing we get the main page for Guides but this page does not include a link to Caching with Rails 2 Accessing we get the main page for Guides but this page does not include a link to Active Record and PostgreSQL Is there any other main index page sometimes I do not find all the information from main index page but I find information links using Google instead Any ideas Thanks,,"maclover7,vipulnsward",2016-05-31 15:02:57,2016-05-31 16:15:23
IS,Foreign key to different table in migration does not reverse correctly,Steps to reproduce A new feature was introduced in response to 21563 which allows a different table to be specified in a references migration where the foreign key column does not match the table it is referencing For example given two tables buildings and devices where devices have a location association which is a building The AR class might be What the reverse migration should be doing is looking for a foreign key for buildings but it seems to be ignoring the to table parameter on reverse System configuration Rails version Rails 5 RC1 Ruby version ruby 2 2 3p173,,maclover7,2016-05-27 15:38:43,2016-05-31 16:57:08
IS,rubocop complains about project generated by rails new rubocop test,Steps to reproduce I am aware that it may be in part or completely result in differences of opinion what kind of standards should be followed,,vipulnsward,2016-05-31 17:08:02,2016-05-31 17:10:18
IS,AR objects serialized are much larger in Rails 5,It seems when yaml serializing AR objects a lot of extra stuff is included in the dump that may not be necessary for reconstituting the objects resulting in very large dumps I do not recall this much stuff prior to the attributes API rewrite We are leveraging the attributes API and have a LOT of extra attributes I think the parts that directly references those attributes are ok like perhaps raw attributes and or values but all of the metadata about the attributes like the AttributeSet and delegate hash seem unnecessary Here is a gist of a particular class in ManageIQ where I just called EmsCluster first to yaml The real columns are everything you see in values the rest are the virtual attributes This is what we had discussed If you need any more info let me know I'm still trying to go back to an old version of our code where AttributeSet was not in the output but it is even there in Rails 4 2,,"rafaelfranca,sgrif,sgrif",2016-05-25 22:05:54,2016-05-31 19:00:50
IS,has many through validate false not being obeyed,Steps to reproduce at concat records records Array at Users marcalc rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activerecord 5 0 0 rc1 lib active record associations collection association rb 587 Apparently the method insert record is always being called with the arg validate true not obeying the relation is option validate false Maybe this should this be result insert record rec reflection validate should raise unless owner new record Expected behavior When posting a User new params user with role ids checkboxes it should ignore roles validation per validate false Actual behavior When posting a User new params user with role ids checkboxes I'm receiving a role related validation error System configuration Rails version 5 0 0 rc1 Ruby version MRI 2 3 1,,"maclover7,maclover7,sgrif",2016-05-24 23:10:30,2016-05-31 19:14:44
IS,Validation error details from restrict with error failure contain translation instead of key,Steps to reproduce I have a model with an association that has a restrict with error rule System configuration Rails version 5 0 0 rc1 Ruby version 2 2 4,,"maclover7,maclover7",2016-05-19 15:03:07,2016-06-01 09:27:57
IS,ActionDispatch ParameterFilter does not work properly with Array changes it to a Hash,Steps to reproduce Suppose you have a controller where you filter some data inside a collection of models System configuration Rails version 4 2 6 Ruby version 2 2 1,,matthewd,2016-06-01 12:29:24,2016-06-01 12:34:10
IS,assets precompile is connecting to db,Steps to reproduce RAILS ENV production rails assets precompile config application rb config assets initialize on precompile false Expected behavior precompile should not connect to db Actual behaviour attempting to connect to production db System configuration 5 0 0 rc1 Ruby version 2 2 4,,"rafaelfranca,rafaelfranca",2016-06-02 08:34:33,2016-06-02 09:23:12
IS,5 0 0 rc1 NotImplementedError raised when trying to update a column with a select not containing this column,Steps to reproduce tldr See this gist for the full example Expected behavior The update should update the requested column s as it does on 4 2 6 Actual behavior This currently raises NotImplementedError on 5 0 0 rc1 because our select does not include the column we want to update It completes without errors on 4 2 6 The column for the update is properly updated on 4 2 6 System configuration Rails version 5 0 0 rc1 Ruby version 2 2 5,,,2016-05-31 21:18:49,2016-06-02 15:36:59
IS,Date to formatted s bug,Hi all it seems like a little bug System configuration Rails version 4 2 6 Ruby version 2 2 3,,"maclover7,sgrif",2016-06-02 13:42:01,2016-06-02 15:49:34
IS,Studying the evolution of the Rails project,Hi there I'm a researcher studying software evolution As part of my current research I'm studying the implications of migrating an open source software project to GitHub for instance if the project succeed in attracting newcomers Rails was in my list To further analyze the impacts of Rails' migration we analyzed the git log commit history of your project in terms of number of contributions number of newcomers and number of contributors per month The following figure presents a temporal perspective regarding these three measures rails Given the numbers presented in the graphic we would like to ask Rails developers the following questions 1 What motivated the project to migrate to Github How do you evaluate the benefits of this migration 2 Does this snapshot make sense Did you find any inconsistency on the data 3 Do you have any internal policy to promote attract retain newcomers If so do them succeed 4 Why did the number of contributors increased after its migration to GitHub Was it expected Thanks in advance for your collaboration Gustavo Pinto PhD,,"fxn,rafaelfranca,rafaelfranca,fxn",2016-06-02 16:17:58,2016-06-02 16:33:21
IS,rails 5 db seed requires db migrate,Steps to reproduce rails db schema load rails db seed Expected behaviour run without asking for migration Actual behaviour asking to run migration before seed System configuration Rails version 5 0 0 rc1 Ruby version 2 2 4,,sgrif,2016-06-02 10:31:32,2016-06-02 18:52:11
IS,rails fails to parse erb in database yml whereas rake successfully parses,Steps to reproduce Change your database yml to this The file gets created in the right path after a bin rake db migrate but it looks in the wrong place Probably activerecord is not parsing ENV 'HOME' in database yml which is evaluating to a nil System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1,,"maclover7,sgrif",2016-06-02 06:31:38,2016-06-02 18:56:50
IS,Encoding error when converting UploadedFile to json with binary tempfile,Hey we have an issue with ActionDispatch Http UploadedFile and to json We are using the Gelf gem for logging to a Graylog2 instance After successful API calls to a file upload action Gelf errors in to json We traced the problem down to an instance of UploadedFile in Gelf is parameters hash which it tries to convert to JSON to send to the server The UploadedFile contains a Tempfile in binary mode which seems to be included in the JSON representation including its content The content from read is supposed to be encoded in ASCII 8BIT yet contains binary data Not really sure where the best place to fix this behaviour is Ruby is Tempfile Active Support is JSON or here but I thought UploadedFile for sure should not include the file is content in the JSON representation Imho Steps to reproduce Anyway here is a test case Expected behavior Not really sure either catch these conversion errors in JSON i e not convert the string to UTF 8 or do character replacement in there or simply not include the tempfile is content in the json Actual behavior System configuration Rails version We use 4 2 5 2 but I tested on master Ruby version 2 2 4,,"maclover7,sgrif",2016-06-02 12:33:54,2016-06-02 18:59:30
IS,Feature Make Javascript Standalone,As many other do we only use Rails as our API server The application does not serve any HTML Javascript nor CSS Based on our API documentation we maintain clients based on different technologies Objective C ReactJS etc It would be very nice to separate the ActionCable Javascript files and make them available as an NPM dependency allowing the clients to stay decoupled Also having an Objective C or Java client would be really the icing on the cake,,"rafaelfranca,rafaelfranca",2016-06-03 13:37:32,2016-06-03 13:43:04
IS,nokogiri requires Ruby version 2 3 1 9 2,Steps to reproduce gem install rails in Windows 10 pro Expected behavior Successful installation of Rails gem Actual behavior System configuration Rails version 4 2 6 expected to install Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x64 mingw32 Suggestions Although this issue was raised in another repo the workarounds suggested are for project purpose only which require one to explictly include it in project Gemfile A proper solution should be suggested If I may ask is it a problem with nokogiri or rails,,rafaelfranca,2016-06-03 11:38:53,2016-06-03 16:11:22
IS,ActionCable ignores namespaces,Steps to reproduce When the ActionCable is determining valid class names for connection it ignores namespaces To reproduce create a channel in a namespace and attempt to connect to it Expected behavior Given a Namespace ExampleChannel defined in app channels namespace example channel rb I expect to be able to call App cable subscriptions create Namespace ExampleChannel in order to subscribe to this channel Actual behavior Code fails with NameError uninitialized constant ExampleChannel This happens because the channel classes method attempts to get the class names of all valid channels here L75 This in turn uses the channel class names method here L23 which converts the basename of all the channel files into camelized names Finally the original channel classes method attempts to constantize the converted basename which will not work because the it will be missing the namespace The channel class names function should not use basename and instead should be more aware of the absolute channel path For the sake of consistency I recommend something like this In ActionCable Engine here L39 add line,,"maclover7,maclover7",2016-05-31 17:46:27,2016-06-03 19:06:03
IS,polymorphic has many with default scope error,Steps to reproduce I think there is an issue in polymorphic associations that try to use a default scope Create any polymorphic relationship and try to use a default scope on the has many It happened to another guy in a similar case Expected behavior Default scope should be working in my example account notes should be ordered in reverse order Actual behavior The association default scope is seems to be ignored System configuration Rails version 4 2 6 Ruby version,,vipulnsward,2016-06-05 14:22:01,2016-06-05 17:54:15
IS,add index migration with to tsvector fails,Steps to reproduce Create a migration like this and run it against a PostgreSQL database System configuration Rails version 4 2 6 Ruby version 2 3 0 If it is not possible the doc should be changed,,"kamipo,vipulnsward",2016-06-04 05:17:07,2016-06-05 18:52:20
IS,inverse of parent not finding children after child parent parent,I'm using Rails 4 2 5 2 and inverse of relationships are not behaving as expected Steps to reproduce Expected behavior I would expect p children to return Child id nil parent id nil created at nil updated at nil Actual behavior I'm getting System configuration Rails version 4 2 5 2 Ruby version 2 3 0 Update I just tried this on a new rails 5 0 0 rc1 app and I'm getting the same behavior,,maclover7,2016-06-06 14:18:00,2016-06-06 20:15:54
IS,option groups from collection for select fails with NoMethodError undefined method map' for,Steps to reproduce System configuration Rails version 4 2 6 Ruby version jruby 9 1 2 0 2 3 0 2016 05 26 7357c8f Java HotSpot TM 64 Bit Server VM 24 71 b01 on 1 7 0 71 b14 jit mswin32 x86 64,,maclover7,2016-06-06 07:03:45,2016-06-07 01:11:36
IS,Instance from docs does not work,mattr accessor not works as expected Steps to reproduce from docs Actual behavior NoMethodError undefined method 'hair colors ' for Person Class System configuration Rails version 4 2 6 Ruby version 2 2 3,,"robin850,robin850",2016-06-07 11:12:54,2016-06-07 14:35:51
IS,Association not loaded when included as a concern,Steps to reproduce I have a Property model among others that include the following concern System configuration Rails 4 2 6 Ruby 2 3 1,,"sgrif,sgrif,sgrif",2016-06-07 16:20:01,2016-06-07 19:10:18
IS,ActiveRecord Integer column validation,Steps to reproduce When creating a validation on a model such as validates some value presence true numericality integer true greater than 1 if some value 1 Create a validation on an ActiveRecord model column of type integer value 2 Create an object from the model ModelX create some value 0 5 Expected behavior I would expect that validation would fail Actual behavior Validation passes and object is created System configuration Rails version Rails 4 2 6 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin14,,"sikachu,Edouard-chin,vipulnsward,sgrif",2016-06-03 19:27:22,2016-06-07 19:47:46
IS,SQLite3 ConstraintException assignments created at may not be NULL,Steps to reproduce Models Expected behavior It should auto populate the created at field Actual behavior It does not auto populate the created at field System configuration Rails version 4 2 6 Ruby version 2 1 2p95,,"maclover7,vipulnsward",2016-06-04 08:12:10,2016-06-07 22:24:30
IS,ActionCable complains about class being removed from module tree,Steps to reproduce cannot reproduce reliably Expected behavior ActionCable would work normally Actual behavior System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1,,matthewd,2016-05-23 12:45:51,2016-06-08 00:19:21
IS,rails db command to to load schema search path config when using postgresql,This is a feature request Steps to reproduce 1 Set the schema search path config in database yml my schema public 2 At the root of a rails app run rails db to start up a database console 3 When in the database console print the schema search path like this show search path Expected behavior System configuration Rails version Rails 4 2 6 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,maclover7,2016-06-08 13:04:12,2016-06-08 19:26:54
IS,Should we raise an error for an invalid option on migrations,Currently when creating a migration and the user specifies an invalid option the migration silently succeeds and does not notifiy the user that the option is meaningless Given this migration for postgres The schema is correct and does not impose a limit 5000 on the description column However I find the developer experience to be confusing as it does not warn that there is no possible limit constraint on a text column This can lead to issues like a developer expecting a limit when there is none Proposed solution Raise an error where there are invalid options given in migrations Instead of silently succeeding on rake db migrate throw a ActiveRecord InvalidDatabaseConstaint or something similar This way the user is made aware of mistakes they may have made I am happy to work on this issue if there is consensus that this is a positive change Please post your thoughts here Thanks smile,,"rafaelfranca,rafaelfranca",2016-06-09 02:36:59,2016-06-09 02:51:10
IS,Puma unresponsive when there is more than one ActionCable channel,Steps to reproduce I have made a repository detailing the issue here If you checkout 879fde one channel and start the server everything works wonderfully Shutdown the server then checkout edc493 two channels After a number of page refreshes the request will hang If you run netstat atn grep 3000 you will see something like this Expected behavior Should not hang if more than one channel is being used Actual behavior Puma server hangs in development Status for each thread worker is set to CLOSE WAIT Have to kill the processes manually System configuration Rails version 5 0 0 rc1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15 I have tried this on three different machines two Mac one linux and the problem occurs on all three Please let me know if there is any more information you require from me,,"jeremy,matthewd",2016-05-23 11:11:30,2016-06-09 08:25:34
IS,activesupport 4 2 6 lib active support dependencies rb 274 in require' cannot load such file sawyer LoadError,The original issue was reported at I have uninstalled gentoo packages and run bundle install but it did not help System configuration Rails version Ruby version dev lang ruby 2 0 0 p648 dev lang ruby 2 1 10,,,2016-06-09 14:19:18,2016-06-10 11:46:45
IS,jQuery 3 Released please upgrade jquery rails gem,,,kaspth,2016-06-10 10:27:02,2016-06-10 13:16:47
IS,Calling model valid will unexpectedly freeze strings as a side effect,In Rails 5 0 0 rc1 and earlier although I do not know how far back it goes assigning a string as the value of an attribute can lead to that string being indirectly frozen after calling valid This can cause unexpected behavior I will give a specific example of how it causes a bug with shoulda matchers and Rails' own Postgres adapter is handling of money types but there are no doubt similar cases Steps to reproduce Take a Product model with a sku string attribute Calling product valid will freeze strings used as part of assignments which is a side effect that can break other code,,maclover7,2016-06-10 16:49:34,2016-06-10 19:33:09
IS,BUG store accessor attributes do not work with the new Attributes API,Steps to reproduce System configuration Rails version 5 0 0 beta3 Ruby version 2 3 1,,"maclover7,sgrif,sgrif,rafaelfranca,rafaelfranca",2016-06-10 22:16:07,2016-06-11 02:15:02
IS,Action Mailer Allow setting domain part of Message ID,Currently the header field Message ID is generated without control The blog post Tips Tricks Avoiding Gmail spam filtering when using Ruby on Rails cites RFC 2822 section 3 6 4 claiming that the format should be uid sendingdomain com The message identifier msg id is similar in syntax to an angle addr construct without the internal CFWS message id Message ID msg id CRLF msg id CFWS id left id right CFWS So as sometimes mail relays are used it d be useful to be able to set the domain part of that address used in the field Message ID,,"maclover7,maclover7",2016-06-10 22:55:48,2016-06-11 17:33:43
IS,Getting Started Guide Difference between Ruby versions,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Section 5 2 has this line of code form for article url articles path do f Expected behavior Tell us what should happen The page should load normally In source code the form should be updated to look like this form action articles accept charset UTF 8 method post Actual behavior Tell us what happens instead The following error displays E BitBucket rails blog tuts blog app views articles new html erb 3 syntax error unexpected tIDENTIFIER expecting keyword end or article url articles path do f safe a System configuration Rails version 4 2 6 Ruby version ruby 2 2 4p230 2015 12 16 revision 53155 Solution After modifying the code to the following it works form for article url articles path do f I suspect this is due to changes in the Ruby source code maybe forgoing backward compatibility in newer versions of Ruby Based on this stack overflow post 17888858,,"rafaelfranca,georgeclaghorn",2016-06-13 02:23:16,2016-06-13 02:26:23
IS,Update Active Job guide with ApplicationJob instead of ActiveJob Base,ActiveJob jobs will inherit ApplicationJob in Rails 5 rather than ActiveJob Base after We need to update with this change Tagging as it good first patch heart,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-06-13 03:35:31,2016-06-13 04:23:27
IS,ActiveSupport looks for application records table when there is no such table,Steps to reproduce Clone git github com paneer tikka rails5bug git Follow README Expected behavior rails db seed should succeed without having to specify self table name on the model Actual behavior db seed goes looking for a table application records which does not exist and then crashes System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15 Tagging sonpatki as requested here,,prathamesh-sonpatki,2016-06-13 06:20:49,2016-06-13 06:44:40
IS,json fields in AR 5,Hello I'm using rails 5 0 0 rc1 with ruby 2 2 5p319 I have created a json in my database When I rename my field in singular I can display my field e g User first relation Regards,,sgrif,2016-06-13 11:05:26,2016-06-13 13:08:04
IS,Alternative sql for distinct count query performs much better,Activerecord distinct count performs very poorly on large tables An alternative sql query performs significantly better 50x I'm no sql expert but is there any reason for not using the below sql for the underlying wouldistinct count query Steps to reproduce System configuration Rails version 4 2 6 Ruby version 2 3 1,,"sgrif,sgrif",2016-06-13 14:23:12,2016-06-13 14:45:31
IS,Could not find compatible versions for rack,Expected behavior Gem rack works correctly via inline installation however when it is via Gemfile or the dependence of the rails 5 0 0 rc1 it says not find the gem Actual behavior Bundler could not find compatible versions for gem rack In Gemfile rails 5 0 0 rc1 was resolved to 5 0 0 rc1 which depends on actioncable 5 0 0 rc1 was resolved to 5 0 0 rc1 which depends on actionpack 5 0 0 rc1 was resolved to 5 0 0 rc1 which depends on rack 2 x Was removed Gemfile lock and made bundle install again remembering what was done the bundle update before action System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0 and 2 2 2,,"sgrif,rafaelfranca",2016-06-13 14:44:23,2016-06-13 14:50:39
IS,has secure password doesn t always validate presence of password,Steps to reproduce Create a record for a model that has secure password with a password that is blank but is not nil or empty System configuration Mac OS X 10 11 3 15D21 Rails version 5 1 0 alpha master 8f8a07d noticed while using 4 2 2 Ruby version 2 2 3p173 2015 08 18 revision 51636 x86 64 darwin15,,"maclover7,sgrif",2016-06-12 12:51:28,2016-06-13 14:52:50
IS,Bug in ActionView is distance of time in words when included outside of rails,Steps to reproduce Call DateHelper from outside rails like so require 'action view' include ActionView Helpers DateHelper require wouldate' starttime DateTime new 2014 6 2 6 6 6 endtime DateTime new 2016 6 2 6 6 6 wordy time ActionView Helpers DateHelper distance of time in words starttime endtime Expected behavior It should return '2 years' as per Actual behavior It throws an error in date helper rb david David Craddocks MBP w bug in action view bundle exec ruby bug in action view rb Users david rbenv versions 2 2 3 lib ruby gems 2 2 0 gems actionview 4 2 6 lib action view helpers date helper rb 111 in block in distance of time in words' undefined method acts like ' for 2014 06 02 07 06 06 0100 Time NoMethodError from Users david rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 4 2 6 lib active support core ext object with options rb 67 in call' from Users david rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 4 2 6 lib active support core ext object with options rb 67 in with options' from Users david rbenv versions 2 2 3 lib ruby gems 2 2 0 gems actionview 4 2 6 lib action view helpers date helper rb 82 in distance of time in words' from bug in action view rb 6 in main ' System configuration OSX 10 11 15 Rails version This is in the 'actionview' 4 2 6 gem which is included outside of rails Ruby version 2 2 3 It works without problem for dates up to 2 years difference The error then goes away for 2 years difference when including this line require 'active support core ext object acts like' But I do not think I should need to do that manually,,prathamesh-sonpatki,2016-06-10 21:04:35,2016-06-13 14:58:53
IS,Setting from some string fails when eagerly loading an association,Steps to reproduce Assume a codebase with the following simple data model,,kamipo,2016-03-14 18:58:29,2016-06-13 15:03:38
IS,ActiveSupport LoggerThreadSafeLevel does not work with stdlib Logger without monkeypatching,In thread safety was introduced but requires the target class to implement code to call an after initialize method if it exists This means that if you are setting the Rails logger to Then you cannot use logger silencing with your logger It was discussed in the contributor room It was decided that we should implement this behavior automatically and that loggers should not have to implement custom initializers with boilerplate to get this behavior to work cc,,"schneems,schneems,rafaelfranca,schneems,carlosantoniodasilva,carlosantoniodasilva,schneems,carlosantoniodasilva,schneems,carlosantoniodasilva,schneems,schneems,rafaelfranca,schneems,rafaelfranca",2016-03-21 13:52:30,2016-06-13 15:04:20
IS,Incorrect message when mapping integer with invalid limit to PostgreSQL type,Use an invalid limit when creating or updating an integer column with postgres This should be 'Use a numeric with scale 0 instead',,,2016-06-13 16:18:40,2016-06-13 17:03:33
IS,locale initializer is missing in rails 5,Steps to reproduce In previous versions of rails there was an by default commented line in config application rb that made it very clear how the default English locale setting could be overridden for any app Actual behavior It is now harder to figure out where to place locale settings compared to earlier versions of Rails System configuration Rails version 5 0 0rc1,,"maclover7,dhh,dhh,dhh,utilum,prathamesh-sonpatki",2016-06-14 12:03:01,2016-06-14 13:58:34
IS,why the class of model is datetime field is Time class not ActiveSupport TimeWithZone Object when use ActiveRecord in sinatra,why the class of model is datetime field is Time class not ActiveSupport TimeWithZone Object when use ActiveRecord in sinatra Wheather this is ActiveRecord is default and there is a configuration where ActiveSupport TimeWithZone is automatically returned instead of Time thx,,"maclover7,sgrif",2016-06-14 15:52:59,2016-06-15 16:06:47
IS,ActiveRecord HABTM resaves children even if autosave is false,Steps to reproduce Expected behavior Tag save should only be called once when a tag is created Actual behavior Tag save is called the second time with all the callbacks defined when item tags tag executes System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1 the reason for this behavior is d849f42b4ecf687ed5350f5a2402fb795aa33aac which switched from saving only if the record i e tag is a new record to saving it anyways this causes some inconveniences when the class has some business logic attached to update process updating timestamps premoderation caching etc that fires each time the item tags tag is executed I understand that the change was made consciously but this causes aforementioned issues,,"maclover7,sgrif",2016-06-13 15:12:17,2016-06-15 16:08:28
IS,Slight error in guide,On database views is this example I'm pretty sure the count s at the end are the wrong way round,,"maclover7,senny",2016-06-14 21:29:51,2016-06-15 21:01:29
IS,Validates uniqueness with case sensitive false,Mac OS X El Capitan Ruby 2 3 1 Rails 5 0 0 rc1 pg 0 18 4 or pg 0 19 pre I have model IpAddress But why it use LOWER function case sensitive is set to false and this function is not needed to be used here,,rafaelfranca,2016-06-15 18:25:47,2016-06-15 21:06:24
IS,ActiveModel Errors add not behaving as expected with symbol message,Came across this when I was debugging 25410 Steps to reproduce Here is the reproduction script Expected behavior post errors name should be is too long maximum is 5 characters Actual behavior post errors name is one is too long maximum is 1 character other is too long maximum is count characters System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1,,morgoth,2016-06-16 11:50:48,2016-06-16 13:27:28
IS,config action controller include all helpers false is not respected when set in initializer file,Steps to reproduce Move the option config action controller include all helpers false from application rb to an initializer file Expected behavior All helpers should not be included for each request just mentions that the option needs to be set but does not specify that it cannot be set in an initializer Actual behavior The configuration option is ignored and all helpers are loaded System configuration Rails version 4 2 6 Ruby version 2 2 4,,"rafaelfranca,fxn",2016-06-16 14:59:12,2016-06-16 15:12:49
IS,merge clobbers query conditions ActiveRecord SpawnMethods,Steps to reproduce System configuration Rails version Rails 4 1 14 2 Ruby version ruby 2 1 2p95,,rafaelfranca,2016-06-16 14:55:31,2016-06-16 15:30:10
IS,sanitize helper does not work with custom styles in tag style,sanitize does not process tags style correctlly if it contain custom styles for instance all webkit prefix works fine a href style display inline block text decoration none text align center background color 3AAEE0 color ffffff target blank a Ruby 4 2 6,,rafaelfranca,2016-06-16 19:37:40,2016-06-16 20:05:17
IS,db structure load silently fails on SQL error,While I love psql for fun and profit it fails without warning in Rails When loading a file using f psql returns a zero code aka no error on error preventing pstgresql database tasks from signaling that there is an error This hides bad things in structure sql L62 That command needs to include v ON ERROR STOP 1 as an argument to psql so that the db rake tasks using psql with the f flag will fail on non zero return codes,,arthurnn,2016-02-23 00:56:19,2016-06-17 00:07:27
IS,ActionDispatch Journey Router visualizer do not work for me,env Users name rvm gems ruby 2 2 0 blog gems rails 4 2 6 I want output the router DFA struct in my rails app So I add code in simple controller How can I make the code work Need require some gems Thank you very much,,"rafaelfranca,rafaelfranca",2016-06-17 02:53:22,2016-06-17 02:55:45
IS,accept nested attributes not working without simple token authentictaion gem,Steps to reproduce 1 Create new project in rails 5 2 Create models rails g model user username string rails g model product name string user id integer 3 Create relationship b w models Class User has many products accepts nested attributes for products Class Product belongs to user 4 Gemfile is gem 'annotate' gem wouldotenv rails' gem 'mysql2' gem 'pg' gem 'puma' ' 3 0' gem 'rails' ' 5 0 0 rc1' ' 5 1' gem aredis' ' 3 0' gem 'rack cors' require 'rack cors' gem 'tzinfo data' platforms mingw mswin x64 mingw jruby gem 'annotate' gem 'awesome print' gem 'better errors' gem 'binding of caller' gem 'byebug' platform mri gem 'pry' gem ispring' gem ispring watcher listen' ' 2 0 0' gem 'web console' 5 Go to terminal and run following commands data user username test products attributes name p1 name p2 User create data user Expected behavior User and products should be created Actual behavior ROLLBACK Error ActiveRecord RecordInvalid Validation failed Products user must exist System configuration Rails version 'rails' ' 5 0 0 rc1' ' 5 1' Ruby version 2 3 0,,sgrif,2016-06-17 09:10:49,2016-06-17 10:24:23
IS,Booting puma shows WARNING Detected 21 Thread s started in app boot,Steps to reproduce I'm just spinning up a brand new Rails 5 project to kick the tyres and find out what is new It comes with puma by default which is awesome and saves me installing it later Straight out of the box it works fine Then I follow the Heroku guidelines for configuring it which essentially boils down to uncommenting the following lines in config puma rb The bit that bothers me is the warning about multiple threads in case that was not clear If I were to hazard a guess I would say whatever is new in Rails 5 that has introduced the dependency on listen is responsible for this but I do not know what that is I also do not know if it needs its threads restarted on worker boot or whether Rails already handles that correctly automatically It would be ace if between you and the Puma team you could figure out how to elide the warning I do not like ignoring warnings Having written this up I suspect I should be submitting an issue to the Rails repo instead but since it is now such little effort to do so I'm going to flag it up here too Expected behavior I expect a brand new Rails app configured to run in a popular deployment scenario to boot with zero warnings Actual behavior In reality with what I believe is a fairly standard deployment configuration the Rails app boots with several warnings as shown above which is a suboptimal new user experience System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1,,"schneems,schneems,schneems,schneems",2016-06-03 04:27:46,2016-06-17 14:19:57
IS,Controllers and models do not reload in dev with Puma Workers enabled,Steps to reproduce 1 Create a new Rails 5 0 0rc1 app 2 Create a dummy route controller and controller action 3 Uncomment the workers ENV fetch WEB CONCURRENCY 2 line from puma rb 4 rails server 5 Visit your action 6 Introduce an exception into the action 7 Re visit the action Expected behavior The new exception that was introduced should be raised Actual behavior The page loads fine and the new code added to the action is ignored System configuration Rails version 5 0 0rc1 Ruby version 2 3 1,,"maclover7,prathamesh-sonpatki,schneems,schneems,schneems,schneems,schneems,matthewd,schneems,schneems,schneems,schneems,schneems",2016-05-12 02:12:00,2016-06-17 14:19:57
IS,Ca not close websocket connection,I can not seem to find any documentation on how to close a websocket connection from the client side I really need help with this if anyone can help me it would be greatly appriciated This is my client side code,,"vipulnsward,maclover7,maclover7",2016-06-16 04:33:42,2016-06-17 15:03:18
IS,Rails not reading the first char of fixture name,Hey guys I'm getting a very strange error in my fixtures I generate a model called User normally rails generate model User But when I execute my tests rake test It returns the error Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15 Rails version 4 2 6,,"matthewd,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn,fxn",2016-06-06 17:48:02,2016-06-18 16:11:35
IS,Error while trying to run a migration wrong number of arguments given 2 expected 0 1,Steps to reproduce Tried to run this migration System configuration Rails version 5 0 0rc Running PostgreSQL Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"maclover7,maclover7",2016-06-19 13:05:03,2016-06-19 14:37:13
IS,Doubt about relation,I'm learning Ruby on Rails and I'm in doub about relations I have two tables animal and reproduction I want my table reproduction have an association with table animal to be as father and mother Every reproduction can generate one or more than one animal how should I set this in my migration and models I searched for this but did not find anything about Thanks,,rafaelfranca,2016-06-20 01:17:14,2016-06-20 01:25:25
IS,Change need to rails documentation,Steps to reproduce Please Follow this link to know the problem and check view code of listing all articles available here listing all articles Expected behavior change the code on line no 7 to It will helpful to beginners System configuration Rails 4 2 1 ruby 2 0 0,,guilleiguaran,2016-06-20 04:22:17,2016-06-20 05:09:58
IS,Bug ActionCable on API only application does not work on Heroku but normal application does,I realize this could be a Heroku issue but it is possible this could be resolved here Steps to reproduce Create a Rails application using the skip sprockets skip javascript skip turbolinks api flags and make any example ActionCable channel and deploy to Heroku Create a Rails application without using the skip sprockets skip javascript skip turbolinks api flags and make any example ActionCable channel and deploy to Heroku Expected behavior Both should work Actual behavior The one made without the api flag will work the one with will not On Heroku for the one that does not work the request to cable never even shows up in the logs My guess is there is some exclusion of middleware on the API app here that Heroku needs Also this issue seems confined to Heroku I was able to get it to work on Dokku which should be using the same build packs System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0,,,2016-06-20 08:16:36,2016-06-20 10:08:08
IS,rake db schema load not populating schema rb file,Steps to reproduce rails db create rake db migrate rails db schema load db chema load trace rails db schema load trace Invoke db schema load first time Invoke environment first time Execute environment Invoke db load config first time Execute db load config Invoke db check protected environments first time Invoke environment Invoke db load config Execute db check protected environments Execute db schema load initialize schema migrations table 0 0023s initialize schema migrations table 0 0017s Actual behavior My chema rb file does not change I tried to delete the database and create again several times add migrations or edit tables The schema rb file always is the same ActiveRecord Schema define version 0 do end System configuration Rails version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux Ruby version Rails 5 0 0 rc1 Database Mysql sorry it was some bug of RubyMine not rails working fine closing rubymine and working with vim,,,2016-06-20 10:38:01,2016-06-20 10:49:03
IS,Actioncable Allowed Request Origins Ignores p flag in 5 0 0 rc1,Steps to reproduce Create a new rails project with an actioncable channel,,"maclover7,prathamesh-sonpatki,jeremy,maclover7,jeremy,maclover7",2016-06-15 20:43:18,2016-06-20 15:03:11
IS,Ca not set session in controller test http requests,Steps to reproduce I generated a new rails 5 0 0 rc1 app along with a home controller and a sessions controller Actual behavior Keyword arguments appear to be ignored unless you inherit from ActionController TestCase System configuration Rails version 5 0 0 rc1 Ruby version mri 2 3 0p0,,"rafaelfranca,prathamesh-sonpatki,rafaelfranca,eileencodes,prathamesh-sonpatki",2016-06-13 20:56:48,2016-06-21 07:11:47
IS,ActiveJob undefined method job id,Steps to reproduce intermittent issue Expected behavior I converted my resque workers into ActiveJob workers and they are working fine in development Actual behavior when I SomeJob perform later args the error states undefined method 'job id ' Steps I have Tried In the console I tried to flush the Redis DB and for some reason that worked for one job and then it failed This works fine in development System configuration Rails version 4 2 5 1 Ruby version 2 2 2 Resque version 1 26 0 This is the exception being thrown on resque web,,"maclover7,maclover7",2016-06-21 15:30:23,2016-06-21 16:19:11
IS,Cannot find certain keys in errors Rails 5 0 0 rc1,Steps to reproduce Make a model with length validations For instance validates name length in 2 25 Test against this model either in a test or console by inserting a too long name that is over 25 characters Call errors added name too long method on the validated object Expected behavior The method should return true Actual behavior It returns false System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0 This happens also for too short and maybe for some others too In the screenshot you can see that the data is actually there but the added method is unable to see it Also worth noting that the other key called invalid is accessible screenshot from 2016 06 16 00 57 38,,"rafaelfranca,maclover7,morgoth,morgoth,rafaelfranca",2016-06-15 21:59:00,2016-06-21 19:31:34
IS,ActiveModel exclusivity validation does not work when value is nil rails console,Steps to reproduce Create a model that validates exclusivity with a lambda as your in condition I'm guessing this is because in the general case the field will be a blank string from web forms but it did throw me off trying to work in console for a while Expected behavior The model should validate since nil is not in the exclusion list Actual behavior Ruby raises an exception because nil cannot be passed to include System configuration Rails version 4 2 6 Ruby version 2 3 1 my gem path says the gem is installed for 2 3 0 but my shell says I'm using 2 3 1,,"maclover7,maclover7,maclover7,rafaelfranca",2016-06-21 16:41:46,2016-06-21 20:44:23
IS,Should the Raw template handler render HTML safe strings by default,This is related with TL DR in Rails 5 we changed the default template handler from ERB to Raw That means that render 'foo js' where foo js is not going through the ERB handler anymore but it is rendering HTML unsafe string At first it seems dangerous to mark raw templates as html safe but I can not see any problem that would be caused by this change that would not be caused by users blindly marking these render call as html safe cc security,,"rafaelfranca,rosenfeld,matthewd,rosenfeld,spastorino,sgrif,eileencodes,rosenfeld,rosenfeld,rosenfeld,rosenfeld,rosenfeld,rosenfeld,rosenfeld,rosenfeld,rosenfeld",2016-05-10 05:36:05,2016-06-21 21:15:34
IS,actioncable not connected on first time user login on hrome and,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,rafaelfranca,2016-06-21 22:03:33,2016-06-21 22:25:52
IS,Rails 4 2 6 boot fails under Ruby 2 4 0preview1,Steps to reproduce 1 rails new test app 2 cd test app 3 rails s Expected behavior Run Rails server Actual behavior It fails on this System configuration Rails version 4 2 6 included 4 2 stable branch Ruby version 2 4 0preview1,,maclover7,2016-06-21 22:47:17,2016-06-22 01:19:44
IS,how to read uncached data,Steps to reproduce I have a model called Bid and there are a few existing bids in my local database 1 Start rails console 2 Bid all returns all bids 3 Delete all bid data in database directly 4 I have tried three ways to read uncached data Bid uncached Bid all ActiveRecord Base uncached Bid all and Bid all reload they all return full bids data And in console it always prints CACHE 0 0ms SELECT bids FROM bids ORDER BY bids updated at DESC which indicates results are cached data Expected behavior Return empty array Actual behavior Return cached data System configuration Rails version 4 2 6 Ruby version 2 3 0,,"maclover7,maclover7,rafaelfranca",2016-06-21 13:20:39,2016-06-22 01:48:04
IS,Getting an stack level too deep when testing on 2 4,Rails 4 2 6 booting Discourse on Ruby head,,"SamSaffron,vipulnsward,vipulnsward,SamSaffron,jeremy,koic,jeremy,rafaelfranca,rafaelfranca",2016-05-24 01:20:04,2016-06-22 06:26:01
IS,On terminal ruby rails error,Last login Wed Jun 22 10 27 53 on ttys004 System Library Frameworks Ruby framework Versions 2 0 usr lib ruby 2 0 0 universal darwin15 rbconfig rb 213 warning Insecure world writable dir usr local in PATH mode 040757 System Library Frameworks Ruby framework Versions 2 0 usr lib ruby 2 0 0 universal darwin15 rbconfig rb 213 warning Insecure world writable dir usr local in PATH mode 040757 System Library Frameworks Ruby framework Versions 2 0 usr lib ruby 2 0 0 universal darwin15 rbconfig rb 213 warning Insecure world writable dir usr local in PATH mode 040757,,rafaelfranca,2016-06-22 16:22:43,2016-06-22 16:25:53
IS,On terminal ruby error,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior when ever i do open my terminal I do see the error Actual behavior Last login Tue Jun 21 22 21 33 on console System Library Frameworks Ruby framework Versions 2 0 usr lib ruby 2 0 0 universal darwin15 rbconfig rb 213 warning Insecure world writable dir usr local in PATH mode 040757 System Library Frameworks Ruby framework Versions 2 0 usr lib ruby 2 0 0 universal darwin15 rbconfig rb 213 warning Insecure world writable dir usr local in PATH mode 040757 System Library Frameworks Ruby framework Versions 2 0 usr lib ruby 2 0 0 universal darwin15 rbconfig rb 213 warning Insecure world writable dir usr local in PATH mode 040757 System configuration Rails version not installed Ruby version ruby 2 0 0p648,,rafaelfranca,2016-06-22 16:32:19,2016-06-22 16:57:00
IS,Nested resources param id is repeated,Steps to reproduce Routes,,,2016-06-22 18:37:49,2016-06-22 18:40:32
IS,error from rails new with version 5 0 0 rc2,Steps to reproduce System configuration Rails version 5 0 0 rc2 Ruby version 2 3 1,,rafaelfranca,2016-06-23 05:32:59,2016-06-23 05:40:58
IS,Trying to change colour of highlighted text in my view,I am trying to change colour of highlighted text in the onclick of a button I did this using a javascript function like But the issue is that the colour is not changing according to what I have added in the span above It changes randomly Any help is appreciated Thanks,,maclover7,2016-06-23 09:08:32,2016-06-23 13:30:27
IS,the problem about enum and method 'instantiate',Steps to reproduce I use gem isecond level cache' to cache my ActiveRecord instance And i used enum just like And then i get cache value directly through redis the value was Shop id 1 name 123 status expire and i look source code of second level cache and found out that it call the method instantiate by Shop so anybody can tell me how should i do think you System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0,,maclover7,2016-06-23 07:55:59,2016-06-23 14:38:18
IS,Add period at the end of error message,From UX perspective a full sentence is to end with a period see but this is not the case with Rails In we see that error messages are left hanging If the community agrees that we should add period at the end of error message in ActiveModel and everywhere else where applicable please 1 then I shall make a PR,,rafaelfranca,2016-06-23 17:25:22,2016-06-23 17:35:08
IS,undefined method append' for Model ActiveRecord AssociationRelation,Steps to reproduce rails new my app rails g scaffold post title string body text rails g resource comment post references body text rails db migrate Add has many comments to Post model Create a post and a comment In rails console System configuration Rails version rails 5 0 0 rc2 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux This is happening because of 9d79334a1de,,rafaelfranca,2016-06-23 18:14:55,2016-06-23 18:23:23
IS,ActionDispatch Regression between RC1 and RC2,I have a test case that ensures a controller is being properly protected by devise edit full backtrace System configuration Ruby 2 3 1,,maclover7,2016-06-23 18:14:22,2016-06-23 18:51:24
IS,Test failed after upgrading from Rails 5 rc1 to rc2,Any ideas on what change could be causing this test to fail Output from RSpec The action indeed works when testing manually and I get the redirected response but after upgrading from rc1 to rc2 this test failed All other tests passed The error happens in the line beginning with process Any ideas,,"rosenfeld,maclover7,rosenfeld",2016-06-23 20:58:09,2016-06-23 21:08:11
IS,ActiveRecord sets incorrect default value when using now,Steps to reproduce Using PostgreSQL adapter create a datetime column that has the default value now Here is a sample script reproducing the issue ar datetime default value bug tar gz Expected behavior The schema dump should have a now string as the default value Actual behavior It outputs the current timestamp System configuration ActiveRecord version 4 2 6 Ruby version 2 3 1,,"rafaelfranca,kamipo,rafaelfranca,rafaelfranca",2016-06-23 21:51:57,2016-06-23 23:38:12
IS,Rails swallows errors with vanilla setup,Steps to reproduce Expected behavior When I create a vanilla Rails application I would expect Rails to propagate all raised errors The reason why I'm creating an app in this way versus with rails new is because when I'm trying to reproduce Shrine issues I want the example to be a single executable file Actual behavior With this setup Rails swallows all errors and sets status to 500 which makes it difficult to write code because I do not know if I made a mistake in the controller action System configuration Rails version 5 0 0 rc2 Ruby version 2 3 0,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-06-24 02:32:26,2016-06-24 02:59:51
IS,AR has many through with distinct validation does not prevent duplication in join table,Steps to reproduce Expected behavior I'm expecting the AR validation check for uniqueness to prevent a duplicate entry being made in the join table car seats i e I expect only a single row to exist in the join table because it is the same relation I acknowledge I do not have a database unique constraint set but I wanted to ensure the AR validation was working on it is own maybe it requires the database constraint can not tell from docs and articles Actual behavior A duplicate row is created in the join table car seats System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0,,rafaelfranca,2016-06-24 04:24:31,2016-06-24 04:38:03
IS,ActiveJob DeserializationError Error while trying to deserialize arguments,Steps to reproduce rails new my app rails g scaffold post title string body text rails g scaffold comment post references body text rails g mailer comments submitted rails db migrate Change CommentsMailer submitted to cc,,"maclover7,kaspth,kaspth,kaspth",2016-06-24 19:53:07,2016-06-24 21:10:12
IS,select year fails when using include position true solution provided,Steps to reproduce,,"maclover7,maclover7,chancancode",2016-06-03 19:25:28,2016-06-25 02:58:24
IS,ActiveRecord no exception is thrown when invalid UUID value is supplied on update update attribute etc,Steps to reproduce 1 Use PostgreSQL 2 Create column of UUID type add column hypervisor blah uuid 3 Try updating blah column with invalid UUID value e g abcd 4 No error is thrown Instead NULL value is persisted in the database Actual behavior System configuration Rails version 4 2 5 1 Ruby version 2 2 2 2 3 1,,"maclover7,matthewd",2016-06-18 02:03:24,2016-06-26 10:30:24
IS,5 0 0 rc2 arender partial' returns an array of ActiveSupport SafeBuffer,Steps to reproduce I needed to render a view in a controller first then use it like 1 First respond with the view 2 Then broadcast it to ActionCable subscribers Code is like The problem is html was a pure string when using 5 0 0 rc1 but after upgrading to 5 0 0 rc2 it is now an array of ActiveSupport SafeBuffer 'Responding with the view' does not cause any problem but when 'broadcasting' subscribers receive an array as their data not html string Should not it be just a string Does it have something to do with 24929 Expected behavior html should be a string Actual behavior html is an array of ActiveSupport SafeBuffer System configuration Rails version 5 0 0 rc2 Ruby version 2 3 1p112,,"maclover7,rafaelfranca",2016-06-25 06:21:49,2016-06-26 18:25:12
IS,New app key must be 32 bits,Steps to reproduce Run rails s No more new app Expected behavior It should display my index Actual behavior It fails Here is what is going wrong img width 1426 alt capture d ecran 2016 05 28 a 21 18 13 src Can you help me Do not understand at all System configuration Rails version 5 0 0 rc1 Ruby version 2 4 0dev,,"maclover7,jeremy,schneems,vipulnsward,schneems,guilleiguaran,rafaelfranca,rafaelfranca",2016-05-28 19:22:14,2016-06-27 22:47:26
IS,Links in ActiveRecord README rdoc are broken,Learn more links in ActiveRecord README rdoc are broken,,rafaelfranca,2016-06-28 02:46:28,2016-06-28 02:49:59
IS,Provide HTML tag dynamic proxy,ActionView Helpers TagHelper provides tag and content tag for generating HTML tags but feel outmodded with both lots of positional parameters and assuming XHTML as the default I think we can fix both problems and reduce the API to a single proxy object in the vein of Builder The backwards compatible upgrade path here should be easy enough because TagHelper tag currently requires at least one parameter So if none is passed we can switch into this new mode,,"dhh,vipulnsward,dhh,vipulnsward,maclover7,vipulnsward,dhh,vipulnsward,rafaelfranca,kaspth",2016-05-30 13:42:22,2016-06-28 05:51:49
IS,MySQL and database url,Steps to reproduce Configure database using an URL with mysql protocol with something like this in database yml As far as I understand Rails tries to guess adapter name from protocol and guesses wrong Everything works fine when protocol is changed to mysql2 System configuration Rails 5 0 0 rc2 Ruby 2 3 0,,matthewd,2016-06-28 09:41:35,2016-06-28 14:41:38
IS,Rails 4 2 6 cannot use YAML as serializer of AR field,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Create an AR model class Model ActiveRecord Base serialize field YAML end Model create field my hash true Expected behavior No error thrown Actual behavior TypeError no implicit conversion of nil into String System configuration Rails version 4 2 6 Ruby version 2 1 6 AR use YAML load nil as a part of the calculation and YAML load nil is raising exception,,rafaelfranca,2016-06-28 08:18:49,2016-06-28 14:55:47
IS,scope to 'controller action' does not work,Steps to reproduce In routes rb add but now to is set in process path diff 46876897330259072a679792c5f45f99R1561 method which happens before scope options is merged and passed as params Thus Mapping does not know about to option passed with scope via format and anchor would have the same fate but via and format are saved by options delete key key and anchor uses options delete anchor true Should not all of them have the same behavior,,"maclover7,maclover7",2016-06-23 14:37:13,2016-06-28 19:22:25
IS,Just started 3 days ago getting ActionDispatch IllegalStateError for controllers rspec test with edge rails,Just started 3 days ago getting ActionDispatch IllegalStateError for controllers rspec test with edge rails Steps to reproduce Given you have a repo And you run the following rspec spec controllers posts controller spec rb 17 Then it will run without errors Now run bundle upgrade and you see the following gems were upgraded The total stacktrace is here System configuration Rails version Rails 5 1 0 alpha Before edge Rails c4cb6862babd2665a65056e205c2a5fd17a5d99d After edge Rails 66ebbc4952f6cfb37d719f63036441ef98149418 Ruby version ruby 2 3 1,,"matthewd,matthewd,codeodor,lucasmazza,lucasmazza,rosenfeld",2016-06-03 21:56:53,2016-06-28 20:37:38
IS,Time values not being typecast for where and find queries on a date field,I noticed this issue when I was getting inconsistent behaviour from passing find or create a Time object as the value for a query against a date field create type casts this value before saving but it seems find and where do not The problem can obviously be fixed by calling to date on the Time object beforehand or using a Date object in the first place but I believe the type casting behaviour should be consistent to avoid confusion Steps to reproduce View Test Case System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0p0,,,2016-06-10 18:05:03,2016-06-29 02:33:31
IS,Schema migrations in structure sql in single line multi value insert,Steps to reproduce Set schema format to sql and execute rake db structure dump Expected behavior I should have schema migrations in separate lines like so System configuration Rails version 5 0 0rc2 Ruby version 2 2 3 psql PostgreSQL 9 4 7 This is important for me because with one long line it is hard to see the diff,,"rafaelfranca,rosenfeld,rosenfeld",2016-06-24 07:15:24,2016-06-29 02:58:06
IS,Rails 5 0 0 rc2 rails generate channel creates JavaScript instead of CoffeeScript assets,Running the generate Channel command produces js files instead of coffee assets rails generate channel help,,"rafaelfranca,maclover7,prathamesh-sonpatki,rafaelfranca",2016-06-28 05:51:58,2016-06-29 06:03:54
IS,Has many through with nested attributes problem,Steps to reproduce I have associations Training has many Exercises through TrainingExercise and reverse I have also 7 muscle group scopes in Exercises Expected behavior I would like to have form with field type date from training and all 7 scopes from exercise and when button Send is clicked then save record to only Training and TrainingExercise Actual behavior Recently I have form with date and 7 fields type select with collection of each scope Just only date and only one exercise is saved into ActiveRecord I do not know how solve this Shortly I would like to freeze my model Exercise that anything could not be saved into it System configuration Rails 5 0 0 rc1 Ruby 2 2 5,,sgrif,2016-06-28 20:38:28,2016-06-29 14:06:58
IS,ActionCable remove lib assets compiled action cable js,Steps to reproduce Looking into ActionCable gem there is packaged lib assets compiled action cable js I might missing something important but it looks this file is used just for NPM repository and RoR itself does not use it at all I believe that the file is included in the ActionCable gem just by accident and therefore I propose to exclude it from the package Expected behavior lib assets compiled action cable js should not be included in gem Actual behavior lib assets compiled action cable js is shipped with the gem but not used,,"rafaelfranca,rafaelfranca",2016-06-30 12:57:52,2016-06-30 16:55:04
IS,streaming interrupted before complete with ActionController Live in Rails 5 for production environment,Sorry at the time being I do not have much details or a sample application to reproduce the issue but I was finally able to understand that my streamed response was interrupted after the first writes after I upgraded the application to Rails 5 Unfortunately it only happens in my production and staging servers not under the development environment I have to sign off for today but I would love to get any input that might help me digging on what could be causing this issue in production with Rails 5 Any ideas on what has been changed in Rails 5 that could be causing this issue This is not related to nginx since I tried using curl directly to localhost port and I get the same error as soon as the controller has to wait for some more data the connection is interrupted so I only see the output of the first stream write calls The action finishes without any errors so I do not know what could be happening If I can not think of anything that could fix this tomorrow morning I'm afraid I will have to downgrade to Rails 4 until I'm able to figure out what is happening Please let me know if you think you can help with this issue Thanks,,"rosenfeld,rosenfeld,rosenfeld,tenderlove,rosenfeld,eileencodes,rosenfeld,rosenfeld",2016-06-29 21:54:25,2016-06-30 16:55:56
IS,class wouldisabled' in the f select does not work,actionview 5 1 0 alpha Why f select does not want to set value wouldisabled' to the class key The more that wouldisable' works f select country COUNTRIES map k v v k class disabled disabled true rendered as html select class disabled disabled name user country id user country f select country COUNTRIES map k v v k class disabled disabled true rendered as html select class disable disabled disabled name user country id user country Can anyone explain me I did not find in the code where something starts to go wrong,,vipulnsward,2016-06-25 23:11:57,2016-06-30 17:14:31
IS,,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-06-30 18:36:28,2016-06-30 19:50:04
IS,railties v4 Rails Generators Base is missing require 'rails generators' declaration,Steps to reproduce dependency not being loaded Actual behavior exception raised b c dependency not being required System configuration Rails version v4 0 13 railties lib rails generators base rb L307 L307 Ruby version n a,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-06-30 22:26:25,2016-06-30 22:29:48
IS,ActionCable does not close its hijacked I O socket,Steps to reproduce 1 Start a web server using Phusion Passenger that opens a websocket connection 2 Refresh the page a few times Expected behavior There should never be more than 1 concurrent session when you run passenger status And when you close the website there should be 0 Actual behavior Sessions are leaked The amount of open sessions will steadily increase System configuration Rails version Rails 5 0 0rc2 and probably 5 0 0 too so sorry I did not know you guys were gonna release tonight Ruby version 2 3 Hey guys sorry I was doing some performance testing using Phusion Passenger today and I found this bug I assume it is in Puma as well though I do not know how to make Puma give that info I will follow up with a PR Some extra info According to the Rack spec it is the applications responsibility to close the hijacked I O socket after its done This should likely be done in ActionCable Connection Stream clean hijacked io,,maclover7,2016-06-30 22:22:57,2016-07-01 01:05:28
IS,Date to time does not respect Time use zone,Steps to reproduce,,"maclover7,maclover7,maclover7,maclover7,maclover7,maclover7,pixeltrix",2016-06-18 01:06:04,2016-07-01 08:54:26
IS,Postgres JSONB column is returned as string instead of hash in Rails 5 RC2,Steps to reproduce Running Rails 4 2 4 Upgraded to Rails 5 RC2 Dropped and recreated the database All tests that use JSONB column are failing because column is not being serialized into a hash anymore Coming back as a plain string I have been unable to find any information on the internet about this schema rb file shows that the column is jsonb Edit I looked at this issue some more It seems that using quotes in the migration script allows the default value to be created in Postgres as a string In Rails 4 we had this Which allowed the column to be created in Postgres correctly without quotes Everything works fine Expected behavior Postgres jsonb column should be serialized to hash Actual behavior Postgres jsonb column comes back as a string System configuration Rails version 5 0 0 rc2 Ruby version 2 3 0,,"sgrif,sgrif,sgrif,sgrif,sgrif,maclover7",2016-06-30 13:03:01,2016-07-01 12:08:36
IS,Active Record does not dump foreign key is referential actions with MySQL is ANSI QUOTES,Steps to reproduce 1 Prepare a schema in MySQL with a foreign key that has a referential action e g on delete cascade 2 Set your Active Record connection to use sql mode ANSI QUOTES 3 Dump the schema using rake db schema dump Expected behavior db schema rb should include on delete cascade option in add foreign key Actual behavior on delete option is missing If you work without sql mode ANSI QUOTES it is there Diagnosis Code to reproduce In the following line Active Record tries to parse referential actions out of show create table output but only expects this style of quoting not that one L895 System configuration Rails version Using rails 5 1 0 alpha from git at master 3fc5577 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15 MySQL version mysqld Ver 5 6 27 for osx10 10 on x86 64 Homebrew,,eileencodes,2016-06-06 14:33:20,2016-07-01 15:30:40
IS,5 0 Upgrade Guide should include support dropping for rails deprecated sanitizer,rails deprecated sanitizer is README says it will be supported until Rails 5 0 which is now released The activerecord deprecated finders gem had a mention in the Rails 5 upgrade guide removed support for activerecord deprecated finders gem should not this get one too,,maclover7,2016-07-01 16:58:23,2016-07-01 20:39:36
IS,activesupport 5 0 no longer installs on osx el capitan due to ruby 2 2 2 dependency,Steps to reproduce,,rafaelfranca,2016-07-01 20:58:54,2016-07-01 21:01:51
IS,config force ssl ignores hsts preload option,Steps to reproduce In your conf environments production rb set config force ssl true and set config ssl options hsts expires 15552000 subdomains true preload true Launched app in production mode and did a curl v Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen The returning Strict Transport Security header should read max age 15552000 includeSubDomains preload Actual behavior Tell us what happens instead Instead you get max age 15552000 includeSubDomains It appears config force ssl is ignoring the preload when it is creating the header System configuration Rails version 4 2 6 Ruby version 2 3 1p112,,rafaelfranca,2016-07-01 17:44:06,2016-07-02 01:59:53
IS,Could not find proper version of railties 4 2 6 When doing rails v,Steps to reproduce Just installed ruby 2 3 1 via rvm and made it as default Then installed rails After installation just checked the version and shows the following message ruby v ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15 rails v Could not find proper version of railties 4 2 6 in any of the sources Run bundle install to install missing gems Expected behavior It should say Rails 5 0 0 Actual behavior It says Could not find proper version of railties 4 2 6 in any of the sources System configuration Rails version Ruby version Mac version uname a Darwin Kannans MacBook Pro local 15 5 0 Darwin Kernel Version 15 5 0 Tue Apr 19 18 36 36 PDT 2016 root xnu 3248 50 21 8 RELEASE X86 64 x86 64,,"sgrif,sgrif,rafaelfranca",2016-07-01 12:07:33,2016-07-02 02:03:15
IS,truncate words method getting hung for specific text input in Rails 4 2,Steps to reproduce sample text p span Returns a checkbox tag tailored for accessing a specified attribute identified by span tt method tt span on an object assigned to the template identified by span tt object tt span This object must be an instance object object and not a local object It rsquo s intended that span tt method tt span returns an integer and if that integer is above zero then the checkbox is checked Additional options on the input tag can be passed as a hash with span tt options tt span The span tt checked value tt span defaults to 1 while the default span tt unchecked value tt span is set to 0 which is convenient for boolean values span p sample text truncate words n n 90 eg sample text truncate words 200 Expected behavior sample text truncate words 200 should return the entire string Actual behavior It just hangs the server without any output System configuration Rails version 4 2 Ruby version 2 3 1,,"vipulnsward,rafaelfranca,vipulnsward",2016-05-24 11:21:47,2016-07-02 03:41:23
IS,Backtrace silencing should happen even against a pure framework trace,When an exception is raised where the backtrace does not include user code we default to showing the whole thing That results in stuff like this,,"dhh,vipulnsward,matthewd,vipulnsward,vipulnsward,dhh,vipulnsward,matthewd,matthewd,vipulnsward",2016-05-31 16:15:14,2016-07-02 07:10:05
IS,Unable to test SSL routes with new keyword arguments,Steps to reproduce How can I mitigate this Nothing seems to be mentioned in edgeguides System configuration Rails version 5 0 0 rc2 Ruby version 2 3 1,,"maclover7,vipulnsward",2016-06-29 11:38:45,2016-07-02 10:07:39
IS,Getting Started guide commands for migration routes,Steps to reproduce On 5 Getting Up and Running wrote run bin rails routes Result Error Command 'routes' not recognized Should be bin rake routes On 5 5 Running a Migration wrote run bin rails db migrate Result Command wouldb migrate' not recognized should be bin rake db migrate I am new on Rails and trying to learn using this guide System configuration Rails version 4 2 6 Ruby version 2 3 1p112,,prathamesh-sonpatki,2016-07-02 10:38:48,2016-07-02 11:44:04
IS,Ca not get value of cookies in test file,Steps to reproduce I write tests for session helper the method is like System configuration Rails version 5 0 0 Ruby version 2 2 3,,prathamesh-sonpatki,2016-07-02 05:06:22,2016-07-02 11:46:46
IS,What does PG mean in AR Attributes documentation,In it has the following line array PG only specifies that the type should be an array What does PG mean I can not find any reference to the initials anywhere else My best guess is that the array param only applies to attributes which are not backed by a database column I'm happy to make a PR to clarify the docs if someone would explain it to me Thanks,,"sgrif,prathamesh-sonpatki",2016-07-03 01:39:38,2016-07-03 01:59:00
IS,Functional testing guides reference to,Steps to reproduce The functional test guides reference having access to controller request and response img width 496 alt screen shot 2016 07 02 at 10 11 08 pm src However the the majority of the section references to using Integration tests for controller tests which I do not think has access to those right img width 661 alt screen shot 2016 07 02 at 10 11 38 pm src Expected behavior Maybe a clarification around when these ivars are available,,vipulnsward,2016-07-03 02:12:01,2016-07-03 04:53:50
IS,attr accessor not accessible when using deliver later,Steps to reproduce When I try to send the email with deliver later than on the email template attr accessor is nil I am using devise invitable to invite users to app for that I want to add custom message on the email so my code looks like this When I am using only deliver then message is displaying on mailer but when I use deliver later attr accessor in nil on the mailer view Expected behavior attr accessor should be available on the email template when using deliver later Actual behavior Tell us what happens instead System configuration Rails version 4 2 6 Ruby version 2 2 1p85,,maclover7,2016-07-03 15:17:55,2016-07-04 01:53:47
IS,Ca not copy paste from action mailer documentation,Steps to reproduce Go to previewing emails Copy the first code snippet image Paste it into rails console see error Remove all leading spaces from the copy and paste it again passes Expected behavior A class is created and the symbol welcome email is returned System configuration Rails version 4 2 5 Ruby version 2 2 2,,"vipulnsward,vipulnsward,fxn",2016-07-02 16:37:53,2016-07-04 06:05:16
IS,ActionCable server broadcast does not work in an ActiveJob,Steps to reproduce 1 Try using ActionCable server broadcast in an ActiveJob Expected behavior ActionCable server broadcast should work inside an ActiveJob Actual behavior It does not work But it works normally in controllers System configuration Rails version 5 0 0 Ruby version 2 3 1,,matthewd,2016-07-04 07:28:15,2016-07-04 10:32:09
IS,Error ActiveRecord Tasks DatabaseAlreadyExists when running tests Vagrant,Steps to reproduce Use an Ubuntu 16 vagrant box hosted on a Windows 10 host If you have Vagrant installed on Windows simply use this Vagrantfile to load the box Create a new rails app in the Vagrant shared folder cd vagrant rails new hello cd hello Generate a controller rails g controller MoonLander index Create the db schema file rails db migrate Run tests rails test Expected behavior The command should not generate any error Actual behavior The command generates the following error System configuration Rails version 5 0 0 Ruby version 2 3 1 OS Ubuntu 16 04 LTS as a vagrant VM on a Windows host,,rafaelfranca,2016-07-04 06:44:30,2016-07-04 16:21:41
IS,Rails 4 0 0 date select bug,Hi I got following error This seemed a bug in date select form helper Does anyone experienced this bug System configuration Rails version 4 0 0 Ruby version ruby 2 3 1p112 RVM,,"rafaelfranca,rafaelfranca",2016-06-29 14:14:27,2016-07-04 19:56:12
IS,DurationTest test iso8601 output and reparsing fails randomly,Steps to reproduce It appears to fail randomly Expected behavior Test pass Actual behavior System configuration Rails version Rails 5 0 0 Ruby version Ruby 2 3 1,,"maclover7,maclover7",2016-07-04 12:48:36,2016-07-05 02:20:03
IS,ActionController Live does not stream on rails 5,no output from curl puts 1 shows in the server log though on rails 5 0 0 ruby 2 2 3 puma 3 4 0 works fine on rails 4 2 instant response header streamed body no output on rails 5 0 0 no header and no streamed messages trying to upgrade our repo here only remaining issue for rails 5 seeing the same behavior in the tests ControllerTest so I think this is something bad in rails 5,,"grosser,maclover7,maclover7,grosser,maclover7,grosser,maclover7",2016-07-04 04:27:32,2016-07-05 02:33:39
IS,Title for Action Cable guide not detected on site or Kindle,Steps to reproduce Got to and note the page title Download the Guides in mobi format from guides rubyonrails org View them in the Kindle app for Mac or iOS Find the Action Cable section in the Contents Expected behavior Expected the page title to be Action Cable Overview Expected the Kindle Action Cable section to be titled Action Cable Overview Actual behavior Page title is only Ruby on Rails Guides Action Cable section is titled simply Rails Guides img width 460 alt guide browser src img width 480 alt guides mac src guides iphone System configuration Rails version 5 0 0 Ruby version n a,,maclover7,2016-07-05 11:26:17,2016-07-05 13:41:18
IS,respond to missing is not implemented for Rails Application Configuration Custom,Rails Application Configuration Custom L195 the backing class of Rails configuration x has a method missing implementation that responds to all messages but it does not have a matching respond to missing implementation Current behavior System configuration Rails version 3 x 4 x and 5 x Ruby version any,,"maclover7,maclover7",2016-06-27 16:56:10,2016-07-05 18:12:54
IS,Nesting travel to is causes undefined method simple stub now',Steps to reproduce Nest travel to calls e g Of course I probably should not nest travel to but it can happen in more complex test setup code when creating dependent objects over time Expected behavior On the inside travel back we should return to the outside travel to without affecting any of the stubs made by the outside block Actual behavior The inside unstubbing removes the stubs from the outside travel to speculation founded on some debugging and my sketchy understanding of the debugging process When the outside tries to unstub we get undefined methods System configuration Rails 4 2 5 1 Ruby version ruby 2 1 8p440 2015 12 16 revision 53160 x86 64 darwin15 0,,"vipulnsward,kaspth,vipulnsward,kaspth,vipulnsward",2016-04-22 13:56:52,2016-07-05 18:28:15
IS,Upgrading to Rails 5 from 5 0 0 rc2 gives Bundler activesupport error,Steps to reproduce Run 5 0 0 rc2 with Ruby 2 3 0 Bundler 1 12 5 and attempt to run either bundle update rails bundle update or bundle install after changing the Gemfile to gem 'rails' ' 5 0 0' ofcourse Expected behavior It should update easily along with all dependencies Actual behavior,,maclover7,2016-07-05 18:49:47,2016-07-05 18:54:39
IS,Possibility to limit available values for StringInquirer,Would not it be great if there is a possibility to limit available methods for instances of StringInquirer Something like that From my point of view it could help to immediately find typos in code if they occur,,prathamesh-sonpatki,2016-07-06 13:41:36,2016-07-06 14:50:35
IS,HABTM generates wrong join table name if models has similar prefix,Steps to reproduce System configuration Rails version 5 0 0 also 4 2 6 Ruby version 2 3 0,,mrgilman,2016-07-06 18:25:40,2016-07-06 19:37:32
IS,ActiveRecord ActiveRecordError Cannot lease connection it is already in use by a different thread,Steps to reproduce rails new my app export DISABLE SPRING true rails g scaffold post title string body text echo gem 'pg' Gemfile bundle set up database yml System configuration Rails version 5 0 0 rc2 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux pg gem version 0 18 4 postgres version 9 4 7 I wo not be able the explain the logicality of the test or that function I am just trying to mimic what I am doing in my real app If you would rather see the real build failure you can check it out here L1126 I am sorry but I do not have much to provide other than this was not an issue on rails 4 2 6 Let me know how I can help debug this EDIT Simplified method and removed cases where the error was not reproduceable,,"maclover7,maclover7,matthewd",2016-06-30 01:22:40,2016-07-06 22:10:27
IS,Missing json in default Gemfile,Hi all When I try to create a new project with last stable release and to execute I'm using ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-07-04 10:27:57,2016-07-07 07:51:13
IS,ReferenceError Ca not find variable App,I tried to upgrade to version 5 0 0 The problem arose with the channels I want to make chat I created a Chat model I created a Chat channel cable coffee What am I doing wrong,,rafaelfranca,2016-07-08 00:15:47,2016-07-08 00:52:20
IS,Remote form loaded via ajax does not work,Steps to reproduce First create a link that will load content via ajax Perhaps I should be triggering something when the form gets loaded onto the page Not sure if this is a bug or if I'm just missing something important System configuration Rails version 5 0 0 Ruby version 2 3 1,,,2016-07-08 07:00:09,2016-07-08 07:01:31
IS,ActiveRecord 4 0 13 ActiveRecord Base connection select all returns ActiveRecord Result instead of Array,Steps to reproduce Simply run any query against your table for example ActiveRecord Base connection select all 'SELECT FROM users WHERE id 3' Expected behavior It should return array of hashes as result Actual behavior Returns ActiveRecord Result System configuration Rails version 4 0 13 Ruby version 2 1 6 The problem is that mysql2 adapter select method in Rails 3 2 x was doing to a for result here L226 and in Rails 4 0 13 that is not the case any more L235 but comment still claims this method will return array Thanks,,matthewd,2016-07-08 10:53:03,2016-07-08 11:15:21
IS,Use the HOST environment variable for rails server,Allow the server host to be set with the HOST environment variable 21267 System configuration Rails version Rails 5 0 0 rc1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"maclover7,maclover7",2016-07-04 10:33:17,2016-07-08 18:13:17
IS,Migrations potentially run in a different Ruby env than expected,Steps to reproduce Using a tool such a chruby which changes your path in your local shell to point to a custom ruby install can cause migrations to be run with a different Ruby install than the version being used by the current command line to run the test commands This is specifically happening to me on a Mac whose system ruby is older than the required 2 2 2 to run Rails 5 Although I run the rake test command in a shell that is pointing to ruby 2 3 the system command used to run db test prepare runs in the system default ruby and fails since chruby does not override the global bin ruby System configuration Rails version Rails 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,,2016-07-08 17:50:28,2016-07-08 19:15:49
IS,Puma restart with tmp restart txt not working,Touching tmp restart txt fails to restart the rails server in development mode Here is the output Touching tmp restart txt also works if the server is started with puma instead of rails server Steps to reproduce gem install rails to get the latest version 5 0 0 for me rails new tmp aaa cd tmp aaa rails server open second shell rails restart works touch tmp restart txt fails complains about already running server kill Rails server by pressing Ctrl C puma open second shell rails restart works touch tmp restart txt works System configuration Rails version 5 0 0 Puma version 3 4 0 Ruby version 2 3 0p0,,"vipulnsward,matthewd",2016-07-08 13:39:27,2016-07-08 20:36:42
IS,AR is to param does not work as documented,The documentation states truncation by words to limit to 20 characters but that is not quite what happens,,,2016-02-12 15:32:29,2016-07-08 21:44:26
IS,actioncable npm package seems broken,Steps to reproduce Goto and hit run I have also tried locally by running npm install actioncable save and then require 'actioncable' which gives action cable js 4 Uncaught TypeError Cannot set property 'ActionCable' of undefined Expected behavior Should run without errors Actual behavior ReferenceError Cable is not defined and action cable js 4 Uncaught TypeError Cannot set property 'ActionCable' of undefined System configuration Node version 4 4 6,,"prathamesh-sonpatki,maclover7,maclover7,javan,rafaelfranca,rafaelfranca,javan,javan,javan,javan,javan,javan,javan,javan,guilleiguaran,javan",2016-07-02 11:43:56,2016-07-09 14:50:29
IS,4 2 7 rc1 Regression Cannot load such file concurrent,Steps to reproduce Rake tests failed in my project after minor bump from 4 2 6 to 4 2 7 rc1 I see an include at this particular line diff ae0cb1fe3f1f2a3025bdf0dbc3d2890cR2 which apparently is not present in my Gemfile lock Is this a development dependency only It was introduced as part of this commit If the above information does not suffice I can build a standalone Rails app that clones my gem list and present it here Expected behavior I did a minor bump for a project that was using Rails 4 2 6 earlier to Rails 4 2 7 rc1 Actual behavior Tests choke with an error message image System configuration Rails version 4 2 7 rc1 Ruby version 2 2 3 cc,,,2016-07-09 20:24:21,2016-07-09 20:26:56
IS,4 2 7 rc1 Regression Cannot load such file concurrent,Steps to reproduce Checkout the following project and do a rails s Things look good Checkout the same project with an upgrade to 4 2 7 rc1 and do a rails s It chokes with the below error The only difference between the two branches is the version bump The rest of the Gemfile remains intact Expected behavior Rails server should start Actual behavior Rails server fails to start System configuration Rails version 4 2 7 rc1 Ruby version 2 2 3 Possible root cause I see an include at this particular line diff ae0cb1fe3f1f2a3025bdf0dbc3d2890cR2 which apparently is not present in my Gemfile lock Is this a development dependency only It was introduced as part of this commit Source Pull Request 25356 PS I created a barebone rails project with my own Gemfile and Gemfile lock to reproduce and demonstrate the error cc,,kmcphillips,2016-07-09 20:27:05,2016-07-09 21:54:10
IS,Newly generated rails apps contain comments over 80 characters,Is this a conscious decision Because for every new project I personally have to go through all the files and ensure that they are Rubocop compliant Steps to reproduce rails new app Expected behavior Comments and indeed all code should wrap at 80 characters Most of the lines do respect this limit but some do not Actual behavior as an example here is the Gemfile The comments are far longer System configuration Rails version 5 0 0 Ruby version 2 3 1,,"rafaelfranca,matthewd,guilleiguaran",2016-07-10 19:35:44,2016-07-10 19:49:14
IS,Proposal make newly generated apps rubocop compliant,I understand that the project disallows cosmetic changes but Some projects follow stylistic rules even rails does Rubocop is quick to set up and configure even rails uses it For initial generations additional work is required in new rails project to ensure lint compliance If I could take the time to ensure rails new app generates a rubocop compliant skeleton app will the maintainers consider merging the code This will essentially reduce the time it takes to scaffold a project and would be a backwards compatible feature,,"guilleiguaran,vipulnsward",2016-07-10 22:55:51,2016-07-10 23:17:00
IS,Uncaught Error Existing connection must be closed before opening bug,Actioncable is implemented on too many places in my application Getting this error most of times Existing connection must be closed before opening bug As per my assumption this error comes if i visits the same page more than once where actioncable is implemented Actioncable creates new connection every time So my question is How can i close the running connections if they are not using Also if i visit the page where actioncable is implemented more than once the first prev connection must be close Some other information I implemented actioncable where ajax was using Typed messages were duplicating more than once Like events areceived' method of actioncable were binding again and again as i was visiting the page For eg if I had visited the page 3 times and when i typed the message Hi Hi was showing 3 times on the page I got some interesting result when i tried to debug I ran below command chat obj cable subscriptions subscriptions I got array of subscriptions with duplicate identifiers I tried to close subscriptions with below command for var i 0 i chat obj cable subscriptions subscriptions length i chat obj cable subscriptions remove chat obj cable subscriptions subscriptions i 1 but i got some unexpected behavior of actioncable Messages were not delivering sometime Could not execute command from command unsubscribe identifier channel DeleteMessageChannel NoMethodError undefined method unsubscribe from channel' for nil NilClass home tarungarg rvm gems ruby 2 3 1 bundler gems actioncable 92adbc2fab09 lib action cable connection subscriptions rb 44 in remove subscription' home tarungarg rvm gems ruby 2 3 1 bundler gems actioncable 92adbc2fab09 lib action cable connection subscriptions rb 40 in remove' home tarungarg rvm gems ruby 2 3 1 bundler gems actioncable 92adbc2fab09 lib action cable connection subscriptions rb 16 in execute command' home tarungarg rvm gems ruby 2 3 1 bundler gems actioncable 92adbc2fab09 lib action cable connection base rb 88 in receive' home tarungarg rvm gems ruby 2 3 1 bundler gems actioncable 92adbc2fab09 lib action cable server worker rb 19 in block in invoke Actual behavior It should automatically find for the identifier and should not create new one if identifier already exists System configuration Rails 4 2 6 Ruby 2 3 1p112,,"maclover7,maclover7,maclover7,maclover7",2016-07-09 15:15:50,2016-07-11 01:17:51
IS,Unexpected behaviour using group enum field count for postgresql adapter,Steps to reproduce System configuration Rails version 5 0 0 rc2 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"rafaelfranca,rafaelfranca,sgrif,sgrif",2016-06-30 13:22:32,2016-07-11 14:59:41
IS,Having some strange behavior when has any error adding a foreign key,Hello guys I just have a strange behave when I tried to create a migration like Rails create the Table create the right foreign key but the last one you get an mysql exception and doesnt rollback the full operation Someone had this issue before,,rafaelfranca,2016-07-11 14:35:03,2016-07-11 17:31:10
IS,WebSocket connection to 'ws' failed Unexpected response code 404,Rails 5 0 0 I create a project The next step I created two channels chat and comment In addition to the controller of course I think the controllers and modules are not important here Then I added in routes rb file this line Now when run the project I got this error WebSocket connection to 'ws' failed Unexpected response code 404 At the address I get this error Page not found This inscription on a blank white page A piece of the log Started GET cable for SERVER IP at 2016 07 11 21 15 17 0300 Cannot render console from CLIENT IP Allowed networks 127 0 0 1 1 127 0 0 0 127 255 255 255 Started GET cable non WebSocket for SERVER IP at 2016 07 11 21 15 17 0300 Failed to upgrade to WebSocket REQUEST METHOD GET HTTP CONNECTION close HTTP UPGRADE Finished cable non WebSocket for SERVER IP at 2016 07 11 21 15 17 0300 What is the problem Why 404,,matthewd,2016-07-11 18:11:28,2016-07-11 18:17:59
IS,5 5 Error in text,Hello I think in 5 5 of there is a slight typo The guide tells you to type bin rails db migrate which gives the error Error Command wouldb migrate' not recognized Did you mean rake db migrate I believe the line as specified by the error should be rake db migrate,,rafaelfranca,2016-07-11 22:31:41,2016-07-11 22:34:43
IS,params are ignored in production was issue 3111,Steps to reproduce Unfortunately I'm working on a private repo at work and I cannot share the entire legacy app codebase but I can provide code snippets What is happening is I have a Rails app which has calls and calls belong to a region I introduced some params filtering in the view and controller so that I can use a dropdown form tag to filter calls by region instead of all region is calls being shown This works fine in development but in a staging production environment the params are ignored Index action on controller System configuration Rails version 3 2 22 Ruby version 1 9 3,,matthewd,2016-07-12 00:44:15,2016-07-12 01:00:46
IS,Bug with AR Base count when passing params to count,Steps to reproduce Here is a gist with the reproduction script Expected behavior I expect models that inherit from ActiveRecord Base to be able to accept a hash of options when calling count Actual behavior I get a malformed SQL string SELECT COUNT author type Dude author id 1 FROM posts System configuration Rails version 5 0 0 Ruby version 2 3 1,,"matthewd,matthewd,rafaelfranca,rafaelfranca,rafaelfranca,matthewd,rafaelfranca,rafaelfranca",2016-07-01 20:37:17,2016-07-12 02:32:04
IS,Some MemoryStoreTest fails randomly,Steps to reproduce It seems that they fails just randomly Expected behavior The tests are always passing Actual behavior System configuration Rails version Rails 5 0 0 Ruby version Ruby 2 3 1,,"maclover7,rafaelfranca",2016-07-04 13:05:55,2016-07-12 06:04:22
IS,ActiveSupport TimeZone strptime has an empty for nil exception,Steps to reproduce Parse an ActiveSupport TimeZone using strptime with a malformed string Expected behavior It should either raise a reasonable exception or return nil Actual behavior It raises a NoMethodError undefined method empty for nil NilClass System configuration Rails version 4 2 6 5 0 0 Ruby version 2 1 8 2 3 1,,,2016-07-05 15:29:40,2016-07-12 06:07:22
IS,rails db migrate should default to migrating both dev and test,By default we are only migrating the dev environment when you run rails db migrate This means that when you then run rails test through the new test runner you wo not have a migrated test db Which then requires you to run rails db migrate RAILS ENV test which is just a hassle We should default to having rails db migrate migrating both dev and test If you want only one or the other RAILS ENV can be set to overwrite,,"dhh,rafaelfranca,rafaelfranca,dhh,dhh,rafaelfranca,dhh,rafaelfranca,rafaelfranca,dhh,rafaelfranca,dhh,rafaelfranca,rafaelfranca,dhh",2016-07-12 21:23:43,2016-07-12 21:57:11
IS,dbconsole attempts to execute mysql directory,Steps to reproduce 1 create rails application using mysql adapter 2 create mysql directory within a directory that is in your path actual mysql binary eg given PATH usr local bin usr 3 bin rails db p Expected behavior I would expect dbconsole to ignore the directory and continue searching my path for the binary Actual behavior dbconsole attempts to execute the mysql directory instead of the binary home directory gem ruby 2 2 3 gems railties 4 2 5 2 lib rails commands dbconsole rb 186 in exec' Permission denied path to folder mysql Errno EACCES System configuration Rails version 4 2 5 2 Ruby version 2 2 3 NOTE I will take a look at how to resolve this,,"rafaelfranca,rafaelfranca,rafaelfranca,maclover7",2016-07-12 19:53:06,2016-07-13 00:08:12
IS,actionpack does not generate root path for namespace,Steps to reproduce Actual behavior Does not generate admin root path System configuration Rails version 5 0 0 Ruby version 2 2 4,,maclover7,2016-07-12 16:02:43,2016-07-13 01:37:47
IS,ActiveSupport autoload bug multi threads autoloading the same class at the same instant causes error Circular dependency detected while autoloading constant Xxx,Steps to reproduce Precondition No require 'AnAutoloadingActiveRecordClass' statement Code below e g to run the first time in rails console pre threads 1 10 map do i Thread new do puts AnAutoloadingActiveRecordClass all count end end threads each t t join pre Expected behavior No exception Rails should support multi thread as it claims I am using CRuby with GIL Global Interpreter Lock Actual behavior RuntimeError Circular dependency detected while autoloading constant AnAutoloadingActiveRecordClass Problem description The exception at C Rails Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 4 2 5 lib active support dependencies rb line 492 is actually a false positive checking loading array in if loading include expanded when it is indeed loading from another thread but I O waiting in that thread System configuration Rails version 4 2 5 Ruby version 2 2 4p230,,"fxn,fxn,fxn",2016-07-13 08:57:48,2016-07-13 09:26:44
IS,Getting more done in GitHub with ZenHub,Hola has created a ZenHub account for the rails organization ZenHub is the only project management tool integrated natively in GitHub created specifically for fast moving software driven teams How do I use ZenHub To get set up with ZenHub all you have to do is download the browser extension and log in with your GitHub account Once you do you ll get access to ZenHub s complete feature set immediately What can ZenHub do ZenHub adds a series of enhancements directly inside the GitHub UI Real time customizable task boards for GitHub issues Multi Repository burndown charts estimates and velocity tracking based on GitHub Milestones Personal to do lists and task prioritization Time saving shortcuts like a quick repo switcher a Move issue button and much more Add ZenHub to GitHub Still curious See more ZenHub features or read user reviews This issue was written by your friendly ZenHub bot posted by request from ZenHub Board,,,2016-07-13 13:43:12,2016-07-13 13:58:13
IS,protected method method name' called for ActionView Template,Steps to reproduce Render template using Rails 4 2 6 Expected behavior Template should have rendered Actual behavior Exception was thrown System configuration Rails version 4 2 6 Ruby version jRuby 9 0 5 0 The problem is coming from using self method name instead of just method name because it is a protected method This may be a jRuby problem but I can not see a good reason to use self I'm putting together a patch to fix this,,,2016-03-25 01:02:09,2016-07-13 15:26:15
IS,undefined method call' for nil NilClass when calling parsed body on a TestResponse,I have a RSpec test case which includes the following does not produce the error and the test passes Ruby 2 3 1 Rails 5 0 0,,"maclover7,maclover7,kaspth,kaspth,kaspth",2016-07-09 17:13:52,2016-07-13 19:22:19
IS,private constant macro dos not work with ActiveSupport Autoload,Steps to reproduce System configuration activesupport version 4 2 5 Ruby version 2 3 This is know ruby bug as well,,"fxn,fxn",2016-07-13 14:10:57,2016-07-14 08:19:02
IS,Quoting of default values in Mysql2 adapter,Steps to reproduce A migration with function as default value As far as I understand MySQL server expects that function names will be unquoted an SQL command with now without quotes works fine in CLI I can implement a fix though I'm not sure about semantics yet how to differentiate between what should and what should not be quoted E g quote strings do not quote symbols Or maybe I'm doing this wrong and there is a way to pass a function name System configuration Rails version 5 0 0 Ruby version ruby 2 3 1p112 mysql2 version 0 4 4,,"rafaelfranca,rafaelfranca,kamipo",2016-07-13 11:18:57,2016-07-14 11:15:59
IS,4 2 7 tagged commit,rafaelfranca looking here you tagged 7f2327f as the 4 2 7 commit as opposed to the merge d8f5596 was this intentional the parent of 7f2327f is e384220a83825db463945becd39d314ff51e8dd1 so the following 4 2 stable commits did not get included in the release a9ad852 fd65a90 0f77e0c 93efd1a,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-07-14 16:37:02,2016-07-14 17:03:58
IS,Cannot access url of mountable engine with subdomain constraint,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-07-14 19:16:33,2016-07-14 19:16:50
IS,ActiveModel MissingAttributeError error with concat on CollectionProxy,We recently upgraded to rails 4 2 5 and with that some of the our queries started raising errors We have provided a repo that reproduces the error here These L11 L17 two tests demonstrate the issue After looking at ri for Array it seemed to suggest that is an alias for concat which lead to looking at this code L969 L973 We can use pluck since it is probably a better solution anyways But I am curious as to why the behaviour is that different between using pluck and select heart,,egilburg,2016-02-17 22:08:19,2016-07-15 01:13:47
IS,Problem with dynamic layouts,Problem using this sample Rails 5 0,,,2016-07-15 12:52:37,2016-07-15 16:20:38
IS,Attributes API Accessing attribute not backed by database column on persisted records raises ActiveModel MissingAttributeError,Steps to reproduce Expected behavior In the doc it says Attributes do not need to be backed by a database column So post completed should always work even if the record is fetched from database Actual behavior ActiveModel MissingAttributeError for objects which are fetched with find from database System configuration Rails version 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,maclover7,2016-07-13 10:48:48,2016-07-15 17:18:31
IS,ActiveSupport Testing TimeHelpers to travel does not support today,Steps to reproduce 1 Create a new rails 5 0 0 app 2 bundle exec rails console 3 Create a test which implements the helper Expected behavior the today method should return the date we just travelled to Actual behavior today gives the real time and ignores the current time that travel to is using System configuration Rails version 5 0 0 Ruby version 2 3 1,,rafaelfranca,2016-07-15 14:41:26,2016-07-15 21:56:21
IS,Ca not bundle install if sass rails does not include can not find railties,Steps to reproduce If in the Gemfile I want to lock sass rails to 5 0 0 by adding the sass rails gem like this gem isass rails' '5 0 0' I get the following error upon running bundle install Now if I update the Gemfile to gem isass rails' ' 5 0 0' bundle install runs perfectly Expected behavior It should be possible to lock sass rails to a specific version without using System configuration Rails version 5 0 0 Ruby version 2 3 1p112,,prathamesh-sonpatki,2016-07-16 10:07:02,2016-07-16 13:23:21
IS,Ruby on rails PDF guide,You have a mobi link of your guide but not a pdf version,,prathamesh-sonpatki,2016-07-16 03:17:06,2016-07-16 13:24:11
IS,Can not use class column,Steps to reproduce Expected behavior I can use class column Actual behavior When I use class column NoMethodError is occured System configuration Rails version Ruby 2 3 1 Ruby version Rails 5 0 0,,rafaelfranca,2016-07-17 01:50:18,2016-07-17 02:22:04
IS,Caching within Rails Application env config interferes with integration testing,Steps to reproduce In order to verify that a subclass of ActionDispatch PublicExceptions was correctly assigned as the config exceptions app I wrote a test a subclass of ActionDispatch IntegrationTest In the setup method of the test I explicitly set Rails configuration consider all requests local false and Rails configuration action dispatch show exceptions true because in this test and this test only I want the custom exceptions app to handle rendering the response rather than raising an exception like the stock behavior The test fails because the exceptions app is never invoked It is not invoked because the env config method of Rails Application caches its return value inside app env config and there is no publicly exposed means to clear the cache Making matters worse when tests are executed in isolation they pass because no other test has caused env config to be called before The workaround I have developed overrides env config within application rb Expected behavior I believe that every element of the application should be easily testable without having to overload the default behavior of Rails Application including integration tests featuring exception apps Actual behavior Tests can be flaky because they can not fully isolate themselves from each other System configuration Rails version At least 4 2 7 and 4 2 6 I did not have this problem a few months ago before I switched from Rails 3 2 18 Ruby version ruby 2 0 0p648 2015 12 16 revision 53162 universal x86 64 darwin15 I have also reproduced this issue on various versions of JRuby,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-07-14 20:22:44,2016-07-17 06:39:57
IS,Rails 5 0 0 rake doc guides doc app doc rails doc plugins no longer works,Unable to generate the documentation Steps to reproduce When I try to generate the rails documentation rake doc app rake doc guides rake doc rails rake doc plugins Actual behavior Do not know how to build task wouldoc app' Do not know how to build task wouldoc guides' Do not know how to build task wouldoc rails' System configuration Linux cleopatra 4 2 0 38 generic 45 14 04 1 Ubuntu SMP Thu Jun 9 09 28 50 UTC 2016 i686 athlon i686 GNU Linux Rails version Rails 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 i686 linux,,vipulnsward,2016-07-18 03:25:16,2016-07-18 03:33:32
IS,update all no longer uses ActiveRecord model ID,Steps to reproduce Create a new rails project with Search has many User Try to update all user id User last On v4 2 the attribute will be updated as expected on v5 0 it will not Using the ID directly works as expected Rails 4 2 Expected behaviour update all x id x should infer the id attribute from an ActiveRecord model instance x as it does in version 4 2 Actual behavior The SQL generated from update all will simply do SET x id NULL unless you explicitly return the id attribute update all x id x id System configuration Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"sgrif,sgrif,sgrif,sgrif",2016-07-18 13:31:02,2016-07-18 13:59:24
IS,Bug in prepared statements 4 2 5 0 0,In rails 4 2 you update prepared statements to be more better and use prepared statements for more queries but something goes wrong I create basic model with id integer and name string user rb My ruby version is 2 3 1 also checked on 2 1 3 but it does not matter Problem is in rails,,matthewd,2016-07-18 16:22:45,2016-07-18 17:27:08
IS,ActiveRecord references is JOINing all relations in includes,Steps to reproduce 1 Create three models A B C such that A has many B is and A has many C is Expected behavior I would expect that adding a references relation name would JOIN join relation name and not all included relations Fetching included models separately is more performant I would hope that this performance benefit can still be felt when using references on just one relation Actual behavior When references is used on any relation all relations in the includes statements are JOIN 'ed System configuration Rails version 4 x x 5 x x Ruby version 2 2 2,,matthewd,2016-07-19 23:14:40,2016-07-19 23:59:03
IS,Question Can we always deserialize json in ActiveRecord to HashWithIndifferentAccess,On Rails 5 0 we deserialize json type into Hash But only strings can be keys in JSON if we store a hash with symbol keys and string keys that could be dangerous like This can happened while using merge or other methods to editing Hash Can we use ActiveSupport HashWithIndifferentAccess instead of Hash that we can use methods like merge with symbol keys,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-07-20 03:59:55,2016-07-20 04:09:14
IS,has and belongs to many test gets ORA 01400 since primary key column ID not included in insert statement,It has been reported to first By doing investigation and found it has been triggered by then opened a issue here Steps to reproduce Oracle enhanced adapter version Latest rails5 branch Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"yahonda,yahonda,yahonda",2016-06-13 15:34:03,2016-07-20 05:23:01
IS,New before commit hook in Rails 5,Source indicates yes Documentation say This is here L79 I discovered this while patching rails 4 2 I'm making a before commit batch callback to be defined at the Model class level and run just once before commit It looks like this new feature is not that but how come no mention of it Update Just found the answer here,,rafaelfranca,2016-07-20 09:57:20,2016-07-20 15:52:11
IS,ERROR bind message supplies 0 parameters but prepared statement requires 1,Steps to reproduce System configuration Rails version 5 0 0 and master Ruby version 2 3 1 PostgreSQL version 9 5 1,,maclover7,2016-07-07 07:57:21,2016-07-20 15:56:57
IS,Ca not assign a hash to a cookie,I do not actually use a hash as a cookie value but while investigating how cookies work I faced something which I think is either a bug in the documentation or in the code so I'm describing it here since I do not know which one is the case Assigning a hash to some cookie cookies 'name' cookies signed 'name' cookies encrypted 'name does not matter is silently ignored cookies 'hash' 'a' 1 will generate an invalid encoded cookie or maybe the equivalent of nil encoded This happens with either JSON or Marshal used as the serializer The API does not specify that a hash is not a supported value Is the current behavior expected If so I can send a patch to fix the documentation,,"rosenfeld,rosenfeld,maclover7,rosenfeld,rosenfeld,rosenfeld,rosenfeld,rafaelfranca,rosenfeld",2016-07-12 20:15:58,2016-07-20 17:02:20
IS,Newly generated app should enforce minimal web console version,Steps to reproduce I installed rails 5 and generated really minimal application I skipped almost everything I could Quick Google query gave me this answer 1 Which quickly pointed out that my installed web console 2 2 1 is probably not compatible with Rails 5 Expected behavior 1 Rails restricts the minimal compatible web console version 3 1 according to the web console CHANGELOG 2 Rails does not swallow all the debug information which could help to identify what is the problem Actual behavior 1 Rails does not restrict web console version which might be incompatible 2 Rails does not provide any helpful information to help to analyze the issue System configuration Rails version 5 0 0 Ruby version 2 3 1 1,,maclover7,2016-07-20 16:07:09,2016-07-21 07:54:28
IS,Wrong API formatting for protect from forgery prepend option,I would create a PR if I knew enough about how to format params to prevent this issue,,"rosenfeld,rosenfeld",2016-07-21 13:22:24,2016-07-21 15:42:57
IS,Bug when request nested parameter,Rails 5 0 0 Ruby 2 2 5 Hi I have found a abnormal case that is interesting Why working abnormally when key name is content,,,2016-07-21 08:28:32,2016-07-22 05:27:43
IS,ssl options ignores redirect exclude option,Steps to reproduce System configuration Rails version 5 0 0 Ruby version 2 3 1 p112,,"kaspth,kaspth,prathamesh-sonpatki,kaspth,rafaelfranca,kaspth,rafaelfranca,kaspth,kaspth",2016-07-22 05:14:39,2016-07-22 20:10:46
IS,Rails 4 2 7 should not generate deprecation warnings on rake db migrate,Steps to reproduce rails new pktest database postgresql pushd pktest rails g scaffold cat name string age integer rake db create all rake db migrate Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Running rake db migrate should NOT generate deprecation warnings Actual behavior Tell us what happens instead Running rake db migrate does generate deprecation warnings These deprecation warnings are distracting and clog up the terminal I am creating a brand new rails app and I have not modified the Gemfile Why am I getting deprecation warnings already System configuration Rails version 4 2 7 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin14,,maclover7,2016-07-22 22:23:41,2016-07-22 22:25:39
IS,accepts nested attributes for affects parent relation object id,Steps to reproduce Expected behavior shop object id shop users first shop object id is always true Actual behavior shop object id shop users first shop object id is true for all relations except for those who use accepts nested attributes for System configuration Rails version 4 2 7 also reproduces on 5 0 0 Ruby version 2 3 0 and 2 2 3 Story The background of this issue is that after getting rid of protected attributes gem at Shopify we have noticed some difference in AR object behaviour So I would like to notice that if you add protected attributes gem shop object id shop users first shop object id will always be true even for nested relations this is the issue we have been trying to debug last week,,"kirs,sgrif,rafaelfranca,kirs,rafaelfranca,kirs",2016-07-21 22:01:36,2016-07-23 00:12:01
IS,Rails 5 uninitialized constant error,Steps to reproduce Exception logged in staging environment after upgrading to Rails 5 Unable to provide reproduction steps Two occurrences logged so far Expected behavior No exception occurs Actual behavior Received exception notification reporting Obviously this is strange for a number of reasons but the primary one being that the DYM output is referencing the exact same constant as if it actually is loaded initialized The error originated at L183 and a full backtrace is available at While not visible in the public Honeybadger link the referenced line in our application code that ended up hitting this was simply doing Model find id where id was a valid UUID as visible within the ActiveJob Sidekiq params logged by Honeybadger System configuration Rails version Rails 5 0 0 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin14,,"rafaelfranca,amatsuda",2016-07-14 22:34:41,2016-07-23 05:59:28
IS,rails server does not work,Booting Puma Rails 5 0 0 application starting in development on 3000 Run rails server h for more startup options Exiting c data rails books config environments development rb 1 in top required ' undefined local variable or method books' for main Object NameError from C Ruby23 x64 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib acti ve support dependencies rb 293 in require' from C Ruby23 x64 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib acti ve support dependencies rb 293 in block in require' from C Ruby23 x64 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib acti ve support dependencies rb 259 in load dependency' from C Ruby23 x64 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib acti ve support dependencies rb 293 in require' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails eng ine rb 600 in block 2 levels in class Engine ' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails eng ine rb 599 in each' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails eng ine rb 599 in block in class Engine ' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails ini tializable rb 30 in instance exec' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails ini tializable rb 30 in run' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails ini tializable rb 55 in block in run initializers' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 228 in block in tsort each' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 350 in block 2 levels in e ach strongly connected component' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 422 in block 2 levels in e ach strongly connected component from' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 431 in each strongly connect ed component from' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 421 in block in each strongl y connected component from' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails ini tializable rb 44 in each' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails ini tializable rb 44 in tsort each child' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 415 in call' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 415 in each strongly connect ed component from' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 349 in block in each strongl y connected component' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 347 in each' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 347 in call' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 347 in each strongly connect ed component' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 226 in tsort each' from C Ruby23 x64 lib ruby 2 3 0 tsort rb 205 in tsort each' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails ini tializable rb 54 in run initializers' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails app lication rb 352 in initialize ' from c data rails books config environment rb 5 in top required ' from c data rails books config ru 3 in require relative' from c data rails books config ru 3 in block in main ' from C Ruby23 x64 lib ruby gems 2 3 0 gems rack 2 0 1 lib rack builder rb 55 in instance eval' from C Ruby23 x64 lib ruby gems 2 3 0 gems rack 2 0 1 lib rack builder rb 55 in initialize' from c data rails books config ru in new' from c data rails books config ru in main ' from C Ruby23 x64 lib ruby gems 2 3 0 gems rack 2 0 1 lib rack builder rb 49 in eval' from C Ruby23 x64 lib ruby gems 2 3 0 gems rack 2 0 1 lib rack builder rb 49 in new from string' from C Ruby23 x64 lib ruby gems 2 3 0 gems rack 2 0 1 lib rack builder rb 40 in parse file' from C Ruby23 x64 lib ruby gems 2 3 0 gems rack 2 0 1 lib rack server r b 318 in build app and options from config' from C Ruby23 x64 lib ruby gems 2 3 0 gems rack 2 0 1 lib rack server r b 218 in app' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails com mands server rb 59 in app' from C Ruby23 x64 lib ruby gems 2 3 0 gems rack 2 0 1 lib rack server r b 353 in wrapped app' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails com mands server rb 124 in log to stdout' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails com mands server rb 77 in start' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails com mands commands tasks rb 90 in block in server' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails com mands commands tasks rb 85 in tap' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails com mands commands tasks rb 85 in server' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails com mands commands tasks rb 49 in run command ' from C Ruby23 x64 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails com mands rb 18 in top required ' from bin rails 4 in require' from bin rails 4 in main ',,schneems,2016-07-24 01:50:59,2016-07-24 02:01:32
IS,Ignore autoload my module in production environment,Steps to reproduce lib cat rb This error occur only production environment System configuration Rails version 5 0 0 Ruby version 2 3 1,,rafaelfranca,2016-07-25 01:10:02,2016-07-25 01:15:13
IS,find or initialize by query does not initiliaze properly when passed an array of records,Steps to reproduce Add a name column to a table Optional Add some records to the table Query for the following System configuration Rails version Rails 4 2 6 Ruby version Ruby 2 3 1,,"maclover7,maclover7,sgrif",2016-07-22 15:04:17,2016-07-25 13:33:24
IS,Aliased attributes do not play nice with enum,Steps to reproduce Create a model which has an enum declared on an aliased attribute Expected behavior The query methods citizen and foreigner should function on model instances and return true if their respective values equal citizenship status Actual behavior The query methods always return false System configuration Rails version 4 2 7 5 0 0 Ruby version 3 2 1,,"maclover7,sgrif,amatsuda,sgrif",2016-07-19 14:34:53,2016-07-25 13:43:08
IS,Cannot push an object into a collection,Steps to reproduce 1 Create a basic model 2 Assign a collection subset of that model to a variable Expected behavior A new blank hour should be appended to the array Actual behavior A undefined method error fires with undefined method ' ' for ActiveRecord Relation System configuration Rails version 5 0 Ruby version 2 3 0 It is worth noting this works fine in rails 4 2 6,,"st0012,st0012,sgrif,sgrif,matthewd,sgrif,sgrif,sgrif",2016-07-21 05:14:47,2016-07-25 13:44:25
IS,Attributes API with virtual attributes do not work in form builders without a value,Playing with virtual attributes via the Attributes API in Rails 5 They do not seem to work in Form Builders unless you initialize the attribute with a value before the form builder gets ahold of it Steps to reproduce System configuration Rails version 5 0 0 Ruby version 2 3 1p112,,maclover7,2016-07-11 21:13:44,2016-07-25 15:14:26
IS,ActiveRecord Base save sets Timestamps more accurately than find,Hi there Steps to reproduce activerecord timestamp Example app with failing test caused by the issue Expected behavior updated at timestamp value returned by ActiveRecord save should equal timestamp value of re fetched object e g via reload or finder Actual behavior Timestamps are slightly different I am usually seeing 7 fractional digits on the object returned by save as opposed to 6 fractional digits on objects returned by find or reload System configuration Rails 4 2 6 issue seen on MySQL and Sqlite databases Ruby version 2 3 1,,sgrif,2016-06-30 09:43:29,2016-07-25 17:13:12
IS,5 0 0 beta4 actionpack undefined method symbol' for nil NilClass,I cannot fully reproduce this issue but I am seeing some errors with the following details after upgrading to Rails 5 Error Sorry but I cannot provide you with more details,,"prathamesh-sonpatki,prathamesh-sonpatki,vipulnsward,rafaelfranca,maclover7,maclover7,meinac,maclover7,meinac,rafaelfranca",2016-05-03 07:29:48,2016-07-25 19:41:33
IS,Integration tests fail in Rails without ActiveRecord,Steps to reproduce Setup a new rails app Remove ActiveRecord from configs and modify application rb to explicitly require railties tab top rails g controller test index rails test Expected behavior It should pass the test Actual behavior Error DashboardControllerTest test should get index NameError undefined local variable or method dashboard index url' for DashboardControllerTest 0x645d4639 test controllers dashboard controller test rb 5 in block in test should get index' bin rails test test controllers dashboard controller test rb 4 System configuration Rails version 5 0 0 0 Ruby version JRuby 9 1 2 0,,prathamesh-sonpatki,2016-07-22 23:45:15,2016-07-26 18:50:25
IS,ActiveRecord is empty and any should use more efficient behavior from exists,Steps to reproduce Expected behavior As far as I can tell the empty and any ActiveRecord methods do not need to perform a COUNT query which can be expensive on large tables They can simply use the SELECT 1 AS one LIMIT 1 construction that exists uses which is significantly faster Actual behavior empty and any perform slower COUNT queries System configuration Rails version 4 1 but to my knowledge this behavior is the same on newer Rails versions Ruby version 2 2,,matthewd,2016-07-26 14:42:23,2016-07-26 19:23:30
IS,ActionCable on AWS ElasticBeanstalk cause WebSocket connection to 'ws hostname cable' failed WebSocket is closed before the connection is established,I get WebSocket connection to 'ws hostname cable' failed WebSocket is closed before the connection is established in my chrome browser when connecting to my Rails 5 ActionCable app In my local development environment it does not happen It only happens in my staging and production environment I use Amazon ElasticBeanstalk to deploy my app After monitoring requests with chrome developer tool I figured out that unlike development environment WebSocket request in staging production environment does not get response pending so ActionCable constantly tries to connect to the WebSocket endpoint ws hostname cable The thing is in my puma log it says something like this Failed screenshot on staging System configuration Rails version 5 0 0 Ruby version MRI 2 3 1,,,2016-07-26 14:06:48,2016-07-27 10:28:32
IS,4 2 Calling dup on a model using serialized attributes causes troubles,I am using serialize to set complex attributes for my models While upgrading my application from Rails 4 1 to 4 2 I had failing tests which I could track down to the call of dub This does not seem to be an issue with Rails 4 1 and 5 0 Steps to reproduce See this gist file rails dup test rb Expected behavior Calling dup should not change the default value for serialize d attributes In fact from then on serialize d attributes are returning the same objects Actual behavior Calling dup changes the default value for serialize d attributes System configuration Rails version 4 2 7 Ruby version 2 3 0 I am willing to dig deeper into this topic but I have no idea how to start debugging with it,,"sgrif,sgrif",2016-07-26 11:57:40,2016-07-27 17:05:48
IS,Fragment caching does not respond to force true,Steps to reproduce Loading an erb of the form but of course there is every chance this will stop working if I upgrade Rails I plan to open a PR against this issue just as soon as I figure out how to write a test for it and update the API docs,,"stevenharman,sgrif",2016-07-27 15:08:01,2016-07-27 17:07:36
IS,Date field format,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior 1 cannot change the time format in date field f date field start date value Date today strftime d m Y this should generate 31 01 2001 firefox support 2 f date field date min Date now 1994 07 03 max Date today the date should not be editable in text with keyboard Actual behavior 1 f date field start date value Date today strftime d m Y even tough it is format it is hard coded as m d y this generate is 01 31 2001 2 f date field date min Date now 1994 07 03 max Date today min and max works fine in pop over calender but when directly editted using keyboard it accept all the date System configuration Rails version Rails 4 2 6 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,rafaelfranca,2016-07-25 08:30:08,2016-07-27 23:08:22
IS,AR causes stack level too deep when joining tables,Steps to reproduce System configuration Rails version 5 0 0 Ruby version 2 2 4,,"maclover7,kamipo,k0kubun,k0kubun,k0kubun",2016-07-02 16:24:39,2016-07-28 00:33:30
IS,ActiveRecord 5 0 0 HABTM failing when association name is the same as join table name,Steps to reproduce This seems to be happening because the name of the association jobs pool is the same as the table join table name If I change it to something else then it work as intended System configuration Rails version 5 0 0 Ruby version 2 3 1,,"maclover7,maclover7,maclover7,maclover7",2016-07-04 18:51:58,2016-07-28 02:23:05
IS,ORDER BY clause is not in SELECT list,Steps to reproduce 1 Create a new Rails 5 Application with two models System configuration Rails version 5 0 0 Ruby version 2 2 4p230 Database MySQL 5 7 13 0ubuntu0 16 04 2 using mysql2 gem,,"kamipo,jaredbeck",2016-07-22 21:43:17,2016-07-28 04:16:41
IS,add reference does not find foreign key to drop when rolling back,Steps to reproduce Assuming you have a restaurants table and users table try to create a migration to add a reference of user as 'admin' to restaurants Expected behavior When running rails db rollback STEP 1 it should find the foreign key 'admin id' and drop it Actual behavior rails db rollback STEP 1 failed with the following message Table arestaurants' has no foreign key for admins System configuration Rails version 5 0 0 Ruby version 2 3 1 Postgres 9 5 3,,"rafaelfranca,rafaelfranca,mechanicles,mechanicles,prathamesh-sonpatki",2016-07-08 21:00:42,2016-07-28 05:36:04
IS,drop table not working when migrating,Expected behavior it should drop the table Actual behavior it do not drop the table class CreateUsers ActiveRecord Migration 5 0 def up create table users do t t column first name string limit 25 t string last name limit 50 t string email default null false t string password limit 40 t datetime created at t datetime updated at t timestamps end end end System configuration mysql Ver 14 14 Distrib 5 7 13 for Linux x86 64 using EditLine wrapper Rails 5 0 0 ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-07-27 23:19:45,2016-07-28 11:49:36
IS,Request to origin not allowed when running rails s b IP address,Action Cable does not automatically set allowed request origins properly when doing rails s b IP address Steps to reproduce 1 Create a Rails 5 application with rails new 2 Run One pain point with this solution is that if the development machine is IP changes then this entry also must be modified Would be nice if this could be dynamically set just during development System configuration Rails version 5 0 0 Ruby version 2 3 0,,"rafaelfranca,jeremy",2016-07-28 22:25:58,2016-07-28 22:30:36
IS,Active Job logger raises error when job has no arguments,Steps to reproduce I have a job with a perform method that takes no parameters On that second line job arguments is nil which does not respond to any System configuration Rails version 5 0 0 Ruby version 2 3 0p0,,"jeremy,jeremy,jeremy",2016-07-28 19:55:50,2016-07-29 01:45:34
IS,CREATE INDEX CONCURRENTLY with algorithm concurrently does not write to structure sql,Steps to reproduce I have set my config active record schema format sql so that migration will be written to structure sql as a series of real SQL statements I setup the index concurrently using this System configuration Rails version Rails 5 0 0 Ruby version Ruby 2 3 1,,"jeremy,jeremy",2016-07-29 01:11:54,2016-07-29 02:02:00
IS,convert rails query to sql query using 'includes',Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior User includes student select email AS email firstname AS f name name AS student name as json how to fetch perticular column records in pure sql format and without rails object Actual behavior if User joins student select email AS email firstname AS f name name AS student name as json is executed properly and get the object correct In this 'joins' clause working for pure select data but not supported for 'includes' System configuration Rails version Rails 4 0 0 Ruby version ruby 2 2 3,,matthewd,2016-07-29 09:02:14,2016-07-29 11:39:46
IS,Query using array does not return results,Steps to reproduce I'm trying to use a scope or class method to filter my model by status The input can be a single status or multiple statuses According to the Rails documentation array conditions Client where orders count 1 3 5 should return clients with order count 1 3 or 5 When I apply this to my model it is Shipment where status status Status is an array that looks like this New Open When I run this in my console I get 3 results When I run this code in my Shipment model I get 0 results When I select only one status and run this in my console shipment model I get results in both cases The example here being Shipment where status New Expected behavior Shipment where status New Open should return records with status New or Open Actual behavior Shipment where status New Open only returns the expected results when run in the console When I call the same line in my model no results are returned System configuration Rails version rails 4 2 5 4 2 3 Ruby version ruby 2 2 1,,matthewd,2016-07-29 04:40:44,2016-07-29 11:40:52
IS,when a column is boolean and presence to be true u cant insert false into database,ENV ruby 2 3 0 and you will never add a new app object to db when is buildin app false Expected behavior i think that keyword presence means this column should be exist no matter its value is true or false is buildin app true presence OK is buildin app false presence OK is buildin app nil presence error Actual behavior only is buildin app true presence OK System configuration Rails version 5 0 0 Ruby version 2 3 0,,pixeltrix,2016-07-29 09:04:38,2016-07-29 12:35:26
IS,ActiveJob SerializationError Unsupported argument type Symbol,Steps to reproduce ActiveJob Base perform later String Expected behavior ActiveJob Base 0x21b792c2 String cb5538a9 15a6 4e27 b800 1c95801c21f2 nil 4d8ee00e0381fc30af4e0dc8 default Actual behavior ActiveJob SerializationError Unsupported argument type Symbol System configuration Rails version 5 0 0 Ruby version 2 3 1,,rafaelfranca,2016-07-30 02:29:32,2016-07-30 04:25:26
IS,Unexpected output from strip tags,Steps to reproduce Run ActionController Base helpers strip tags R D Expected behavior It should return R D because that is what the code implies L102 note the encode special chars false Actual behavior It returns R amp D System configuration Rails version 5 0 0 stable Ruby version 2 3 1,,rafaelfranca,2016-07-30 04:36:43,2016-07-30 07:29:41
IS,Route globbing and constraints not retrieving forward slash,Steps to reproduce routes rb post ' new original url' 'home new' constraints original url Expected behavior Trying to POST to endpoint with new Expect params original url to be Actual behavior params original url is equal to http www example com note the missing second forward slash System configuration Rails version Rails 4 2 5 1 Ruby version 2 1 6p336,,,2016-07-30 04:19:23,2016-07-30 13:50:30
IS,ActiveRecord StatementInvalid PG ProtocolViolation ERROR bind message supplies 0 parameters but prepared statement requires 1,On the latest version of master I noticed that using ActiveRecord Base connection exec query throws the ActiveRecord StatementInvalid PG ProtocolViolation ERROR bind message supplies 0 parameters but prepared statement requires 1 when prepared statements are disabled I actually noticed this issue when trying to upgrade from rails 3 2 22 to version 4 2 but AFAIK the bug still exists on master Steps to reproduce Here is a test which reproduces the issue This test does not error Actual behavior master The test fails with ActiveRecord StatementInvalid PG ProtocolViolation System configuration Rails version master Ruby version 2 2 4,,maclover7,2016-07-30 04:34:03,2016-07-30 21:41:56
IS,PG InsufficientPrivilege ERROR,Hello Do not run RSpec tests First an error occurs then the tests are run the system only collected before such was not Error rails aborted ActiveRecord StatementInvalid PG InsufficientPrivilege ERROR must be owner of database test comment64724313 38671995 System configuration Rails 5 0 0 Ruby 2 3 1 PGQL 9 5 2,,sgrif,2016-07-31 16:58:32,2016-08-01 12:21:21
IS,Setting table name breaks primary key on Rails 5,Steps to reproduce Create new rails application I'm using postgres which may or may not be relevant Add database yml info Add a single model Set self table name to something In my case my model is called Item and table name items with state items with state is a view in postgres In the rails console ask the model for the primary key ie Item primary key nil is returned If I explicitly set primary key on the model then the proper result is returned Expected behavior The primary key should be returned Actual behavior nil was returned System configuration Rails version Rails 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"rafaelfranca,pixeltrix",2016-07-28 13:34:30,2016-08-02 09:20:07
IS,constant auto loading causes Module const get to load and return the requested constant if not present in the receiver from receiver is nesting ancestors violating const get spec,I do not have a test case yet but would like to know if this is a known limitation of auto loading or should be considered a bug Breaking the ruby api should be avoided if possible which it may be in this case const get could be overridden setting an ivar flag for the duration of the call if the second argument is false which would inform const missing to avoid searching parents,,"matthewd,matthewd,pixeltrix,fxn,fxn,bogdanvlviv,bogdanvlviv,pixeltrix,fxn,fxn,pixeltrix,fxn,fxn,matthewd",2016-08-02 22:00:52,2016-08-03 00:46:33
IS,Allow force polling on ActiveSupport EventedFileUpdateChecker,It would be really nice to allow force polling true options for the Listen gem through ActiveSupport EventedFileUpdateChecker initialization or through an environment config Many of us are using Docker development environments with shared vm folders which breaks the default listen adapter and it does not fallback gracefully to polling without forcing it System configuration Rails version 5 0 0 Ruby version 2 3 1,,"rafaelfranca,matthewd",2016-08-03 05:38:42,2016-08-03 05:41:53
IS,Provide unified ActiveRecord DeadlockError,I just had to write the following concern for our ApplicationJob class in Basecamp Let is provide a ActiveRecord Deadlock exception that captures all the ways that is expressed by the underlying adapters and AR itself,,"dhh,kamipo,rafaelfranca,dhh",2016-08-01 22:51:03,2016-08-03 10:07:44
IS,Activesupport Duration inconsistencies around daylight saving time DST,Bug Moving from rails 4 x to rails 5 active support duration daylight saving time DST behavior changed For example adding 1 week to a date doesnt have the same behavior in activesupport 4 x and activesupport 5 I might understand the reasoning behind it But sadly this is a change that is poorly documented and lead to weird behavior such as date 1 week 1 week from now date when passing the DST point Steps to reproduce Expected behavior I think it is safe to expect that date 1 week and 1 week from now date have the same value which was the case in 4 2 Actual behavior This is not equal Possible suspect for that bug I strongly suspect that commit introduced that bug I have added debugging to the ActiveSupport Duration sum method and noticed that the advance method L167 receive an utc date in 5 0 0 Meaning the timezone support is wrapped externally this led to this bug System configuration Rails version 5 0 0 Ruby version 2 3 1,,"pixeltrix,pixeltrix,maclover7",2016-08-03 12:13:14,2016-08-03 13:50:15
IS,Model save creates wrong SQL INSERT INTO instead UPDATE,We currently face a problem when a request spec fails typo or other exception it affects other request specs which actually should be unaffected The problem is we use many gems so I tried to create a minimal reproduction app without success The problem in detail We have a request spec where we need to login a user For user authentication we use devise and therefore we use Warden Test Helpers to log in users in request specs Devise automatically updates some user related attributes when a user logs in last sign in at last sign in ip etc The problem here is that when it tries to save the user for doing this changes the end result is a INSERT INTO user instead of a UPDATE user and therefore it crashes Here is an example spec from our app I got following When the spec run in different order non failing first then spec with typo or exception in it I got this The difference here is for the working spec New Record boolean is different When the spec with the exception runs before it New record suddenly becomes true and therefore it generates SQL to create a new record Next I assumed some gems are causing this problem most likely I thought it would be database cleaner but in the reproduction I do more or less the same and there it works The problem is I'm really stuck at debugging and not sure where to proceed Also I'm not sure which gem or our code itself is causing this I also asked on Stackoverflow about that first did not want to open an issue because maybe its not a bug but our fault but so far nobody could help me there P S Here is our Gemfile lock,,rafaelfranca,2016-08-03 10:49:47,2016-08-03 14:43:04
IS,ActiveRecord PostgreSql JSONB columns with default as array saves bad data that is not queryable using activerecord or raw sql,Steps to reproduce Actual behavior Tell us what happens instead Querying the record created via Rails in the console returns nothing that is the saved record is not returned The ActiveRecod where query shown above does not return the record created by raw sql however the raw SQL query above returns the record created using raw SQL but does not return the record created with ActiveRecord create Also when you do an ActiveRecord find query to retrieve the record created with raw sql that is Segment find 6 it throw the error TypeError no implicit conversion of Array into String and you can see the stack trace here Note that for the record created with ActiveRecord create the finders work so doing Segment find 1 returns the record but will throw the error above for the records created with raw sql System configuration Rails version 5 0 0 Ruby version 2 3 1 p112,,"maclover7,sgrif,sgrif",2016-08-02 22:11:15,2016-08-03 17:45:38
IS,Unable to install Rails 4 2 7 with Ruby 2 2 5 working with Ruby 2 2 4,RVM and Xcode are up to date and Xcode command line tools are installed This is what I am getting Any ideas,,sgrif,2016-08-03 22:01:46,2016-08-03 22:33:11
IS,Rails 4 2 showing error as can not convert String into an exact number,Hi I have a application It was running successfully on rails 3 2 After I upgraded this to rails 4 2 its showing me an error Error TypeError in NodesController create can not convert String into an exact number Logs activesupport 4 1 14 2 lib active support core ext time calculations rb 44 in at' activesupport 4 1 14 2 lib active support core ext time calculations rb 44 in at with coercion' dynamoid 1 1 0 lib dynamoid persistence rb 104 in undump field' dynamoid 1 1 0 lib dynamoid persistence rb 61 in block 2 levels in undump' dynamoid 1 1 0 lib dynamoid persistence rb 60 in each' dynamoid 1 1 0 lib dynamoid persistence rb 60 in block in undump' dynamoid 1 1 0 lib dynamoid persistence rb 59 in tap' dynamoid 1 1 0 lib dynamoid persistence rb 59 in undump' dynamoid 1 1 0 lib dynamoid document rb 133 in load' dynamoid 1 1 0 lib dynamoid document rb 128 in block in initialize' activesupport 4 1 14 2 lib active support callbacks rb 113 in call' activesupport 4 1 14 2 lib active support callbacks rb 113 in call' activesupport 4 1 14 2 lib active support callbacks rb 552 in block 2 levels in compile' activesupport 4 1 14 2 lib active support callbacks rb 502 in call' activesupport 4 1 14 2 lib active support callbacks rb 502 in call' activesupport 4 1 14 2 lib active support callbacks rb 86 in run callbacks' dynamoid 1 1 0 lib dynamoid document rb 123 in initialize' app controllers nodes controller rb 81 in new' app controllers nodes controller rb 81 in create' actionpack 4 1 14 2 lib action controller metal implicit render rb 4 in send action' actionpack 4 1 14 2 lib abstract controller base rb 189 in process action' actionpack 4 1 14 2 lib action controller metal rendering rb 10 in process action' actionpack 4 1 14 2 lib abstract controller callbacks rb 20 in block in process action' activesupport 4 1 14 2 lib active support callbacks rb 113 in call' activesupport 4 1 14 2 lib active support callbacks rb 113 in call' activesupport 4 1 14 2 lib active support callbacks rb 552 in block 2 levels in compile' activesupport 4 1 14 2 lib active support callbacks rb 502 in call' activesupport 4 1 14 2 lib active support callbacks rb 502 in call' activesupport 4 1 14 2 lib active support callbacks rb 86 in run callbacks' actionpack 4 1 14 2 lib abstract controller callbacks rb 19 in process action' actionpack 4 1 14 2 lib action controller metal rescue rb 29 in process action' actionpack 4 1 14 2 lib action controller metal instrumentation rb 32 in block in process action' activesupport 4 1 14 2 lib active support notifications rb 159 in block in instrument' activesupport 4 1 14 2 lib active support notifications instrumenter rb 20 in instrument' activesupport 4 1 14 2 lib active support notifications rb 159 in instrument' actionpack 4 1 14 2 lib action controller metal instrumentation rb 30 in process action' actionpack 4 1 14 2 lib action controller metal params wrapper rb 250 in process action' actionpack 4 1 14 2 lib abstract controller base rb 136 in process' actionview 4 1 14 2 lib action view rendering rb 30 in process' actionpack 4 1 14 2 lib action controller metal rb 196 in dispatch' actionpack 4 1 14 2 lib action controller metal rack delegation rb 13 in dispatch' actionpack 4 1 14 2 lib action controller metal rb 232 in block in action' actionpack 4 1 14 2 lib action dispatch routing route set rb 80 in call' actionpack 4 1 14 2 lib action dispatch routing route set rb 80 in dispatch' actionpack 4 1 14 2 lib action dispatch routing route set rb 48 in call' actionpack 4 1 14 2 lib action dispatch journey router rb 73 in block in call' actionpack 4 1 14 2 lib action dispatch journey router rb 59 in each' actionpack 4 1 14 2 lib action dispatch journey router rb 59 in call' actionpack 4 1 14 2 lib action dispatch routing route set rb 690 in call' rack 1 5 2 lib rack etag rb 23 in call' rack 1 5 2 lib rack conditionalget rb 35 in call' rack 1 5 2 lib rack head rb 11 in call' actionpack 4 1 14 2 lib action dispatch middleware params parser rb 27 in call' actionpack 4 1 14 2 lib action dispatch middleware flash rb 254 in call' rack 1 5 2 lib rack session abstract id rb 225 in context' rack 1 5 2 lib rack session abstract id rb 220 in call' actionpack 4 1 14 2 lib action dispatch middleware cookies rb 562 in call' actionpack 4 1 14 2 lib action dispatch middleware callbacks rb 29 in block in call' activesupport 4 1 14 2 lib active support callbacks rb 82 in run callbacks' actionpack 4 1 14 2 lib action dispatch middleware callbacks rb 27 in call' actionpack 4 1 14 2 lib action dispatch middleware reloader rb 73 in call' actionpack 4 1 14 2 lib action dispatch middleware remote ip rb 76 in call' actionpack 4 1 14 2 lib action dispatch middleware debug exceptions rb 17 in call' actionpack 4 1 14 2 lib action dispatch middleware show exceptions rb 30 in call' railties 4 1 14 2 lib rails rack logger rb 38 in call app' railties 4 1 14 2 lib rails rack logger rb 20 in block in call' activesupport 4 1 14 2 lib active support tagged logging rb 68 in block in tagged' activesupport 4 1 14 2 lib active support tagged logging rb 26 in tagged' activesupport 4 1 14 2 lib active support tagged logging rb 68 in tagged' railties 4 1 14 2 lib rails rack logger rb 20 in call' opt brazil pkg cache packages AmazonRailsLogger AmazonRailsLogger 4 0 80 55 RHEL5 64 DEV STD PTHREAD build ruby1 9 site ruby 1 9 1 amazon set request id rb 9 in call' opt brazil pkg cache packages AmazonRailsLogger AmazonRailsLogger 4 0 80 55 RHEL5 64 DEV STD PTHREAD build ruby1 9 site ruby 1 9 1 amazon set request id rb 9 in call' actionpack 4 1 14 2 lib action dispatch middleware request id rb 21 in call' rack 1 5 2 lib rack methodoverride rb 21 in call' rack 1 5 2 lib rack runtime rb 17 in call' activesupport 4 1 14 2 lib active support cache strategy local cache middleware rb 26 in call' rack 1 5 2 lib rack lock rb 17 in call' actionpack 4 1 14 2 lib action dispatch middleware static rb 84 in call' rack 1 5 2 lib rack sendfile rb 112 in call' railties 4 1 14 2 lib rails engine rb 514 in call' railties 4 1 14 2 lib rails application rb 144 in call' railties 4 1 14 2 lib rails railtie rb 194 in public send' railties 4 1 14 2 lib rails railtie rb 194 in method missing' rack 1 5 2 lib rack lint rb 49 in call' rack 1 5 2 lib rack lint rb 37 in call' rack 1 5 2 lib rack showexceptions rb 24 in call' rack 1 5 2 lib rack commonlogger rb 33 in call' rack 1 5 2 lib rack chunked rb 43 in call' rack 1 5 2 lib rack content length rb 14 in call' rack 1 5 2 lib rack handler webrick rb 60 in service' home lakhwani FCLaunchRequirement env FCLaunchRequirementWebsite 1 0 runtime ruby1 9 1 9 1 webrick httpserver rb 138 in service' home lakhwani FCLaunchRequirement env FCLaunchRequirementWebsite 1 0 runtime ruby1 9 1 9 1 webrick httpserver rb 94 in run' home lakhwani FCLaunchRequirement env FCLaunchRequirementWebsite 1 0 runtime ruby1 9 1 9 1 webrick server rb 191 in block in start thread' System configuration Rails version 4 2 Ruby version 1 9 Can you please help me in this,,pixeltrix,2016-08-04 08:40:47,2016-08-04 14:30:34
IS,Windows 10 Bash problem with Ruby on Rails 5,Steps to reproduce Install Ruby on Rails on Windows 10 Bash Insider build is not needed after Anniversary Update chmod t R bundle Bundler do not build native extensions and it must be done manually by gem install Expected behavior Generate scaffold Product Actual behavior opalizoid DESKTOP MQER98A Projects depot rails generate scaffold Product title string description text image url string price decimal home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails app loader rb 40 warning Insecure world writable dir home opalizoid rbenv versions in PATH mode 040777 home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems rb inotify 0 9 7 lib rb inotify watcher rb 74 in initialize' Invalid argument Failed to watch home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support locale the given event mask contains no legal events or fd is not an inotify file descriptor Errno EINVAL from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems rb inotify 0 9 7 lib rb inotify notifier rb 190 in new' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems rb inotify 0 9 7 lib rb inotify notifier rb 190 in watch' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems rb inotify 0 9 7 lib rb inotify notifier rb 204 in watch' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen adapter linux rb 32 in configure' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen adapter base rb 45 in block in configure' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen adapter base rb 40 in each' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen adapter base rb 40 in configure' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen adapter base rb 63 in start' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen backend rb 28 in start' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen listener rb 67 in block in class Listener ' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen fsm rb 120 in instance eval' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen fsm rb 120 in call' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen fsm rb 91 in transition with callbacks ' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen fsm rb 57 in transition' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems listen 3 0 8 lib listen listener rb 90 in start' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support evented file update checker rb 90 in boot ' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support evented file update checker rb 61 in initialize' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support i18n railtie rb 59 in new' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support i18n railtie rb 59 in initialize i18n' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support i18n railtie rb 15 in block in class Railtie ' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support lazy load hooks rb 36 in execute hook' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support lazy load hooks rb 45 in block in run load hooks' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support lazy load hooks rb 44 in each' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems activesupport 5 0 0 lib active support lazy load hooks rb 44 in run load hooks' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails application finisher rb 65 in block in module Finisher' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails initializable rb 30 in instance exec' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails initializable rb 30 in run' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails initializable rb 55 in block in run initializers' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 228 in block in tsort each' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 350 in block 2 levels in each strongly connected component' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 431 in each strongly connected component from' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 349 in block in each strongly connected component' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 347 in each' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 347 in call' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 347 in each strongly connected component' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 226 in tsort each' from home opalizoid rbenv versions 2 3 1 lib ruby 2 3 0 tsort rb 205 in tsort each' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails initializable rb 54 in run initializers' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails application rb 352 in initialize ' from home opalizoid Projects depot config environment rb 5 in top required ' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails application rb 328 in require' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails application rb 328 in require environment ' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails commands commands tasks rb 157 in require application and environment ' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails commands commands tasks rb 143 in generate or destroy' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails commands commands tasks rb 60 in generate' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails commands commands tasks rb 49 in run command ' from home opalizoid rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 0 0 lib rails commands rb 18 in top required ' from bin rails 4 in require' from bin rails 4 in main ' System configuration Rails version Rails 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux NodeJS version v6 3 1 Installed gems actioncable 5 0 0 actionmailer 5 0 0 actionpack 5 0 0 actionview 5 0 0 activejob 5 0 0 activemodel 5 0 0 activerecord 5 0 0 activesupport 5 0 0 arel 7 1 1 bigdecimal default 1 2 8 builder 3 2 2 bundler 1 12 5 byebug 9 0 5 coffee rails 4 2 1 coffee script 2 4 1 coffee script source 1 10 0 concurrent ruby 1 0 2 debug inspector 0 0 2 did you mean 1 0 2 1 0 0 erubis 2 7 0 execjs 2 7 0 ffi 1 9 14 globalid 0 3 7 i18n 0 7 0 io console 0 4 6 default 0 4 5 jbuilder 2 6 0 jquery rails 4 1 1 json 2 0 2 default 1 8 3 listen 3 0 8 loofah 2 0 3 mail 2 6 4 method source 0 8 2 mime types 3 1 mime types data 3 2016 0521 mini portile2 2 1 0 minitest 5 9 0 5 8 3 multi json 1 12 1 net telnet 0 1 1 nio4r 1 2 1 nokogiri 1 6 8 pg 0 18 4 pkg config 1 1 7 power assert 0 3 0 0 2 6 psych 2 1 0 default 2 0 17 puma 3 6 0 rack 2 0 1 rack test 0 6 3 rails 5 0 0 rails dom testing 2 0 1 rails html sanitizer 1 0 3 railties 5 0 0 rake 11 2 2 10 4 2 rb fsevent 0 9 7 rb inotify 0 9 7 rdoc 4 2 2 default 4 2 1 rubygems update 2 6 6 sass 3 4 22 sass rails 5 0 6 spring 1 7 2 spring watcher listen 2 0 0 sprockets 3 7 0 sprockets rails 3 1 1 test unit 3 2 1 3 1 5 thor 0 19 1 thread safe 0 3 5 tilt 2 0 5 turbolinks 5 0 1 turbolinks source 5 0 0 tzinfo 1 2 2 uglifier 3 0 1 web console 3 3 1 websocket driver 0 6 4 websocket extensions 0 1 2,,"pixeltrix,pixeltrix,pixeltrix",2016-08-04 13:02:16,2016-08-04 15:34:43
IS,Cannot run tests if I have db name different from model name,Migration file When I try to do run a simple controller test it complains me about LocalEventsControllerTest test should get home ActiveRecord StatementInvalid Could not find table 'local events' I have seen in Fixtures API that you can tell the fixtures what model to use by model class but there is not a way to specify what table it should use I am not sure why though in the migration I am specifying the table name explicitly the test is trying to look for table name which does not exist System Config Rails 3 2 DB MSSQL Any guidance please,,,2016-08-04 16:20:38,2016-08-05 04:06:52
IS,simple format does not work as expected,The method cuts off the part of a text that goes after ' ' sign simple format one two related issue,,"kaspth,matthewd,kaspth",2016-01-25 09:48:59,2016-08-05 13:26:06
IS,ActiveRecord Aggregations composed of splats Hash values instead of assigning Hash,Steps to reproduce define composed of on a model with a preferences text column with a mapping set to a method that returns a Hash instance point the class name argument to a class e g User Preference whose initializer expects a single argument assign model preferences thing false stuff true ArgumentError 2 for 1 See the repro app here clone bundle rake test open L8 L10 This bug debatable was introduced by It was not resolved by which resolved a different issue caused by the above commit I promise I really like it is just very surprising behavior and I do not think composed of should do that Furthermore there was no deprecation policy announcing this breaking change Expected behavior I would expect composed of is dynamic writer to assign my damn Hash instance to my damn text column smile Actual behavior ArgumentError because composed of is writer method is splatting the Hash values and sending them to klass new in my example User Preferences new instead of sending the full Hash System configuration Rails version 4 2 7 Ruby version 2 3 1,,"sgrif,sgrif,sgrif,sgrif,sgrif",2016-07-28 21:48:31,2016-08-05 13:54:29
IS,Rails 5 Upgrade error I am not able to find an issue on elsewhere,Expected behavior Normal page load Actual behavior Error from better errors on page load System configuration Rails version 5 0 0 Ruby version 2 2 3 PM me if you would like a gemlist nicholas schwaderer gmail com not sure if this is related to using CoffeeScript or implementing the configuration to use manifest js Happy to answer any questions I would not have come here if I had not already exhausted all available resources for three straight days,,"pixeltrix,pixeltrix",2016-08-05 14:27:38,2016-08-05 15:52:13
IS,Proper working,Has anybody did the complete functioning of send and receive mail Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,pixeltrix,2016-08-05 17:34:15,2016-08-05 17:44:27
IS,Unable to execute rails in WSL Windows Subsystem for Linux,Steps to reproduce 1 In WSL in Win 10 after everything basic was setup I installed rvm and through that I installed ruby 2 3 1 successfully 2 I created a gemset and installed rails 5 0 in that gemset After that I created a demo by rails new rails5 demo and bundle install successfully 3 In rails5 demo dir I run rails s Expected behavior In the above condition Rack server should been up and running and listening to 127 0 0 1 3000 Actual behavior An Error occured System configuration Rails version 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux Related Issue Later I solved it temporarily using the method mentioned in the following issue issuecomment 225107119,,"pixeltrix,pixeltrix,pixeltrix,pixeltrix",2016-08-04 07:02:03,2016-08-05 18:26:27
IS,IntegrationTest params not encoded correctly in a GET JSON request,Steps to reproduce A JSON GET request with params in an IntegrationTest in Rails 5 is not encoding the params correctly Seems to encode the params as the key of the encoded hash with a value of nil There is log output below that demonstrates what I'm talking about In the meantime these are the full steps to replicate System configuration Rails version 5 0 0 Ruby version 2 2 3p173,,"maclover7,tenderlove,tenderlove,maclover7,tenderlove,eileencodes,eileencodes",2016-08-03 03:59:32,2016-08-05 18:49:42
IS,Rake should not be loaded when I start a server console runner,In rails 4 2 6 rake is not loaded which saves 100ms of startup time in rails 5 it is loaded by L1 Removing it keeps runner console server working using autoload Rake does not solve it since during the boot process module Rake is used which triggers the autoload alternatively make rake require lazy not sure if that is an option though Not a high priority issue but wanted to bring that to attention make it findable Steps to reproduce rails runner puts defined Rake Expected behavior Not defined Actual behavior Defined System configuration Rails version 5 0 0 rc1,,"grosser,rafaelfranca,kaspth,kaspth,kaspth",2016-05-16 05:01:53,2016-08-07 15:15:17
IS,Accept header is overwritten by xhr true in integration test,Steps to reproduce In Rails integration test if I set Accept application json headers I can see the response Content Type is application json But If I use xhr true then the test suit changes Accept header and makes both request Accept and response Content Type wrong Expected behavior In this case mo matter the developer passes HTTP ACCEPT CGI variable and Accept HTTP header it will work fine If you think this works I'm glad to create a PR,,"vipulnsward,kaspth,matthewd,kaspth",2016-07-17 02:23:46,2016-08-07 16:32:06
IS,DOCS Changelog dates and docs site info,It would be helpful if Changelog updates included a date Also I m keeping a relatively current set of docs for the master branch along with four Ruby versions aws sdk ruby at Home page has UI info and other notes along with links to the other libraries All private protected and nodoc methods shown All the guides are included see the 'Docs List' Files names and methods have links to the Git repo along with the source listing You may find it helpful and easier to navigate for large libraries like Rails than standard YARD or RDoc sites Also a bit more tablet friendly I will close this in a few days if someone else does not,,rafaelfranca,2016-08-08 04:04:54,2016-08-08 04:18:25
IS,Better logging of cached partial renders,Now that we have the lovely X Y cache hits formats for partial collections I think we should expand that to single partial renders as well Here is what things currently look like,,"dhh,st0012,kaspth,st0012,kaspth,st0012,kaspth,st0012,st0012,kaspth,st0012,kaspth,st0012,kaspth,kaspth,st0012,st0012,st0012,kaspth",2016-02-25 11:00:07,2016-08-08 09:50:17
IS,ActiveRecord select does not create accessor method when relation is ordered by attribute of joined model,Steps to reproduce Run the following gist Expected behavior Objects in ActiveRecord relation should have an accessor named woulduration' Actual behavior When the relation is ordered by 'title' the accessor is available when the relation is ordered by 'batch type short name' I get NoMethodError undefined method duration' for Batch 0x000001014c6f88 System configuration Rails version 4 2 ActiveRecord 4 2 7 Ruby version 2 1,,"maclover7,matthewd",2016-08-02 20:49:36,2016-08-08 18:04:34
IS,where not does not match nil NULL records,Steps to reproduce User where not status 'complete' generates the SQL System configuration Rails version 4 2 6 PostgreSQL Ruby version 2 3 1p112 I can do PR if this feature makes sense,,matthewd,2016-08-08 19:15:19,2016-08-08 19:33:27
IS,as json works differently for preload and eagerload,Steps to reproduce Expected behavior tickets first as json should be equal to tickets references portfolios first as json Actual behavior tickets first as json includes the code alias column defined in the select tickets references portfolios first as json does not include the code alias column defined in the select Note The problem arises only when eager load is called by includes preload works fine More to that using joins works fine aswell System configuration Rails version 4 2 6 Ruby version 2 1 8,,"vipulnsward,vipulnsward,sgrif,vipulnsward,sgrif,al2o3cr,sgrif",2016-03-25 11:36:18,2016-08-09 08:49:49
IS,param data types should not be converted to strings in rails 5,Steps to reproduce During a test my parameters being sent to the controller method are patch update params params example params below Actual behavior All parameters are converted to a string System configuration 5 0 2 3 1,,"pixeltrix,kaspth,pixeltrix,pixeltrix,matthewd,pixeltrix,matthewd",2016-08-06 19:49:31,2016-08-09 11:39:07
IS,rake db migrate does not work rake aborted StandardError An error has occurred,I started to have a issue with migrations with the project I was working on I have started a brand new one but the issue is still appearing the same Error messages appearing on attempts to do rake db migrate have tried both starting new project with the default database sqlite3 and the optional postgresql however after generating a model tried both with rails g scaffold Schedule name name dep date datetime and just model rails g model Schedule name name dep date datetime migration stays down the migration itself is class CreateSchedules ActiveRecord Migration 5 0 def change create table schedules do t t name name t datetime dep date end end command rake db migrate status give database travel t challenge development Status Migration ID Migration Name down 20160809121048 Create schedules commands rake db migrate rake RAILS ENV production db migrate or rake db migrate up VERSION 20160809121048 or bundle exec rake db migrate VERSION 20160809121048 or redo result in the same error 20160809121048 CreateSchedules migrating create table schedules rake aborted StandardError An error has occurred this and all later migrations canceled wrong number of arguments 1 for 0 Users username workspace travel t challenge db migrate 20160809121048 create schedules rb 4 in block in change' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract schema statements rb 277 in create table' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 845 in block in method missing' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 814 in block in say with time' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 814 in say with time' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 834 in method missing' Users username workspace travel t challenge db migrate 20160809121048 create schedules rb 3 in change' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 788 in exec migration' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 772 in block 2 levels in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 771 in block in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract connection pool rb 398 in with connection' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 770 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 950 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1211 in block in execute migration in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1279 in block in ddl transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract database statements rb 232 in block in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract transaction rb 189 in within new transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract database statements rb 232 in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record transactions rb 211 in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1279 in ddl transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1210 in execute migration in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1183 in block in migrate without lock' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1182 in each' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1182 in migrate without lock' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1131 in block in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1298 in with advisory lock' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1131 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1005 in up' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 989 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record tasks database tasks rb 161 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record railties databases rake 58 in block 2 levels in top required ' Users username rvm gems ruby 2 2 2 gems rake 11 2 2 exe rake 27 in top required ' Users username rvm gems ruby 2 2 2 bin ruby executable hooks 15 in eval' Users username rvm gems ruby 2 2 2 bin ruby executable hooks 15 in main ' ArgumentError wrong number of arguments 1 for 0 Users username workspace travel t challenge db migrate 20160809121048 create schedules rb 4 in block in change' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract schema statements rb 277 in create table' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 845 in block in method missing' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 814 in block in say with time' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 814 in say with time' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 834 in method missing' Users username workspace travel t challenge db migrate 20160809121048 create schedules rb 3 in change' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 788 in exec migration' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 772 in block 2 levels in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 771 in block in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract connection pool rb 398 in with connection' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 770 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 950 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1211 in block in execute migration in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1279 in block in ddl transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract database statements rb 232 in block in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract transaction rb 189 in within new transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record connection adapters abstract database statements rb 232 in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record transactions rb 211 in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1279 in ddl transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1210 in execute migration in transaction' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1183 in block in migrate without lock' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1182 in each' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1182 in migrate without lock' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1131 in block in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1298 in with advisory lock' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1131 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 1005 in up' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record migration rb 989 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record tasks database tasks rb 161 in migrate' Users username rvm gems ruby 2 2 2 global gems activerecord 5 0 0 lib active record railties databases rake 58 in block 2 levels in top required ' Users username rvm gems ruby 2 2 2 gems rake 11 2 2 exe rake 27 in top required ' Users username rvm gems ruby 2 2 2 bin ruby executable hooks 15 in eval' Users username rvm gems ruby 2 2 2 bin ruby executable hooks 15 in main ' Tasks TOP db migrate See full trace by running task with trace Dropping and setting up creating the database again has not helped either System configuration Rails version 5 0 0 Ruby version 2 2 3,,,2016-08-09 13:39:52,2016-08-09 14:03:24
IS,Proposal Increasing efficiency of current version method in active record migration,In activerecord lib active record migration rb for class Migrator we have two methods current version and get all version Currently current version calls get all version and selects maximum value from returned array get all version fetches all the records and then it loops through it gathering version number and then sorting it CURRENT CODE def get all versions connection Base connection We can get rid of all this overhead if we can simply query DB to fetch the maximum version number in current version method PROPOSED CODE def current version connection Base connection ActiveSupport Deprecation silence do if connection table exists schema migrations table name SchemaMigration maximum version to i end end end Although current code has cleaner one line approach but we can look for bigger picture regarding efficiency Any suggestions on this are highly appreciated,,"kaspth,kaspth,kaspth",2016-08-11 14:31:49,2016-08-11 15:09:21
IS,Rails 5 AR migrations default value for json type columns,Steps to reproduce Run a migration like this add column pages config json null false default ' ' or System configuration Rails version 5 0 0 Ruby version 2 3 1 PG gem 1 8 4 PG Server 9 4 9 5,,"pixeltrix,sgrif",2016-08-10 07:49:27,2016-08-11 18:43:50
IS,ReflectionTest test read attribute names got failure an extra wibble shown,Steps to reproduce ruby 2 3 1 has been installed by rbenv and ruby build plugin git bisect According to git bisect these failure reproduces since f0ddf87e4bfcfcb861b0a9dca32edb733668bd30,,"yahonda,yahonda,kamipo,yahonda,yahonda,yahonda",2016-08-10 01:33:31,2016-08-11 19:30:36
IS,Jobs enqueued with Sidekiq gets wrong Enqueued value,Steps to reproduce 1 Enqueue a job 1 Open Sidekiq is web panel for scheduled jobs 3000 sidekiq scheduled 2 Click on the job you have enqueued 3 Look for the Enqueued value in the table skjermbilde 2016 08 11 kl 10 58 10 Expected behavior When I schedule a job to run later with Sidekiq I expect the Enqueued value in Sidekiq is web panel to reflect the time the job was scheduled Actual behavior When I schedule a job to run later with Sidekiq and I visit the Sidekiq is web panel the Enqueued value tells me the job was created 47 years ago Probably 1970 01 01 rounded to year System configuration Rails version 4 2 6 Ruby version 2 3 1 1p112,,mperham,2016-08-11 08:58:58,2016-08-11 19:59:48
IS,assert redirected to duplicate url suffix,Using assert redirected to login url as show in the docs results in the error System configuration Rails version Rails 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,georgeclaghorn,2016-08-11 22:38:50,2016-08-12 02:47:25
IS,add index migration does not write order option to schema rb or database,Steps to reproduce I create a migration like so System configuration Rails version 4 2 7 1 Ruby version 2 2 2p95 Postgresql version 9 5 2 pg gem version 0 18 4,,"prathamesh-sonpatki,guilleiguaran",2016-08-11 22:42:21,2016-08-12 04:01:39
IS,Typo on asset pipeline guide says to use rails instead of rake,Steps to reproduce Go to precompiling assets Read the command Expected behavior The command used should be,,prathamesh-sonpatki,2016-08-12 11:16:10,2016-08-12 11:49:45
IS,Rails 4 2 7 1 generates new deprecation warnings in gems that did not previously generate them,Steps to reproduce Thanks for your hard work on the 4 2 7 1 security update bundle update your Gemfile from rails 4 2 7 to 4 2 7 1 rake rails update rspec Now all of a sudden I get a bunch of warnings like the following which I never got before and I have not changed the version of any other gems Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Performing a simple rails security update should NOT cause new deprecation warnings These pollute the console log and make testing more difficult Actual behavior Tell us what happens instead Security update from rails 4 2 7 to 4 2 7 1 causes new previously unseen deprecation warnings without changing versions of any other gems and without changing any code System configuration Rails version 4 2 7 1 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin14,,"kaspth,kaspth",2016-08-12 18:08:43,2016-08-12 18:23:48
IS,Rails 5 0 0beta2 Weird behaviour of config belongs to required by default,I'm facing a weird issue with the new config belongs to required by default In first app created with rails 5 0 0beta1 and updated to 5 0 0beta2 I have in initializers active record belongs to required by default rb Rails application config active record belongs to required by default true In rails console,,"jeremy,jeremy,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-02-10 09:00:08,2016-08-12 23:41:57
IS,Fix lazy load hooks documentation,Active Support has long had load hooks in but since the docs stopped showing up on Your mission should you choose to accept it is to fix this We could wrap the file is behavior in a module and extend Active Support with it inline Then for good measure we should give the docs some housekeeping Try coming up with a better explanation for why the lazy load hooks exist Use this as a starting ground issuecomment 231827911,,"kaspth,kaspth,vipulnsward,kaspth",2016-07-11 19:13:30,2016-08-13 00:08:45
IS,Generating with skip action mailer still generates app mailers,Steps to reproduce rails new my app skip action mailer Expected behavior I would not expect the app mailers directory to exist Actual behavior The app mailers directory is generated despite explicitly skipping action mailer during app generation System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"bcardarella,rafaelfranca,bcardarella,rafaelfranca",2016-08-13 00:03:47,2016-08-13 05:01:36
IS,Bug in ActionDispatch Integration RequestHelpers,I believe this part of code is intended to check if the request args if any has only following keys params headers env xhr If I'm right with all this stuff I'm ready to prepare a pull request System configuration Rails version 5 0 0 beta4,,"maclover7,kaspth,Envek,kaspth,jeremy,jeremy,jeremy,jeremy,kaspth,kaspth,kaspth,kaspth",2016-05-05 17:27:17,2016-08-13 19:10:09
IS,Test,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-08-13 20:48:36,2016-08-13 20:48:51
IS,Rails scaffold loses data when editing model with jsonb data when jsonb data is not edited and rails writes nil to db,Steps to reproduce shell rails new jsontest database postgresql shell rails g scaffold campaign name string cost integer data jsonb shell rails s Now go to campaigns then click create to create a campaign Create a campaign with data like name campaign 1 cost 100 data foo 2 and save The campaign will be properly saved and the jsonb data will be properly persisted in Postgres Now click on the edit link in the scaffold for this campaign Edit the cost only say change it to 101 then click save without editing the data jsonb field in any way without even giving focus to its form field Once saved you will notice in both Postgres and rails that the campaign now has data nil i e the jsonb data field got overwritten with nil even though I never even clicked on the data form field let alone edited it This is a serious data loss Rails scaffolds should not drop data that has not been edited You can see when I first create the campaign that the server log shows Notice how the form is sending back the correct data field value i e not nil but that for some reason ActiveRecord or something is setting data to nil This is wrong I did not edit the data field There is no reason for rails to set this field to nil when updating the record in the database Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Rails should not lose data in scaffolds Rails should not overwrite unchanged jsonb fields with nil Actual behavior Tell us what happens instead Rails does lose data in scaffolds Rails does overwrite unchanged jsonb fields with nil System configuration Rails version 4 2 7 1 Ruby version ruby 2 0 0p648 2015 12 16 revision 53162 universal x86 64 darwin15 postgres 9 5 3 To be clear I have not written a single line of code here rails new and rails g scaffold are the only things that generated code here This is all rails There is no user error involved here Thanks,,sgrif,2016-08-13 21:21:53,2016-08-14 20:14:24
IS,Rails 5 ActiveRecord Attribute stack level too deep error on save,If you make a lot of assignments to an ActiveRecord object you will get a a SystemStackError during save In our case we are calculating some stats on reports we generate by incrementing various counters In some cases we have large reports where one field could be incremented more than 10k times Steps to reproduce 1 Make an assignment on the same attribute of an object at least 10 050 times 2 Attempt to save the object Expected behavior The object should be saved Actual behavior A stack level too deep error is raised Here is the trace,,"sgrif,sgrif,sgrif",2016-08-11 15:19:07,2016-08-14 21:41:34
IS,Error on numericality using less than or equal to,Steps to reproduce Clone the following repository git clone Setup the gems bundle install Migrate the database rake db migrate Launch the server rails s Visit localhost 3000 products new Fill out the fields making sure to leave the Price field blank and putting any value in the field for Sales Price Click Create Product Expected behavior The nil value should evaluate to 0 and should be compared as normal Actual behavior ArgumentError comparison of Fixnum with nil failed System configuration Rails version 5 0 0 Ruby version 2 2 3,,"prathamesh-sonpatki,sgrif",2016-08-15 16:33:12,2016-08-15 19:19:56
IS,ActionController Live deadlock on const missing after SSE write,I'm seeing a deadlock occur when a constant is being loaded after a call to SSE write This will only occur when there is some delay between the two In my exact scenario I'm using Redis subscribe to run a GraphQL query when an event occurs I was able to distill the issue down to the fact that running the query triggers const missing which causes the deadlock I created a basic Rails app without the Redis GraphQL dependencies which reproduces the issue Of note is that if you use Rails 4 2 6 in my example app you do not run into the issue Steps to reproduce Expected behavior The SSE should close at the end of the HTTP request Actual behavior A deadlock occurs when a constant is being loaded System configuration Rails version 5 0 0 Ruby version 2 3 1p112,,"matthewd,matthewd",2016-08-11 15:43:45,2016-08-16 00:24:28
IS,Proposal decimal field declarations default to scale 2 in migrations,Given a valid migration this field declaration Thoughts,,rafaelfranca,2016-08-10 16:27:24,2016-08-16 09:26:25
IS,X Forwarded Port is omitted from ActionDispatch Request url,Steps to reproduce We have a configuration where nginx is forwarding requests to a rails server configured via 1 Receive an incoming request with X Forwarded Host and X Forwarded Port headers set web and 8000 respectively 2 Check the request url in the incoming request Expected behavior In a controller checking request url should include the port of the original request Expecting ' 8000' Actual behavior The port is not included for a forwarded request Actual '' System configuration Rails version 4 2 7 1 Ruby version 2 3 1,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-08-15 23:55:30,2016-08-16 15:58:26
IS,Decimals set to values over precision and scale get truncated to 0 0,What I'm seeing in Rails 5 0 0 vs previous version of Rails 4 2 1 is that decimal values get truncated once they go over the scale and precision set in the DB Steps to reproduce Code to reproduce the error Expected behavior I have a validation that looks like this which works in previous version of Rails format with A d d 0 4 z numericality greater than or equal to 0 less than 1 When set to 0 0001 everything works as expected but when set to 0 00001 the validation should fail because it does not match the format Actual behavior The value gets truncated to 0 0 which is making the validation pass System configuration Rails version Rails 5 0 0 Ruby version ruby 2 2 2p95,,rafaelfranca,2016-08-10 17:59:58,2016-08-17 02:03:03
IS,Unable to use entire JSON column in where clause,Steps to reproduce Create an ActiveRecord model with a JSON column in postgres jsonb then try to use that column as part of a where statement The only way I can get a match is to use the SQL placeholder syntax Example where numbers numbers to json instead of either of the two previous syntaxes that used to work at least as recently a 5 0 0 beta1 Example where numbers numbers or Example where numbers numbers to json I built a clean rails 5 0 0 rc1 app with tests that demonstrate this Just bin rake test to get a few kinds of failures and a passing test for the workaround I mention above repo with repro case Expected behavior I expect that the following will pass Which looks like it interprets the JSON string as a string that should be converted to JSON and double escapes everything System configuration Rails version 5 0 0 rc1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15 and 2 3 0 p0,,"maclover7,rafaelfranca,kamipo",2016-06-21 21:39:51,2016-08-17 02:12:43
IS,FlashHash delete returns self,Should it be fixed to be more Hash like and return deleted value L181,,"maclover7,maclover7,rafaelfranca,rafaelfranca,rafaelfranca",2016-04-26 16:29:47,2016-08-17 06:02:39
IS,Same model validation failing Rails 5,Steps to reproduce I have the following validation in my model validates price numericality greater than or equal to 0 01 Entering in price 5 0 when I submit the form it fails and it shows me the error message in the view but when I change the validation to this it must do the same validates numericality of price greather than or equal to 0 01 Does not validates and it gets created saved correctly System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,,2016-08-17 12:26:31,2016-08-17 12:48:03
IS,Confusing part at 5 Getting Up and Running,Not sure if I'm reporting this at the right place According to the guide config routes rb should look like following after adding resources articles This might be a bit confusing or maybe it is just me being confused,,maclover7,2016-08-17 08:41:48,2016-08-17 13:31:18
IS,ActiveSupport SafeBuffer loose its escaping depending on concatenation order,Steps to reproduce In a view System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,rafaelfranca,2016-08-17 12:22:41,2016-08-17 16:37:54
IS,Eager loaded belongs to associations are always readonly,Steps to reproduce Expected behavior Eager loaded belongs to associations should not be readonly Actual behavior Eager loaded belongs to associations are always readonly System configuration Rails version v5 0 0 beta1 and up including latest master Ruby version All Extra It seems the issue was introduced in 18097,,"bquorning,bquorning",2016-03-07 13:49:08,2016-08-19 02:19:00
IS,Sqlite3 Migration Rollback Error Handling With Invalid Column Type,Steps to reproduce Use Sqlite3 and create a table Add a column to the table with an invalid type argument The migration will run successfully Notice that wouldb schema rb' will not work Run rake db rollback or generate a new migration to remove this column and it will throw an error Code to reproduce the error Expected behavior Rails should either catch the bad column type on the initial addition of the column or it should defer to the DB for error handling as I expect it has been designed to do However if the DB allows this to be rolled back Rails should not prevent this Actual behavior Rails throws an error on rollback attempt in what appears to be the schema generation process and the change is not made The only solution seems to be to drop the table System configuration Rails version 5 1 0 alpha also tested in 5 0 0 and 4 2 6 Ruby version 2 3 1p112,,,2016-08-09 00:40:01,2016-08-19 03:28:54
IS,Controller Test params with array of hashes merged into 1 hash,A little background first I have been upgrading my Rails 4 2 6 app to Rails 5 0 0 I noticed a few controller test cases failing and they all stem from the same issue here It seems that when you have a request with params containing a permitted array of hashes those hashes get merged into one and thus the array always has 1 item in it unexpected Since these tests are for JSON API endpoints I have been wanting to transition our controller tests to integration tests When I did that for those that failed I noticed these same errors stopped happening So this seems to only happen for controller tests I'm not sure if it is strong parameters related since its possible strong parameters is receiving a modified set of params whereas in an integration test its not Somewhat related in that this started from researching what happened in 26033 Steps to reproduce This executable script has a controller test fails and integration test passes to demonstrate the issue This will help to see the difference I have added comments as I have tried various things I thought perhaps we were using strong parameters wrong its not the easiest to understand sometimes so I have commented out different approaches but that does not seem to be the issue Expected behavior I expected the array containing 2 hashes correct in params to remain like that and not have the hashes be merged into one and thus be an array of 1 hash wrong Actual behavior In a controller test if params has a permitted array of hashes those hashes get merged into one when they should not be modified at all In an integration test that does not happen and the permitted params remain in the structure as given in the request System configuration Rails version 5 0 0 Ruby version 2 2 3,,"maclover7,maclover7,rafaelfranca,rafaelfranca,rafaelfranca",2016-08-05 22:09:25,2016-08-19 04:47:19
IS,Ca not deserialize undefined method ' for nil NilClass,From on August 18 2016 17 15 I hope this is the right repo for this issue Ca not seem to read a serialized column after upgrading to Rails 5 0 stable I have not used a specific serialization class I assume YAML is the default Thought before the upgrade the values were saved as ruby hash ActionController Parameters Copied from original issue rails strong parameters 241,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-08-19 00:54:53,2016-08-19 05:41:05
IS,Error when not using active record,Steps to reproduce Remove rails all requirement from aplication rb require just the following System configuration Rails version 5 0 0 Ruby version 2 3 1,,vipulnsward,2016-08-19 17:06:24,2016-08-19 17:42:10
IS,Underscores not getting shown sometimes in Guides,image I have noticed that sometimes underscores Do not get shown rendered in codeblocks Marking it sometimes lets the reappear This can get a bit confusing No idea if it is just me Chromium 51 0 2704 79 Developer Build Ubuntu 16 04 64 bit or also occuring for others,,"maclover7,rafaelfranca,vipulnsward,maclover7",2016-08-17 11:27:27,2016-08-19 19:32:05
IS,Rails 3 2 why do you hate me with ruby 2 3 ruby 2 1 used to love me so,Dear rails ruby 2 1 5 rails 3 2 head And now ruby 2 3 1 is happy about rails 3 2,,maclover7,2016-08-19 20:42:42,2016-08-20 00:13:42
IS,PostgreSQL OID Bit column type issue on Rails 5,On upgrade to Rails 5 I have issue with Postgres bit column type and overwriting reader method You can see the issue It was working fine on Rails 4 2 now it raises System configuration Rails version 5 0 0 Ruby version 2 3 1,,"morgoth,alexcameron89,alexcameron89",2016-08-12 12:18:02,2016-08-20 10:40:16
IS,Font issue in Rails Guides on Firefox Ubuntu,Firefox 47 0 running on Ubuntu 16 04 On this Guides page section 2 1 Underscore is missing from part number in first code box The underscore is in the html it is just not being displayed Double clicking on the code box makes it appear Changing the font to Arial makes it appear,,"vipulnsward,alexcameron89,maclover7,alexcameron89",2016-07-07 20:37:21,2016-08-20 17:31:43
IS,content tag p does not wrap ul properly,with ruby 2 3 1 and latest rails 4 2 The view,,"simi,rafaelfranca",2016-08-21 14:12:53,2016-08-21 18:29:24
IS,Why it is possible to invoke channel actions after subscription was rejected,Let is assume we called reject in channel subscribed then client ignores rejection and makes a call to some action in that channel which is being successfully processed ignoring the fact that it was rejected So each action should check for subscription rejected,,"maclover7,maclover7,maclover7",2016-02-18 16:26:17,2016-08-21 19:21:44
IS,The v2 3 link on RailsGuides redirects to edgeguides,Steps to reproduce Visit this link Expected behavior It displays the guides for Rails 2 3 Actual behavior It redirects to,,"maclover7,Gaurav2728,Gaurav2728,sikachu,fxn",2016-03-18 10:05:18,2016-08-21 22:34:27
IS,Link to Rails Guide for 3 2 results in a 403 response,Steps to reproduce From I click on the link for Rails 3 2 and get taken to Expected behavior Guides for Rails version 3 2 Actual behavior 403 Forbidden error message System configuration Not applicable documentation related This has happened previously with 23984 and 24113 but this one seems to be unrelated,,"vipulnsward,prathamesh-sonpatki,fxn,fxn",2016-08-15 07:19:11,2016-08-21 22:58:23
IS,HashWithIndifferentAccess in the session is converted to Hash during Integration Test,I have run into a bug with an Integration Test Hashes with indifferent access are not maintained between requests This problem only happens in testing Everything seems to work fine in the live application I tried using the bug template but the template is not loading the same code as a full Rails app and I'm not sure what the issues is My attempt at the template can be found here I have reproduced this issue in a bare bones 5 0 0 1 app To summarize the integration test does System configuration Rails version I have seen this on 4 2 6 4 2 7 5 0 0 and 5 0 0 1 Ruby version 2 3 1,,rafaelfranca,2016-08-22 02:43:26,2016-08-22 17:05:21
IS,Rails Routing guide using deprecated dynamic action and controller segments,Since 23980 deprecated the action and controller path parameters Sections 3 1 bound parameters through 3 5 defining defaults of the Rails Routing from the Outside In guide are out of date The guide should be updated to use explicitly whitelisted controller and action paths according to the PR,,,2016-08-22 15:28:35,2016-08-22 17:29:55
IS,Ca not find out in the documentation how to change channel via javascript without refreshing page,So like the title suggests I can not find out in the documentation how to change channel via javascript without refreshing page Some help with this would be greatly appreciated as I am building a large commercial application and am trying to implement AJAX channel switching,,rafaelfranca,2016-08-22 19:33:42,2016-08-22 19:40:15
IS,has many with scope dependent and foreign key needs better documentation,I found an unexpected behavior in has many method i has many that I illustrated with a failing test in a gist The short version is the following If you have these two models What do you think Should the documentation be a little more verbose in this case,,"claudiob,rafaelfranca",2016-08-10 22:27:01,2016-08-23 01:46:57
IS,ss,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-08-23 01:57:44,2016-08-23 02:03:51
IS,ActiveRecord no longer supports older PostgreSQL versions but need to connect to those still exists,Steps to reproduce Attempt to connect to a PostgreSQL 8 x database from ActiveRecord 5 x Expected behavior Should work albeit perhaps with limited functionality It would be fine if we had to specify a different adapter name e g postgresql legacy There are many situations in which an application may need to connect to interact with databases besides its primary database Discontinuing support for older versions of database servers that are still in common use leaves developers unable to update ActiveRecord and maintain the ability to interact with those database servers unless they give up on using ActiveRecord to do so Actual behavior RuntimeError Your version of PostgreSQL 80316 is too old Active Record supports PostgreSQL 9 1 System configuration 5 0 0 Ruby version 2 2 5,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-08-23 03:19:42,2016-08-23 03:27:24
IS,Warning about Passing strings or symbols to the middleware builder is deprecated in my customized rack,Steps to reproduce When I config a rack middleware in my application rb like below Module APIStyle PathUnderscore is put in the app helpers api style path underscore rb file System configuration Rails version 5 0 Ruby version 2 3,,"rafaelfranca,rafaelfranca",2016-08-23 03:53:28,2016-08-23 03:54:41
IS,Namespace routes,namespace api do namespace v1 do resource cart do delete empty end end end ROUTE Current empty api v1 cart DELETE api v1 cart empty format api v1 carts empty is not elegant to put empty action after api v1 url like ROUTE Enhancement api v1 empty cart DELETE api v1 cart empty format api v1 carts empty,,rafaelfranca,2016-08-23 17:55:42,2016-08-23 21:54:36
IS,ActionCable channels are not available in rake tasks,If we want to broadcast some event in a task there is no way to do it,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-08-23 18:33:50,2016-08-23 22:05:49
IS,Not able to delete default application precompilation in Rails 5 0,Steps to reproduce Attempt to remove the recursive application css js precompile regex in assets rb by running Rails application config assets precompile delete A application css js Expected behavior The regexp should not remain in the array after Rails is completes booting to avoid unwanted precompilation of files matching application css js Actual behavior After rails has booted the regexp is present in the precompile array Why are we even doing this in the first place The actual problem we are having is that we are adding node modules to our asset paths Some node modules include application scss in their test directories that will match rails default regex and thus starts precompiling causing exceptions when trying to load any page It seems that Rails 5 adds the application regexp after assets rb has loaded in Rails 4 it was already added at that point so I'm not sure where I should delete it seems like principle of least surprise would be to be able to do any asset config I need to do in assets rb Any suggestions for workarounds would be appreciated System configuration 5 0 0 1 2 3 1p112,,"rafaelfranca,rafaelfranca",2016-08-23 13:50:06,2016-08-23 22:06:45
IS,Rake tasks produces LoadError cannot load such file action cable engine,Steps to reproduce Create a new rails app and run it more specifically run bundle exec rake P Expected behavior App should run Actual behavior rake aborted LoadError cannot load such file action cable engine System configuration Rails version 5 0 0 Ruby version 2 3 0,,rafaelfranca,2016-08-24 11:57:40,2016-08-24 15:00:52
IS,useless transactions on insert recors using save create,I'm aware that transaction on model save would be useful when there are after save hooks But in a lot of cases the INSERT is the only statement to be executed by rails and wrapping it into a transaction is harmful to performance For example if MariaDB server is accessible over high latency connection then the extra two calls make the operation 3 times slower e g all calls take 200ms each due to latency but processing time for insert is very short so total time 600ms instead of 200ms I think it would be useful to avoid extra calls when possible Steps to reproduce in controller Expected behavior SQL INSERT Actual behavior BEGIN SQL INSERT ROLLBACK or COMMIT System configuration Rails version Rails 5 0 0 1 Ruby version 2 2 5,,"rafaelfranca,arthurnn",2016-08-24 15:27:28,2016-08-24 15:39:23
IS,where not does not work for polymorphic associations,Steps to reproduce prepare the project find the files here what we have now is c a AND b which is WRONG System configuration Rails 4 1 14 ruby 2 1 8p440 2015 12 16 revision 53160 x86 64 darwin15 0 still present in Rails 5 0 0 1 ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,georgeclaghorn,2016-08-24 13:48:37,2016-08-24 15:46:08
IS,Controllers will not render JSON,Steps to reproduce Perform any request that should render JSON in my controllers repo here Expected behavior The controllers should render JSON Actual behavior For instance when I make a call to create a session through my sessions controller I get the following error It appears that the very act of calling render json user is making a call to my method current user The same error occurs with rendering JSON in the users controller rb System configuration Rails version Originally on 5 0 0 beta 2 Updated to 5 1 0 alpha in attempt to fix this issue Ruby version 2 2 3p173,,"guilleiguaran,guilleiguaran",2016-08-24 18:28:25,2016-08-24 18:38:22
IS,Ca not access in test,Steps to reproduce System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 i686 linux,,rafaelfranca,2016-08-25 04:43:03,2016-08-25 05:02:10
IS,Chained merge with joins generates wrong sql,Steps to reproduce Basic model silly example Due to the fact that blogs has not been joined yet System configuration Rails version 4 2 5 2 Ruby version 2 3 1,,maclover7,2016-08-17 22:13:11,2016-08-25 22:33:16
IS,Unable to add custom config like stated in Rails guides,Rails 4 2 introduced the config x namespace to add custom config variables As I'm upgrading to Rails 5 I noticed in the Rails 5 Guides that the x namespace is not needed anymore So instead of config x app title foo we can now write config app title foo It just do not work on a fresh Rails 5 0 0 1 app and the Rails 5 release notes do not mention this change The changes in the guide are related to this commit Am I missing something or the guides is wrong about this,,"prathamesh-sonpatki,rafaelfranca,maclover7,maclover7,maclover7",2016-08-25 15:55:35,2016-08-26 14:38:54
IS,Action Cable NoMethodError undefined method fetch' for nil NilClass,Steps to reproduce On my development environment I am not able to connect with Action Cable When I perform App room speak 'testing 123' on my chrome console it returns NoMethodError undefined method fetch' for nil NilClass Here are my setup 1 cable yml development adapter async 1 channels room channel rb def subscribed stream from room channel end def speak ActionCable server broadcast 'room channel' message 123 end 2 javascripts channels room coffee App room App cable subscriptions create RoomChannel connected Called when the subscription is ready for use on the server disconnected Called when the subscription has been terminated by the server received data messages append data console log data speak message ispeak' message message Expected behavior It should return message on my console Actual behavior Currently it is not returning anything from my web console However on my rails console it returns as RoomChannel speak message testing 123 ActionCable Broadcasting to room channel message 123 Could not execute command from command message identifier channel RoomChannel data message testing 123 action speak NoMethodError undefined method fetch' for nil NilClass Users vincent rbenv versions 2 3 1 lib ruby gems 2 3 0 gems actioncable 5 0 0 lib action cable server configuration rb 24 in pubsub adapter' Users vincent rbenv versions 2 3 1 lib ruby gems 2 3 0 gems actioncable 5 0 0 lib action cable server base rb 72 in block in pubsub' Users vincent rbenv versions 2 3 1 lib ruby 2 3 0 monitor rb 214 in mon synchronize' Users vincent rbenv versions 2 3 1 lib ruby gems 2 3 0 gems actioncable 5 0 0 lib action cable server base rb 72 in pubsub' Users vincent rbenv versions 2 3 1 lib ruby gems 2 3 0 gems actioncable 5 0 0 lib action cable server broadcasting rb 43 in broadcast' System configuration Rails version 5 0 Ruby version 2 3 1,,"rafaelfranca,maclover7",2016-08-25 00:45:40,2016-08-26 16:47:22
IS,ActionDispatch Http Headers fetch throws NameError instead of KeyError,Steps to reproduce Use ActionDispatch Http Headers fetch L85 method to find a headers key that does not exist without passing an optional default value As the method documentation states it should throw a KeyError as it did in Rails4 but in Rails5 it throws a NameError L89 despire the documentation saying otherwise It was changed in the following commit In my opinion this method should mimick the Hash fetch method which throws the KeyError or the documentation should be changed to reflect the commited changes Also there are no tests whatsoever regarding the error throwing when the optional default value is not passed L100 L103 Expected behavior System configuration Rails version Rails 5 0 0 1 Ruby version Ruby 2 3 1p112,,maclover7,2016-08-25 09:12:56,2016-08-26 17:15:44
IS,Strange behavior with references foo on a query,Steps to reproduce Test case here System configuration Rails version 5 0 0 5 0 0 1 Ruby version 2 3 1 I'm really scratching my head on this one I verified the result on two machines,,matthewd,2016-08-26 19:17:15,2016-08-27 00:30:10
IS,Class of variable does not persist correctly after redirect,Sorry My English is bad Steps to reproduce Expected behavior I think correctly shown link Actual behavior HTML tags are escaped System configuration Rails version 5 0 0 1 Ruby version 2 2 5p319 2016 04 26 revision 54774 x86 64 darwin16,,,2016-08-27 02:06:10,2016-08-27 14:01:34
IS,request domain returns co uk from domain co uk,Expected behavior System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,maclover7,2016-08-28 01:57:35,2016-08-28 02:51:33
IS,Typo wrong command,Hey guys I dont know where I have to write it so I guess i will just dump it here I was following the guide Get Started with Rails and there is a command bin rails db migrate And this command does not work because it has to be rake db migrate So I hope you guys can change it for the others that has to read the guide,,kaspth,2016-08-29 12:14:52,2016-08-29 12:21:28
IS,ActiveSupport TimeWithZone serialization format in 5 x x is not backward compatible with 4 x x,Expected behavior We have multiple apps using rails 5 0 0 1 and rails 4 2 7 1 and sharing the same database 5 0 0 1 is serializing time zone differently than 4 2 7 1 introduced by this commit Our app using rails 4 2 x x are not able to deserialize the new YAML written by our rails 5 0 0 1 applications Would be nice if the next 4 2 x x is able to deserialize the new format Backtrace System configuration Rails version 4 2 7 1 Ruby version 2 2 4,,"maclover7,pixeltrix",2016-08-27 06:40:23,2016-08-29 13:57:47
IS,Missing URL helper for namespaced root route,While upgrading our app to Rails 5 0 we came across this apparent regression root routes in namespaces fail to generate URL helpers in some cases Steps to reproduce at the moment,,pixeltrix,2016-08-13 10:57:36,2016-08-29 15:29:57
IS,Template is missing,Hi everyone i'm gotting this error from my web page when i try to go to localhost 3000 suscribir i got this error Missing template subscribe create application create with locale es en formats html variants handlers erb builder raw ruby coffee jbuilder this is my routes rb file i will be watching for your help thanks,,rafaelfranca,2016-08-29 20:43:18,2016-08-29 21:52:12
IS,Charset declaration on send file lost,Steps to reproduce Use but as per the documentation we were using the type options not content type and this does not fix things The ultimate HTTP response contains text calendar without charset neither once nor twice If you use content type instead of type you end up with the charset twice in the HTTP response If you use content type 'text calendar' as the only argument to send file you get the response we wanted but only because utf 8 is the default charset A header with a different charset declaration seems impossible to create,,"maclover7,maclover7,pixeltrix,pixeltrix,pixeltrix,pixeltrix,maclover7,maclover7",2016-08-27 10:35:16,2016-08-29 22:36:12
IS,Collection cache breaks on pagination,Hi everyone just noticed that you added in 5 0 cache key for collection that is nice Quick search on repo gives that collection cache relies on collection cache key Right now it breaks with offset Works like charm respecting order and without needing for re cache untouched subcollection,,maclover7,2016-08-30 16:26:35,2016-08-30 18:06:19
IS,Calling as json on non ActiveRecord models does not serialize properly when passed with option only,Steps to reproduce Given a non ActiveRecord model e g Relevant details Calling as json on the model with no options serializes the full object properly Calling as json with option except on other attributes also serializes the object properly Therefore this bug seems to be exclusive to the only option for as json System configuration Rails version 4 2 6 Ruby version 2 3 1,,"bf4,maclover7",2016-08-29 02:34:16,2016-08-30 22:39:15
IS,ThroughReflection call table name raise errors in 5 0,Steps to reproduce Expected behavior It should return the reflections 'inquiries' is table name inquiries System configuration Rails version 5 0 Ruby version 2 3 1,,"alexcameron89,alexcameron89",2016-08-30 03:32:08,2016-08-31 01:33:38
IS,as json dose not support parameterized methods,While passing methods in 'as json' 'to json' to create json response of an object we cannot pass parameters in methods For example to json only title body created at tags category methods likes count comments count Here we cannot pass methods with arguments,,"matthewd,matthewd",2016-08-31 09:27:16,2016-08-31 10:18:22
IS,ActiveRecord Arrays throw Error in Jruby,I have tracked this problem down to this commit which completely breaks jruby support by requiring the pg gem When I override this class with the old version I can get it back to working order I suggested making this change on the activerecord jdbc adapter project however they rightly pointed out that this would be difficult to maintain I would propose that a change be made to rescue from the case that the pg gem is not present and in that case fall back to the old implementation I believe made the commit in question Steps to reproduce 1 Use a model with an array field in the database Expected behavior Page should load Actual behavior Stack Overflow error System configuration Rails version Rails 5 Ruby version jruby9000,,,2016-08-31 11:23:43,2016-08-31 11:25:27
IS,find by id causes stack overflow in after find callback,Steps to reproduce An executable test case is below It demonstrates that find by id behaves differently than find id where id id first and find by id id find by id is raising a SystemStackError when including has many relationships and that relationship has an after find callback that access the parent object Expected behavior find by id where id id first find by id id and find should all have the same callback behavior They should not raise SystemStackError Actual behavior SystemStackError is raised System configuration Rails version activerecord 5 1 0 alpha activerecord 4 2 6 Ruby version ruby 2 3 1p112,,,2016-08-29 19:50:18,2016-08-31 13:28:43
IS,to json should support parameterized methods,Expected behavior to json should should support parameterized methods I am assuming something like this to json methods is watchlisted user Actual behavior Currently this is throwing syntax error SyntaxError unexpected ' ' expecting end of input Company first to json methods is watchlisted User first,,sgrif,2016-08-31 13:44:04,2016-08-31 14:28:58
IS,update and update attributes are aliases for each other but still behaves differently update does not provide any chnages in after update callback but update attributes does,Steps to reproduce class Task ActiveRecord Base after update check chnaged attributes def check chnaged attributes puts self chnages end end Expected behavior Both cases should return similar to this title 213 xyz updated at Wed 31 Aug 2016 20 36 36 AEST 10 00 Wed 31 Aug 2016 21 16 23 AEST 10 00 Actual behavior update Task first update title xyz gives update attributes Task first update attributes title xyz gives title 213 xyz updated at Wed 31 Aug 2016 20 36 36 AEST 10 00 Wed 31 Aug 2016 21 16 23 AEST 10 00 System configuration Rails version 5 0 0 Ruby version 2 3 1,,"sgrif,alexcameron89",2016-08-31 12:01:35,2016-08-31 15:04:08
IS,ActiveRecord Arrays throw Error in Jruby,I have tracked this problem down to this commit which completely breaks jruby support by requiring the pg gem When I override this class with the old version I can get it back to working order I suggested making this change on the activerecord jdbc adapter project however they rightly pointed out that this would be difficult to maintain I would propose that a change be made to rescue from the case that the pg gem is not present and in that case fall back to the old implementation I believe made the change in question Steps to reproduce 1 Use a model with an array field in the database Expected behavior Page should load Actual behavior Stack Overflow error System configuration Rails version Rails 5 Ruby version jruby9000,,"sgrif,larskanis,sgrif",2016-08-31 11:25:05,2016-08-31 15:14:48
IS,ActiveRecord modules that implement dynamic methods should override respond to missing instead of respond to,so that dynamic methods can be retrieved with Object method,,,2016-08-31 00:07:23,2016-08-31 15:53:08
IS,Updating a PostgreSQL array column with UTF 8 text messes up the encoding,Steps to reproduce Assuming a database table with an array column,,"alexcameron89,alexcameron89",2016-08-30 12:08:34,2016-08-31 16:13:36
IS,Migrations Default value to column raises and error,This behaviour worked fine in Rails 4 2 Now I have an error System configuration Rails version 5 0 0 1 Ruby version 2 3 0,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,maclover7,prathamesh-sonpatki,sgrif",2016-08-15 11:38:51,2016-08-31 17:11:18
IS,Attribute default value cannot be saved when creating a new record,Steps to reproduce Expected behavior Save user successfully Actual behavior locale is not saved Running SQL 0 1ms INSERT INTO users DEFAULT VALUES rollback transaction E Finished in 0 005314s 188 1693 runs s 0 0000 assertions s 1 Error BugTest test save with attribute default ActiveRecord StatementInvalid SQLite3 ConstraintException NOT NULL constraint failed users locale INSERT INTO users DEFAULT VALUES System configuration Rails version 4 2 7 Ruby version 2 3 1 Notes This issue has been fixed in rails 5 0 0,,sgrif,2016-08-31 17:56:49,2016-08-31 18:00:38
IS,In production mode only incompatible character encodings ASCII 8BIT and UTF 8 on accented characters,When displaying content with accented characters such as or ActionView Template Error is raised with ActionView Template Error incompatible character encodings ASCII 8BIT and UTF 8 This ONLY happens in production mode and when behind a reverse proxy Have tested with Passenger Unicorn and Puma behind both nginx and apache Running the app in production mode on port 3000 and browsing to that works perfectly fine ALL content is in utf 8 The database postgres using pg 0 18 4 nginx is charset setting all of the encoding options in environment rb and the HTTP headers Nothing should be in ASCII 8BIT I am using ruby 2 3 1 and rails 5 0 0 1 If anyone has an idea about this or a workaround short of appending force encoding 'ASCII 8BIT' to every line in every view please advise I am extremely frustrated with it and beating my head off the table at this point Building a service in Finland so accented characters are absolutely necessary here,,"alexcameron89,vipulnsward,sgrif,sgrif,sgrif,sgrif",2016-08-31 20:54:50,2016-08-31 22:51:49
IS,form for helper does not respect the only option in my routes rb file,Steps to reproduce Hi In my Rails App I have the following routes When submitting the form I get a routing error No route matches PATCH seminars 2 System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,kaspth,2016-09-01 09:15:37,2016-09-01 10:51:36
IS,Database drop task loads route file,Steps to reproduce 1 Create a Rails 5 project 2 Insert a log in config routes rb 3 Run bundle exec rails db drop 4 See you log waving at you in the terminal Expected behavior Prior to version 5 route file was not loaded when using bundle exec rake db drop Actual behavior Route file is loaded when db drop command runs bundle exec rails db drop Why is it problematic Some gem as Devise loads model in route file and some logic in the model may try to execute database calls If the database does not exist which might be the case when running db drop the command will crash It would have been much more problematic if it was also the case in database create task but surprisingly the create task does not load the route file System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki",2016-08-29 17:07:46,2016-09-02 08:34:56
IS,DateTime not working properly,Steps to reproduce Input DateTime new 2007 11 19 8 37 48 IST Output Mon 19 Nov 2007 08 37 48 0530 Correct Input DateTime new 2007 11 19 8 37 48 MYT Output Mon 19 Nov 2007 08 37 48 0000 Incorrect Not Working for MYT Expected behavior It should be Mon 19 Nov 2007 08 37 48 0800 Actual behavior Mon 19 Nov 2007 08 37 48 0000 System configuration Rails version 4 2 3 Ruby version 2 2 2,,maclover7,2016-09-02 15:15:53,2016-09-02 15:44:54
IS,rake migration accepts none existed datatype and istring' column name,I have accidentally switched the paramters of creating a column in migration At running db migrate it accepts the migration But when I want to remove the column named istring' it already returns an error Rails version 5 0 0 1 Ruby ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux This is a screen shot of the log screenshot from 2016 09 04 11 37 50,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki",2016-09-04 03:41:06,2016-09-04 05:30:01
IS,Kali Linux,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-09-04 14:23:12,2016-09-04 14:24:04
IS,rails can not run on Kali Linux,System configuration Rails version 5 0 0 1 Ruby version 2 3 0 when run rails server hugh Victory desktop blog rails server Booting Thin Rails 5 0 0 1 application starting in development on 3000 Run rails server h for more startup options Exiting var lib gems 2 3 0 gems actionpack 5 0 0 1 lib action dispatch middleware session abstract store rb 90 in module Session ' uninitialized constant Rack Session Abstract Persisted NameError from var lib gems 2 3 0 gems actionpack 5 0 0 1 lib action dispatch middleware session abstract store rb 8 in module ActionDispatch' from var lib gems 2 3 0 gems actionpack 5 0 0 1 lib action dispatch middleware session abstract store rb 7 in top required ' from var lib gems 2 3 0 gems actionpack 5 0 0 1 lib action dispatch middleware session cookie store rb 2 in top required ' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails application configuration rb 181 in const get' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails application configuration rb 181 in session store' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails application default middleware stack rb 58 in block in build stack' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails application default middleware stack rb 13 in tap' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails application default middleware stack rb 13 in build stack' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails application rb 504 in default middleware stack' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails engine rb 506 in block in app' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails engine rb 504 in synchronize' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails engine rb 504 in app' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails application finisher rb 37 in block in module Finisher' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails initializable rb 30 in instance exec' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails initializable rb 30 in run' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails initializable rb 55 in block in run initializers' from usr lib ruby 2 3 0 tsort rb 228 in block in tsort each' from usr lib ruby 2 3 0 tsort rb 350 in block 2 levels in each strongly connected component' from usr lib ruby 2 3 0 tsort rb 431 in each strongly connected component from' from usr lib ruby 2 3 0 tsort rb 349 in block in each strongly connected component' from usr lib ruby 2 3 0 tsort rb 347 in each' from usr lib ruby 2 3 0 tsort rb 347 in call' from usr lib ruby 2 3 0 tsort rb 347 in each strongly connected component' from usr lib ruby 2 3 0 tsort rb 226 in tsort each' from usr lib ruby 2 3 0 tsort rb 205 in tsort each' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails initializable rb 54 in run initializers' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails application rb 352 in initialize ' from home hugh desktop blog config environment rb 5 in top required ' from home hugh desktop blog config ru 3 in require relative' from home hugh desktop blog config ru 3 in block in main ' from usr lib ruby vendor ruby rack builder rb 55 in instance eval' from usr lib ruby vendor ruby rack builder rb 55 in initialize' from home hugh desktop blog config ru in new' from home hugh desktop blog config ru in main ' from usr lib ruby vendor ruby rack builder rb 49 in eval' from usr lib ruby vendor ruby rack builder rb 49 in new from string' from usr lib ruby vendor ruby rack builder rb 40 in parse file' from var lib gems 2 3 0 gems rack 2 0 1 lib rack server rb 318 in build app and options from config' from var lib gems 2 3 0 gems rack 2 0 1 lib rack server rb 218 in app' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails commands server rb 59 in app' from var lib gems 2 3 0 gems rack 2 0 1 lib rack server rb 353 in wrapped app' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails commands server rb 124 in log to stdout' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails commands server rb 77 in start' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails commands commands tasks rb 90 in block in server' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails commands commands tasks rb 85 in tap' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails commands commands tasks rb 85 in server' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails commands commands tasks rb 49 in run command ' from var lib gems 2 3 0 gems railties 5 0 0 1 lib rails commands rb 18 in top required ' from home hugh desktop blog bin rails 9 in require' from home hugh desktop blog bin rails 9 in top required ' from var lib gems 2 3 0 gems spring 1 7 2 lib spring client rails rb 28 in load' from var lib gems 2 3 0 gems spring 1 7 2 lib spring client rails rb 28 in call' from var lib gems 2 3 0 gems spring 1 7 2 lib spring client command rb 7 in call' from var lib gems 2 3 0 gems spring 1 7 2 lib spring client rb 30 in run' from var lib gems 2 3 0 gems spring 1 7 2 bin spring 49 in top required ' from var lib gems 2 3 0 gems spring 1 7 2 lib spring binstub rb 11 in load' from var lib gems 2 3 0 gems spring 1 7 2 lib spring binstub rb 11 in top required ' from usr local lib site ruby 2 3 0 rubygems core ext kernel require rb 55 in require' from usr local lib site ruby 2 3 0 rubygems core ext kernel require rb 55 in require' from home hugh desktop blog bin spring 13 in top required ' from bin rails 3 in load' from bin rails 3 in main ',,"prathamesh-sonpatki,seuros",2016-09-04 14:32:08,2016-09-04 22:14:41
IS,'Learn more' links on lead to nowhere,Steps to reproduce Visit Click any of Learn more link Expected behavior Should lead to appropriate page Actual behavior 404 Github page System configuration Rails version Latest as of Sep 5 2016,,vipulnsward,2016-09-05 11:40:51,2016-09-05 11:43:14
IS,BasicsTest test readonly attributes fails depending on test files order,Steps to reproduce I'm running ActiveRecord unit tests in my local environment System configuration Rails version master branch Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"yahonda,maclover7,prathamesh-sonpatki,yahonda,yahonda,pixeltrix,pixeltrix",2016-09-02 12:53:16,2016-09-05 17:37:33
IS,Getting Error ID 724ef3e2,I installed Ruby 2 3 1 via RVM Then I installed RoR 5 The problem is I get this error,,matthewd,2016-09-06 12:18:16,2016-09-06 14:46:03
IS,Code after redirect to gets executed,Steps to reproduce 1 Write redirect to some path in any function 2 Then write some code flash messages after redirect to 3 Statements will gets executed Expected behavior Any code after redirect to should not gets executed Actual behavior It executes all the statements codes after redirect to System configuration Rails version 4 2 0 5 0 0 Ruby version 2 0 2 3 1,,"vipulnsward,vipulnsward,vipulnsward,vipulnsward",2016-09-02 07:48:23,2016-09-06 18:17:27
IS,No such file or directory rb sysopen when accessing cache file,Error message This code has been run for a few years everyday processing millions of wouldevice' records but I have not seen this before and we did not update anything for a few months at least FYI the disk space usage is around 25 System configuration Rails version 4 2 7 Ruby version 2 3 1,,maclover7,2016-09-06 02:28:25,2016-09-06 22:07:38
IS,Transaction on a Relation scopes all the subsequent queries,Steps to reproduce The steps are on the following gist Expected behavior When I call transaction on a relation it should not scope the following queries to the relation itself Actual behavior When I call transaction on a relation it scopes all the following queries to the relation itself System configuration Activerecord version 4 2 7 1 Ruby version 2 3 1,,matthewd,2016-09-07 09:22:45,2016-09-07 09:51:48
IS,Warning on association,Im Getting this warning on this clients sales limit 10 Am i forcing association to reload How should i change this Expected behavior No message Actual behavior Message appearing Passing an argument to force an association to reload is now deprecated and will be removed in Rails 5 1 Please call reload on the result collection proxy instead System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-09-06 19:46:45,2016-09-07 13:26:53
IS,Strong Parameters throws deprecation when merging another Parameters object,Steps to reproduce Expected behavior ActionController Parameters knows everything it needs to carry over all of the permitted and required parameters and therefore it is detrimental to first convert it into a hash since that step removes all permitted and required information from the object being merged The resulting object should be an ActionController Parameters object with the combined data and permissions of both of the original objects Actual behavior See above System configuration Rails version 5 0 0 1 Ruby version 2 3 0,,,2016-09-06 21:02:33,2016-09-07 15:46:49
IS,Controller tests no longer accept ActionDispatch Http UploadedFile,In the process of upgrading to Rails 5 I have discovered a piece of code that worked fine on 4 2 and no longer works on 5 0 stable As you see submitting a form with ActionDispatch Http UploadedFile instance gets the upload casted to String The reason why it happens is here L137 It makes sense that Rails 5 is expecting Rack Test UploadedFile in test env but I think that we should not have break code that worked on 4 2 It seems like a regression to me cc since you have introduced that line,,"kirs,kirs,maclover7,kirs,jaredbeck,maclover7",2016-09-06 14:51:49,2016-09-08 01:51:17
IS,Swift GB2312,,,,2016-09-08 06:15:19,2016-09-08 06:23:02
IS,Error in docs mailer description,,,,2016-09-11 16:50:35,2016-09-11 17:00:32
IS,Rails configuration xxx is nil in rails test,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior I have config xxx yml And in my project I use Rails configuration xxx 'field' to get the configurations Actual behavior It works well in runtime but when I run rails test I got undefined method ' ' for nil NilClass System configuration Rails version 5 0 0 Ruby version 2 3 0,,,2016-09-08 11:31:24,2016-09-12 02:17:03
IS,rescue from AbstractController ActionNotFound does not work,Steps to reproduce Having this in my application controller rescue from AbstractController ActionNotFound with not found And then trying to go to an action that does not exist in the browser Expected behavior I would expect the method not found to be run Actual behavior AbstractController ActionNotFound at x The action 'index' could not be found for XController System configuration Rails version 5 0 0 Ruby version 2 3 1 Is this something that needs to be fixed Or is there a workaround to rescue from this kind of exception in a controller,,"maclover7,maclover7,rafaelfranca",2016-09-11 23:31:37,2016-09-12 03:45:08
IS,When parsing mime type undefined method symbol' for nil NilClass,Steps to reproduce Not sure how to give explicit steps to reproduce but I can explain with code System configuration Rails version 5 0 0 Ruby version 2 3 1,,maclover7,2016-09-10 08:38:38,2016-09-12 16:09:24
IS,bundler 1 13 0 seems to break rails new,While I imagine this is a bundler bug not a Rails bug I can only reproduce it with Rails and have not figured out what is going on so am reporting it here What I expect to happen is NOT getting an uncaught exception backtrace as a result of running rails new,,"maclover7,rafaelfranca,arthurnn",2016-09-12 19:11:22,2016-09-12 19:54:26
IS,ActiveRecord Core initialize dup should not be running initialize callbacks,a dupped model is a copy of the already initialized original so if you run initialize callbacks again chances are you will just overwrite reinitialize the already copied state defeating the purpose of a dup also there does not appear to be a direct way to detect dupping and skip the initialize callback you would need to override initialize dup and set a flag,,"sgrif,sgrif",2016-09-06 17:49:56,2016-09-13 00:02:04
IS,partial render failed when rename a local variable use as,partial render failed when use as to rename a local variable like this render partial product as item at the page the error message is undefined local variable or method item' for Class 0x000000053dc200 0x007fd688a25740 when change to render partial product object product as item it is ok rails version 5 0 1 ruby version 2 3 0,,"maclover7,maclover7",2016-08-26 07:32:26,2016-09-13 12:40:17
IS,Make rails middlewares reusable outside of rails,Steps to reproduce This can be considered chore feature As of now Rails middlewares are unusable outside of a Rails app I have been trying to use Rack URLMap to map subpaths to different apps This will break because Rack Builder to app requires the middleware to be reversable L147 From the same link you can see that the middleware must respond to The first approach seems to be to implement ActionDispatch MiddlewareStack reverse it is an Enumerable not an Array and to implement ActionDispatch MiddlewareStack Middleware could be a simple alias to ActionDispatch MiddlewareStack Middleware build The reverse implementation is however dangerous because it means that existing use calls which do global mutation will be executed as many times as the number of apps mapped in my Rack URLMap app This is why this would break but then again the requirement is from rack so maybe this could be deviced there Rails version 5 0 0 1 Ruby version 2 2,,"matthewd,matthewd",2016-09-13 12:28:22,2016-09-13 12:59:04
IS,,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-09-13 16:54:56,2016-09-13 16:56:54
IS,Appears to be creating one table alias per query,A new table alias appears to be getting created for every association My very simple rails app had a memory leak By analyzing heapdumps I narrowed it down to a huge aliases array inside Arel Table In Active Record when an association is not polymorphic it calls alias on the table which unconditionally adds an alias to that array After calling uniq on the array there is only one alias remaining I am not 100 sure if this is a bug in Arel Table or a bug in Active Record associations creating too many aliases Steps to reproduce Expected behavior A single table alias should be created Actual behavior A table alias is created for every query with the association System configuration Rails version 5 0 0 Ruby version 2 3 0,,"sgrif,rafaelfranca",2016-09-13 15:17:04,2016-09-13 18:18:45
IS,rake db rollback not rollback schema corrctly when use with change column,Steps to reproduce I want to change payment logs amount decimal from and not be reverted But schema number is changed,,"arthurnn,kamipo,kamipo",2016-09-09 03:58:27,2016-09-13 18:28:53
IS,MySQL 8 0 0 dmr test multiple foreign keys can be added to the same table fails due to only 1 fk information shown,Steps to reproduce 1 Install MySQL 8 0 0 dmr mysql community server 8 0 0 0 1 dmr el7 x86 64 rpm 2 Execute ActiveRecord unit tests,,"yahonda,yahonda,yahonda",2016-09-12 20:43:38,2016-09-13 19:21:55
IS,rails plugin new does not complete properly since bundler 1 12,Bundler 1 12 seems to refuse to do any bundle operations if the Gemfile is considered 'invalid' becuase it has TODO in the summary author etc which is how default gemfiles are generated This means the final bundle install of the generator script does not work so you do not actually have a bundled app I do not think the plugin script contains any post bundle hooks so it is not as bad as it could be any post bundle hooks probably wo not run at all or wo not work properly Third party software providing generators building on plugin new could provide such post bundle hooks and be broken worse With Bundler 1 13 there is a different worse problem but I assume if that problem were resolved this one would still be waiting With bundler 1 11 2 this does not reproduce the rails plugin new completes without errors and the bundle install happens,,"vipulnsward,rafaelfranca,rafaelfranca",2016-09-12 19:23:33,2016-09-14 00:03:53
IS,Getting ArgumentError key must be 32 bytes after upgrading to Ruby 2 4 0 preview1 with edge Rails,Steps to reproduce Given you have a repo And you run rake using Ruby 2 3 1 it runs without error But when you upgrade the repo to use Ruby 2 4 0 preview1 And you run rake you get this error message 3 times The total stacktrace is here System configuration Rails version Rails 5 1 0 alpha revision 0c998a14c45430afe85188f8ad13a696b077ffd9 Ruby version ruby 2 4 0 preview1,,"prathamesh-sonpatki,schneems,matthewd,vipulnsward,nateberkopec,matthewd",2016-06-20 13:46:17,2016-09-14 08:52:39
IS,I18n errors,Steps to reproduce 1 create an array in your locale file 2 iterate over it 3 delete array in i18n file Expected behavior Tell me which key is missing in the locale file Actual behavior Throws error that is not useful System configuration Rails version 5 0 0 1 Ruby version 2 3 1 img width 1046 alt screen shot 2016 09 14 at 5 38 45 pm src,,"prathamesh-sonpatki,rafaelfranca,rafaelfranca",2016-09-14 10:41:03,2016-09-14 20:59:23
IS,Please release 3 2 stable as 3 2 22 5,PR 26131 now merged to 3 2 stable fixes an interface regression in 3 2 22 3 4 which is likely to occur in any app of sufficient size it does in mine This should be released it is a total pain to upgrade to a security patch version 3 2 22 3 4 and discover that it breaks your app,,"rafaelfranca,tenderlove,tenderlove,tenderlove,tenderlove",2016-09-14 12:55:51,2016-09-14 21:20:06
IS,Intergration test HTTP verb method as json argument error,Steps to reproduce Following code is work well as expect System configuration Rails version 5 0 0 Ruby version 2 2 4,,"prathamesh-sonpatki,prathamesh-sonpatki,rafaelfranca",2016-09-06 15:43:44,2016-09-15 13:39:02
IS,ActiveRecord module defined twice in the same file,I hope this is not too much of cosmetic nitpicking but is there a reason to close the module on reopen it immediately see L10 and L844 L846,,"utilum,kaspth",2016-09-15 18:13:34,2016-09-15 20:19:57
IS,NameError uninitialized constant ActiveRecord ConnectionAdapters DatabaseStatements TransactionManager when calling reset transaction,Saw this exception pop up I'm not sure how or why it happened so I can not provide steps to reproduce it but I'm happy to try anything to help System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,"matthewd,arthurnn,arthurnn,matthewd,arthurnn",2016-09-09 20:32:52,2016-09-16 14:18:04
IS,Error in code listing in Getting Started step 5 10,Steps to reproduce Do the Getting Started GS steps through 5 10 Adding Some Validation Look at the article rb model file you generated back in step 5 4 Expected behavior Step 5 10 is the first place that shows us what the model file is supposed to look like class Article ApplicationRecord end GS goes on to say that ApplicationRecord inherits from ActiveRecord Base Actual behavior If your results match mine the article rb file you generated actually looks like class Article ActiveRecord Base end I'm guessing that the code actually generated is right and GS snippet is wrong But as a total newbie I'm just reporting the apparent discrepancy System configuration Rails version 4 2 3 Ruby version 2 2 2p95,,rafaelfranca,2016-09-16 20:04:52,2016-09-16 20:54:17
IS,bin rails db migrate in Getting Started guide does not work,Steps to reproduce Do the Getting Started with Rails GS process Try to run bin rails db migrate as instructed in step 5 5 Running a migration Expected behavior According to GS Rails will execute this migration command and tell you it created the Articles table Actual behavior bin rails db migrate Error Command wouldb migrate' not recognized Did you mean rake db migrate As the error message suggests rake db migrate succeeds FWIW all the other Rails commands in GS that start with bin rails do work System configuration Rails version 4 2 3 Ruby version 2 2 2,,rafaelfranca,2016-09-16 20:28:05,2016-09-16 20:58:23
IS,ActiveRecord 4 2 generates incorrect sql query for STI HasManyThrough associations,Steps to reproduce Expected behavior I have a AR class Destination Destination has its subclasses Continent Country State and City System configuration Rails version 4 2 7 Ruby version 2 2 3,,"rafaelfranca,rafaelfranca",2016-09-16 21:42:55,2016-09-16 21:58:53
IS,touch leaves model with optimistic locking in changed state,TLDR Using touch in Rails 5 0 0 1 leaves the ActiveRecord models with lock version in a changed state Steps to reproduce Set up a model with optimistic locking in a blank Rails application,,alexcameron89,2016-09-14 14:55:10,2016-09-17 12:54:35
IS,rails g controller views test is not conform with controller name,Steps to reproduce Following example we expect create view like app views follow keyword index json jbuilder Not app views follow keywords index json jbuilder System configuration Rails version 5 0 0 1 Ruby version 2 2 4,,pixeltrix,2016-09-17 02:39:33,2016-09-17 15:38:23
IS,rails g controller generate partial error,Steps to reproduce Expected behavior Expect generate partial file is app views api v1 follow keywords follow keyword json jbuilder System configuration Rails version 5 0 0 1 Ruby version 2 2 4,,pixeltrix,2016-09-17 02:56:28,2016-09-17 15:38:26
IS,define attribute methods signature mismatch between ActiveModel and ActiveRecord,Steps to reproduce 1 define an ActiveRecord model 2 attr accessor virtual attr1 virtual attr2 3 try to add a virtual attribute to the attribute methods define attribute methods virtual attr1 virtual attr2 Users tilo rvm gems ruby 2 3 1 gems activerecord 4 2 4 lib active record attribute methods rb 79 in define attribute methods' wrong number of arguments given 2 expected 0 ArgumentError Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen define attribute methods should add the names of the virtual attributes to the model ActiveRecord should not define a method with the same name but different signature Actual behavior Tell us what happens instead Rails called the wouldefine attributes method' from ActiveRecord instead of ActiveModel which does not have the same invocation behavior System configuration Rails version 4 2 4 Ruby version 2 3 1,,maclover7,2016-09-17 18:59:45,2016-09-17 19:35:07
IS,ActiveRecord exec query fail for nonselect requests,Hi Execution raw sql for nonselect queries like this undependently from correctness of sql fail with execption NoMethodError undefined method fields' for nil NilClass any requests always applied and db fields always updated as expected If it is not bug how to execute any raw sql requests with same result I mean ActiveRecord Result which contain selected data for select requests and any way to recognize empty data in result for nonselect,,matthewd,2016-09-18 09:22:14,2016-09-18 14:29:51
IS,underscore adds underscores across acronyms even when part of a longer word,Steps to reproduce The underscore function adds underscore in between acronyms even if they are part of a longer word For example if API is defined as an acronym it will transform SCRAPING into scr api ng I believe this behavior only happens when the input is uppercase Expected behavior More intuitive would be for SCRAPING to remain as SCRAPING Actual behavior SCRAPING becomes scr api ng System configuration Rails version master Ruby version 2 3 1 Test case,,matthewd,2016-09-19 11:24:28,2016-09-19 11:43:43
IS,Existing connection must be closed before opening error on iOS,Steps to reproduce Open site on iOS tested on 9 3 5 chrome and safari that contains an ActionCable websocket connection Background browser by hitting home button Wait until timeout L9 Open browser from background Expected behavior Should not throw Existing connection must be closed before opening error Actual behavior Throws error Existing connection must be closed before opening L26 System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"maclover7,javan,javan,javan",2016-09-15 19:12:14,2016-09-19 15:00:09
IS,Display warning when running tests with no assertions,When running tests I have always wondered why tests without assertions automatically count as passing This works on the assumption that all tests pass by default and only fail if an assertion actively fails As I'm coding I want to be made aware if I have written a test at any point that is not asserting something as without an assertion is it really a test Expected behavior 1 Write a test without asserting anything 2 Show some sort of warning error maybe even a failure Actual behavior 1 Write a test without asserting anything 2 Test passes System configuration Rails version 5 0 x and presumably all previous versions too,,"utilum,rafaelfranca",2016-09-19 09:31:16,2016-09-19 21:43:29
IS,ActiveModel Errors details has string keys when accepts nested attributes for model is invalid,Steps to reproduce I expect ActiveModel Errors details keys are always symbols but when accepts nested attributes for model is invalid string keys are stored Is this expected behavior Here is the reproduction script The reason why it happens may be this line L354 reflection attribute is a string and is used for ActiveModel Errors details Hash key Expected behavior ActiveModel Errors details keys are always symbols Actual behavior The key is string when validaiton error occurs in accepts nested attributes for models System configuration Rails version 5 0 0 Ruby version 2 3 1,,rafaelfranca,2016-09-14 16:55:46,2016-09-19 22:58:58
IS,Getting started guide section 5 from 11 to end of 5 is wrong,Steps to reproduce Follow the steps from 5 11 to the beginning of section 6 0 Expected behavior Should work as advertised Actual behavior Headers None System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"prathamesh-sonpatki,utilum,prathamesh-sonpatki",2016-09-16 12:08:08,2016-09-20 13:40:13
IS,NameError uninitialized constant in active record compute type,We have the following ActiveRecord models related as follows Intranet model has many Setting model settings User model has many PayrollHour model payroll hours The code used is In app models user rb has many payroll hours In app models intranet rb has many settings So the code User first payroll hours or Intranet first settings should return data from the corresponding related model But we get the errors NameError uninitialized constant Intranet Setsting NameError uninitialized constant User PayrollHmine The stack trace is from usr local rvm gems ruby 2 3 1 v5 gems activerecord 5 0 0 lib active record inheritance rb 152 in compute type' Our Rails version is 5 0 0 and Ruby version 2 3 1 The same errors also happened in Rails version 4 2 5 and Ruby version 2 3 0,,matthewd,2016-09-20 17:38:09,2016-09-20 17:53:36
IS,ActiveRecord belongs to update foreign key not validated,Steps to reproduce hi I'm having problem with Rails 5 validation on updating association foreign key on the belongs to object I have Post and Author models where Post belongs to Author I'm trying to update Post Author via strong params params require post permit author id However the author id is not validated properly so I can assign author id that is invalid Author of that ID does not exist In Rails 4 this would raise 404 not found exception but Rails 5 just assigns wrong foreign key Is this desired behaviour Expected behavior 404 Not found exception should be raised Actual behavior Invalid foreign key id is being saved to the DB without validation System configuration Rails version 5 0 0 rc1 Ruby version ruby 2 2 3p173,,"mechanicles,prathamesh-sonpatki,prathamesh-sonpatki,mechanicles",2016-09-20 11:25:14,2016-09-21 11:19:23
IS,ActionController Parameters dup refers to same object,When I call params deep dup I expect to have copy of params hash I found this behaviour strange in rails 5,,maclover7,2016-09-21 12:47:35,2016-09-21 19:07:16
IS,Adding Duration to TimeWithZone produces incorrect values across DST boundaries,Steps to reproduce Have a record with DATETIME column value of '2016 10 25 07 00 00' Set TimeZone of application to 'Amsterdam' CET CEST Confirm TimeWithZone is correctly displayed as 'Tue 25 Oct 2016 09 00 00 CEST 02 00' Call 1 week on the TimeWithZone Confirm TimeWithZone is now incorrectly displayed as 'Tue 01 Nov 2016 08 00 00 CET 01 00' Confirm database value for record is '2016 11 01 07 00 00' highlighting that Duration addition to TimeWithZone does not respect DST boundaries Expected behavior I would expect that when I perform an operation on a TimeWithZone object that it would respect the DST boundaries System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"y-yagi,maclover7,pixeltrix,pixeltrix",2016-09-20 16:22:22,2016-09-22 08:48:03
IS,Add License file,Github recently added a new feature which displays the licensing at the top menu bar when specified in the repo This is as simple as adding a LICENSE file to the root of the repo Much like I'm not sure who if anyone holds the copyrights for Rails if I did I would have submitted a pull request,,prathamesh-sonpatki,2016-09-22 14:50:42,2016-09-22 14:57:00
IS,Duplicate Prepared Statement with Thread kill,As seen in this stack overflow post there is a race condition where a prepared statement in the DB however the thread that created it is killed before Rails can record the successful statement I did some grepping and could not find this as an issue on Rails so I wanted to raise it here I do not know if there is a good work around the post mentions using a GUID instead of an integer that could work or maybe adding retry logic to prepared statement creation so that it records a495 or whatever number is already taken and uses the next in the series,,"schneems,matthewd,schneems",2016-09-22 15:32:54,2016-09-22 16:39:23
IS,ActiveRecord ppoll timeout case high cpu usage,Ruby version 2 2 0 Rails version 4 1 4 mysql2 version 0 3 19 mysql version 5 1 70 My web apps 10 r s every request have serval mysql select i works normal but cpu usage is high like this image strace the thread find many ppoll timeout image when i do not use activerecord write sql use mysql2 it works well cpu usage down a bug,,"utilum,jeremy",2016-09-21 05:47:01,2016-09-23 04:41:07
IS,update attribute returns unexpected nil when new value is the same as current,update attribute name value returns nil if the submitted value is the same as the current value In rails 4 it returned true as aspected imo System configuration Rails 5 0 0 1 Ruby 2 3 1p112,,"rafaelfranca,rafaelfranca,prathamesh-sonpatki,rafaelfranca,prathamesh-sonpatki,prathamesh-sonpatki",2016-09-23 08:15:41,2016-09-23 16:51:40
IS,activesupport 5 0 0 1 gem require 'active support core ext' generates circular require warning,This issue is similar to but with a newer version Steps to reproduce This is the actual behavior of version 5 0 0 beta1 thru 5 0 0 1 System configuration Rails version 5 0 0 beta1 to 5 0 0 1 Ruby version 2 2 4 on OSX Git Bisect A git bisect between and revealed as the first bad commit cc vishnoi,,"maclover7,rafaelfranca,kmcphillips,rafaelfranca,kmcphillips",2016-09-08 09:37:46,2016-09-23 18:27:04
IS,Guides incorrect example in functional tests section,If I'm not misunderstanding something I can write up a PR for this Steps to reproduce See section on controller tests in the guides at what to include in your functional tests Expected behavior The guides suggest you can refer to a controller action in your controller tests System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,prathamesh-sonpatki,2016-09-23 17:41:20,2016-09-23 18:45:22
IS,Having require minitest autorun in the test helper causes duplicate runs,Seems like rails is doing it is own runner now maybe set Minitest at exit hook installed so it does not set another one solved for me tracked it down but could be an annoying thing for other upgraders Steps to reproduce add require 'minitest autorun' to test helper Expected behavior 1 result printed or nice error message Actual behavior duplicated output because tests are run twice System configuration Rails version 5 0 0 rc1,,"grosser,kaspth,grosser,kaspth,prathamesh-sonpatki,kaspth,prathamesh-sonpatki,arthurnn,zenspider,arthurnn",2016-05-17 05:06:01,2016-09-24 03:29:19
IS,Using in x hours on a TimeWithZone near DST boundary skips hours,Steps to reproduce Create a TimeWithZone an hour before the local 1 DST boundary Add 1 hour using in 1 hour See the time added was really 2 hours Example code Using NewYork time US Eastern t Time zone local 2016 11 6 1 Sun 06 Nov 2016 01 00 00 EDT 04 00 t advance hours 1 Sun 06 Nov 2016 01 00 00 EST 05 00 t since 1 hour Sun 06 Nov 2016 01 00 00 EST 05 00 t 1 hour Sun 06 Nov 2016 01 00 00 EST 05 00 t in 1 hour Sun 06 Nov 2016 02 00 00 EST 05 00 System configuration Rails version 4 2 7 1 or 5 0 0 1 Ruby version 2 3 1,,pixeltrix,2016-09-22 09:09:52,2016-09-24 09:35:18
IS,Running rails console sandbox on macOS Sierra results in a Segfault,Steps to reproduce 1 Have a running copy of macOS 10 12 2 Create a new rails 5 0 0 1 app 3 Run rails console sandbox Other than that I'm not sure what else to report It is a brand new app that I created this morning I was not having any other issues until I upgraded to Sierra You can see the full output at the bottom of this message Expected behavior The sandbox console should load as expected Actual behavior Segfault System configuration 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"sgrif,sgrif",2016-09-24 17:23:23,2016-09-24 20:10:03
IS,Parent does not exist error when creating parent with children in has many belongs to relationship,Steps to reproduce Use rails 5 0 0 1 parent rb System configuration Rails version 5 0 0 1,,"mechanicles,prathamesh-sonpatki",2016-09-25 16:03:51,2016-09-26 10:14:39
IS,ActiveModel define attribute methods is overrided by ActiveRecord define attribute methods,Note sure if I'm allowed to use ActiveModel define attributes methods on a ActiveRecord object Feel free to close this issue if I'm using this incorrectly Steps to reproduce This raises an exception wrong number of arguments 2 for 0 ArgumentError as we are trying to call ActiveRecord attribute methods L55 instead of ActiveModel attribute methods L252 I'm however able to call the singular version of the method define attribute method L285 System configuration Rails version 4 2 7 1 Ruby version 2 3,,"Edouard-chin,maclover7",2016-09-26 07:30:25,2016-09-26 19:33:34
IS,Strange lag with ActionCable,Hey We have strange lag with ActionCable At some point it just hangs No user events are being processed for about a minute The worst part is there is not any logs Not in nginx not in rails or postgresql or redis Not even one I really got stuck with even finding the problem I see that browser sends WS events Some users trying to refresh the site and reconnect to WS are being disconnected right away with those logs then client tries to reconnect again Users reconnect and it works perfectly Is there any way to pinpoint the problem as I do not even know from where I need to start digging Thanks,,"maclover7,maclover7,matthewd,matthewd",2016-09-06 17:24:43,2016-09-28 12:01:42
IS,config ssl options are not passed to ActionDispatch SSL,Steps to reproduce In config development rb add these lines Expected behavior Path should get warned to console Actual behavior Nothing gets logged to console Additionally in ActionDispatch SSL initialize none of the correct options are passed in System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"rafaelfranca,matthewd,matthewd",2016-09-28 16:54:51,2016-09-28 17:45:23
IS,rails c does not start the rails console,I am not able to load the rails console Expected behaviour Rails console should be loaded for rails c Actual behaviour Rails console doesnt load on rails c System configuration Rails version 4 2 0 Ruby version 2 2 4p230 2015 12 16 revision 53155 x86 64 darwin15,,prathamesh-sonpatki,2016-09-29 07:15:43,2016-09-29 07:49:43
IS,Scope with or generate incorrect SQL,Gist with unit tests it might be quicker to just look at that it is short Steps to reproduce Write a scope that calls or System configuration Rails version master Ruby version 2 3 1,,matthewd,2016-09-29 15:47:09,2016-09-29 16:57:28
IS,Accessing ActiveRecord relation from ActiveModel Validator mutates the collection,Steps to reproduce r cc,,"kirs,sgrif,kirs,rafaelfranca",2016-09-29 14:00:22,2016-09-29 19:02:43
IS,ActiveRecord Model Not Scope,As for where not Is it possible you can add not to a scope For example User all active User all not active where active is a scope Thanks,,prathamesh-sonpatki,2016-09-30 12:33:39,2016-09-30 12:55:26
IS,ActionCable Unable to find subscription with identifier,Rails 5 0 0 rc1 Ruby 2 3 1 MRI Puma I have only one channel ApiChannel the client iOS app connects to the back end receives the subscription confirmation and immediately sends a command Sometimes the client is greeted with RuntimeError exception L70 I have added some debugging statements to the code and from time to time the subscriptions Hash is indeed empty the client issues subscribe command before sometimes identifiers method returns empty Array for non empty subscriptions but it is just keys on it I spent a lot of time debugging this and I'm out of ideas Am I doing anything wrong here Any help would be appreciated,,"maclover7,maclover7,maclover7,palkan,palkan",2016-06-13 09:50:17,2016-10-01 05:51:58
IS,can not find docs for with transaction returning status,I noticed I can not find the docs for with transaction returning status when searching on api rubyonrails org anymore It was available in older doc versions method i with transaction returning status Its public and not nodoc ed so I'm not sure what the reason is L390,,"mcfiredrill,maclover7,fxn,mcfiredrill,matthewd,mcfiredrill",2016-09-29 02:00:20,2016-10-01 10:37:38
IS,PG InvalidTextRepresentation raised when querying boolean column,Steps to reproduce I have the following tables on a Postgres database System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,"maclover7,maclover7,maclover7",2016-09-30 13:09:41,2016-10-01 13:21:42
IS,A bug around ActiveSupport to time preserves timezone,Steps to reproduce I swear that I tried to create a single file script to reproduce the issue but I could not Here is the instruction as well as a repo with complete app with a failing test 1 bundle exec railties exe rails new events blog five dev skip turbolinks skip action cable skip sprockets 2 rails g model event happened at datetime 3 Apply the diff Expected behavior That the happened at values will be equal as described in fixtures Actual behavior Second value is mutated May 02 2016 07 00 May 02 2016 11 00 System configuration Rails version today is master 21ecf42730de2004a95d913038c1f417c24496be Ruby version ruby 2 3 1p112 this is probably related to cc,,"kirs,sgrif,pixeltrix,pixeltrix,pixeltrix,pixeltrix,rafaelfranca",2016-09-27 20:37:17,2016-10-01 20:30:02
IS,Two controllers with different filenames but identical classnames does not error,Steps to reproduce Create a resourceful route ie resources groupings Create 2 files with different names ie groupings controller rb and not groupings controller rb At the top of each put class GroupingsController ApplicationController Expected behavior Something should error out that two files are trying to control the same controller Actual behavior On my local box in dev and prod env I was getting the groupings controller index action When hosting the rails app on heroku it was directing me to the not groupings controller index action I saw no errors nothing awry Just took digging through my files and realizing not groupings controller rb still existed Deleting the file fixes But an error should come up that there are competing controllers System configuration Rails version 5 Ruby version 2 3 0,,"maclover7,matthewd,pixeltrix",2016-09-30 20:00:02,2016-10-01 21:08:11
IS,hide rails from wappalyzer for security reasons,Hello guys How i can hide rails from wappalyzer,,pixeltrix,2016-10-01 19:05:07,2016-10-01 21:25:02
IS,Deleting STI records performs badly due to scoping first on type,Steps to reproduce I have an STI table called fields but deleting records from this table is painfully slow If I simply find a field and try to delete it I get a query that first filters on the field type then on the id Expected behavior The query should query on id before type Not sure if it makes sense to filter on type at all System configuration Rails version 4 2 7 1 Ruby version 2 3 1,,"maclover7,matthewd,matthewd",2016-10-03 01:45:49,2016-10-03 03:14:15
IS,Actionmailer sends emails with empty content,NOTE To be honest we were never able to replicate the errors in any browser but our users are complaining and receiving the emails with empty contents and we can also see in our backup email client the emails send by our users has empty contents Situation In our ExternalMailer class we have a class method called isend quote request' and which is extended by ApplicationMailer The ApplicationMailer is We are using the sidekiq worker in order to send those emails In our system we have stored the records of the user who had sent the messages and when we try to send those messages by using the Rails console then the mail is send properly The email body is not empty and which is fine Expected behavior It should send email with content which is in send quote request html haml Actual behavior It is sending empty emails sometimes in production System configuration Rails version 4 2 6 Ruby version ruby 2 2 0p0 2014 12 25 revision 49005 x86 64 linux,,"maclover7,jeremy",2016-09-30 13:31:53,2016-10-03 03:50:25
IS,Recurrence of New app key must be 32 bits,Steps to reproduce Fresh install of Ruby 2 4 0preview2 and Rails 5 0 0 1 Create new app generate a basic scaffold run db migrate navigate to the scaffold overview page and re encounter this issue although the Welcome to Rails index page still works Expected behavior Should load scaffold overview Actual behavior Error message Key must be 32bytes System configuration Rails version 5 0 0 1 Ruby version 2 4 0preview2,,"prathamesh-sonpatki,vipulnsward",2016-10-03 10:15:03,2016-10-03 10:30:51
IS,Misleading error when failing to match a routing constraint,Steps to reproduce 1 Create a resources block with a a constraint on the named segment for example Expected behavior The error message should state the route matches but the value for the required key fails to match any constraints Actual behavior The error states that the key is missing when it has been provided with a non matching value System configuration Rails version Rails 4 2 7 1 Ruby version ruby 2 3 0p0,,"maclover7,rafaelfranca,utilum,rafaelfranca,utilum,rafaelfranca,pixeltrix",2016-09-12 15:00:10,2016-10-03 10:41:38
IS,SystemStackError stack level too deep while calling AR as json,Steps to reproduce System configuration Rails version 5 0 0 1 4 2 7 Ruby version 2 3 1,,"maclover7,sgrif,sgrif,sgrif,sgrif",2016-10-03 15:23:09,2016-10-04 01:27:05
IS,Double rescue from not called,So I ran into a bug where when having a controller wide rescue from then raises a new error another rescue from meant to catch that specified error is not called Steps to reproduce application controller rb Expected behavior The rescue from in ApplicationController should be called to render appropriate json to client Actual behavior The MyApp Error thrown by MyController is raised and produces a 500 Internal Server Error System configuration Rails version 4 2 7 Ruby version 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin14,,"jeremy,jeremy",2016-10-04 11:09:44,2016-10-04 17:47:48
IS,Caller location is not accurate for alias method chain deprecation message,Steps to reproduce,,"maclover7,maclover7,rafaelfranca,matthewd,rafaelfranca",2016-05-05 12:19:15,2016-10-04 18:53:21
IS,class serial increment at each request,Steps to reproduce Clone or By displaying something inside the TracePoint having a byebug inside the lambda at ActiveSupport Callbacks Callback make lambda I think I'm pretty sure now only the to run is causing the class serial increment cc Edit forgot I also built an example app,,,2016-05-18 21:33:04,2016-10-04 18:53:49
IS,ActionCable test passes on Travis but fails locally,Steps to reproduce Run ActionCable test env FAYE 1 bundle exec ruby Itest test client test rb n test server restart Expected behavior The test should pass Actual behavior Raises a segmentation fault System configuration Rails version git at 2c5cb411b5755f3cfac7413b1c18e7d65acc208d Ruby version 2 3 1 I have first experienced this on Arch Linux Then tried within a Ubuntu 16 04 vagrant box with the same error Finally after noticing it do pass on travis I have tried within a Ubuntu 12 04 vagrant box and surprise It passes So this looks like something that can possibly blow up when users update their servers I have been on this for a few weeks trying to debug fix with no success Here is what I have got so far Looks like an instance of an already known EventMachine issue The stack trace is not so helpful on finding the source So I have scattered prints across the code in order to get more information The call to ActionCable server restart is the last successful one After that a call to SyncClient on close is done and the segfault comes up I have tried to protect the EventMachine usage with a mutex such as ActionCable Connection FayeEventLoop ensure reactor running but the error persists I have come to a workaround for which I will open a PR following but I would like to ask for AC experienced eyes to have a look if this is not a symptom of something worse since AC calls EventMachine run at several places which might cause the same segfault on server restarts since no user has complained about this yet looks unlikely to be happening,,,2016-09-18 15:30:27,2016-10-05 18:34:16
IS,Please review security vulnerability I reported to Rails Hackerone,Thanks,,,2016-10-06 10:05:16,2016-10-06 12:40:00
IS,Rails Generate Error,Hello I'm running into an error with rails generator whether anything is appended after rails generate or not Anyhow I cannot generate the necessary Shopify files utilizing rails generate shopify api api key KEY secret SECRET After executing that I end up with,,"utilum,guilleiguaran",2016-10-05 21:49:54,2016-10-06 18:33:40
IS,ActiveRecord relation delete regression,do we consider it as a regression in 5 0 or should it work like this by the design,,"kirs,maclover7,matthewd",2016-10-06 13:50:52,2016-10-06 20:01:16
IS,form for documentation needs to be updated,Steps to reproduce Using form for does not automatically enable multipart as suggested by documentation when form object is not being used to implement file field and file field tag i e not using f file field Expected behavior Expected form for to automatically set multipart true Actual behavior multipart true was not set and had to set manually contrary to the documentation Section 5 Uploading Files System configuration Rails 4 1 5 Ruby 2 2 4,,"mechanicles,maclover7",2016-09-30 15:07:05,2016-10-06 22:20:04
IS,Eager loading multiple has many through relations with same source returns incorrect data,Incorrect data is returned from has many through relations when two or more are eager loaded with the same source In the example below eager loading a Company is posts and promoted posts causes company posts and company promoted posts to both contain company posts data Issue 23308 may be related Steps to reproduce Below is a sample script reproducing the issue on Rails 5 0 Rails 4 2 is also effected available as a gist,,maclover7,2016-10-05 21:43:49,2016-10-07 00:53:24
IS,Rails 5 not responding with js after redirect,On rails 4 2 I used to submit my form via ajax and redirect to another action and it used to render a js coffee template js request redirect js response But now on 5 0 0 1 it redirects to HTML js request redirect html response If its not an issue is there a way to make it work as before Rails version 5 0 0 1 Ruby version 2 3 0,,maclover7,2016-08-25 15:21:42,2016-10-08 12:49:11
IS,Documentation issue in the Rails 5 guide about Profiling,The section about profiling of the new guide should be explaining the best practices and possibilities limitations regarding profiling and benchmarking Rails 5 applications but the page does not contain the proposed information I'm still learning so I can not make a pull request D Thanks,,rafaelfranca,2016-10-08 06:25:14,2016-10-08 15:58:37
IS,Doc comment issue ActionView Template template rb,I believe the comment for ActionView Template L11 L88 is incorrectly placed as it should be above the class declaration on line 7 The comment is not shown in either Rails API Docs or at RubyDoc Would it be considered appropriate to move the comment I would submit a PR but wo not bother if no one will accept it Thanks Greg,,"prathamesh-sonpatki,rafaelfranca",2016-10-07 23:41:13,2016-10-08 16:00:07
IS,Submit button gets disabled and is not enabled even after the correction of errors,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior the submit button was enabled it worked as expected in rails 4 2 Actual behavior In my app there is a user registration form and braintree dropin ui when i click the submit button the button gets disabled and continues to be disabled System configuration Rails version 5 Ruby version 2 3 1,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-10-10 02:51:38,2016-10-10 03:24:36
IS,Some query returns wrong result after upgrade ActiveRecord from 4 2 6 to 4 2 7 1,Steps to reproduce Assume there exist a database contain tableA Here is the model rails root app model Summary of problem All the SELECT AS mapped to the same value foo table a and the value returned from ActiveRecord is incorrect Since the group interpretation changes in 4 2 7 and my code works in 4 2 6 wondering if this cause the problem Any thoughts might be helpful thanks System configuration Rails version 4 2 7 1 Ruby version 1 9,,prathamesh-sonpatki,2016-09-01 06:33:41,2016-10-10 06:22:49
IS,rake test fails to run a single test,Steps to reproduce Run rake test path to test rb to invoke a single file test e g Expected behavior Only the specified file is executed Actual behavior The all the tests are executed However rails test test models card test rb works file System configuration Rails version 5 0 0 1 Ruby version MRI 2 3 1,,"kaspth,kaspth",2016-10-10 07:21:53,2016-10-10 08:17:53
IS,Issue in callback when string appended using ' ',In rails 5 for a callback when I try to append string using ' ' with no space after it an error occurs Steps to reproduce System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"kaspth,matthewd,matthewd",2016-10-10 08:06:09,2016-10-10 08:20:25
IS,Tag dynamic proxy does not accept options with keys as strings,I created a gist to reproduce the error In short the new tag p suggested in 25195 and implemented by in 25543 does not handle options correctly if the keys are strings The old style tag p was handling the same case correctly as confirmed by this test L32 L36,,"claudiob,maclover7,claudiob,rafaelfranca,rafaelfranca,maclover7,claudiob,rafaelfranca,claudiob,rafaelfranca,rafaelfranca,rafaelfranca,claudiob,rafaelfranca,claudiob,claudiob,claudiob,rafaelfranca,claudiob,kaspth,claudiob,kaspth,claudiob,claudiob,dhh,kaspth",2016-09-16 19:53:38,2016-10-11 10:35:07
IS,RFE Generic way for setting headers to be used in the setup phase of integration tests,In integration tests I like that you can set the Accept header ahead of time i e before the request is made AFAIK this is the only header that can be set in this way I am missing a way to set any header arbitrarily in the setup phase of these tests Without it the alternatives seem to be a duplicated test code or b wrapping the request helpers Setting a header as in the case of accept would be preferable to me Are there plans to enhance the integration tests in this way Or reasons to not want to If acceptable I would be happy to tackle this but wanted to check first Thanks,,"imtayadeway,rafaelfranca,rafaelfranca,imtayadeway,rafaelfranca",2016-10-11 15:39:55,2016-10-11 15:42:33
IS,Modifying has many through association triggers after save callbacks in ActiveRecord 5 0,On Rails 4 2 do something and after save callbacks of Product are not triggered On Rails 5 0 they are triggered which causes side affects in the app after upgrading to new Rails Is it a bug or the intentional behaviour cc,,"kirs,rafaelfranca,maclover7,rafaelfranca,sgrif",2016-10-10 15:24:38,2016-10-11 17:54:27
IS,How to allow Ruby application to better support multi threading or multiple CPUs,We have a website built on Ruby hosted by a company that offers additional CPUs as the plan increases Are there additional ways to better optimize an application to use multiple CPUs or multi threaded handling Most of our usage is from visitors visiting the site and browsing content Thanks,,matthewd,2016-10-12 20:24:45,2016-10-12 20:49:51
IS,rescue from StandardError does not allow rescuing exceptions that are translated by the ConnectionAdapters,Steps to reproduce Create a unique index in your schema Place these lines in your ApplicationController System configuration Rails version Tested with 4 2 This should still be an issue from looking at code changes between 4 2 and master Ruby version 2 1 2p95,,rafaelfranca,2016-10-12 23:34:02,2016-10-12 23:58:17
IS,Model validations does not work in rails 5 1 0 alpha,Simple model validations wont work in 5 1 0 alpha Now to reproduce rails 5 1 0 alpha new test project cd test project rails g model user then add any field and add validates field presence true If i lock rails version in Gemfile to 5 0 0 everything works fine System configuration Rails version 5 1 0 alpha Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux Using example,,"rafaelfranca,alexcameron89",2016-09-27 11:26:23,2016-10-15 02:05:13
IS,El sistema no puede encontrar la ruta especificada ruby rails,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,maclover7,2016-09-25 21:59:44,2016-10-15 02:05:24
IS,Generational cache idea,I put together a proof of concept for a pre warmed caching strategy here and was curious if there is any interest for something like this making it into core Any and all feedback is welcome,,rafaelfranca,2016-09-18 15:35:55,2016-10-15 02:14:15
IS,Allow logging to STDOUT globally,Steps to reproduce 1 Set RAILS LOG TO STDOUT enabled in your environment 2 Start a Rails application using puma directly e g bundle exec puma C config puma rb 3 Observe the console while interacting with the application Expected behavior Logging could be directed to STDOUT when the RAILS LOG TO STDOUT environment variable is present Actual behavior Logging is not directed to STDOUT Suggested Change Suggesting that the following is copied to config environments development rb or moved higher up the chain System configuration Rails version 5 0 Ruby version 2 3 1,,"maclover7,schneems,schneems,schneems,rafaelfranca",2016-08-26 20:02:32,2016-10-15 02:21:30
IS,ActionController InvalidAuthenticityToken rails 5,i m using rails version 5 0 0 1 i used form for to create form form for session action ' login authenicate ' remote true authenticity token true html class 'validate' id 'form login' do s and i am using ajax to send the request to the serve this is the form that is display in the browser form class validate id form login action login accept charset UTF 8 data remote true method post novalidate novalidate input name utf8 type hidden value input type hidden name authenticity token value i3GVfaN2PbZ80JvdSqO921GuNLaxxo9ctsTBE21aYJYo XtBG7lyqU7xAzoFjClwOGWSCrC 6mf3no39ua rDQ div class form group div class input group div class input group addon i class fa fa user aria hidden true i div input class form control id username placeholder Email Id Mobile No type text name session username div div form it is a ajax request to the server when i view in the networks tab its showing ActionController InvalidAuthenticityToken error,,jmbejar,2016-10-04 13:11:24,2016-10-15 02:28:36
IS,has secure password cannot be configured with custom fields,has secure password expects that the user wants to secure password filed and there exists password digest field in the database There is no way to configure override those expectations If we have pass digest as a field in the database instead of the default expected password digest field we wo not be able to use has secure password 26435 addresses this issue,,"dharamgollapudi,rafaelfranca,dharamgollapudi,rafaelfranca",2016-09-08 23:13:06,2016-10-15 02:34:17
IS,test schema dumps index columns in right order failure with MySQL 8 0 0 dmr,Steps to reproduce It only reproduces with Server version 8 0 0 dmr MySQL Community Server GPL It does NOT reproduce with Server version 5 6 33 MySQL Community Server GPL I do not have MySQL 5 7 then not sure if it reproduces with MySQL 5 7 cc since this test has been changed in 26745,,"yahonda,kamipo,yahonda,yahonda,yahonda",2016-10-12 21:09:47,2016-10-15 02:55:28
IS,Getting started guide has some missing context content,This part of the getting started guide does not make sense In particular the second paragraph I have included lists keys locale and handlers which are not in the error message as presented I got caught up at the locale sentence because nowhere prior in the documentation does it mention locale including in the error message referenced Likewise with handlers In this case the error message does not actually seem to be a hash but a specific printout of keys fields within the request The next part of the message contains a hash The locale key in this hash simply indicates which spoken language template should be retrieved By default this is the English or en template The next key formats specifies the format of template to be served in response The default format is html and so Rails is looking for an HTML template The final key handlers is telling us what template handlers could be used to render our template erb is most commonly used for HTML templates builder is used for XML templates and coffee uses CoffeeScript to build JavaScript templates,,"rafaelfranca,prathamesh-sonpatki",2016-10-08 20:08:42,2016-10-15 04:53:15
IS,Incorrect behavior in ActiveRecord increment method,Steps to reproduce Expected behavior System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112 2016 04 26 revision 54768 x86 64 linux Considerations change public send attribute attribute was attribute to s 0 in L339,,,2016-10-15 20:10:24,2016-10-16 00:05:16
IS,button to generate incorrect hidden fields with params being an ActionController Parameters,This issue is similar to 25256 Steps to reproduce 1 assume params being Workaround Using params to h instead of params works fine System configuration Rails version 5 0 0 1,,"maclover7,rafaelfranca",2016-10-17 10:28:53,2016-10-17 23:27:30
IS,nested parameters in button to incorrectly generate hidden fields,Steps to reproduce in rails I have a Project model with an enum of stages using the following pattern in ERB System configuration Rails version 4 2 5 1 Ruby version ruby 2 2 4p230,,"sgrif,rafaelfranca",2016-06-02 18:52:41,2016-10-18 00:01:39
IS,Facing runtime error NameError uninitialized constant for modules classes placed in lib folder after upgrading Rails to 5 0 0 1 from 4 2 5 1,Ruby 2 3 1 I have two separate Rails applications one just exposes an API henceforth termed as API app and another one acts as an Administration Portal henceforth termed as AdminPortal for managing the data in API app Both are presently running on Rails 4 2 5 1 on staging as well as production environments However on a staging experimental environment I upgraded both the applications to Rails 5 0 0 1 I have rspecs for the both the applications and the spec suite in both the applications is passing and Capistrano deployment goes success However when trying to send request to API endpoint in API app I face a runtime error NameError uninitialized constant Api BaseController ApiTokenAuthentication lib api token authentication rb After adding the above initializer the errors in AdminPortal app went away NameError uninitialized constant MyApiApp Api NameError uninitialized constant MyApiApp Api Get NameError uninitialized constant MyApiApp Api Post but as soon as AdminPortal app sent request to the end point exposed by API app I started encountering following error mentioned previously NameError uninitialized constant Api BaseController ApiTokenAuthentication So I think there is some basic thing which is missing and which is causing the errors related to auto loading of code residing in the lib folder and which is used by the controller classes I am really puzzled on why this is happening because I have checked config application rb and in both the applications config autoload paths Rails root join 'lib' is already there The same code is working without any issues on staging and production envs wherein the application is running on Rails 4 2 5 1 Also not facing these errors with the upgraded code on development environment on my local machine Can anybody please shed light on this and guide me towards the resolution of this weird error Thanks,,"rafaelfranca,rafaelfranca,matthewd,rafaelfranca",2016-10-18 15:02:36,2016-10-18 15:10:17
IS,Messages should be displayed in dashboard,Steps to reproduce Open forushealth com Click on new visit Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Messages should be displayed Actual behavior Tell us what happens instead Messages are not displaying System configuration Rails version Ruby version,,,2016-10-19 06:03:41,2016-10-19 06:35:07
IS,Memory leak in ActiveSupport,Steps to reproduce Create a new Rails 5 0 0 1 project with a single route POST leaks which simply instantiates a Leak object subclass of ActiveRecord Base no need to persist Disable CSRF this is not relevant to the leak and hit it with a lot of HTTP requests to create some load Watch memory grow indefinitely from 60 to 140 MB in about 15 minutes Expected behavior Expected memory growth to stop at some point Actual behavior Memory keeps growing indefinitely both for a blank Rails 5 0 0 1 project and my own From profiling my own project concurrent ruby is used by active support at least since 5 0 0 System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"prathamesh-sonpatki,rafaelfranca,rafaelfranca",2016-10-19 11:41:57,2016-10-19 13:01:37
IS,PostgreSQL DB constraint 'DEFERRED' is not copied to test DB,Steps to reproduce I added a migration to add a DEFERRED constraint to PostgreSQL using This leads to working code in development but not during testing making a lot of specs fail in our case Expected behavior The constraint should be copied over to the test DB Actual behavior The constraint is lost in the process System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-10-19 13:19:17,2016-10-19 13:40:15
IS,number to currency without unit return with space in first index,Steps to reproduce f text field sell price value number to currency f object sell price unit '' delimiter ' ' precision 0 In page have mask javascript for this input when have space in first index is converted to ' ' point Rails view return 900 000 space in first index After load mask javascript 900 000 unit '' no space in string return with space which is not good for the currency field Expected behavior number to currency without unit return blank or no space for unit Actual behavior number to currency without unit return space currency Solution unit with type string or nil If is nil return no space System configuration Rails version 4 2 6 Ruby version 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-10-18 23:41:30,2016-10-19 18:02:41
IS,Feature Request assert enqueued with multi job,Following is a example Thanks,,rafaelfranca,2016-10-20 02:09:00,2016-10-20 02:13:03
IS,Could not log sql active record event errors,I had to update one of my apps to head to get some of the actioncable fixes and I am seeing a ton of errors in the log file that seem to be related to f814585bb269f1dd2c275d6ae95d94d8e91d8061 I am not doing anything weird with logging or my pg connections Has the interface changed here Any ideas how I would go about trying to diagnose why these errors are getting tossed It looks like it happens any time I have missed a Russian doll cache or cached model and it rebuilds as far as I can tell Using pg and memcached with the rails memcached cache store Expected behavior Normal rails logging of events Actual behavior Tons of errors Could not log sql active record event TypeError wrong argument type NilClass must respond to each home deploy rvm gems ruby 2 3 1 bundler gems rails 8e76f6959efc activerecord lib active record log subscriber rb 42 in zip' System configuration Rails version Head edited to add 6aa378400218404f1002177f5457e296079ae255 to be specific Ruby version 2 3 1,,"maclover7,tenderlove",2016-10-19 20:49:31,2016-10-20 16:30:02
IS,ActiveSupport TimeZone inserts leap seconds at midnight for the time zone not at the appropriate UTC adjusted time,Steps to reproduce Expected behavior I expect that a leap second is inserted at the appropriate UTC time as it is officially recognized In other words I expect a leap second to be inserted in each time zone at the time that corresponds to the same underlying timestamp as the UTC official leap second insertion time Actual behavior Instead it seems that the current implementation inserts a leap second right after 23 59 59 in the timezone instead of at the same time in UTC System configuration Rails version ActiveRecord 4 2 5 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"maclover7,pixeltrix",2016-10-17 20:59:47,2016-10-21 07:36:07
IS,ERROR Could not cleanly terminate all actors in 10 seconds,When I write Is there someone to help me please,,rafaelfranca,2016-10-21 17:12:07,2016-10-21 21:17:14
IS,rails,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-10-21 21:37:37,2016-10-21 21:46:33
IS,Optimistic locking does not work well with null in the database,I can not edit a record If lock version field is NULL in database Steps to reproduce Expected behavior Record should be updated Actual behavior I see exception ActiveRecord StaleObjectError Attempted to update a stale object Post System configuration Rails version 4 2 7 Ruby version ruby 2 1 8p440 2015 12 16 revision 53160 x86 64 darwin14 0,,"maclover7,bogdanvlviv",2016-08-02 11:41:41,2016-10-21 22:07:56
IS,Prevent creation of database columns tables with a reserved name,Since 2629 is stale and closed Making a personal finance app and halfway through my endeavour I find out that I have to rename my model and controller and all associations because transactions is reserved I only found this out when I was creating an association with another model and tried to annotate it ActiveRecord reserves transaction id apparently Ideally one should be warned at the time of generating a model resource that the table name column name is reserved and might cause issues down the line That would be in line with Rails being developer friendly I use Rails for my web development hobby because it is friendly and quicker to develop in Did not expect such a roadblock,,"rafaelfranca,rafaelfranca",2016-10-21 06:29:02,2016-10-22 02:28:17
IS,render json Model all does not works as guide says,Steps to reproduce 1 create a api based rails project 2 create Model and initial some data 3 overwrite the to json method and specify some of the attributes of the model 4 create controller 5 render JSON format by using render json Model all Expected behavior Only the specified fields be return in the json here is the reference comes from Rails Guide Actual behavior All fields of the model was returned in the json object System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin14,,rafaelfranca,2016-10-20 14:49:39,2016-10-22 03:02:43
IS,ActiveSupport TimeZone strptime cannot parse timestamps Q s,Steps to reproduce System configuration Rails version 5 0 0 Ruby version 2 3 1,,,2016-10-20 10:09:07,2016-10-22 03:12:47
IS,ActiveRecord lazy query fulfillment can break transaction scopes,Steps to reproduce With a postgresql back end I have the following code in a controller Expected behavior What is expected is that COMMIT indicating the end of the transaction should only occur after all the selects inside the transaction block have been completed Actual behavior Due to lazy execution of selects only the first select actually gets executed inside the transaction block and the subsequent selects end up being deferred until after the transaction gets completed Figuring out what might be going on here the first time is very challenging Logically lazy deferrment of SQL operations declared inside a transaction should never be allowed Transactions are intended as concurrency control and leaving it to the user to realize that a SQL operation declared inside a transaction block was deferred until after the transaction was committed is a recipe for bad things Available Workaround Currently this can be worked around by adding load to ActiveRecord queries inside a transaction block IMO this should not be necessary it should be default behavior System configuration Rails version 5 0 0 1 Ruby version 2 3 0,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-10-19 20:25:20,2016-10-22 03:24:46
IS,Allow action on unpermitted parameters to be configured at the controller level,I'm facing a situation where I would like to have action on unpermitted parameters be raise for some controllers and log for others For example for my public API I want to use raise So that I can fail early and let API consumers fix their request rather than ignoring unpermitted parameters and potentially leave the API consumers scratching their head as to what they are doing wrong For all other controllers I would like to use log so that updates are still processed ignoring any unpermitted parameters Thoughts,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-10-19 22:04:47,2016-10-22 03:34:48
IS,Wrong precision in number to human size and number to human,Steps to reproduce Expected behavior number to human size 668930519 should be equal to number to human size 668930519 precision 3 which is 638 MB because the default is precision 3 Actual behavior number to human size 668930519 results in 640 MB System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin16,,rafaelfranca,2016-10-21 18:36:55,2016-10-22 04:50:34
IS,HABTM records firing after update callbacks on records addition,Steps to reproduce Lets have two models Model Student System configuration Rails version rails 5 0 0 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,vipulnsward,2016-10-22 08:43:09,2016-10-23 17:00:37
IS,rspec error caused by gemfile could anyone give some help,Expected behavior I am doing work with rspec But it can not work keep showing errors But the rspec command does not work Here is my console logs System configuration Rails version 5 0 1 Ruby version 2 3 1,,maclover7,2016-10-23 23:50:23,2016-10-24 00:32:17
IS,certificate B certificate verify failed,Hello I have installed ruby by ruby installer on windows 7 v 2 3 1 64 bit I am getting this issue ERROR Could not find a valid gem 'compass' 0 here is why Unable to download data from SSL connect retur ned 1 errno 0 state SSLv3 read server certificate B certificate verify failed C Users Muhammad Kamran gem install net http ssl fix ERROR Could not find a valid gem 'net http ssl fix' 0 here is why Unable to download data from SSL connect retur ned 1 errno 0 state SSLv3 read server certificate B certificate verify failed I have updated the windows updated the system variable path Done all what i can do while searching on internet Its been weeks now Please help me what can i do to over come this problem,,prathamesh-sonpatki,2016-10-24 06:38:17,2016-10-24 06:48:52
IS,In Rails 5 params merge raises exception,I'm upgrading my app from 4 2 6 to 5 0 0 1 and I noticed that Rails 5 deprecated method params merge in controllers so I use params params merge instead but unfortunately it raises NoMethodError undefined method 'merge' for nil NilClass then I use params params to unsafe h merge again it raises NoMethodError for to unsafe h method what is wrong And in my original 4 2 6 app I merge params in ApplicationController and in my BooksController the params is the merged one but in Rails 5 it seems not the merged one Rails 5 0 0 1 Ruby 2 3 0,,"maclover7,rafaelfranca",2016-10-24 11:00:27,2016-10-25 05:21:57
IS,Sanitized html on edgeguides,Have a look at I see this Escaped HTML,,prathamesh-sonpatki,2016-10-25 08:16:47,2016-10-25 09:02:03
IS,Multi pages were broken,Here is the broken pages link Active Record and PostgreSQL Contributing to Ruby on Rails contributing to the rails documentation,,"prathamesh-sonpatki,rafaelfranca",2016-10-25 07:40:14,2016-10-25 14:09:42
IS,SanitizeHelper sanitize does not work in title,Expected behavior A title should be displayed with HTML escaped tags passed in to sanitize tags option Actual behavior Tell us what happens instead Calling sanitize inside title tag has no effect System configuration Rails version 4 2 5 Ruby version 2 3 0,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-10-24 20:30:24,2016-10-25 16:49:27
IS,Passing a non ActiveModel object to form for throws an exception when rendering the view,Steps to reproduce create a view with the following info admin rb The latter option is a regression to this L42 Let me know what do you think about this,,guilleiguaran,2016-10-25 23:33:24,2016-10-26 00:14:07
IS,Has and belongs to many documentation,Guides Link has and belongs to many association reference methods added by has and belongs to many collection delete object The collection destroy method removes one or more objects from the collection by running destroy on each record in the join table including running callbacks This does not destroy the objects This can not be correct for has and belongs to many as there is not a join model to initialize and run callbacks on In addition to me the warning on delete does not make sense either This does not trigger callbacks on the join records I assume the content was just copied from has many when the docs were written Happy to submit a PR but not sure what you would want it to say instead I'm not sure if it is just an alias on HABTM I'm assuming not,,rafaelfranca,2016-10-25 15:34:27,2016-10-26 08:30:20
IS,Documentation states that log formatter defaults it does not,Steps to reproduce If you have been upgrading an application or have not used the rails generator to get your config environments production rb file it may not contain the lines Use default logging formatter so that PID and timestamp are not suppressed config log formatter Logger Formatter new By removing those lines you will be left with an application which logs in production using the ActiveSupport Logger SimpleFormatter The guide states config log formatter defines the formatter of the Rails logger This option defaults to an instance of ActiveSupport Logger SimpleFormatter for all modes except production where it defaults to Logger Formatter If you are setting a value for config logger you must manually pass the value of your formatter to your logger before it is wrapped in an ActiveSupport TaggedLogging instance Rails will not do it for you The formatter is not being defaulted in production it is being generated with a default value this is quite different I suggest the guide be changed to read config log formatter defines the formatter of the Rails logger This option defaults to an instance of ActiveSupport Logger SimpleFormatter for all modes The production rb configuration is generated set to Logger Formatter by default If you are setting a value for config logger you must manually pass the value of your formatter to your logger before it is wrapped in an ActiveSupport TaggedLogging instance Rails will not do it for you System configuration Rails version 4 2 Ruby version 2,,"rafaelfranca,arthurnn",2016-10-11 19:49:05,2016-10-26 21:21:50
IS,HABTM undefined method 'match',I'm having an issue with a HABTM relationship that has a custom class name set I poked around for a bit to try and figure out where the problem was but I was not able to figure it out I am using Rails 5 beta 2 and I also tried out master which also had the same problem I was able to find a workaround that worked for me I will post the simplest setup that did not work and then my work around schema rb Let me know if there is any other info I can post to help debug this issue Thanks,,meinac,2016-02-18 22:01:57,2016-10-28 02:31:44
IS,All rails commands fail on clean install,Steps to reproduce gem install rails rails new myproject rails generate scaffold person name string Expected behavior Expected to not crash Actual behavior Crashes with incompatible library version System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-10-28 04:31:07,2016-10-28 10:09:53
IS,SSL Certificate issues with Ruby v2 3 1p112 gem v2 5 1 in Windows 8 1,Installing gems in Windows 8 1 is giving SSL Certificate issues On command gem install rails it is giving issues as possible ERROR Could not find a valid gem 'rails' 0 here is why Unable to download data from SSL connect returned 1 errno 0 state SSLv3 read server certificate B certificate verify failed On command gem update system it is giving issues as possible ERROR While executing gem Gem RemoteFetcher FetchError SSL connect returned 1 errno 0 state SSLv3 read server certificate B certificate verify failed,,rafaelfranca,2016-10-28 13:01:28,2016-10-28 13:33:50
IS,rails 5 0 0 1 ruby 2 3 1 Article connection sqlite3 adapter rb Found bugs,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen i was use rails c Article connection then Users F rvm gems ruby 2 3 1 gems activerecord 5 0 0 1 lib active record connection adapters sqlite3 adapter rb 27 BUG Segmentation fault at 0x00000000000110 ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin16 mac os 10 21 1 System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"maclover7,rafaelfranca",2016-10-27 13:04:38,2016-10-29 15:17:43
IS,actionpack 5 0 0 1 lib action dispatch request session rb 217 in load ',I try to upgrade rails 4 2 4 to 5 0 0 1 after bundle rails update just start rails server and connect localhost 3000 Does anyone know the solution System configuration Rails version 5 0 0 1 Ruby version 2 2 3p173,,maclover7,2016-10-27 13:26:39,2016-10-31 01:44:40
IS,polymophic relation can not be included on scope with complex where,Steps to reproduce System configuration Rails version 4 2 6 Ruby version 2 1 5,,prathamesh-sonpatki,2016-10-31 10:52:10,2016-10-31 14:15:52
IS,ActiveSupport Duration parse returns an incorrect value DST related,I experienced this on 5 0 0 but it is still present on current master 7056273 Ruby version 2 3 0 Where I am NYC Daylight Savings Time is currently 6 days out,,,2016-10-31 15:31:45,2016-10-31 17:29:18
IS,Rails should append ancestors when generating i18n error messages,Not a bug per say but I think this could potentially be a good improvement When generating the key combinations for i18n translation for error messages instead of building a list of all ancestors it only uses the last one in the list It is looping through but overriding the previous value on each loop Since lookup ancestors generates the list from child parent parent being last I can only specify a translation for the parent class L389 By pushing onto the array instead of overwriting this would allow me to optionally specify specific keys for STI children For example if I have a class class ClientUser User right now I the list only includes,,rafaelfranca,2016-10-31 22:19:15,2016-10-31 23:07:00
IS,use ActiveRecord ConnectionAdapters ConnectionManagement,Steps to reproduce In AR4 you could write use ActiveRecord ConnectionAdapters ConnectionManagement in rack and it would manage connections correctly This appears to have stopped working in AR5 and I can not find any documentation explaining what to do I have copied the source code from AR4 ConnectionManagement directly into my code for now Expected behavior There should be a rack middleware to manage connections on a per request basis,,"rafaelfranca,rafaelfranca,matthewd,matthewd",2016-11-01 00:27:10,2016-11-01 01:20:56
IS,Rails 5 Undocumented Enumerable Methods Prioritized Over Scopes on Relations,Prior to Rails 5 applications were able to define a scope with a method name that happened to match many methods on Enumerable and treat it like any other scope While attempting to upgrade an older application to Rails 5 I started receiving errors for calls to a legacy group by scope that accepted a single parameter I think this commit introduced the change that triggered the error Including the bug report components in case the maintainers want to treat this as a bug I think it is also reasonable to treat this as an intended change considering that relations already had a few methods from Enumerable explicitly defined on them If it is intended then I think it should be noted in the docs somewhere maybe just the 4 2 5 0 upgrade docs Steps to reproduce 1 Create a scope on Rails 4 2 with a method name that matches a method on Enumerable but is not explicitly noted in the Rails guides Use a method like group by rather than something like any which has been noted in Rails docs for a while 2 Construct and execute a query using that scope 3 Observe that the scope is executed as expected 4 Switch to Rails 5 and follow steps 1 and 2 Expected behavior The scope is executed as expected just as in Rails 4 2 Actual behavior The scope is never called because the method from Enumerable is found and called first If the arity of your scope is different from the arity of the method on Enumerable then an error is thrown System configuration Rails version 5 0 0 1 although the bug demo script happens to reproduce the behavior against 5 1 0 alpha Ruby version 2 3 1,,sgrif,2016-11-01 15:08:19,2016-11-01 17:23:48
IS,Cannot validate presence of parent object when children are created using accepts nested attributes for,EDIT removed reference to closed PR see test case below Basically the problem comes because we are setting automatic inverse of false in MacroReflection autosave I think this may have been intended as an optimization but it causes the inverse lookup to fail when saving associated records on an un persisted parent and leads to a failure of the included test case I wanted to generate some discussion about this namely is it safe to remove this line I guess it might cause a small performance hit but are the performance savings worth the cost of incorrect behavior NOTE I think this might be similar or identical to this issue,,"maclover7,maclover7",2016-01-21 18:12:02,2016-11-02 00:21:40
IS,Bidirectional autosave causes double update on save of parent model,If we create a child association on a parent then save the parent where BOTH associations have autosave true set identical update statements are issued twice on the parent Test case,,maclover7,2016-01-22 00:33:22,2016-11-02 00:21:51
IS,No simple way to unscope all,This is a feature request The best way to unscope is default scope where active false scope include inactive unscope where Docs VALID UNSCOPING VALUES This might provide a little context Stack Overflow Question mine It would be great if there were a way to unscope completely all VALID UNSCOPING VALUES by calling unscope with no args Or with all args I would be happy to do PR but not sure if this is a feature that is wanted or would be approved,,kaspth,2016-11-02 14:48:12,2016-11-02 14:50:54
IS,new record is false in after initialize when duping a persisted model,in in 26411 I argue that after initialize should not be invoked at all on dup or that after initialize contexts new find dup should be available,,"pixeltrix,pixeltrix",2016-09-07 17:21:21,2016-11-03 10:47:39
IS,NoMethodError with incomplete datetime data in model,Steps to reproduce Unfortunately I have not managed to reproduce it with the template the code basically looks like This only happens when the date parameters are incomplete when all are provided it works as expected System configuration Rails version 5 0 0beta3 Ruby version ruby 2 2 3p173 2015 08 18 revision 51636 x86 64 linux The real application is using PostgreSQL 9 4 6 maybe Rails stores a nil which PG converts to 0 thus resulting in the error when the attribute is being retrieved,,arthurnn,2016-03-14 21:33:08,2016-11-03 16:19:39
IS,Deploy updates to 5 0 release notes md,The deployed version of has a markdown error in the attributes API section picture below It was fixed on master in July by diff 17a536e4da7ffb4d16f4f28397148301 According to the guides contributing to the rails documentation Docrails is merged with master regularly so you are effectively editing the Ruby on Rails documentation Opening this issue in case the deploy of that change was missed rails 5 release notes markdown,,,2016-11-03 01:09:28,2016-11-03 17:35:28
IS,Redis Cache Issue storing Active Record Object,Some Info class User has 2 db column 'name' and 'lang' both string reader for lang is overridden as follows NOTE If u reload Terminal 1 same error will start to occur System configuration Rails version rails 5 0 0 Ruby version 2 3 1,,maclover7,2016-11-02 11:54:45,2016-11-05 15:11:00
IS,Output of number to human size is wrong,number to human size is 1024 base but print KB MB Example number to human size 1000 prefix si I could adjust by argument prefix si but prefix option of number to human size is deprecated and will be removed in Rails 5 1 WTF Are you joking Please read wikipedia at least Do not damage my favourite framework,,"rafaelfranca,rafaelfranca",2016-11-05 16:36:50,2016-11-05 17:11:13
IS,method missing overides,,,rafaelfranca,2016-11-05 19:39:06,2016-11-05 20:31:39
IS,module ActionMailer class Base,System configuration Rails version '5 0 0 1' Ruby version '2 3 1' First indent the private and protected headers 2 more spaces Just one issue right now ABC is to high for def set payload for mail payload mail nodoc payload mailer name payload message id mail message id payload subject mail subject payload to mail to payload from mail from payload bcc mail bcc if mail bcc present payload cc mail cc if mail cc present payload date mail date payload mail mail encoded end using I get lots of green squiggly underlines D,,rafaelfranca,2016-11-05 20:09:20,2016-11-05 20:32:02
IS,ActiveRecord Query Cache sometimes dirty and stuck enabled across threads,ActiveRecord QueryCache using the new Rails executor may result in dirty query caches across threads Releasing a connection early in one thread may return it to the pool with cache still enabled and dirty and the executor loses track of the connection so may clear another and another thread may pick up the dirty cache and never turn it off Steps to reproduce In practise this has occurred to us in a high concurrency production environment across threads We can reliably reproduce it with explicitly scheduled threads There is still an edge case here if the connection is returned to the pool early there is still a window where another thread may checkout the connection and see its dirty cache and potentially store the cache is on by default again landing us in a connection with query cache stuck enabled If an executor is responsible for checking out the AR connection then it is probably reasonable to assume it is also responsible for checking it back in In practise however it is fairly easy to accidentally break this assumption A Better Solution Perhaps instead query caching should be enabled cleared by the connection pool when checking connections in out It would prevent touching connections until they are needed It would allow query caching in more complex deployments using multiple connection specifications It would also be nice to be able to configure whether query caching is used at all at a connection specification level cc,,maclover7,2016-09-30 10:51:15,2016-11-06 06:46:47
IS,No add index in schema rb after migrations,Ruby 1 9 3 Rails 3 12 Postgres I have a large database with 50 or so tables a resulting schema rb file of about 2000 lines Everytime I run a migration EVERY add index line is deleted from the schema rb in the newly generated file I can add remove columns or tables but the add index lines are never included in the file When connect to psql and check whether the tables have the indices it is clear that they DO But for some reason they are not being included in the schema rb file I am completely out of ideas as to why this is happening and I can not find any instances of anyone else having this problem online Any ideas what may be causing this issue,,rafaelfranca,2016-11-06 21:58:32,2016-11-07 02:36:01
IS,handle argument error,rails server b 0 0 0 0 p 4000 e development ERROR rails server was called with arguments b 0 0 0 0 p 4000 e development Thor InvocationError Usage bin rails server options,,"arthurnn,rafaelfranca",2016-11-04 06:52:20,2016-11-07 07:03:19
IS,ActiveRecord Base create raises ArgumentError string contains null byte,Steps to reproduce Run following Expected behavior Post should have been created Actual behavior contains null byte ArgumentError from home user rvm gems ruby 2 3 1 gems activerecord 4 2 7 1 lib active record connection adapters postgresql adapter rb 602 in block in exec cache' from home user rvm gems ruby 2 3 1 gems activerecord 4 2 7 1 lib active record connection adapters abstract adapter rb 484 in block in log' from home user rvm gems ruby 2 3 1 gems activesupport 4 2 7 1 lib active support notifications instrumenter rb 20 in instrument' from home user rvm gems ruby 2 3 1 gems activerecord 4 2 7 1 lib active record connection adapters abstract adapter rb 478 in log' from home user rvm gems ruby 2 3 1 gems activerecord 4 2 7 1 lib active record connection adapters postgresql adapter rb 601 in exec cache' from home user rvm gems ruby 2 3 1 gems activerecord 4 2 7 1 lib active record connection adapters postgresql adapter rb 585 in execute and clear' System configuration Rails version 4 2 7 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux Related 8957 23035,,"maclover7,rafaelfranca",2016-10-25 20:11:54,2016-11-08 02:11:27
IS,Custom ActionController renderer not able to overwrite content type in Rails 5,Hi I am in the process of updating the acts as api gem to a Rails 5 compatible version The gem uses a custom renderer that also allows you to render json as well as jsonp responses For executing jsonp responses some browsers will only accept the JavaScript content type not json So my custom renderer would change the content type of a json response if a jsonp callback option was provided L11 This used to work in older Rails versions but not in Rails 5 I am not sure if this is intended behavior now or a regression It would be pretty cool if I could get some context into these changes so I can decide what to do Cheers Christian Expected behavior Custom renderers can change the content type of a response on the fly Actual behavior Setting the content type to anything else than JSON when rendering inside of a render json block will result in an ActionController UnknownFormat error System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,maclover7,2016-11-03 09:21:20,2016-11-08 16:06:46
IS,db migrate log output and verbosity options,Steps to reproduce rails new db logging test cd db logging test bin rails generate migration EmptyMigration bundle exec rake db migrate Expected behavior What shows up on the screen and in the log should match with the ability to granularly specify logging verbosity without resorting to hacky workarounds or additional configuration With VERBOSE true With VERBOSE false Nothing is output With QUIET true This option does not currently exist System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,rafaelfranca,2016-11-08 19:47:27,2016-11-08 20:02:32
IS,Case insensitive uniqueness validation is broken with Rails 5 Postgres,Tested this with Sqlite and it worked fine but with Postgres it was broken Steps to reproduce You will need a database called testapp test for these scripts Failing executable test case for AR 5 Passing executable test case for AR 4 2 Expected behavior AR creates a SQL query that checks for uniqueness case insensitive using the LOWER function System configuration Rails version 5 0 0 Ruby version 2 3 0,,maclover7,2016-11-10 15:34:55,2016-11-10 15:43:51
IS,api flag is not applied,Steps to reproduce 1 Create railsrc file with the content 2 Run rails new my api api 3 Check that api feature was not applied Expected behavior Api must be applied Actual behavior Api is not applied System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,maclover7,2016-11-09 23:10:34,2016-11-10 19:57:31
IS,How to monitor DB connections,I have suspicion that my application have leaking db connections that being borrowed and not returned at the right time I could not find feature to get connection pool stats so I had to dig deep and make assumptions What do you think,,"matthewd,matthewd,rafaelfranca",2016-10-26 09:58:45,2016-11-10 20:24:08
IS,Accidentally removed a folder and got migrations issues,I accidentally removed a folder it might be db or lib folder but immediately find out about it and put it back on same place it was I am using RubyMine so I did cmd z on Mac This caused so I got error Migrations are pending To resolve this issue run rake db migrate and I ran rake db migrate and as I could see It ran all migrations files from first migration file and migrated all my tables as it was newly added and removed all my records Since I have version control I rested the branch to previous branch that worked find but still have some migration issues I have doubled checked all the folders and files and everything is where is needs to be I think but for some reason it needs to run all migration once again I am currently in Development ENV and do not know if it gonna run migration when deployed with capistrano gem to Production ENV and remove all my records in my Production ENV What can I do to fix everything back to normal Rails version 4 2 4 Ruby version 2 2 1,,schneems,2016-11-11 13:07:45,2016-11-11 13:31:14
IS,On ruby dev rounding causes iso8601 serializer with precision to create different value,I am unsure of what the resolution should be so opening up an issue here We test duration here L293 L293 ruby issue here I see that this is actually a fix over how it was previously printed so is an improvement Question is what needs to be done on our end since this is a somewhat change in behaviour for ISO8601 parser Do we handle on ruby 2 4 differently or leave as is and accommodate this in our tests cc,,"vipulnsward,Envek",2016-07-17 07:26:05,2016-11-11 21:42:36
IS,Rails console was crash with Rails 5 0 0 1 and Ruby 2 3 1,Steps to reproduce bundle exec rails c sandbox Expected behavior Should Display Rails Console Actual behavior System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,maclover7,2016-11-11 05:26:10,2016-11-12 02:20:22
IS,Rails db migration not recognising Null and Not Null for varchar,Steps to reproduce 1 Install rails 2 Create a new rails app 3 create a new db migrate file to create a new table create post table migration file Issues 1 It neglected null and not null for varchar values reportable id and reportable type 2 It generates different format of null values for closed at and action by one of them being illegal System configuration Rails version 5 0 0 Ruby version 2 3 1p112 Database used Mysql,,prathamesh-sonpatki,2016-11-11 17:02:15,2016-11-12 03:00:24
IS,de,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-11-12 15:42:07,2016-11-12 15:43:11
IS,Exception when attribute is Infinity in Hash,Issue was originally opened here I was asked to open an issue here to see if this is a rails bug since the exception is not limited to active model serializers and it will be raised anytime when object is to json method returns Hash with Infinity Steps to reproduce use following gem for the test case 'active model serializers' ' 0 10 0',,"prathamesh-sonpatki,pixeltrix,prathamesh-sonpatki,pixeltrix,prathamesh-sonpatki,pixeltrix,pixeltrix",2016-10-24 13:45:33,2016-11-13 14:46:21
IS,nil NilClass exception when calling performed on controller,So having a test that does System configuration Rails version rails 5 0 0 1 Ruby version 2 2 5,,"prathamesh-sonpatki,prathamesh-sonpatki,kaspth,prathamesh-sonpatki,prathamesh-sonpatki,kaspth,kaspth,kaspth,prathamesh-sonpatki",2016-11-11 07:22:46,2016-11-13 17:12:16
IS,Nested Attributes validation fails with required true option,Steps to reproduce run createdb foobar ruby blog rb Expected behavior Nested attributes validation should pass with required true option Actual behavior Nested attributes validation does not pass with required true option System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15 P S This example works well without required true options,,prathamesh-sonpatki,2016-11-13 17:43:32,2016-11-13 17:56:18
IS,ActiveJob Memory bloat,Hi I'm investigating on a memory bloat linked to ActiveJob I first reported it to Sidekiq but the problem seems to come from ActiveJob System configuration Rails 5 0 0 also reproduced with master Ruby 2 3 1 Steps to reproduce An app to reproduce is available here Setup the database to create thousands of records The heap size and the RSS increase each round until the final blow up In this example it grows a few bytes per request but it represents several MB on a real apps with many gems Investigation After digging the code the cause seems to be linked to the reloader in ActiveJob L25 The increase of memory may be handled in development but is problematic in production when browsing very large databases Can we skip this callback when the config eager load is set to true,,"maclover7,eugeneius,matthewd",2016-11-10 01:29:38,2016-11-13 20:52:15
IS,Logging backend being flooded by Rails 5 DebugExceptions,Steps to reproduce 1 Set up Rails application that uses the gelf rb gem to log to a Graylog backend 2 Trigger an exception in the application Expected behavior A single message is logged with the exception Actual behavior Hundreds of messages are logged for a single exception including one for each line of the stack trace System configuration Rails 5 0 0 Ruby 2 3 0,,"rafaelfranca,vipulnsward",2016-08-12 07:36:09,2016-11-14 03:50:30
IS,5 0 0 1 actionpack undefined method ref' for nil NilClass,Steps to reproduce Reproduced with webmock gem Expected behavior in L278 request has content type should be return false for nil CONTENT TYPE header Actual behavior request has content type return true for nil CONTENT TYPE header System configuration Rails version 2 3 1 Ruby version 5 0 0 1,,"maclover7,maclover7",2016-10-27 12:40:44,2016-11-14 04:11:26
IS,Return response instead of status code in integration tests,Hi HDYT about changing return value of process method in integration tests So spec files will get more clear here are rspec examples hope similar will be for minitest I tried to investigate why rails provides such behaviour I followed up till some commit L380 in 2009 where it already returns status code and gave up I can try to prepare PR for it if you like the idea,,"kaspth,kaspth",2016-11-14 10:31:48,2016-11-14 11:16:05
IS,Rails 5 How to avoid deadlock with threads and autoload,I am seeing a deadlocking issue that appears to be related to threads and autoloading It sounds very similar to what and discussed in a few issues including these two The basic question is What is the best practice to avoid autoload induced deadlocks when creating threads in application code There are already hints of an answer in but I do not fully understand it Demonstrating the problem I have created an example app that creates threads from my ParallelMapper class via the Parallel map API provided by the parallel gem Each thread creates an instance of my CollaboratorOne class to perform work In turn CollaboratorOne creates an instance of CollaboratorTwo to assist with the work Existing solutions 1 If I explicitly require the collaborator classes the problem goes away presumably because autoloading does not occur That solution seems risky because someone could add a new class downstream that prompted an autoload and brought back the deadlock What is more the rails guide about autoloading autoloading and require advises against that Just follow the flow and use constant autoloading always never mix autoloading and require 2 Setting config eager load true in test development would also avoid the problem although I would prefer not to do that for speed if there is a solution that can work with autoload Steps to reproduce 1 Clone 2 bundle exec rails db setup requires postgres 3 bundle exec rails server 4 Visit 3000 examples in a browser Deadlock should occur Expected behavior The deadlock appears to be expected given changes in Rails 5 but the goal is to avoid deadlocking Just looking for clarification on the correct approach System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,matthewd,2016-11-12 20:30:39,2016-11-14 14:54:03
IS,Too much backtrace clutter on template errors in development log,An exception raised in the template will cause this to be added to the development log,,"dhh,dhh,gsamokovarov",2016-05-31 16:30:42,2016-11-14 18:33:27
IS,Rails scaffold erb templates not being used during generation,Steps to reproduce Put scaffold erb templates inside lib templates erb scaffold and run rails g scaffold xyz x string Expected behavior The newly generated scaffold should have the custom templates in the aforementioned path Actual behavior The templates are ignored System configuration Rails version 5 001 Ruby version 2 3 1p112 Related SO Question,,utilum,2016-11-14 14:09:37,2016-11-14 19:32:55
IS,ActiveSupport EventedFileUpdateChecker wrong number of arguments in JRuby,Steps to reproduce rails 5 0 0 beta3 new rails 5 test api Entire Gemfile source '' ruby 2 2 3 engine jruby engine version 9 0 5 0 gem 'rails' ' 5 0 0 beta3' ' 5 1' Bundle and Console bundle install rails c Actual behavior Get this error ArgumentError wrong number of arguments calling sub 0 for 1 normalize extension at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support evented file update checker rb 97 block in initialize at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support evented file update checker rb 13 map at org jruby RubyArray java 2300 block in initialize at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support evented file update checker rb 13 each at org jruby RubyHash java 1339 initialize at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support evented file update checker rb 12 initialize i18n at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support i18n railtie rb 59 block in Railtie at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support i18n railtie rb 15 call at org jruby RubyProc java 318 execute hook at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support lazy load hooks rb 36 block in run load hooks at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support lazy load hooks rb 45 each at org jruby RubyArray java 1560 run load hooks at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems activesupport 5 0 0 beta3 lib active support lazy load hooks rb 44 block in Finisher at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails application finisher rb 62 instance exec at org jruby RubyBasicObject java 1670 run at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails initializable rb 30 block in run initializers at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails initializable rb 55 block in tsort each at Users mymac rvm rubies jruby 9 0 5 0 lib ruby stdlib tsort rb 226 block in each strongly connected component at Users mymac rvm rubies jruby 9 0 5 0 lib ruby stdlib tsort rb 348 each strongly connected component from at Users mymac rvm rubies jruby 9 0 5 0 lib ruby stdlib tsort rb 429 block in each strongly connected component at Users mymac rvm rubies jruby 9 0 5 0 lib ruby stdlib tsort rb 347 each at org jruby RubyArray java 1560 call at org jruby RubyMethod java 127 each strongly connected component at Users mymac rvm rubies jruby 9 0 5 0 lib ruby stdlib tsort rb 345 tsort each at Users mymac rvm rubies jruby 9 0 5 0 lib ruby stdlib tsort rb 224 tsort each at Users mymac rvm rubies jruby 9 0 5 0 lib ruby stdlib tsort rb 203 run initializers at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails initializable rb 54 initialize at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails application rb 350 top at projects rails 5 test config environment rb 5 require at org jruby RubyKernel java 937 root at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails application rb 1 require environment at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails application rb 326 require application and environment at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails commands commands tasks rb 157 console at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails commands commands tasks rb 77 run command at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails commands commands tasks rb 49 top at Users mymac rvm gems jruby 9 0 5 0 rails 5 test gems railties 5 0 0 beta3 lib rails command rb 20 require at org jruby RubyKernel java 937 top at bin rails 9 System configuration Rails version 5 0 0 beta3 Ruby version JRuby 9 0 5 0,,"maclover7,maclover7",2016-03-01 00:20:46,2016-11-15 13:39:32
IS,Ca not cast ActionController Parameters as hash for hstore attributes,Steps to reproduce Create a record where you would assign the attribute using params that have nested hashes System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"maclover7,prathamesh-sonpatki,prathamesh-sonpatki,maclover7,maclover7,sgrif,maclover7,maclover7",2016-10-26 17:46:31,2016-11-15 22:14:42
IS,IntegrationTest should raise on missing as content type,When I test a method with an unregistered content responder such as this common use case get foo path params as xml This will maddeningly request with text html because RequestEncoder always reverts back to WWWFormEncoder ActionDispatch IntegrationTest Session RequestEncoder def self encoder name name WWWFormEncoder end The only inbuilt encoders is json if someone is using another argument to as it should raise an error or at least show a deprecation style warning instead of silently falling back so people know to register their custom encoder Given that trying to register invalid mime types also gives a nice warning I think it is appropriate to show the same thing here unless raise ArgumentError Ca not register a request encoder for unregistered MIME Type mime name See Mime Type register end Rails version 5 0 1 probably also 4 x,,,2016-11-15 22:05:30,2016-11-15 22:25:23
IS,JRuby broken ActiveSupport Testing Isolation,Running railties test initializable test rb Marshal load gets an empty string from here L17 Looks like there is something wrong with Subprocess run in isolation method L63 cc,,"kirs,headius,kirs",2016-11-15 02:33:49,2016-11-16 03:05:15
IS,Changing polymorphic parent not setting associated id if polymorphic parent has id 1,Steps to reproduce I am making a blackjack game and ran across this problem I have the following models And I did not have that trouble anymore Branch of my repo with issue System configuration Rails version Rails 5 0 0 1 Ruby version 2 3 1 DB Postgres,,sgrif,2016-10-31 07:04:27,2016-11-16 08:47:50
IS,The symbol is not accepting the rails 4 2 0 and ruby 2 2 0,I have requirement in which I am getting array as parameter like below but when I am trying to perform this operation I am getting error see in Backtrace Guys Please let me know how this issue can be resolved Backtrace rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry history rb 106 in write' xC2 from ASCII 8BIT to UTF 8 Encoding UndefinedConversionError from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry history rb 106 in puts' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry history rb 106 in save to file' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry history rb 50 in call' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry history rb 50 in push' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry pry instance rb 267 in handle line' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry pry instance rb 243 in block 2 levels in eval' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry pry instance rb 242 in catch' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry pry instance rb 242 in block in eval' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry pry instance rb 241 in catch' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry pry instance rb 241 in eval' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry repl rb 77 in block in repl' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry repl rb 67 in loop' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry repl rb 67 in repl' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry repl rb 38 in block in start' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry input lock rb 61 in call' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry input lock rb 61 in with ownership' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry input lock rb 79 in with ownership' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry repl rb 38 in start' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry repl rb 15 in start' from home sonus rvm gems ruby 2 2 0 rtm new gems pry 0 10 3 lib pry pry class rb 169 in start' from home sonus rvm gems ruby 2 2 0 rtm new gems railties 4 2 5 1 lib rails commands console rb 110 in start' from home sonus rvm gems ruby 2 2 0 rtm new gems railties 4 2 5 1 lib rails commands console rb 9 in start' from home sonus rvm gems ruby 2 2 0 rtm new gems railties 4 2 5 1 lib rails commands commands tasks rb 68 in console' from home sonus rvm gems ruby 2 2 0 rtm new gems railties 4 2 5 1 lib rails commands commands tasks rb 39 in run command ' from home sonus rvm gems ruby 2 2 0 rtm new gems railties 4 2 5 1 lib rails commands rb 17 in top required ' from home sonus rvm gems ruby 2 2 0 rtm new gems activesupport 4 2 5 1 lib active support dependencies rb 274 in require' from home sonus rvm gems ruby 2 2 0 rtm new gems activesupport 4 2 5 1 lib active support dependencies rb 274 in block in require' from home sonus rvm gems ruby 2 2 0 rtm new gems activesupport 4 2 5 1 lib active support dependencies rb 240 in load dependency' from home sonus rvm gems ruby 2 2 0 rtm new gems activesupport 4 2 5 1 lib active support dependencies rb 274 in require' from home sonus raisethemoney bin rails 8 in top required ' from home sonus rvm gems ruby 2 2 0 rtm new gems activesupport 4 2 5 1 lib active support dependencies rb 268 in load' from home sonus rvm gems ruby 2 2 0 rtm new gems activesupport 4 2 5 1 lib active support dependencies rb 268 in block in load' from home sonus rvm gems ruby 2 2 0 rtm new gems activesupport 4 2 5 1 lib active support dependencies rb 240 in load dependency' from home sonus rvm gems ruby 2 2 0 rtm new gems activesupport 4 2 5 1 lib active support dependencies rb 268 in load' from home sonus rvm rubies ruby 2 2 0 lib ruby site ruby 2 2 0 rubygems core ext kernel require rb 54 in require' from home sonus rvm rubies ruby 2 2 0 lib ruby site ruby 2 2 0 rubygems core ext kernel require rb 54 in require' from e 1 in main ' System configuration Rails version 4 2 0 Ruby version 2 2 0,,utilum,2016-11-16 14:55:24,2016-11-16 18:24:48
IS,listen 3 1 for Rails 5 x,Hi Just question Is it possible to merge below commit on master branch to Rails 5 x Because I could not find it on 5 0 stable branch and I want to use listen latest version 3 1 5 with default Gemfile Thanks,,jeremy,2016-11-16 16:38:26,2016-11-16 19:14:19
IS,Custom Configuration example in Guides not working,Docs currently shows this example in Custom Configuration custom configuration,,kaspth,2016-11-16 19:30:03,2016-11-16 21:09:19
IS,ActiveRecord should support setting a default datetime value of CURRENT TIMESTAMP,Steps to reproduce The default Rails database created at column is automatically set by Rails to use the database notion of CURRENT TIMESTAMP However there does not appear to be a way to use CURRENT TIMESTAMP as the default value for an arbitrary datetime field without resorting to raw SQL But when you use raw SQL via a migration the schema rb file does not reflect this default Here is our migration based on This becomes a problem if you rebuild your database because those defaults are lost One workaround is to set your schema dump format to sql however this has the unpleasant side effect of making your schema rb format less readable Please let me know if there is a better place to report this feature request Looks like there has been some interest in this for a while see for example issue 21875 System configuration Rails 4 2 but this does not appear to have been addressed in Rails 5 0 Ruby version 2 3 0,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-11-17 04:32:39,2016-11-17 04:58:22
IS,Rails stops logging after a while,Steps to reproduce It is hard to pinpoint steps to reproduce Expected behavior Logger should log all the time Actual behavior Logger stops working after few hours after deploy server restart and works again after puma restart Nginx logs are fine so it must be error on ruby side System configuration ruby 2 3 1 Rails 5 0 0 puma 3 4 0 multi logger 0 1 0,,rafaelfranca,2016-07-19 12:52:30,2016-11-17 18:03:04
IS,Step 8 Deleting Comments Bug and solution that worked for me,Steps to reproduce Step 8 Deleting Comments deleting articles produces this error Expected behavior The page should load with a 'Destroy comment' link under each comment Actual behavior Page fails to load with this message Solution is here issuecomment 191576111 System configuration Rails version 4 2 6 Ruby version 2 2 4p230 2015 12 16 revision 53155 x86 64 darwin15,,"vipulnsward,vipulnsward",2016-06-24 08:37:52,2016-11-17 18:28:04
IS,Update Rails security guide by removing SafeErb suggestion,On the security section of the Rails guide it can be read However it can easily happen that the programmer forgets to use it so it is recommended to use the SafeErb gem SafeErb reminds you to escape strings from external sources The repository of the gem SafeErb does not show activity since 2012 I think that is a good idea to remove the part where the recommendation to use this gem is mentioned Also one of the authors of the gem recommend not to use it,,,2016-11-17 17:38:33,2016-11-17 18:41:48
IS,Rails configuration i18n available locales is not applicable,Steps to reproduce Looking at Rails configuration i18n available locales and I18n available locales it seems like the former one is not actually used yet is referenced in the guides in this repo on L281 Should this be removed from that file,,rafaelfranca,2016-11-17 16:24:39,2016-11-17 19:05:32
IS,Unchanged activerecord object has changed true with rails5 postgres json column special characters,If an active record object has a json property that includes a special character then changed will be true even when nothing has changed Steps to reproduce Create an active record class that has a column of type json Store a value in that array that includes a special character like Load the row in active record call attributes on the active record instance changed will be true even before you make any changes Here is a test showing this behavior Expected behavior When I load an instance from the database with a special character inside of a column of the json type changed should be false when I have not made any changes Actual behavior When I load an instance from the database with a special character inside of a column of the json type changed is true once I have called attributes System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"maclover7,palkan,maclover7,sgrif,maclover7,rafaelfranca,maclover7,maclover7",2016-11-07 21:01:54,2016-11-17 20:02:59
IS,option groups from collection for select fails with Proc as group label method,Steps to reproduce rails c ActionView Base new option groups from collection for select collection children lambda parent parent id parent name id name Expected behavior It should returns a select with grouped options Actual behavior Proc 0x007f91c3622fd0 lambda is not a symbol nor a string System configuration Rails version 4 2 7 1 Ruby version 2 3 1,,"utilum,utilum,rafaelfranca",2016-11-17 11:22:15,2016-11-17 22:19:00
IS,Memcached read multi always looks up key of raw true when using Dalli,Steps to reproduce The definition of get multi in Dalli at L65 is what is happening is that every call to read multi is also adding a key called raw true We discovered this because this issue has been causing an incredible cache miss rate for us on one of our memcached servers We run with 9 memcached servers and 8 of the 9 get about 1 5k misses per second The server that raw true is supposed to reside on is getting about 40k misses per second and the incoming packets per second is now starting to overload the box I think the raw true should be removed unless other drives require it in which case it should only be removed for Dalli System configuration Rails version 4 2 7 1 Ruby version 2 2 3p173,,maclover7,2016-11-16 16:29:45,2016-11-17 23:19:47
IS,MariaDB migration not reverted on failure,Steps to reproduce have this schema on a mariadb backed app because teh first removed teh index and did not rollback on failure System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 x86 64 linux gnu MariaDB version Server version 10 0 27 MariaDB 0ubuntu0 16 04 1 Ubuntu 16 04,,"utilum,utilum,utilum,utilum",2016-11-15 01:36:36,2016-11-17 23:26:05
IS,Scope raises error when array is passed as argument,Steps to reproduce System configuration Rails version 5 0 0 Ruby version 2 2 4,,"vipulnsward,rafaelfranca",2016-07-02 16:34:14,2016-11-18 00:03:49
IS,ActionCable disconnect timeout,Steps to reproduce 1 Start a server with simple ActionCable 2 watch n 1 'netstat na grep YourPortHere on your server linux 3 sudo tcpdump i YourAdapterNameHere 'port YourPortHere' on your server linux You can get adapter name using ifconfig commang 3 Browse to your ActionCable enabled page with any browser on another machine 4 Wait for all connection but WS one to fade in netstat 5 Observe tcpdump there is 3 second heartbeat as it should be 5 Unplug your browser machine from internet disable wifi unplug cable etc Expected behavior Connection should be finished and disconnect callback should be triggered when only few pings missed as the client side actually does Server thinks the connection is still there and shows that for other users interested for me it is master slave kind of app where operator has to see if client computers are on and if they are logged in correctly to application Actual behavior TCPDUMP shows heartbeat stops netstat shows queue bytes count raises but connection still lists as ESTABLISHED so it does not trigger the server side disconnect callback from ActionCable Connection Base Connection disconnects usually after few mins or when the queue buffer overflows System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,maclover7,2016-11-17 14:00:36,2016-11-18 22:17:05
IS,Incorrect output from rails routes when using singular resources,In a Rails 5 0 0 1 app I have an app controllers profiles controller rb with a single show action In routes rb I have,,maclover7,2016-09-23 19:02:49,2016-11-18 22:41:52
IS,On arm64 ubuntu ruby 2 3 2 the model is order method has problem,Steps to reproduce On my Nvidia jetson tx1 development board arm64 architecture ubuntu 16 04 when I upgrade ruby to 2 3 2 the ActiveRecord is order method is break 33bceafb d179 4892 b210 8fd9e665837d System configuration System architecture arm64 ubuntu 16 04 Rails version 5 0 0 1 Ruby version 2 3 2,,matthewd,2016-11-19 06:13:38,2016-11-19 06:43:20
IS,accepts nested attributes for belongs to relation requires optional true for validations to pass,Scenario User can have many Roles 3 Models User Userrole Role User Userrole are created using the nested models approach Validation fails with Userroles user must exist Models class User ApplicationRecord has many userroles accepts nested attributes for userroles end class Userrole ApplicationRecord belongs to user optional true This seems to be required and disables the foreign key check belongs to role end class Role ApplicationRecord has many userroles end The failed validation seems to be the result of Rails 5 is enforced foreign key presence validation It seems that all the validations both parent and child are occurring before either entity is actually being persisted to the DB One might expect in such a scenario that Rails would validate the parent persist the parent validate the child persist the child Userroles thus requires optional true and disables the foreign key check If this is not a bug this behavior must be explained in the Rails documentation and Rails Guides,,maclover7,2016-11-17 13:36:55,2016-11-19 11:22:06
IS,html format being rendered on a js request,Steps to reproduce 1 Create a new rails 5 project rails new bug 1 Generate a controller for sessions rails generate controller sessions new 1 Confirm that there are 2 views for Sessions new new html erb new coffee 1 Generate a controller for a protected page rails generate controller home index 1 Add a redirect to home index redirect to isessions new' 1 run development server rails s 1 Opening 3000 home index redirects to sessions new using html template 1 Opening 3000 home index js redirects to sessions new using html template 1 Rename new coffee for the sessions view to new js erb mv app views sessions new coffee app views sessions new js erb 1 Opening 3000 home index redirects to sessions new using html template 1 Opening 3000 home index js redirects to sessions new using js template Expected behavior If the file app views sessions new coffee is present opening 3000 home index js should redirect to sessions new and use the js compiled from the coffee template Actual behavior Tell us what happens instead The html template is rendered instead the coffee template This is the log output If the file app views sessions new coffee is present,,pixeltrix,2016-11-18 12:50:11,2016-11-20 10:47:31
IS,Joins from a default scope is not being respected while using association in has many through options,Steps to reproduce Suppose here are models defined in application do not go by names names used are mere representation System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"utilum,utilum,utilum,utilum,maclover7",2016-11-16 20:05:16,2016-11-20 14:11:57
IS,Make rails test run rake test,Steps to reproduce Modify the test rake task and then run rails test Expected behavior I expect that rails test will just run rake test Actual behavior rails test only executes Minitest run System configuration Rails version 5 0 0 1 Ruby version 2 3 1 p112 x86 64 darwin16 Since the test task is already set up to run minitest is there a reason that the test command is included in Rails CommandsTasks COMMAND WHITELIST I can send a PR to remove this from the whitelist if that is acceptable This caused me to waste a lot of time trying to figure out why modifications to the test task did not affect rails test,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,kaspth",2016-11-17 21:44:13,2016-11-20 15:37:13
IS,bin rails restart is broken out of the box,Steps to reproduce 1 Run rails new wat cd wat bin setup bin rails migrate bin setup to set up a new Rails app For the sake of completeness running bin setup fails the first time when preparing the database so it is necessary to migrate to create an empty schema rb and then to run bin setup again so it completes successfully The steps below also work if you omit the migration and second run of bin setup 1 In one terminal window run bin rails server to start a Rails server 1 In another terminal window run bin rails restart to restart the server Expected behavior The server is successfully restarted Actual behavior The server crashes with the following message System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 2p217 2016 11 15 revision 56796 x86 64 darwin16 Notes As a result of this the generated bin setup and bin update are also broken when they are run while a server is running since they run bin rails restart as their last step,,prathamesh-sonpatki,2016-11-21 09:36:27,2016-11-21 09:54:21
IS,unexpected behavior of accepts nested attributes for in has one relationship rails 5,I was following this doc to implement accepts nested attributes for in has one relationship with rails 5 Expected behavior Consider a Member model that has one Avatar,,prathamesh-sonpatki,2016-11-21 12:18:08,2016-11-21 12:40:45
IS,Drop jQuery as a dependency,We should now be able to write our data remote data confirm XHR wrapping and the few other hooks we rely on using vanilla JavaScript Things have progressed well enough for that This is not a verdict on jQuery There are still plenty of other reasons for someone to want to use that but it need not be part of the default stack any more cc,,"dhh,simi,gsamokovarov,simi,javan,sgrif,maclover7,sgrif,dhh,dhh,javan,javan,simi,dhh,simi,dhh,rafaelfranca,metaskills,sgrif,pixeltrix,simi,pixeltrix,simi,sgrif,guilleiguaran,guilleiguaran,dhh,rafaelfranca,dhh,guilleiguaran,matthewd,javan",2016-05-31 11:09:23,2016-11-23 03:39:24
IS,rake test BUG ERROR ruby on rails,noeblack garyhost empresa rake test Run options seed 60763 Running E Finished in 8 020068s 1 1222 runs s 1 7456 assertions s home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers variable name checker rb 10 BUG Segmentation fault at 0x0000000000707a ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux Control frame information c 0028 p s 0100 e 000099 CFUNC local variables c 0027 p 0029 s 0097 e 000096 METHOD home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers variable FINISH c 0026 p s 0092 e 000091 CFUNC new c 0025 p 0076 s 0088 e 000087 METHOD home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers rb 18 c 0024 p 0039 s 0084 e 000083 METHOD home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean core ext name error rb 24 c 0023 p 0008 s 0081 e 000080 METHOD home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean core ext name error rb 20 c 0022 p 0054 s 0078 e 000075 METHOD home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean core ext name error rb 13 FINISH c 0021 p s 0071 e 000070 CFUNC message c 0020 p 0044 s 0068 e 000065 METHOD home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 721 c 0019 p 0024 s 0062 e 000057 BLOCK home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest test rb 264 FINISH c 0018 p s 0055 e 000054 CFUNC map c 0017 p 0038 s 0052 e 000051 METHOD home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest test rb 263 FINISH c 0016 p s 0049 e 000048 CFUNC c 0015 p 0019 s 0045 e 000044 BLOCK home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 596 FINISH c 0014 p s 0041 e 000040 IFUNC c 0013 p s 0039 e 000038 IFUNC c 0012 p s 0037 e 000036 CFUNC each c 0011 p s 0035 e 000034 CFUNC each with index c 0010 p s 0033 e 000032 CFUNC each c 0009 p s 0031 e 000030 CFUNC map c 0008 p 0046 s 0028 e 000027 METHOD home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 595 c 0007 p 0080 s 0023 e 000021 METHOD home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 582 FINISH c 0006 p s 0019 e 000018 IFUNC report c 0005 p s 0017 e 000016 CFUNC each c 0004 p 0014 s 0014 e 000013 METHOD home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 658 c 0003 p 0177 s 0011 e 000010 METHOD home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 140 c 0002 p 0071 s 0005 E 000b68 BLOCK home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 62 FINISH c 0001 p 0000 s 0002 E 0016e0 none FINISH Ruby level backtrace information home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 62 in block in autorun' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 140 inrun' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 658 in report' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 658 ineach' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 582 in report' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 595 inaggregated results' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 595 in map' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 595 ineach' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 595 in each with index' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 595 ineach' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 596 in block in aggregated results' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 596 in ' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest test rb 263 in to s' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest test rb 263 inmap' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest test rb 264 in block in to s' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 721 inmessage' home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 721 in message' home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean core ext name error rb 13 into s' home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean core ext name error rb 20 in corrections' home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean core ext name error rb 24 inspell checker' home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers rb 18 in new' home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers rb 18 innew' home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers variable name checker rb 10 in initialize' home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers variable name checker rb 10 inlocal variables' Machine register context RIP 0x00007fa2d1f8af05 RBP 0x000000000000e191 RSP 0x00007ffcb03458f0 RAX 0x0000000000000000 RBX 0x0000000000000000 RCX 0x000000000000707a RDX 0x00000000041dab60 RDI 0x00007ffcb0345898 RSI 0x00000000041dc1a0 R8 0x0000000006c1b280 R9 0x0000000000ee5a00 R10 0x0000000006c1b270 R11 0x00007fa2d1f8aeb0 R12 0x00000000041db1f0 R13 0x0000000005d89bb8 R14 0x00000000061c0460 R15 0x0000000000000000 EFL 0x0000000000010246 C level backtrace information home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb vm bugreport 0x4ea 0x7fa2d1f9f14a vm dump c 688 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb bug context 0xd4 0x7fa2d1e31264 error c 435 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 sigsegv 0x3e 0x7fa2d1f0df5e signal c 890 lib x86 64 linux gnu libc so 6 0x7fa2d1a1f4b0 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb iseq local variables 0x55 0x7fa2d1f8af05 vm c 725 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 name err local variables 0x78 0x7fa2d1e2f738 error c 1173 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call cfunc 0xf0 0x7fa2d1f880b0 vm insnhelper c 1638 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method each type 0x5e 0x7fa2d1f97a4e vm insnhelper c 2022 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method 0xe3 0x7fa2d1f97fc3 vm insnhelper c 2172 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec core 0x1228 0x7fa2d1f91398 insns def 995 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec 0x86 0x7fa2d1f95fd6 vm c 1645 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call0 body constprop 119 0x1ba 0x7fa2d1f9983a vm eval c 182 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb call0 0xc7 0x7fa2d1f99ec7 vm eval c 61 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb class new instance 0x21 0x7fa2d1e98fc1 object c 1856 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call cfunc 0xf0 0x7fa2d1f880b0 vm insnhelper c 1638 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method each type 0x5e 0x7fa2d1f97a4e vm insnhelper c 2022 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method 0xe3 0x7fa2d1f97fc3 vm insnhelper c 2172 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec core 0x1228 0x7fa2d1f91398 insns def 995 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec 0x86 0x7fa2d1f95fd6 vm c 1645 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call0 body constprop 119 0x1ba 0x7fa2d1f9983a vm eval c 182 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb call0 0xc7 0x7fa2d1f99ec7 vm eval c 61 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call cfunc 0xf0 0x7fa2d1f880b0 vm insnhelper c 1638 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method each type 0x5e 0x7fa2d1f97a4e vm insnhelper c 2022 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method 0xe3 0x7fa2d1f97fc3 vm insnhelper c 2172 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec core 0x1228 0x7fa2d1f91398 insns def 995 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec 0x86 0x7fa2d1f95fd6 vm c 1645 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 invoke block from c 0 0x2be 0x7fa2d1f96c7e vm c 916 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb yield 0x5c 0x7fa2d1f96eec vm c 983 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb ary collect 0x4d 0x7fa2d1de8bed array c 2733 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call cfunc 0xf0 0x7fa2d1f880b0 vm insnhelper c 1638 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method each type 0x5e 0x7fa2d1f97a4e vm insnhelper c 2022 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method 0xe3 0x7fa2d1f97fc3 vm insnhelper c 2172 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec core 0x115b 0x7fa2d1f912cb insns def 964 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec 0x86 0x7fa2d1f95fd6 vm c 1645 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call0 body constprop 119 0x1ba 0x7fa2d1f9983a vm eval c 182 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb call0 0xc7 0x7fa2d1f99ec7 vm eval c 61 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb funcall 0x104 0x7fa2d1f9a594 vm eval c 635 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb obj as string 0x28 0x7fa2d1f22d38 string c 1247 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb str format 0x342 0x7fa2d1f134d2 sprintf c 722 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb str format m 0x43 0x7fa2d1f1d3a3 string c 1722 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call cfunc 0xf0 0x7fa2d1f880b0 vm insnhelper c 1638 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method each type 0x5e 0x7fa2d1f97a4e vm insnhelper c 2022 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method 0xe3 0x7fa2d1f97fc3 vm insnhelper c 2172 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec core 0x44be 0x7fa2d1f9462e insns def 1588 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec 0x86 0x7fa2d1f95fd6 vm c 1645 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 invoke block from c 0 0x2be 0x7fa2d1f96c7e vm c 916 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb yield values2 0x43 0x7fa2d1f971a3 vm c 983 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 collect i 0xe 0x7fa2d1e25dae enum c 437 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm yield with cfunc 0x114 0x7fa2d1f8c9d4 vm insnhelper c 2334 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 invoke block from c 0 0x1f4 0x7fa2d1f96bb4 vm c 974 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb yield values 0x127 0x7fa2d1f97837 vm c 983 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm yield with cfunc 0x114 0x7fa2d1f8c9d4 vm insnhelper c 2334 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 invoke block from c 0 0x1f4 0x7fa2d1f96bb4 vm c 974 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb yield 0x5c 0x7fa2d1f96eec vm c 983 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb ary each 0x3d 0x7fa2d1de3bdd array c 1815 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call0 body constprop 119 0x280 0x7fa2d1f99900 vm eval c 131 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb call0 0xc7 0x7fa2d1f99ec7 vm eval c 61 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb iterate0 0xbd 0x7fa2d1f8a8cd vm eval c 1169 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb block call 0x2b 0x7fa2d1f8aa7b vm eval c 1232 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 enum each with index 0x44 0x7fa2d1e27c04 enum c 2081 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call0 body constprop 119 0x280 0x7fa2d1f99900 vm eval c 131 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb call0 0xc7 0x7fa2d1f99ec7 vm eval c 61 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb iterate0 0xbd 0x7fa2d1f8a8cd vm eval c 1169 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb block call 0x2b 0x7fa2d1f8aa7b vm eval c 1232 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call0 body constprop 119 0x280 0x7fa2d1f99900 vm eval c 131 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb call0 0xc7 0x7fa2d1f99ec7 vm eval c 61 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb iterate0 0xbd 0x7fa2d1f8a8cd vm eval c 1169 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb block call 0x2b 0x7fa2d1f8aa7b vm eval c 1232 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 enum collect 0x35 0x7fa2d1e27cd5 enum c 476 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call cfunc 0xf0 0x7fa2d1f880b0 vm insnhelper c 1638 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method each type 0x5e 0x7fa2d1f97a4e vm insnhelper c 2022 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method 0xe3 0x7fa2d1f97fc3 vm insnhelper c 2172 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec core 0x115b 0x7fa2d1f912cb insns def 964 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec 0x86 0x7fa2d1f95fd6 vm c 1645 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call0 body constprop 119 0x1ba 0x7fa2d1f9983a vm eval c 182 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb call0 0xc7 0x7fa2d1f99ec7 vm eval c 61 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm yield with cfunc 0x114 0x7fa2d1f8c9d4 vm insnhelper c 2334 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 invoke block from c 0 0x1f4 0x7fa2d1f96bb4 vm c 974 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb yield 0x5c 0x7fa2d1f96eec vm c 983 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb ary each 0x3d 0x7fa2d1de3bdd array c 1815 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call cfunc 0xf0 0x7fa2d1f880b0 vm insnhelper c 1638 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method each type 0x5e 0x7fa2d1f97a4e vm insnhelper c 2022 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm call method 0xe3 0x7fa2d1f97fc3 vm insnhelper c 2172 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec core 0x115b 0x7fa2d1f912cb insns def 964 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm exec 0x86 0x7fa2d1f95fd6 vm c 1645 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 invoke block from c 0 0x2be 0x7fa2d1f96c7e vm c 916 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 vm invoke proc 0xc3 0x7fa2d1f96d53 vm c 991 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb proc call 0x42 0x7fa2d1e41302 proc c 814 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 rb exec end proc 0x12e 0x7fa2d1e3b45e eval jump c 107 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 ruby finalize 0 0x83 0x7fa2d1e3b593 eval c 121 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 ruby cleanup 0x1fa 0x7fa2d1e3b93a eval c 180 home noeblack rvm rubies ruby 2 3 0 bin lib libruby so 2 3 ruby run node 0x25 0x7fa2d1e3bd95 eval c 301 home noeblack rvm rubies ruby 2 3 0 bin ruby main 0x4b 0x40085b main c 36 Other runtime information Loaded script home noeblack rvm gems ruby 2 3 0 bin rake Loaded features 0 enumerator so 1 thread rb 2 rational so 3 complex so 4 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc encdb so 5 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans transdb so 6 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 unicode normalize rb 7 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux rbconfig rb 8 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems compatibility rb 9 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems defaults rb 10 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems deprecate rb 11 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems errors rb 12 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems version rb 13 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems requirement rb 14 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems platform rb 15 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems basic specification rb 16 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems stub specification rb 17 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems util list rb 18 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux stringio so 19 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems specification rb 20 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems exceptions rb 21 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems core ext kernel gem rb 22 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 monitor rb 23 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems core ext kernel require rb 24 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems rb 25 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems path support rb 26 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems dependency rb 27 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean version rb 28 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean core ext name error rb 29 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean levenshtein rb 30 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean jaro winkler rb 31 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkable rb 32 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 delegate rb 33 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers class name checker rb 34 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers variable name checker rb 35 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers name error checkers rb 36 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers method name checker rb 37 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean spell checkers null checker rb 38 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean formatter rb 39 home noeblack rvm gems ruby 2 3 0 global gems did you mean 1 0 0 lib did you mean rb 40 home noeblack rvm gems ruby 2 3 0 global gems executable hooks 1 3 2 lib executable hooks hooks rb 41 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux etc so 42 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 fileutils rb 43 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux pathname so 44 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 pathname rb 45 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler errors rb 46 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler environment preserver rb 47 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux socket so 48 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io wait so 49 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 socket rb 50 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 timeout rb 51 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net protocol rb 52 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri rfc2396 parser rb 53 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri rfc3986 parser rb 54 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri common rb 55 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri generic rb 56 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri ftp rb 57 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri http rb 58 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri https rb 59 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri ldap rb 60 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri ldaps rb 61 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri mailto rb 62 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 uri rb 63 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux zlib so 64 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http exceptions rb 65 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http header rb 66 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc windows 31j so 67 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http generic request rb 68 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http request rb 69 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http requests rb 70 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http response rb 71 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http responses rb 72 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http proxy delta rb 73 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http backward rb 74 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net http rb 75 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux date core so 76 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 date rb 77 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 time rb 78 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io console so 79 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems user interaction rb 80 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems request http pool rb 81 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems request https pool rb 82 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems request connection pools rb 83 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems request rb 84 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 cgi core rb 85 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux cgi escape so 86 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 cgi util rb 87 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 cgi cookie rb 88 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 cgi rb 89 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems uri formatter rb 90 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest so 91 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 digest rb 92 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux openssl so 93 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl bn rb 94 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl pkey rb 95 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl cipher rb 96 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl config rb 97 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl digest rb 98 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl x509 rb 99 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl buffering rb 100 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io nonblock so 101 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl ssl rb 102 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 openssl rb 103 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 securerandom rb 104 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 resolv rb 105 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems remote fetcher rb 106 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler gem remote fetcher rb 107 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha1 so 108 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler plugin api source rb 109 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler plugin api rb 110 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler plugin rb 111 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems util rb 112 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems source git rb 113 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems source installed rb 114 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems source specific file rb 115 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems source local rb 116 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems source lock rb 117 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems source vendor rb 118 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems source rb 119 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler gem helpers rb 120 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler match platform rb 121 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler rubygems ext rb 122 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems config file rb 123 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler rubygems integration rb 124 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler version rb 125 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler constants rb 126 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler current ruby rb 127 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler rb 128 home noeblack rvm gems ruby 2 3 0 global gems bundler unload 1 0 2 lib bundler unload rb 129 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems ext build error rb 130 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems ext builder rb 131 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems ext configure builder rb 132 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 tmpdir rb 133 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 tempfile rb 134 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems ext ext conf builder rb 135 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems ext rake builder rb 136 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 optparse rb 137 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems command rb 138 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems ext cmake builder rb 139 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems ext rb 140 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler shared helpers rb 141 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler runtime rb 142 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler settings rb 143 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux strscan so 144 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler source rb 145 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler source path rb 146 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler source git rb 147 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems text rb 148 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems name tuple rb 149 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 rubygems spec fetcher rb 150 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler source rubygems rb 151 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler lockfile parser rb 152 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 set rb 153 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler definition rb 154 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler dependency rb 155 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler ruby dsl rb 156 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler dsl rb 157 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler source list rb 158 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler lazy specification rb 159 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 tsort rb 160 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 forwardable rb 161 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler spec set rb 162 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler gem version promoter rb 163 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler source gemspec rb 164 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler dep proxy rb 165 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler ui rb 166 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler ui silent rb 167 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler ui rg proxy rb 168 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler index rb 169 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler remote specification rb 170 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler stub specification rb 171 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler endpoint specification rb 172 home noeblack rvm gems ruby 2 3 0 global gems rubygems bundler 1 4 4 lib rubygems bundler noexec rb 173 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake version rb 174 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 singleton rb 175 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 ostruct rb 176 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake ext core rb 177 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake ext string rb 178 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake win32 rb 179 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake linked list rb 180 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake cpu counter rb 181 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake scope rb 182 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake task argument error rb 183 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake rule recursion overflow error rb 184 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake task manager rb 185 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake cloneable rb 186 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake file utils rb 187 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake file utils ext rb 188 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake file list rb 189 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake promise rb 190 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake thread pool rb 191 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake private reader rb 192 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake thread history display rb 193 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake trace output rb 194 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake application rb 195 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake rake module rb 196 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake pseudo status rb 197 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake task arguments rb 198 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake invocation chain rb 199 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake invocation exception mixin rb 200 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake task rb 201 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake early time rb 202 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake file task rb 203 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake file creation task rb 204 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake multi task rb 205 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake dsl definition rb 206 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake default loader rb 207 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake late time rb 208 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake name space rb 209 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake backtrace rb 210 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake rb 211 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler postit trampoline rb 212 home noeblack rvm gems ruby 2 3 0 gems bundler 1 13 6 lib bundler setup rb 213 home noeblack empresa config boot rb 214 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails ruby version check rb 215 home noeblack rvm gems ruby 2 3 0 gems thread safe 0 3 5 lib thread safe version rb 216 home noeblack rvm gems ruby 2 3 0 gems thread safe 0 3 5 lib thread safe synchronized delegator rb 217 home noeblack rvm gems ruby 2 3 0 gems thread safe 0 3 5 lib thread safe rb 218 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext array prepend and append rb 219 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash deep merge rb 220 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash except rb 221 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash slice rb 222 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n version rb 223 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n exceptions rb 224 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n interpolate ruby rb 225 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n rb 226 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support lazy load hooks rb 227 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n config rb 228 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support i18n rb 229 home noeblack rvm gems ruby 2 3 0 gems thread safe 0 3 5 lib thread safe non concurrent cache backend rb 230 home noeblack rvm gems ruby 2 3 0 gems thread safe 0 3 5 lib thread safe mri cache backend rb 231 home noeblack rvm gems ruby 2 3 0 gems thread safe 0 3 5 lib thread safe cache rb 232 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support inflector inflections rb 233 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support inflections rb 234 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support inflector methods rb 235 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support dependencies autoload rb 236 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support gem version rb 237 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support version rb 238 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext array extract options rb 239 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module attribute accessors rb 240 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support concern rb 241 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support logger silence rb 242 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 logger rb 243 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support logger rb 244 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support rb 245 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext kernel singleton class rb 246 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module delegation rb 247 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support deprecation instance delegator rb 248 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support notifications instrumenter rb 249 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 mutex m rb 250 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support notifications fanout rb 251 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support per thread registry rb 252 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support notifications rb 253 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support deprecation behaviors rb 254 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support deprecation reporting rb 255 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module aliasing rb 256 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support deprecation method wrappers rb 257 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support deprecation proxy wrappers rb 258 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module deprecation rb 259 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support deprecation rb 260 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext kernel reporting rb 261 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych exception rb 262 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych syntax error rb 263 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux psych so 264 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych omap rb 265 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych set rb 266 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych class loader rb 267 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych scalar scanner rb 268 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych nodes node rb 269 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych nodes stream rb 270 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych nodes document rb 271 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych nodes sequence rb 272 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych nodes scalar rb 273 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych nodes mapping rb 274 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych nodes alias rb 275 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych nodes rb 276 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych streaming rb 277 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych visitors visitor rb 278 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych visitors to ruby rb 279 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych visitors emitter rb 280 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych handler rb 281 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych tree builder rb 282 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych visitors yaml tree rb 283 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych json ruby events rb 284 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych visitors json tree rb 285 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych visitors depth first rb 286 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych visitors rb 287 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych parser rb 288 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych coder rb 289 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych core ext rb 290 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych deprecated rb 291 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych stream rb 292 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych json yaml events rb 293 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych json tree builder rb 294 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych json stream rb 295 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych handlers document stream rb 296 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 psych rb 297 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 yaml rb 298 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash keys rb 299 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object blank rb 300 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support key generator rb 301 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 base64 rb 302 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support security utils rb 303 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support message verifier rb 304 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails initializable rb 305 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support ordered options rb 306 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object acts like rb 307 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux bigdecimal so 308 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object duplicable rb 309 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object deep dup rb 310 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object itself rb 311 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object try rb 312 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object inclusion rb 313 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object to query rb 314 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object to param rb 315 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support multibyte rb 316 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string multibyte rb 317 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support inflector transliterate rb 318 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string inflections rb 319 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date time calculations rb 320 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support xml mini rexml rb 321 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support xml mini rb 322 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext array conversions rb 323 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext time acts like rb 324 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support duration rb 325 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo ruby core support rb 326 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo offset rationals rb 327 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo time or datetime rb 328 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone definition rb 329 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone offset rb 330 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone transition rb 331 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone transition definition rb 332 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone index definition rb 333 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone info rb 334 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo data timezone info rb 335 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo linked timezone info rb 336 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo transition data timezone info rb 337 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo zoneinfo timezone info rb 338 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo data source rb 339 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo ruby data source rb 340 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo zoneinfo data source rb 341 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone period rb 342 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone rb 343 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo info timezone rb 344 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo data timezone rb 345 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo linked timezone rb 346 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo timezone proxy rb 347 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo country index definition rb 348 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo country info rb 349 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo ruby country info rb 350 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo zoneinfo country info rb 351 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo country rb 352 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo country timezone rb 353 home noeblack rvm gems ruby 2 3 0 gems tzinfo 1 2 2 lib tzinfo rb 354 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support values time zone rb 355 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext time conversions rb 356 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support time with zone rb 357 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date and time zones rb 358 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext time zones rb 359 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date and time calculations rb 360 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date zones rb 361 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date calculations rb 362 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext time calculations rb 363 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext time marshal rb 364 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext time rb 365 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date acts like rb 366 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module remove method rb 367 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date conversions rb 368 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date rb 369 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date time acts like rb 370 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date time conversions rb 371 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date time zones rb 372 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext date time rb 373 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext numeric time rb 374 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext integer time rb 375 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string conversions rb 376 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string zones rb 377 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support time rb 378 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext array wrap rb 379 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash reverse merge rb 380 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash conversions rb 381 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object conversions rb 382 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object instance variables rb 383 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 json version rb 384 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 json generic object rb 385 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 json common rb 386 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16be so 387 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16le so 388 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32be so 389 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32le so 390 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext parser so 391 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext generator so 392 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 json ext rb 393 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 json rb 394 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 bigdecimal util rb 395 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext big decimal conversions rb 396 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object json rb 397 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support option merger rb 398 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object with options rb 399 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext object rb 400 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails paths rb 401 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails rack rb 402 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails configuration rb 403 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support inflector rb 404 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module introspection rb 405 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails railtie rb 406 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails engine railties rb 407 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails engine rb 408 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails application rb 409 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails gem version rb 410 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails version rb 411 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support file update checker rb 412 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails railtie configuration rb 413 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support i18n railtie rb 414 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support railtie rb 415 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext class attribute rb 416 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support rails rb 417 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action pack gem version rb 418 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action pack version rb 419 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action pack rb 420 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack multipart rb 421 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack utils rb 422 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack rb 423 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch rb 424 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch railtie rb 425 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails rb 426 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model gem version rb 427 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model version rb 428 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model rb 429 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel crud rb 430 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel factory methods rb 431 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel expressions rb 432 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel predications rb 433 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel window predications rb 434 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel math rb 435 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel alias predication rb 436 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel order predications rb 437 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel table rb 438 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel attributes attribute rb 439 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel attributes rb 440 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel compatibility wheres rb 441 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors visitor rb 442 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors depth first rb 443 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors reduce rb 444 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors to sql rb 445 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors sqlite rb 446 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors postgresql rb 447 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors mysql rb 448 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors mssql rb 449 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors oracle rb 450 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors where sql rb 451 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors dot rb 452 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors ibm db rb 453 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors informix rb 454 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors rb 455 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel collectors plain string rb 456 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel collectors sql string rb 457 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel tree manager rb 458 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel insert manager rb 459 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel select manager rb 460 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel update manager rb 461 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel delete manager rb 462 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes node rb 463 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes select statement rb 464 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes select core rb 465 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes insert statement rb 466 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes update statement rb 467 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes bind param rb 468 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes terminal rb 469 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes true rb 470 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes false rb 471 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes unary rb 472 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes grouping rb 473 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes ascending rb 474 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes descending rb 475 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes unqualified column rb 476 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes with rb 477 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes binary rb 478 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes equality rb 479 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes in rb 480 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes join source rb 481 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes delete statement rb 482 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes table alias rb 483 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes infix operation rb 484 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes over rb 485 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes matches rb 486 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes and rb 487 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes function rb 488 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes count rb 489 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes extract rb 490 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes values rb 491 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes named function rb 492 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes window rb 493 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes full outer join rb 494 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes inner join rb 495 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes outer join rb 496 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes right outer join rb 497 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes string join rb 498 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes sql literal rb 499 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel nodes rb 500 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel rb 501 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record gem version rb 502 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record version rb 503 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute rb 504 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute set builder rb 505 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute set rb 506 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext enumerable rb 507 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string filters rb 508 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model attribute methods rb 509 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods rb 510 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type decorator rb 511 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type mutable rb 512 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type numeric rb 513 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type time value rb 514 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type value rb 515 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type integer rb 516 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type big integer rb 517 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type binary rb 518 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type boolean rb 519 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type date rb 520 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type date time rb 521 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type decimal rb 522 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type decimal without scale rb 523 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type float rb 524 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type serialized rb 525 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type string rb 526 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type text rb 527 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type time rb 528 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type unsigned integer rb 529 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type type map rb 530 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type hash lookup type map rb 531 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record type rb 532 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 benchmark rb 533 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext benchmark rb 534 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters schema cache rb 535 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract schema dumper rb 536 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string strip rb 537 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract schema creation rb 538 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel collectors bind rb 539 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract quoting rb 540 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract database statements rb 541 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record errors rb 542 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record migration rb 543 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record migration join table rb 544 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string access rb 545 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract schema definitions rb 546 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract schema statements rb 547 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract database limits rb 548 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract query cache rb 549 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support descendants tracker rb 550 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support callbacks rb 551 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract adapter rb 552 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record scoping rb 553 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record rb 554 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model railtie rb 555 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module attr internal rb 556 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module anonymous rb 557 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller rb 558 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http filter redirect rb 559 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack request rb 560 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack body proxy rb 561 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack response rb 562 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http cache rb 563 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http response rb 564 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support json decoding rb 565 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support json encoding rb 566 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support json rb 567 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal live rb 568 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support hash with indifferent access rb 569 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash indifferent access rb 570 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support rescuable rb 571 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http upload rb 572 home noeblack rvm gems ruby 2 3 0 gems rack test 0 6 3 lib rack mock session rb 573 home noeblack rvm gems ruby 2 3 0 gems rack test 0 6 3 lib rack test cookie jar rb 574 home noeblack rvm gems ruby 2 3 0 gems rack test 0 6 3 lib rack test mock digest request rb 575 home noeblack rvm gems ruby 2 3 0 gems rack test 0 6 3 lib rack test utils rb 576 home noeblack rvm gems ruby 2 3 0 gems rack test 0 6 3 lib rack test methods rb 577 home noeblack rvm gems ruby 2 3 0 gems rack test 0 6 3 lib rack test uploaded file rb 578 home noeblack rvm gems ruby 2 3 0 gems rack test 0 6 3 lib rack test rb 579 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal strong parameters rb 580 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext load error rb 581 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext name error rb 582 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext uri rb 583 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller rb 584 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller railties routes helpers rb 585 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller railties helpers rb 586 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view gem version rb 587 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view version rb 588 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 erb rb 589 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string output safety rb 590 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view rb 591 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view railtie rb 592 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller railtie rb 593 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record railtie rb 594 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext array access rb 595 home noeblack rvm gems ruby 2 3 0 gems globalid 0 3 7 lib global id uri gid rb 596 home noeblack rvm gems ruby 2 3 0 gems globalid 0 3 7 lib global id global id rb 597 home noeblack rvm gems ruby 2 3 0 gems globalid 0 3 7 lib global id rb 598 home noeblack rvm gems ruby 2 3 0 gems globalid 0 3 7 lib global id railtie rb 599 home noeblack rvm gems ruby 2 3 0 gems activejob 4 2 6 lib active job gem version rb 600 home noeblack rvm gems ruby 2 3 0 gems activejob 4 2 6 lib active job version rb 601 home noeblack rvm gems ruby 2 3 0 gems activejob 4 2 6 lib active job rb 602 home noeblack rvm gems ruby 2 3 0 gems activejob 4 2 6 lib active job railtie rb 603 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer gem version rb 604 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer version rb 605 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext class delegating attributes rb 606 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module reachable rb 607 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext class subclasses rb 608 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext class rb 609 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer rb 610 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer railtie rb 611 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails test unit railtie rb 612 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext numeric bytes rb 613 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets version rb 614 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest md5 so 615 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha2 so 616 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 digest sha2 rb 617 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets digest utils rb 618 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets cache rb 619 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets asset rb 620 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets bower rb 621 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets utils rb 622 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets compressing rb 623 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets path utils rb 624 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets path digest utils rb 625 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets uri utils rb 626 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets dependencies rb 627 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets legacy tilt processor rb 628 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets engines rb 629 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets encoding utils rb 630 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets http utils rb 631 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets mime rb 632 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets paths rb 633 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets file reader rb 634 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets legacy proc processor rb 635 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets processor utils rb 636 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets processing rb 637 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets transformers rb 638 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets configuration rb 639 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets errors rb 640 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets path dependency utils rb 641 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets resolve rb 642 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets uri tar rb 643 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets unloaded asset rb 644 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets loader rb 645 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets server rb 646 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets base rb 647 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets cache memory store rb 648 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets cached environment rb 649 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets environment rb 650 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent version rb 651 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent constants rb 652 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent errors rb 653 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent utility engine rb 654 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization abstract object rb 655 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent utility native extension loader rb 656 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization mri object rb 657 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization jruby object rb 658 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization rbx object rb 659 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization truffle object rb 660 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization object rb 661 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization volatile rb 662 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization abstract lockable object rb 663 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization mri lockable object rb 664 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization jruby lockable object rb 665 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization rbx lockable object rb 666 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization truffle lockable object rb 667 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization lockable object rb 668 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization condition rb 669 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization lock rb 670 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization rb 671 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic event rb 672 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent concern dereferenceable rb 673 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent concern obligation rb 674 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent concern logging rb 675 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor executor service rb 676 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent utility at exit rb 677 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor abstract executor service rb 678 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor serial executor service rb 679 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor immediate executor rb 680 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent delay rb 681 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic reference concurrent update error rb 682 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic reference direct update rb 683 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic reference numeric cas wrapper rb 684 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic reference mutex atomic rb 685 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic reference ruby rb 686 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic atomic reference rb 687 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent utility processor counter rb 688 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent configuration rb 689 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic mutex atomic boolean rb 690 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic atomic boolean rb 691 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic mutex atomic fixnum rb 692 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic atomic fixnum rb 693 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic cyclic barrier rb 694 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic mutex count down latch rb 695 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic java count down latch rb 696 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic count down latch rb 697 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic read write lock rb 698 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic abstract thread local var rb 699 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic ruby thread local var rb 700 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic java thread local var rb 701 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic thread local var rb 702 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic reentrant read write lock rb 703 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic mutex semaphore rb 704 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomic semaphore rb 705 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atomics rb 706 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor ruby executor service rb 707 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent utility monotonic time rb 708 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor ruby thread pool executor rb 709 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor thread pool executor rb 710 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor cached thread pool rb 711 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor fixed thread pool rb 712 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor simple executor service rb 713 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor indirect immediate executor rb 714 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor java executor service rb 715 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor java single thread executor rb 716 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor java thread pool executor rb 717 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor ruby single thread executor rb 718 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor safe task executor rb 719 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor serialized execution rb 720 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor serialized execution delegator rb 721 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor single thread executor rb 722 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent collection copy on write observer set rb 723 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent collection copy on notify observer set rb 724 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent concern observable rb 725 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent ivar rb 726 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent options rb 727 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent scheduled task rb 728 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent collection java non concurrent priority queue rb 729 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent collection ruby non concurrent priority queue rb 730 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent collection non concurrent priority queue rb 731 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executor timer set rb 732 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent executors rb 733 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent agent rb 734 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent atom rb 735 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent thread safe util rb 736 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent array rb 737 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent hash rb 738 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent collection map non concurrent map backend rb 739 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent collection map mri map backend rb 740 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent map rb 741 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent tuple rb 742 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent async rb 743 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent future rb 744 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent dataflow rb 745 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent maybe rb 746 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent exchanger rb 747 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent synchronization abstract struct rb 748 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent immutable struct rb 749 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent mutable struct rb 750 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent mvar rb 751 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent promise rb 752 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent settable struct rb 753 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent timer task rb 754 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent tvar rb 755 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent thread safe synchronized delegator rb 756 home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 2 lib concurrent rb 757 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets manifest utils rb 758 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets utils gzip rb 759 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets manifest rb 760 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets deprecation rb 761 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets context rb 762 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 shellwords rb 763 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets directive processor rb 764 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets bundle rb 765 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets autoload rb 766 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets closure compressor rb 767 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets sass compressor rb 768 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets uglifier compressor rb 769 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets yui compressor rb 770 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets coffee script processor rb 771 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets eco processor rb 772 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets ejs processor rb 773 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets jst processor rb 774 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets sass processor rb 775 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets erb processor rb 776 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets legacy rb 777 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets rb 778 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support benchmarkable rb 779 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers active model helper rb 780 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers asset url helper rb 781 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers capture helper rb 782 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers output safety helper rb 783 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers tag helper rb 784 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers asset tag helper rb 785 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers atom feed helper rb 786 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers cache helper rb 787 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers controller helper rb 788 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers csrf helper rb 789 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers date helper rb 790 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers debug helper rb 791 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers javascript helper rb 792 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers url helper rb 793 home noeblack rvm gems ruby 2 3 0 gems rails html sanitizer 1 0 3 lib rails html sanitizer version rb 794 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri nokogiri so 795 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri version rb 796 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri syntax error rb 797 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml pp node rb 798 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml pp character data rb 799 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml pp rb 800 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml parse options rb 801 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml sax document rb 802 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml sax parser context rb 803 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml sax parser rb 804 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml sax push parser rb 805 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml sax rb 806 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml searchable rb 807 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml node save options rb 808 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml node rb 809 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml attribute decl rb 810 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml element decl rb 811 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml element content rb 812 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml character data rb 813 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml namespace rb 814 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml attr rb 815 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml dtd rb 816 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml cdata rb 817 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml text rb 818 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml document rb 819 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml document fragment rb 820 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml processing instruction rb 821 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml node set rb 822 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml syntax error rb 823 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml xpath syntax error rb 824 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml xpath rb 825 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml xpath context rb 826 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml builder rb 827 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml reader rb 828 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml notation rb 829 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml entity decl rb 830 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml schema rb 831 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml relax ng rb 832 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xml rb 833 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xslt stylesheet rb 834 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri xslt rb 835 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html entity lookup rb 836 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html document rb 837 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html document fragment rb 838 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html sax parser context rb 839 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html sax parser rb 840 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html sax push parser rb 841 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html element description rb 842 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html element description defaults rb 843 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html rb 844 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri decorators slop rb 845 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri css node rb 846 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri css xpath visitor rb 847 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux racc cparse so 848 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 racc parser rb 849 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri css parser extras rb 850 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri css parser rb 851 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri css tokenizer rb 852 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri css syntax error rb 853 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri css rb 854 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri html builder rb 855 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri rb 856 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah metahelpers rb 857 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah elements rb 858 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah html5 whitelist rb 859 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah html5 scrub rb 860 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah scrubber rb 861 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah scrubbers rb 862 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah instance methods rb 863 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah xml document rb 864 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah xml document fragment rb 865 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah html document rb 866 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah html document fragment rb 867 home noeblack rvm gems ruby 2 3 0 gems loofah 2 0 3 lib loofah rb 868 home noeblack rvm gems ruby 2 3 0 gems rails html sanitizer 1 0 3 lib rails html scrubbers rb 869 home noeblack rvm gems ruby 2 3 0 gems rails html sanitizer 1 0 3 lib rails html sanitizer rb 870 home noeblack rvm gems ruby 2 3 0 gems rails html sanitizer 1 0 3 lib rails html sanitizer rb 871 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers sanitize helper rb 872 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers text helper rb 873 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers form tag helper rb 874 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view model naming rb 875 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers form helper rb 876 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers form options helper rb 877 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support number helper rb 878 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers number helper rb 879 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module concerning rb 880 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module qualified const rb 881 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module rb 882 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view record identifier rb 883 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers record tag helper rb 884 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers rendering helper rb 885 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers translation helper rb 886 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers rb 887 home noeblack rvm gems ruby 2 3 0 gems sprockets rails 3 2 0 lib sprockets rails context rb 888 home noeblack rvm gems ruby 2 3 0 gems sprockets rails 3 2 0 lib sprockets rails utils rb 889 home noeblack rvm gems ruby 2 3 0 gems sprockets rails 3 2 0 lib sprockets rails helper rb 890 home noeblack rvm gems ruby 2 3 0 gems sprockets rails 3 2 0 lib sprockets rails quiet assets rb 891 home noeblack rvm gems ruby 2 3 0 gems sprockets rails 3 2 0 lib sprockets rails route wrapper rb 892 home noeblack rvm gems ruby 2 3 0 gems sprockets rails 3 2 0 lib sprockets rails version rb 893 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails engine configuration rb 894 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails source annotation extractor rb 895 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails application configuration rb 896 home noeblack rvm gems ruby 2 3 0 gems sprockets rails 3 2 0 lib sprockets railtie rb 897 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails all rb 898 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support string inquirer rb 899 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 sqlite3 native so 900 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 constants rb 901 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 errors rb 902 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 pragmas rb 903 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 resultset rb 904 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 statement rb 905 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 translator rb 906 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 value rb 907 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 database rb 908 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 version rb 909 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 rb 910 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails version rb 911 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass root rb 912 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass util subset map rb 913 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans utf 16 32 so 914 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass util multibyte string scanner rb 915 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass util normalized map rb 916 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass util cross platform random rb 917 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass util rb 918 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass version rb 919 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass logger log level rb 920 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass logger base rb 921 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass logger rb 922 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass cache stores base rb 923 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass cache stores filesystem rb 924 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass cache stores memory rb 925 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass cache stores chain rb 926 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass cache stores rb 927 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass source position rb 928 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass source range rb 929 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass source map rb 930 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree node rb 931 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree root node rb 932 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree rule node rb 933 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree comment node rb 934 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree prop node rb 935 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree directive node rb 936 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree media node rb 937 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree supports node rb 938 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree css import node rb 939 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree variable node rb 940 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree mixin def node rb 941 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree mixin node rb 942 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree trace node rb 943 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree content node rb 944 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree function node rb 945 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree return node rb 946 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree extend node rb 947 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree if node rb 948 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree while node rb 949 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree for node rb 950 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree each node rb 951 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree debug node rb 952 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree warn node rb 953 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree import node rb 954 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree charset node rb 955 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree at root node rb 956 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree keyframe rule node rb 957 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree error node rb 958 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors base rb 959 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors perform rb 960 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors cssize rb 961 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors extend rb 962 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors convert rb 963 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors to css rb 964 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors deep copy rb 965 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors set options rb 966 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass tree visitors check nesting rb 967 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass selector simple rb 968 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass selector abstract sequence rb 969 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass selector comma sequence rb 970 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass selector pseudo rb 971 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass selector sequence rb 972 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass selector simple sequence rb 973 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass selector rb 974 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass environment rb 975 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass scss rx rb 976 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value helpers rb 977 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script functions rb 978 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script lexer rb 979 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script css variable warning rb 980 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script parser rb 981 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree node rb 982 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree variable rb 983 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree funcall rb 984 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree operation rb 985 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree unary operation rb 986 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree interpolation rb 987 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree string interpolation rb 988 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree literal rb 989 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree list literal rb 990 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree map literal rb 991 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree selector rb 992 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script tree rb 993 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value base rb 994 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value string rb 995 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value number rb 996 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value color rb 997 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value bool rb 998 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value null rb 999 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value list rb 1000 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value arg list rb 1001 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value map rb 1002 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script value rb 1003 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script rb 1004 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass scss parser rb 1005 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script css lexer rb 1006 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass script css parser rb 1007 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass scss static parser rb 1008 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass scss css parser rb 1009 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass scss rb 1010 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass stack rb 1011 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass error rb 1012 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass importers base rb 1013 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass importers filesystem rb 1014 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass importers deprecated path rb 1015 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass importers rb 1016 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass shared rb 1017 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass media rb 1018 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass supports rb 1019 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass engine rb 1020 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass railtie rb 1021 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass features rb 1022 home noeblack rvm gems ruby 2 3 0 gems sass 3 4 22 lib sass rb 1023 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets sass functions rb 1024 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails helpers rb 1025 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets sass importer rb 1026 home noeblack rvm gems ruby 2 3 0 gems tilt 2 0 5 lib tilt dummy rb 1027 home noeblack rvm gems ruby 2 3 0 gems tilt 2 0 5 lib tilt mapping rb 1028 home noeblack rvm gems ruby 2 3 0 gems tilt 2 0 5 lib tilt template rb 1029 home noeblack rvm gems ruby 2 3 0 gems tilt 2 0 5 lib tilt rb 1030 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails importer rb 1031 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails cache store rb 1032 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails template rb 1033 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails logger rb 1034 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails railtie rb 1035 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails rb 1036 home noeblack rvm gems ruby 2 3 0 gems sass rails 5 0 6 lib sass rails rb 1037 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs version rb 1038 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs module rb 1039 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs encoding rb 1040 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs runtime rb 1041 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs disabled runtime rb 1042 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs duktape runtime rb 1043 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs external runtime rb 1044 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs ruby racer runtime rb 1045 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs ruby rhino runtime rb 1046 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs mini racer runtime rb 1047 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs runtimes rb 1048 home noeblack rvm gems ruby 2 3 0 gems execjs 2 7 0 lib execjs rb 1049 home noeblack rvm gems ruby 2 3 0 gems uglifier 3 0 3 lib uglifier version rb 1050 home noeblack rvm gems ruby 2 3 0 gems uglifier 3 0 3 lib uglifier rb 1051 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string starts ends with rb 1052 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support dependencies rb 1053 home noeblack rvm gems ruby 2 3 0 gems orm adapter 0 5 0 lib orm adapter base rb 1054 home noeblack rvm gems ruby 2 3 0 gems orm adapter 0 5 0 lib orm adapter to adapter rb 1055 home noeblack rvm gems ruby 2 3 0 gems orm adapter 0 5 0 lib orm adapter version rb 1056 home noeblack rvm gems ruby 2 3 0 gems orm adapter 0 5 0 lib orm adapter adapters active record rb 1057 home noeblack rvm gems ruby 2 3 0 gems orm adapter 0 5 0 lib orm adapter rb 1058 home noeblack rvm gems ruby 2 3 0 gems responders 2 3 0 lib responders controller method rb 1059 home noeblack rvm gems ruby 2 3 0 gems responders 2 3 0 lib responders rb 1060 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support ordered hash rb 1061 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise controllers sign in out rb 1062 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise controllers store location rb 1063 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise controllers helpers rb 1064 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden mixins common rb 1065 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden proxy rb 1066 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden hooks rb 1067 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden config rb 1068 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden manager rb 1069 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden errors rb 1070 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden session serializer rb 1071 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden strategies rb 1072 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden strategies base rb 1073 home noeblack rvm gems ruby 2 3 0 gems warden 1 2 6 lib warden rb 1074 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise mapping rb 1075 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise hooks activatable rb 1076 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise hooks csrf cleaner rb 1077 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models authenticatable rb 1078 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models rb 1079 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise modules rb 1080 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext regexp rb 1081 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing rb 1082 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey router utils rb 1083 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey router strexp rb 1084 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey routes rb 1085 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal exceptions rb 1086 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey formatter rb 1087 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey scanner rb 1088 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey visitors rb 1089 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey nodes node rb 1090 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey parser extras rb 1091 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey parser rb 1092 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey route rb 1093 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey path pattern rb 1094 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey router rb 1095 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey nfa dot rb 1096 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey gtg transition table rb 1097 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey gtg builder rb 1098 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey gtg simulator rb 1099 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey nfa transition table rb 1100 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey nfa builder rb 1101 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey nfa simulator rb 1102 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch journey rb 1103 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http headers rb 1104 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http mime negotiation rb 1105 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http parameters rb 1106 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http parameter filter rb 1107 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http filter parameters rb 1108 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http url rb 1109 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http request rb 1110 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing endpoint rb 1111 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller model naming rb 1112 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing polymorphic routes rb 1113 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing url for rb 1114 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing route set rb 1115 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing redirection rb 1116 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing mapper rb 1117 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise rails routes rb 1118 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack session abstract id rb 1119 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller helpers rb 1120 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller callbacks rb 1121 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware cookies rb 1122 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal request forgery protection rb 1123 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise rails warden compat rb 1124 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise rails rb 1125 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise rb 1126 home noeblack rvm gems ruby 2 3 0 gems font awesome rails 4 7 0 0 lib font awesome rails version rb 1127 home noeblack rvm gems ruby 2 3 0 gems font awesome rails 4 7 0 0 lib font awesome rails engine rb 1128 home noeblack rvm gems ruby 2 3 0 gems font awesome rails 4 7 0 0 lib font awesome rails rb 1129 home noeblack rvm gems ruby 2 3 0 gems omniauth 1 3 1 lib omniauth rb 1130 home noeblack rvm gems ruby 2 3 0 gems omniauth facebook 4 0 0 lib omniauth facebook version rb 1131 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 error rb 1132 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday utils rb 1133 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday options rb 1134 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday connection rb 1135 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday rack builder rb 1136 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday parameters rb 1137 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday middleware rb 1138 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday adapter rb 1139 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday request rb 1140 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday response rb 1141 home noeblack rvm gems ruby 2 3 0 gems multipart post 2 0 0 lib composite io rb 1142 home noeblack rvm gems ruby 2 3 0 gems multipart post 2 0 0 lib parts rb 1143 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday upload io rb 1144 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday error rb 1145 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday autoload rb 1146 home noeblack rvm gems ruby 2 3 0 gems faraday 0 9 2 lib faraday rb 1147 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 client rb 1148 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 strategy base rb 1149 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 strategy auth code rb 1150 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 strategy implicit rb 1151 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 strategy password rb 1152 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 strategy client credentials rb 1153 home noeblack rvm gems ruby 2 3 0 gems jwt 1 5 6 lib jwt json rb 1154 home noeblack rvm gems ruby 2 3 0 gems jwt 1 5 6 lib jwt error rb 1155 home noeblack rvm gems ruby 2 3 0 gems jwt 1 5 6 lib jwt verify rb 1156 home noeblack rvm gems ruby 2 3 0 gems jwt 1 5 6 lib jwt decode rb 1157 home noeblack rvm gems ruby 2 3 0 gems jwt 1 5 6 lib jwt rb 1158 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 strategy assertion rb 1159 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 access token rb 1160 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 mac token rb 1161 home noeblack rvm gems ruby 2 3 0 gems multi json 1 12 1 lib multi json options rb 1162 home noeblack rvm gems ruby 2 3 0 gems multi json 1 12 1 lib multi json version rb 1163 home noeblack rvm gems ruby 2 3 0 gems multi json 1 12 1 lib multi json adapter error rb 1164 home noeblack rvm gems ruby 2 3 0 gems multi json 1 12 1 lib multi json parse error rb 1165 home noeblack rvm gems ruby 2 3 0 gems multi json 1 12 1 lib multi json options cache rb 1166 home noeblack rvm gems ruby 2 3 0 gems multi json 1 12 1 lib multi json rb 1167 home noeblack rvm gems ruby 2 3 0 gems multi xml 0 5 5 lib multi xml rb 1168 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 response rb 1169 home noeblack rvm gems ruby 2 3 0 gems oauth2 1 2 0 lib oauth2 rb 1170 home noeblack rvm gems ruby 2 3 0 gems hashie 3 4 6 lib hashie extensions stringify keys rb 1171 home noeblack rvm gems ruby 2 3 0 gems hashie 3 4 6 lib hashie extensions pretty inspect rb 1172 home noeblack rvm gems ruby 2 3 0 gems hashie 3 4 6 lib hashie hash rb 1173 home noeblack rvm gems ruby 2 3 0 gems hashie 3 4 6 lib hashie extensions array pretty inspect rb 1174 home noeblack rvm gems ruby 2 3 0 gems hashie 3 4 6 lib hashie extensions ruby version check rb 1175 home noeblack rvm gems ruby 2 3 0 gems hashie 3 4 6 lib hashie array rb 1176 home noeblack rvm gems ruby 2 3 0 gems hashie 3 4 6 lib hashie mash rb 1177 home noeblack rvm gems ruby 2 3 0 gems omniauth 1 3 1 lib omniauth strategy rb 1178 home noeblack rvm gems ruby 2 3 0 gems omniauth 1 3 1 lib omniauth failure endpoint rb 1179 home noeblack rvm gems ruby 2 3 0 gems omniauth 1 3 1 lib omniauth form rb 1180 home noeblack rvm gems ruby 2 3 0 gems omniauth 1 3 1 lib omniauth auth hash rb 1181 home noeblack rvm gems ruby 2 3 0 gems omniauth oauth2 1 4 0 lib omniauth strategies oauth2 rb 1182 home noeblack rvm gems ruby 2 3 0 gems omniauth facebook 4 0 0 lib omniauth facebook signed request rb 1183 home noeblack rvm gems ruby 2 3 0 gems omniauth facebook 4 0 0 lib omniauth strategies facebook rb 1184 home noeblack rvm gems ruby 2 3 0 gems omniauth facebook 4 0 0 lib omniauth facebook rb 1185 home noeblack rvm gems ruby 2 3 0 gems omniauth facebook 4 0 0 lib omniauth facebook rb 1186 home noeblack rvm gems ruby 2 3 0 gems omniauth twitter 1 2 1 lib omniauth twitter version rb 1187 home noeblack rvm gems ruby 2 3 0 gems omniauth oauth 1 1 0 lib omniauth oauth version rb 1188 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth version rb 1189 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth oauth rb 1190 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth core ext rb 1191 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth client rb 1192 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net https rb 1193 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth helper rb 1194 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth request proxy rb 1195 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth request proxy base rb 1196 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth request proxy net http rb 1197 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth client net http rb 1198 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth errors error rb 1199 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth errors unauthorized rb 1200 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth errors problem rb 1201 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth errors rb 1202 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth consumer rb 1203 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth tokens token rb 1204 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth tokens server token rb 1205 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth tokens consumer token rb 1206 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth tokens request token rb 1207 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth tokens access token rb 1208 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth token rb 1209 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth signature rb 1210 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth signature base rb 1211 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth signature hmac sha1 rb 1212 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth client helper rb 1213 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth signature rsa sha1 rb 1214 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth request proxy mock request rb 1215 home noeblack rvm gems ruby 2 3 0 gems oauth 0 5 1 lib oauth rb 1216 home noeblack rvm gems ruby 2 3 0 gems omniauth oauth 1 1 0 lib omniauth strategies oauth rb 1217 home noeblack rvm gems ruby 2 3 0 gems omniauth oauth 1 1 0 lib omniauth oauth rb 1218 home noeblack rvm gems ruby 2 3 0 gems omniauth twitter 1 2 1 lib omniauth strategies twitter rb 1219 home noeblack rvm gems ruby 2 3 0 gems omniauth twitter 1 2 1 lib omniauth twitter rb 1220 home noeblack rvm gems ruby 2 3 0 gems coffee script source 1 10 0 lib coffee script source rb 1221 home noeblack rvm gems ruby 2 3 0 gems coffee script 2 4 1 lib coffee script rb 1222 home noeblack rvm gems ruby 2 3 0 gems coffee script 2 4 1 lib coffee script rb 1223 home noeblack rvm gems ruby 2 3 0 gems coffee rails 4 1 1 lib coffee rails engine rb 1224 home noeblack rvm gems ruby 2 3 0 gems coffee rails 4 1 1 lib coffee rails template handler rb 1225 home noeblack rvm gems ruby 2 3 0 gems coffee rails 4 1 1 lib coffee rails version rb 1226 home noeblack rvm gems ruby 2 3 0 gems coffee rails 4 1 1 lib coffee rails rb 1227 home noeblack rvm gems ruby 2 3 0 gems rails dom testing 1 0 7 lib rails dom testing assertions selector assertions count describable rb 1228 home noeblack rvm gems ruby 2 3 0 gems rails dom testing 1 0 7 lib rails dom testing assertions selector assertions substitution context rb 1229 home noeblack rvm gems ruby 2 3 0 gems rails dom testing 1 0 7 lib rails dom testing assertions selector assertions html selector rb 1230 home noeblack rvm gems ruby 2 3 0 gems rails dom testing 1 0 7 lib rails dom testing assertions selector assertions rb 1231 home noeblack rvm gems ruby 2 3 0 gems jquery rails 4 2 1 lib jquery assert select rb 1232 home noeblack rvm gems ruby 2 3 0 gems jquery rails 4 2 1 lib jquery rails engine rb 1233 home noeblack rvm gems ruby 2 3 0 gems jquery rails 4 2 1 lib jquery rails version rb 1234 home noeblack rvm gems ruby 2 3 0 gems jquery rails 4 2 1 lib jquery rails rb 1235 home noeblack rvm gems ruby 2 3 0 gems jquery rails 4 2 1 lib jquery rails rb 1236 home noeblack rvm gems ruby 2 3 0 gems bootstrap sass 3 0 2 1 lib bootstrap sass sass functions rb 1237 home noeblack rvm gems ruby 2 3 0 gems bootstrap sass 3 0 2 1 lib bootstrap sass engine rb 1238 home noeblack rvm gems ruby 2 3 0 gems bootstrap sass 3 0 2 1 lib bootstrap sass rb 1239 home noeblack rvm gems ruby 2 3 0 gems turbolinks 5 0 1 lib turbolinks version rb 1240 home noeblack rvm gems ruby 2 3 0 gems turbolinks 5 0 1 lib turbolinks redirection rb 1241 home noeblack rvm gems ruby 2 3 0 gems turbolinks source 5 0 0 lib turbolinks source version rb 1242 home noeblack rvm gems ruby 2 3 0 gems turbolinks source 5 0 0 lib turbolinks source rb 1243 home noeblack rvm gems ruby 2 3 0 gems turbolinks 5 0 1 lib turbolinks rb 1244 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support proxy object rb 1245 home noeblack rvm gems ruby 2 3 0 gems jbuilder 2 6 0 lib jbuilder jbuilder rb 1246 home noeblack rvm gems ruby 2 3 0 gems jbuilder 2 6 0 lib jbuilder blank rb 1247 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext array grouping rb 1248 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext array rb 1249 home noeblack rvm gems ruby 2 3 0 gems jbuilder 2 6 0 lib jbuilder key formatter rb 1250 home noeblack rvm gems ruby 2 3 0 gems jbuilder 2 6 0 lib jbuilder errors rb 1251 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http mime types rb 1252 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch http mime type rb 1253 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support cache rb 1254 home noeblack rvm gems ruby 2 3 0 gems jbuilder 2 6 0 lib jbuilder jbuilder template rb 1255 home noeblack rvm gems ruby 2 3 0 gems jbuilder 2 6 0 lib jbuilder railtie rb 1256 home noeblack rvm gems ruby 2 3 0 gems jbuilder 2 6 0 lib jbuilder rb 1257 home noeblack rvm gems ruby 2 3 0 gems byebug 9 0 6 lib byebug attacher rb 1258 home noeblack rvm gems ruby 2 3 0 gems byebug 9 0 6 lib byebug rb 1259 home noeblack empresa config application rb 1260 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake tasklib rb 1261 home noeblack rvm gems ruby 2 3 0 gems rake 11 3 0 lib rake testtask rb 1262 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails test unit sub test task rb 1263 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib rake sprocketstask rb 1264 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support subscriber rb 1265 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support log subscriber rb 1266 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view log subscriber rb 1267 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view context rb 1268 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view template handlers rb 1269 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis util rb 1270 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis generator rb 1271 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis converter rb 1272 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis error rb 1273 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis context rb 1274 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis evaluator rb 1275 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis engine rb 1276 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis helper rb 1277 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis enhancer rb 1278 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis engine eruby rb 1279 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis local setting rb 1280 home noeblack rvm gems ruby 2 3 0 gems erubis 2 7 0 lib erubis rb 1281 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view template handlers erb rb 1282 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view template handlers builder rb 1283 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view template handlers raw rb 1284 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view template rb 1285 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view template resolver rb 1286 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view lookup context rb 1287 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view template types rb 1288 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view base rb 1289 home noeblack rvm gems ruby 2 3 0 gems sprockets rails 3 2 0 lib sprockets rails task rb 1290 home noeblack rvm gems ruby 2 3 0 gems rdoc 4 3 0 lib rdoc rb 1291 home noeblack rvm gems ruby 2 3 0 gems rdoc 4 3 0 lib rdoc task rb 1292 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails api task rb 1293 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails tasks rb 1294 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails application bootstrap rb 1295 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails application finisher rb 1296 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails application routes reloader rb 1297 home noeblack empresa config environments test rb 1298 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash compact rb 1299 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash transform values rb 1300 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext hash rb 1301 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext kernel agnostics rb 1302 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext kernel concern rb 1303 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext kernel rb 1304 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext big decimal rb 1305 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext range conversions rb 1306 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext range include range rb 1307 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext range overlaps rb 1308 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext range each rb 1309 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext range rb 1310 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext struct rb 1311 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext thread rb 1312 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext file atomic rb 1313 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext file rb 1314 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext integer multiple rb 1315 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext integer inflections rb 1316 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext integer rb 1317 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext marshal rb 1318 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string behavior rb 1319 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string exclude rb 1320 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string inquiry rb 1321 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string indent rb 1322 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext string rb 1323 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext numeric conversions rb 1324 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext numeric rb 1325 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext rb 1326 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support all rb 1327 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support tagged logging rb 1328 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support cache file store rb 1329 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support cache strategy local cache rb 1330 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support cache strategy local cache middleware rb 1331 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch request utils rb 1332 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware exception wrapper rb 1333 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model secure password rb 1334 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal helpers rb 1335 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record log subscriber rb 1336 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record railties controller runtime rb 1337 home noeblack rvm gems ruby 2 3 0 gems globalid 0 3 7 lib global id signed global id rb 1338 home noeblack rvm gems ruby 2 3 0 gems responders 2 3 0 lib responders flash responder rb 1339 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view dependency tracker rb 1340 home noeblack rvm gems ruby 2 3 0 gems jbuilder 2 6 0 lib jbuilder dependency tracker rb 1341 home noeblack rvm gems ruby 2 3 0 gems omniauth 1 3 1 lib omniauth version rb 1342 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise omniauth rb 1343 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise omniauth url helpers rb 1344 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise omniauth config rb 1345 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute decorators rb 1346 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record explain registry rb 1347 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record explain subscriber rb 1348 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation delegation rb 1349 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attributes rb 1350 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model naming rb 1351 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection handling rb 1352 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record query cache rb 1353 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record querying rb 1354 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model translation rb 1355 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record translation rb 1356 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record dynamic matchers rb 1357 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record explain rb 1358 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record enum rb 1359 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record core rb 1360 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters connection specification rb 1361 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract connection pool rb 1362 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record persistence rb 1363 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record readonly attributes rb 1364 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record model schema rb 1365 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record inheritance rb 1366 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record scoping default rb 1367 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record scoping named rb 1368 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record sanitization rb 1369 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model forbidden attributes protection rb 1370 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute assignment rb 1371 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model conversion rb 1372 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record integration rb 1373 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validator rb 1374 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations with rb 1375 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations validates rb 1376 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations acceptance rb 1377 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations callbacks rb 1378 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations clusivity rb 1379 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations absence rb 1380 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations exclusion rb 1381 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations confirmation rb 1382 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations numericality rb 1383 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations presence rb 1384 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations length rb 1385 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations format rb 1386 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations inclusion rb 1387 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model validations rb 1388 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record validations associated rb 1389 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record validations uniqueness rb 1390 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record validations presence rb 1391 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record validations rb 1392 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model callbacks rb 1393 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record counter cache rb 1394 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record locking optimistic rb 1395 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record locking pessimistic rb 1396 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext module method transplanting rb 1397 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods read rb 1398 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods write rb 1399 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods before type cast rb 1400 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods query rb 1401 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods primary key rb 1402 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods time zone conversion rb 1403 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model dirty rb 1404 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods dirty rb 1405 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record timestamp rb 1406 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record attribute methods serialization rb 1407 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record callbacks rb 1408 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations rb 1409 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record autosave association rb 1410 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations builder association rb 1411 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record nested attributes rb 1412 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record aggregations rb 1413 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record transactions rb 1414 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record no touching rb 1415 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record reflection rb 1416 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model serialization rb 1417 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model serializers json rb 1418 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model serializers xml rb 1419 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record serializers xml serializer rb 1420 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record serialization rb 1421 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record store rb 1422 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters statement pool rb 1423 home noeblack rvm gems ruby 2 3 0 gems arel 6 0 3 lib arel visitors bind visitor rb 1424 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract savepoints rb 1425 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters sqlite3 adapter rb 1426 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record runtime registry rb 1427 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware reloader rb 1428 home noeblack rvm gems ruby 2 3 0 gems globalid 0 3 7 lib global id identification rb 1429 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record base rb 1430 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise orm active record rb 1431 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise controllers url helpers rb 1432 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise token generator rb 1433 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing routes proxy rb 1434 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails application default middleware stack rb 1435 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware stack rb 1436 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack mime rb 1437 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack file rb 1438 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack sendfile rb 1439 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware static rb 1440 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack lock rb 1441 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack runtime rb 1442 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack methodoverride rb 1443 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware request id rb 1444 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails rack logger rb 1445 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware show exceptions rb 1446 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware public exceptions rb 1447 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch routing inspector rb 1448 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware debug exceptions rb 1449 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 ipaddr rb 1450 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware remote ip rb 1451 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware callbacks rb 1452 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch request session rb 1453 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware session abstract store rb 1454 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack session cookie rb 1455 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware session cookie store rb 1456 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware flash rb 1457 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch middleware params parser rb 1458 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack head rb 1459 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack conditionalget rb 1460 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack etag rb 1461 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n backend rb 1462 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n core ext hash rb 1463 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n core ext kernel suppress warnings rb 1464 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n backend transliterator rb 1465 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n backend base rb 1466 home noeblack rvm gems ruby 2 3 0 gems i18n 0 7 0 lib i18n backend simple rb 1467 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 net smtp rb 1468 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime type rb 1469 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime types cache rb 1470 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime types container rb 1471 home noeblack rvm gems ruby 2 3 0 gems mime types data 3 2016 0521 lib mime types data rb 1472 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime types loader rb 1473 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime types logger rb 1474 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime type columnar rb 1475 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime types columnar rb 1476 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime types registry rb 1477 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime types rb 1478 home noeblack rvm gems ruby 2 3 0 gems mime types 3 1 lib mime types columnar rb 1479 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail version specific ruby 1 9 rb 1480 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail version rb 1481 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail core extensions string rb 1482 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail indifferent hash rb 1483 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail constants rb 1484 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail utilities rb 1485 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail configuration rb 1486 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail network retriever methods base rb 1487 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail network rb 1488 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail message rb 1489 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail part rb 1490 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail header rb 1491 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail parts list rb 1492 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail attachments list rb 1493 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail body rb 1494 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields rb 1495 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields common address container rb 1496 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields common common address rb 1497 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields common common field rb 1498 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields structured field rb 1499 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields to field rb 1500 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields cc field rb 1501 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields bcc field rb 1502 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields common common message id rb 1503 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields message id field rb 1504 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields in reply to field rb 1505 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields references field rb 1506 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields unstructured field rb 1507 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields subject field rb 1508 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields comments field rb 1509 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields keywords field rb 1510 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields common common date rb 1511 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields date field rb 1512 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields from field rb 1513 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields sender field rb 1514 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields reply to field rb 1515 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields resent date field rb 1516 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields resent from field rb 1517 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields resent sender field rb 1518 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields resent to field rb 1519 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields resent cc field rb 1520 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields resent bcc field rb 1521 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields resent message id field rb 1522 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields return path field rb 1523 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields received field rb 1524 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields mime version field rb 1525 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields content transfer encoding field rb 1526 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields content description field rb 1527 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields common parameter hash rb 1528 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields content disposition field rb 1529 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields content type field rb 1530 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields content id field rb 1531 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail fields content location field rb 1532 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail field rb 1533 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail field list rb 1534 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail envelope rb 1535 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail elements rb 1536 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail encodings rb 1537 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail encodings transfer encoding rb 1538 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail encodings binary rb 1539 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail encodings 8bit rb 1540 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail encodings 7bit rb 1541 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail encodings base64 rb 1542 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail encodings quoted printable rb 1543 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail encodings unix to unix rb 1544 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail matchers has sent mail rb 1545 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail matchers attachment matchers rb 1546 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail mail rb 1547 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail rb 1548 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller collector rb 1549 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer collector rb 1550 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer log subscriber rb 1551 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support configurable rb 1552 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller base rb 1553 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail check delivery params rb 1554 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail network delivery methods test mailer rb 1555 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer delivery methods rb 1556 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail network delivery methods smtp rb 1557 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail network delivery methods file delivery rb 1558 home noeblack rvm gems ruby 2 3 0 gems mail 2 6 4 lib mail network delivery methods sendmail rb 1559 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer preview rb 1560 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view view paths rb 1561 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller rendering rb 1562 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view path set rb 1563 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller logger rb 1564 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller translation rb 1565 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller asset paths rb 1566 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view rendering rb 1567 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view layouts rb 1568 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer mail helper rb 1569 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib abstract controller url for rb 1570 home noeblack rvm gems ruby 2 3 0 gems actionmailer 4 2 6 lib action mailer base rb 1571 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets cache file store rb 1572 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets autoload sass rb 1573 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal rb 1574 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal rack delegation rb 1575 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal url for rb 1576 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal redirecting rb 1577 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise failure app rb 1578 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation finder methods rb 1579 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation calculations rb 1580 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation merger rb 1581 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation spawn methods rb 1582 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation query methods rb 1583 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation batches rb 1584 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation rb 1585 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations collection proxy rb 1586 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record association relation rb 1587 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise strategies base rb 1588 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise strategies authenticatable rb 1589 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise strategies database authenticatable rb 1590 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt ext so 1591 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt error rb 1592 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt engine rb 1593 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt password rb 1594 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt rb 1595 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models database authenticatable rb 1596 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise strategies rememberable rb 1597 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise hooks rememberable rb 1598 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise hooks forgetable rb 1599 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models rememberable rb 1600 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models recoverable rb 1601 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models registerable rb 1602 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models validatable rb 1603 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise hooks trackable rb 1604 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models trackable rb 1605 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise models omniauthable rb 1606 home noeblack empresa app models usuario rb 1607 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise delegator rb 1608 home noeblack empresa config environment rb 1609 home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest parallel rb 1610 home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest assertions rb 1611 home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest unit rb 1612 home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest test rb 1613 home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest rb 1614 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing autorun rb 1615 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing tagged logging rb 1616 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing setup and teardown rb 1617 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing assertions rb 1618 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing deprecation rb 1619 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing declarative rb 1620 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing isolation rb 1621 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing constant lookup rb 1622 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support testing time helpers rb 1623 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support test case rb 1624 home noeblack rvm gems ruby 2 3 0 gems rails dom testing 1 0 7 lib rails dom testing assertions dom assertions rb 1625 home noeblack rvm gems ruby 2 3 0 gems rails deprecated sanitizer 1 0 3 lib rails deprecated sanitizer html scanner rb 1626 home noeblack rvm gems ruby 2 3 0 gems rails dom testing 1 0 7 lib rails dom testing assertions tag assertions rb 1627 home noeblack rvm gems ruby 2 3 0 gems rails dom testing 1 0 7 lib rails dom testing assertions rb 1628 home noeblack rvm gems ruby 2 3 0 gems rails dom testing 1 0 7 lib rails dom testing rb 1629 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack lint rb 1630 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack mock rb 1631 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch testing test request rb 1632 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch testing test response rb 1633 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch testing test process rb 1634 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch testing assertions response rb 1635 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch testing assertions routing rb 1636 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch testing assertions rb 1637 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller test case rb 1638 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action dispatch testing integration rb 1639 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor command rb 1640 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor core ext hash with indifferent access rb 1641 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor core ext ordered hash rb 1642 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor error rb 1643 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor invocation rb 1644 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor parser argument rb 1645 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor parser arguments rb 1646 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor parser option rb 1647 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor parser options rb 1648 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor parser rb 1649 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor shell rb 1650 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor line editor basic rb 1651 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux readline so 1652 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor line editor readline rb 1653 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor line editor rb 1654 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor util rb 1655 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor base rb 1656 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor group rb 1657 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails generators rb 1658 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails generators testing behaviour rb 1659 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails generators testing setup and teardown rb 1660 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails generators testing assertions rb 1661 home noeblack rvm gems ruby 2 3 0 gems thor 0 19 1 lib thor shell basic rb 1662 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails generators test case rb 1663 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support backtrace cleaner rb 1664 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails backtrace cleaner rb 1665 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters abstract transaction rb 1666 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record schema migration rb 1667 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record result rb 1668 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record connection adapters column rb 1669 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record legacy yaml adapter rb 1670 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations preloader rb 1671 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support core ext digest uuid rb 1672 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record fixture set file rb 1673 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record fixtures rb 1674 home noeblack rvm gems ruby 2 3 0 gems railties 4 2 6 lib rails test help rb 1675 home noeblack empresa test test helper rb 1676 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 lib devise test helpers rb 1677 home noeblack empresa test controllers posts controller test rb 1678 home noeblack empresa test controllers welcome controller test rb 1679 home noeblack empresa test models post test rb 1680 home noeblack empresa test models usuario test rb 1681 home noeblack rvm gems ruby 2 3 0 gems minitest 5 9 1 lib minitest pride plugin rb 1682 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations builder singular association rb 1683 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations builder belongs to rb 1684 home noeblack empresa app models post rb 1685 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support multibyte chars rb 1686 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller log subscriber rb 1687 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal params wrapper rb 1688 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal hide actions rb 1689 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal rendering rb 1690 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal renderers rb 1691 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal head rb 1692 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal conditional get rb 1693 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal etag with template digest rb 1694 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller caching fragments rb 1695 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller caching rb 1696 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal mime responds rb 1697 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal implicit render rb 1698 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal cookies rb 1699 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal flash rb 1700 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal force ssl rb 1701 home noeblack rvm gems ruby 2 3 0 gems rack 1 6 5 lib rack chunked rb 1702 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal streaming rb 1703 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal data streaming rb 1704 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal http authentication rb 1705 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal rescue rb 1706 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal instrumentation rb 1707 home noeblack rvm gems ruby 2 3 0 gems responders 2 3 0 lib action controller respond with rb 1708 home noeblack rvm gems ruby 2 3 0 gems responders 2 3 0 lib action controller responder rb 1709 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view routing url for rb 1710 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller base rb 1711 home noeblack empresa app helpers application helper rb 1712 home noeblack empresa app helpers posts helper rb 1713 home noeblack empresa app helpers welcome helper rb 1714 home noeblack rvm gems ruby 2 3 0 gems font awesome rails 4 7 0 0 app helpers font awesome rails icon helper rb 1715 home noeblack rvm gems ruby 2 3 0 gems devise 3 4 1 app helpers devise helper rb 1716 home noeblack empresa app controllers application controller rb 1717 home noeblack empresa app controllers posts controller rb 1718 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation predicate builder relation handler rb 1719 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation predicate builder array handler rb 1720 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record relation predicate builder rb 1721 home noeblack rvm gems ruby 2 3 0 gems actionpack 4 2 6 lib action controller metal testing rb 1722 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view renderer renderer rb 1723 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view flows rb 1724 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view renderer abstract renderer rb 1725 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view renderer template renderer rb 1726 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view buffers rb 1727 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations association rb 1728 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations singular association rb 1729 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record associations belongs to association rb 1730 home noeblack rvm gems ruby 2 3 0 gems sprockets 3 7 0 lib sprockets autoload coffee script rb 1731 home noeblack rvm gems ruby 2 3 0 gems activesupport 4 2 6 lib active support message encryptor rb 1732 home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 6 lib active record statement cache rb 1733 home noeblack rvm gems ruby 2 3 0 gems activemodel 4 2 6 lib active model errors rb 1734 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view renderer partial renderer rb 1735 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers tags rb 1736 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers tags base rb 1737 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers tags label rb 1738 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers tags translator rb 1739 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers tags placeholderable rb 1740 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers tags text field rb 1741 home noeblack rvm gems ruby 2 3 0 gems actionview 4 2 6 lib action view helpers tags text area rb 1742 home noeblack empresa app controllers welcome controller rb Process memory map 00400000 00401000 r xp 00000000 08 01 3942739 home noeblack rvm rubies ruby 2 3 0 bin ruby 00600000 00601000 r p 00000000 08 01 3942739 home noeblack rvm rubies ruby 2 3 0 bin ruby 00601000 00602000 rw p 00001000 08 01 3942739 home noeblack rvm rubies ruby 2 3 0 bin ruby 00ee4000 06e0a000 rw p 00000000 00 00 0 heap 7fa2bc000000 7fa2bc021000 rw p 00000000 00 00 0 7fa2bc021000 7fa2c0000000 p 00000000 00 00 0 7fa2c4000000 7fa2c4021000 rw p 00000000 00 00 0 7fa2c4021000 7fa2c8000000 p 00000000 00 00 0 7fa2c97c1000 7fa2c9989000 r s 00000000 08 01 3674662 lib x86 64 linux gnu libc 2 23 so 7fa2c9989000 7fa2ca75f000 r s 00000000 08 01 3944324 home noeblack rvm rubies ruby 2 3 0 lib libruby so 2 3 0 7fa2ca75f000 7fa2ca783000 r s 00000000 08 01 3942739 home noeblack rvm rubies ruby 2 3 0 bin ruby 7fa2ca783000 7fa2ca799000 r xp 00000000 08 01 3674682 lib x86 64 linux gnu libgcc s so 1 7fa2ca799000 7fa2ca998000 p 00016000 08 01 3674682 lib x86 64 linux gnu libgcc s so 1 7fa2ca998000 7fa2ca999000 rw p 00015000 08 01 3674682 lib x86 64 linux gnu libgcc s so 1 7fa2ca999000 7fa2ca9fd000 rw p 00000000 00 00 0 7fa2ca9fd000 7fa2caa66000 rw p 00000000 00 00 0 7fa2caa87000 7fa2caacd000 rw p 00000000 00 00 0 7fa2caacd000 7fa2caace000 p 00000000 00 00 0 7fa2caace000 7fa2caccf000 rw p 00000000 00 00 0 7fa2caccf000 7fa2cacd0000 p 00000000 00 00 0 7fa2cacd0000 7fa2caed1000 rw p 00000000 00 00 0 7fa2caed1000 7fa2caef6000 r xp 00000000 08 01 3674816 lib x86 64 linux gnu libtinfo so 5 9 7fa2caef6000 7fa2cb0f5000 p 00025000 08 01 3674816 lib x86 64 linux gnu libtinfo so 5 9 7fa2cb0f5000 7fa2cb0f9000 r p 00024000 08 01 3674816 lib x86 64 linux gnu libtinfo so 5 9 7fa2cb0f9000 7fa2cb0fa000 rw p 00028000 08 01 3674816 lib x86 64 linux gnu libtinfo so 5 9 7fa2cb0fa000 7fa2cb137000 r xp 00000000 08 01 3674795 lib x86 64 linux gnu libreadline so 6 3 7fa2cb137000 7fa2cb337000 p 0003d000 08 01 3674795 lib x86 64 linux gnu libreadline so 6 3 7fa2cb337000 7fa2cb339000 r p 0003d000 08 01 3674795 lib x86 64 linux gnu libreadline so 6 3 7fa2cb339000 7fa2cb33f000 rw p 0003f000 08 01 3674795 lib x86 64 linux gnu libreadline so 6 3 7fa2cb33f000 7fa2cb340000 rw p 00000000 00 00 0 7fa2cb340000 7fa2cb347000 r xp 00000000 08 01 3943978 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux readline so 7fa2cb347000 7fa2cb547000 p 00007000 08 01 3943978 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux readline so 7fa2cb547000 7fa2cb548000 r p 00007000 08 01 3943978 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux readline so 7fa2cb548000 7fa2cb549000 rw p 00008000 08 01 3943978 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux readline so 7fa2cb549000 7fa2cb54f000 r xp 00000000 08 01 3947028 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt ext so 7fa2cb54f000 7fa2cb74f000 p 00006000 08 01 3947028 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt ext so 7fa2cb74f000 7fa2cb750000 r p 00006000 08 01 3947028 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt ext so 7fa2cb750000 7fa2cb751000 rw p 00007000 08 01 3947028 home noeblack rvm gems ruby 2 3 0 gems bcrypt 3 1 11 lib bcrypt ext so 7fa2cb751000 7fa2cb754000 r xp 00000000 08 01 3944027 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans utf 16 32 so 7fa2cb754000 7fa2cb954000 p 00003000 08 01 3944027 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans utf 16 32 so 7fa2cb954000 7fa2cb955000 r p 00003000 08 01 3944027 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans utf 16 32 so 7fa2cb955000 7fa2cb956000 rw p 00004000 08 01 3944027 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans utf 16 32 so 7fa2cb956000 7fa2cba25000 r xp 00000000 08 01 4073160 usr lib x86 64 linux gnu libsqlite3 so 0 8 6 7fa2cba25000 7fa2cbc25000 p 000cf000 08 01 4073160 usr lib x86 64 linux gnu libsqlite3 so 0 8 6 7fa2cbc25000 7fa2cbc28000 r p 000cf000 08 01 4073160 usr lib x86 64 linux gnu libsqlite3 so 0 8 6 7fa2cbc28000 7fa2cbc2a000 rw p 000d2000 08 01 4073160 usr lib x86 64 linux gnu libsqlite3 so 0 8 6 7fa2cbc2a000 7fa2cbc2b000 rw p 00000000 00 00 0 7fa2cbc2b000 7fa2cbc34000 r xp 00000000 08 01 1968923 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 sqlite3 native so 7fa2cbc34000 7fa2cbe33000 p 00009000 08 01 1968923 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 sqlite3 native so 7fa2cbe33000 7fa2cbe34000 r p 00008000 08 01 1968923 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 sqlite3 native so 7fa2cbe34000 7fa2cbe35000 rw p 00009000 08 01 1968923 home noeblack rvm gems ruby 2 3 0 gems sqlite3 1 3 12 lib sqlite3 sqlite3 native so 7fa2cbe35000 7fa2cbe4c000 r xp 00000000 08 01 4332431 usr lib x86 64 linux gnu gconv CP932 so 7fa2cbe4c000 7fa2cc04b000 p 00017000 08 01 4332431 usr lib x86 64 linux gnu gconv CP932 so 7fa2cc04b000 7fa2cc04c000 r p 00016000 08 01 4332431 usr lib x86 64 linux gnu gconv CP932 so 7fa2cc04c000 7fa2cc04d000 rw p 00017000 08 01 4332431 usr lib x86 64 linux gnu gconv CP932 so 7fa2cc04d000 7fa2cc051000 r xp 00000000 08 01 3944040 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux racc cparse so 7fa2cc051000 7fa2cc250000 p 00004000 08 01 3944040 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux racc cparse so 7fa2cc250000 7fa2cc251000 r p 00003000 08 01 3944040 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux racc cparse so 7fa2cc251000 7fa2cc252000 rw p 00004000 08 01 3944040 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux racc cparse so 7fa2cc252000 7fa2cc47e000 r xp 00000000 08 01 4202786 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri nokogiri so 7fa2cc47e000 7fa2cc67d000 p 0022c000 08 01 4202786 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri nokogiri so 7fa2cc67d000 7fa2cc685000 r p 0022b000 08 01 4202786 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri nokogiri so 7fa2cc685000 7fa2cc68a000 rw p 00233000 08 01 4202786 home noeblack rvm gems ruby 2 3 0 gems nokogiri 1 6 8 1 lib nokogiri nokogiri so 7fa2cc68a000 7fa2cc68c000 rw p 00000000 00 00 0 7fa2cc68c000 7fa2cc68d000 r xp 00000000 08 01 3944067 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha2 so 7fa2cc68d000 7fa2cc88d000 p 00001000 08 01 3944067 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha2 so 7fa2cc88d000 7fa2cc88e000 r p 00001000 08 01 3944067 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha2 so 7fa2cc88e000 7fa2cc88f000 rw p 00002000 08 01 3944067 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha2 so 7fa2cc88f000 7fa2cc890000 r xp 00000000 08 01 3944068 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest md5 so 7fa2cc890000 7fa2cca8f000 p 00001000 08 01 3944068 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest md5 so 7fa2cca8f000 7fa2cca90000 r p 00000000 08 01 3944068 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest md5 so 7fa2cca90000 7fa2cca91000 rw p 00001000 08 01 3944068 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest md5 so 7fa2cca91000 7fa2cca9b000 r xp 00000000 08 01 3944056 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext generator so 7fa2cca9b000 7fa2ccc9a000 p 0000a000 08 01 3944056 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext generator so 7fa2ccc9a000 7fa2ccc9b000 r p 00009000 08 01 3944056 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext generator so 7fa2ccc9b000 7fa2ccc9c000 rw p 0000a000 08 01 3944056 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext generator so 7fa2ccc9c000 7fa2ccc9d000 r xp 00000000 08 01 3943987 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32le so 7fa2ccc9d000 7fa2cce9d000 p 00001000 08 01 3943987 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32le so 7fa2cce9d000 7fa2cce9e000 r p 00001000 08 01 3943987 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32le so 7fa2cce9e000 7fa2cce9f000 rw p 00002000 08 01 3943987 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32le so 7fa2cce9f000 7fa2ccea0000 r xp 00000000 08 01 3944011 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32be so 7fa2ccea0000 7fa2cd0a0000 p 00001000 08 01 3944011 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32be so 7fa2cd0a0000 7fa2cd0a1000 r p 00001000 08 01 3944011 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32be so 7fa2cd0a1000 7fa2cd0a2000 rw p 00002000 08 01 3944011 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 32be so 7fa2cd0a2000 7fa2cd0a3000 r xp 00000000 08 01 3943984 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16le so 7fa2cd0a3000 7fa2cd2a3000 p 00001000 08 01 3943984 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16le so 7fa2cd2a3000 7fa2cd2a4000 r p 00001000 08 01 3943984 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16le so 7fa2cd2a4000 7fa2cd2a5000 rw p 00002000 08 01 3943984 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16le so 7fa2cd2a5000 7fa2cd2a6000 r xp 00000000 08 01 3943994 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16be so 7fa2cd2a6000 7fa2cd4a6000 p 00001000 08 01 3943994 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16be so 7fa2cd4a6000 7fa2cd4a7000 r p 00001000 08 01 3943994 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16be so 7fa2cd4a7000 7fa2cd4a8000 rw p 00002000 08 01 3943994 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc utf 16be so 7fa2cd4a8000 7fa2cd4ae000 r xp 00000000 08 01 3944057 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext parser so 7fa2cd4ae000 7fa2cd6ad000 p 00006000 08 01 3944057 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext parser so 7fa2cd6ad000 7fa2cd6ae000 r p 00005000 08 01 3944057 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext parser so 7fa2cd6ae000 7fa2cd6af000 rw p 00006000 08 01 3944057 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux json ext parser so 7fa2cd6af000 7fa2cd6c3000 r xp 00000000 08 01 3944083 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux bigdecimal so 7fa2cd6c3000 7fa2cd8c2000 p 00014000 08 01 3944083 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux bigdecimal so 7fa2cd8c2000 7fa2cd8c3000 r p 00013000 08 01 3944083 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux bigdecimal so 7fa2cd8c3000 7fa2cd8c4000 rw p 00014000 08 01 3944083 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux bigdecimal so 7fa2cd8c4000 7fa2cd8e1000 r xp 00000000 08 01 4073429 usr lib x86 64 linux gnu libyaml 0 so 2 0 4 7fa2cd8e1000 7fa2cdae1000 p 0001d000 08 01 4073429 usr lib x86 64 linux gnu libyaml 0 so 2 0 4 7fa2cdae1000 7fa2cdae2000 r p 0001d000 08 01 4073429 usr lib x86 64 linux gnu libyaml 0 so 2 0 4 7fa2cdae2000 7fa2cdae3000 rw p 0001e000 08 01 4073429 usr lib x86 64 linux gnu libyaml 0 so 2 0 4 7fa2cdae3000 7fa2cdae9000 r xp 00000000 08 01 3944041 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux psych so 7fa2cdae9000 7fa2cdce8000 p 00006000 08 01 3944041 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux psych so 7fa2cdce8000 7fa2cdce9000 r p 00005000 08 01 3944041 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux psych so 7fa2cdce9000 7fa2cdcea000 rw p 00006000 08 01 3944041 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux psych so 7fa2cdcea000 7fa2cdcf0000 r xp 00000000 08 01 3944046 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux strscan so 7fa2cdcf0000 7fa2cdeef000 p 00006000 08 01 3944046 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux strscan so 7fa2cdeef000 7fa2cdef0000 r p 00005000 08 01 3944046 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux strscan so 7fa2cdef0000 7fa2cdef1000 rw p 00006000 08 01 3944046 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux strscan so 7fa2cdef1000 7fa2cdef2000 r xp 00000000 08 01 3944065 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha1 so 7fa2cdef2000 7fa2ce0f1000 p 00001000 08 01 3944065 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha1 so 7fa2ce0f1000 7fa2ce0f2000 r p 00000000 08 01 3944065 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha1 so 7fa2ce0f2000 7fa2ce0f3000 rw p 00001000 08 01 3944065 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest sha1 so 7fa2ce0f3000 7fa2ce0f4000 r xp 00000000 08 01 3944075 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io nonblock so 7fa2ce0f4000 7fa2ce2f4000 p 00001000 08 01 3944075 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io nonblock so 7fa2ce2f4000 7fa2ce2f5000 r p 00001000 08 01 3944075 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io nonblock so 7fa2ce2f5000 7fa2ce2f6000 rw p 00002000 08 01 3944075 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io nonblock so 7fa2ce2f6000 7fa2ce2fa000 r xp 00000000 08 01 3944070 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest so 7fa2ce2fa000 7fa2ce4f9000 p 00004000 08 01 3944070 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest so 7fa2ce4f9000 7fa2ce4fa000 r p 00003000 08 01 3944070 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest so 7fa2ce4fa000 7fa2ce4fb000 rw p 00004000 08 01 3944070 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux digest so 7fa2ce4fb000 7fa2ce715000 r xp 00000000 08 01 3674552 lib x86 64 linux gnu libcrypto so 1 0 0 7fa2ce715000 7fa2ce914000 p 0021a000 08 01 3674552 lib x86 64 linux gnu libcrypto so 1 0 0 7fa2ce914000 7fa2ce930000 r p 00219000 08 01 3674552 lib x86 64 linux gnu libcrypto so 1 0 0 7fa2ce930000 7fa2ce93c000 rw p 00235000 08 01 3674552 lib x86 64 linux gnu libcrypto so 1 0 0 7fa2ce93c000 7fa2ce93f000 rw p 00000000 00 00 0 7fa2ce93f000 7fa2ce99d000 r xp 00000000 08 01 3674554 lib x86 64 linux gnu libssl so 1 0 0 7fa2ce99d000 7fa2ceb9d000 p 0005e000 08 01 3674554 lib x86 64 linux gnu libssl so 1 0 0 7fa2ceb9d000 7fa2ceba1000 r p 0005e000 08 01 3674554 lib x86 64 linux gnu libssl so 1 0 0 7fa2ceba1000 7fa2ceba8000 rw p 00062000 08 01 3674554 lib x86 64 linux gnu libssl so 1 0 0 7fa2ceba8000 7fa2cebfa000 r xp 00000000 08 01 3944085 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux openssl so 7fa2cebfa000 7fa2cedf9000 p 00052000 08 01 3944085 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux openssl so 7fa2cedf9000 7fa2cedfb000 r p 00051000 08 01 3944085 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux openssl so 7fa2cedfb000 7fa2cedfd000 rw p 00053000 08 01 3944085 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux openssl so 7fa2cedfd000 7fa2cedfe000 rw p 00000000 00 00 0 7fa2cedfe000 7fa2cedff000 r xp 00000000 08 01 3944079 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux cgi escape so 7fa2cedff000 7fa2cefff000 p 00001000 08 01 3944079 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux cgi escape so 7fa2cefff000 7fa2cf000000 r p 00001000 08 01 3944079 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux cgi escape so 7fa2cf000000 7fa2cf001000 rw p 00002000 08 01 3944079 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux cgi escape so 7fa2cf001000 7fa2cf005000 r xp 00000000 08 01 3944074 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io console so 7fa2cf005000 7fa2cf205000 p 00004000 08 01 3944074 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io console so 7fa2cf205000 7fa2cf206000 r p 00004000 08 01 3944074 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io console so 7fa2cf206000 7fa2cf207000 rw p 00005000 08 01 3944074 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io console so 7fa2cf207000 7fa2cf23a000 r xp 00000000 08 01 3944051 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux date core so 7fa2cf23a000 7fa2cf43a000 p 00033000 08 01 3944051 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux date core so 7fa2cf43a000 7fa2cf43b000 r p 00033000 08 01 3944051 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux date core so 7fa2cf43b000 7fa2cf43c000 rw p 00034000 08 01 3944051 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux date core so 7fa2cf43c000 7fa2cf43d000 rw p 00000000 00 00 0 7fa2cf43d000 7fa2cf440000 r xp 00000000 08 01 3943990 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc windows 31j so 7fa2cf440000 7fa2cf63f000 p 00003000 08 01 3943990 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc windows 31j so 7fa2cf63f000 7fa2cf640000 r p 00002000 08 01 3943990 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc windows 31j so 7fa2cf640000 7fa2cf641000 rw p 00003000 08 01 3943990 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc windows 31j so 7fa2cf641000 7fa2cf65a000 r xp 00000000 08 01 3674835 lib x86 64 linux gnu libz so 1 2 8 7fa2cf65a000 7fa2cf859000 p 00019000 08 01 3674835 lib x86 64 linux gnu libz so 1 2 8 7fa2cf859000 7fa2cf85a000 r p 00018000 08 01 3674835 lib x86 64 linux gnu libz so 1 2 8 7fa2cf85a000 7fa2cf85b000 rw p 00019000 08 01 3674835 lib x86 64 linux gnu libz so 1 2 8 7fa2cf85b000 7fa2cf86b000 r xp 00000000 08 01 3944061 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux zlib so 7fa2cf86b000 7fa2cfa6a000 p 00010000 08 01 3944061 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux zlib so 7fa2cfa6a000 7fa2cfa6b000 r p 0000f000 08 01 3944061 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux zlib so 7fa2cfa6b000 7fa2cfa6c000 rw p 00010000 08 01 3944061 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux zlib so 7fa2cfa6c000 7fa2cfa6d000 r xp 00000000 08 01 3944076 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io wait so 7fa2cfa6d000 7fa2cfc6d000 p 00001000 08 01 3944076 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io wait so 7fa2cfc6d000 7fa2cfc6e000 r p 00001000 08 01 3944076 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io wait so 7fa2cfc6e000 7fa2cfc6f000 rw p 00002000 08 01 3944076 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux io wait so 7fa2cfc6f000 7fa2cfc9b000 r xp 00000000 08 01 3944077 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux socket so 7fa2cfc9b000 7fa2cfe9a000 p 0002c000 08 01 3944077 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux socket so 7fa2cfe9a000 7fa2cfe9b000 r p 0002b000 08 01 3944077 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux socket so 7fa2cfe9b000 7fa2cfe9c000 rw p 0002c000 08 01 3944077 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux socket so 7fa2cfe9c000 7fa2cfea3000 r xp 00000000 08 01 3944049 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux pathname so 7fa2cfea3000 7fa2d00a2000 p 00007000 08 01 3944049 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux pathname so 7fa2d00a2000 7fa2d00a3000 r p 00006000 08 01 3944049 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux pathname so 7fa2d00a3000 7fa2d00a4000 rw p 00007000 08 01 3944049 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux pathname so 7fa2d00a4000 7fa2d00aa000 r xp 00000000 08 01 3944059 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux etc so 7fa2d00aa000 7fa2d02a9000 p 00006000 08 01 3944059 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux etc so 7fa2d02a9000 7fa2d02aa000 r p 00005000 08 01 3944059 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux etc so 7fa2d02aa000 7fa2d02ab000 rw p 00006000 08 01 3944059 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux etc so 7fa2d02ab000 7fa2d02b3000 r xp 00000000 08 01 3944045 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux stringio so 7fa2d02b3000 7fa2d04b2000 p 00008000 08 01 3944045 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux stringio so 7fa2d04b2000 7fa2d04b3000 r p 00007000 08 01 3944045 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux stringio so 7fa2d04b3000 7fa2d04b4000 rw p 00008000 08 01 3944045 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux stringio so 7fa2d04b4000 7fa2d04b6000 r xp 00000000 08 01 3944021 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans transdb so 7fa2d04b6000 7fa2d06b6000 p 00002000 08 01 3944021 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans transdb so 7fa2d06b6000 7fa2d06b7000 r p 00002000 08 01 3944021 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans transdb so 7fa2d06b7000 7fa2d06b8000 rw p 00003000 08 01 3944021 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc trans transdb so 7fa2d06b8000 7fa2d06ba000 r xp 00000000 08 01 3943998 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc encdb so 7fa2d06ba000 7fa2d08b9000 p 00002000 08 01 3943998 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc encdb so 7fa2d08b9000 7fa2d08ba000 r p 00001000 08 01 3943998 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc encdb so 7fa2d08ba000 7fa2d08bb000 rw p 00002000 08 01 3943998 home noeblack rvm rubies ruby 2 3 0 lib ruby 2 3 0 x86 64 linux enc encdb so 7fa2d08bb000 7fa2d0e08000 r p 00000000 08 01 4064070 usr lib locale locale archive 7fa2d0e08000 7fa2d0f10000 r xp 00000000 08 01 3670109 lib x86 64 linux gnu libm 2 23 so 7fa2d0f10000 7fa2d110f000 p 00108000 08 01 3670109 lib x86 64 linux gnu libm 2 23 so 7fa2d110f000 7fa2d1110000 r p 00107000 08 01 3670109 lib x86 64 linux gnu libm 2 23 so 7fa2d1110000 7fa2d1111000 rw p 00108000 08 01 3670109 lib x86 64 linux gnu libm 2 23 so 7fa2d1111000 7fa2d111a000 r xp 00000000 08 01 3670110 lib x86 64 linux gnu libcrypt 2 23 so 7fa2d111a000 7fa2d1319000 p 00009000 08 01 3670110 lib x86 64 linux gnu libcrypt 2 23 so 7fa2d1319000 7fa2d131a000 r p 00008000 08 01 3670110 lib x86 64 linux gnu libcrypt 2 23 so 7fa2d131a000 7fa2d131b000 rw p 00009000 08 01 3670110 lib x86 64 linux gnu libcrypt 2 23 so 7fa2d131b000 7fa2d1349000 rw p 00000000 00 00 0 7fa2d1349000 7fa2d134c000 r xp 00000000 08 01 3674663 lib x86 64 linux gnu libdl 2 23 so 7fa2d134c000 7fa2d154b000 p 00003000 08 01 3674663 lib x86 64 linux gnu libdl 2 23 so 7fa2d154b000 7fa2d154c000 r p 00002000 08 01 3674663 lib x86 64 linux gnu libdl 2 23 so 7fa2d154c000 7fa2d154d000 rw p 00003000 08 01 3674663 lib x86 64 linux gnu libdl 2 23 so 7fa2d154d000 7fa2d15cc000 r xp 00000000 08 01 4072549 usr lib x86 64 linux gnu libgmp so 10 3 0 7fa2d15cc000 7fa2d17cb000 p 0007f000 08 01 4072549 usr lib x86 64 linux gnu libgmp so 10 3 0 7fa2d17cb000 7fa2d17cc000 r p 0007e000 08 01 4072549 usr lib x86 64 linux gnu libgmp so 10 3 0 7fa2d17cc000 7fa2d17cd000 rw p 0007f000 08 01 4072549 usr lib x86 64 linux gnu libgmp so 10 3 0 7fa2d17cd000 7fa2d17e5000 r xp 00000000 08 01 3674661 lib x86 64 linux gnu libpthread 2 23 so 7fa2d17e5000 7fa2d19e4000 p 00018000 08 01 3674661 lib x86 64 linux gnu libpthread 2 23 so 7fa2d19e4000 7fa2d19e5000 r p 00017000 08 01 3674661 lib x86 64 linux gnu libpthread 2 23 so 7fa2d19e5000 7fa2d19e6000 rw p 00018000 08 01 3674661 lib x86 64 linux gnu libpthread 2 23 so 7fa2d19e6000 7fa2d19ea000 rw p 00000000 00 00 0 7fa2d19ea000 7fa2d1ba9000 r xp 00000000 08 01 3674662 lib x86 64 linux gnu libc 2 23 so 7fa2d1ba9000 7fa2d1da9000 p 001bf000 08 01 3674662 lib x86 64 linux gnu libc 2 23 so 7fa2d1da9000 7fa2d1dad000 r p 001bf000 08 01 3674662 lib x86 64 linux gnu libc 2 23 so 7fa2d1dad000 7fa2d1daf000 rw p 001c3000 08 01 3674662 lib x86 64 linux gnu libc 2 23 so 7fa2d1daf000 7fa2d1db3000 rw p 00000000 00 00 0 7fa2d1db3000 7fa2d2085000 r xp 00000000 08 01 3944324 home noeblack rvm rubies ruby 2 3 0 lib libruby so 2 3 0 7fa2d2085000 7fa2d2285000 p 002d2000 08 01 3944324 home noeblack rvm rubies ruby 2 3 0 lib libruby so 2 3 0 7fa2d2285000 7fa2d228b000 r p 002d2000 08 01 3944324 home noeblack rvm rubies ruby 2 3 0 lib libruby so 2 3 0 7fa2d228b000 7fa2d228e000 rw p 002d8000 08 01 3944324 home noeblack rvm rubies ruby 2 3 0 lib libruby so 2 3 0 7fa2d228e000 7fa2d229f000 rw p 00000000 00 00 0 7fa2d229f000 7fa2d22c5000 r xp 00000000 08 01 3670113 lib x86 64 linux gnu ld 2 23 so 7fa2d22d1000 7fa2d22fb000 rw p 00000000 00 00 0 7fa2d22fb000 7fa2d24a9000 rw p 00000000 00 00 0 7fa2d24b7000 7fa2d24be000 r s 00000000 08 01 4332233 usr lib x86 64 linux gnu gconv gconv modules cache 7fa2d24be000 7fa2d24bf000 p 00000000 00 00 0 7fa2d24bf000 7fa2d24c4000 rw p 00000000 00 00 0 7fa2d24c4000 7fa2d24c5000 r p 00025000 08 01 3670113 lib x86 64 linux gnu ld 2 23 so 7fa2d24c5000 7fa2d24c6000 rw p 00026000 08 01 3670113 lib x86 64 linux gnu ld 2 23 so 7fa2d24c6000 7fa2d24c7000 rw p 00000000 00 00 0 7ffcafb4e000 7ffcb034d000 rw p 00000000 00 00 0 stack 7ffcb03f5000 7ffcb03f7000 r p 00000000 00 00 0 vvar 7ffcb03f7000 7ffcb03f9000 r xp 00000000 00 00 0 vdso ffffffffff600000 ffffffffff601000 r xp 00000000 00 00 0 vsyscall NOTE You may have encountered a bug in the Ruby interpreter or extension libraries Bug reports are welcome For details Abortado core' generado someone can help me im using ubuntu,,"utilum,rafaelfranca,utilum",2016-11-22 07:48:37,2016-11-23 07:53:37
IS,Can not set false for primary key ActiveRecord Mysql,Input migrate file def change nbsp nbsp create table users id false do t nbsp nbsp nbsp nbsp t boolean is boss nbsp nbsp end nbsp execute ALTER TABLE users ADD PRIMARY KEY is boss end model file models user rb class User ActiveRecord Base nbsp nbsp self primary key is boss end Expected behavior I hope I can create an user by User create is boss false Actual behavior Rollback But User create is boss true is ok System configuration Rails version 4 2 5 2 Ruby version 2 2,,kaspth,2016-11-22 09:51:59,2016-11-23 09:16:44
IS,error rspec HELP,noeblack garyhost Descargas ecommerce rails rspec spec models link spec rb usr bin env ruby exe No existe el archivo o el directorio home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 3 lib active record migration rb 392 in check pending ' ActiveRecord PendingMigrationError Migrations are pending To resolve this issue run bin rake db migrate RAILS ENV test from home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 3 lib active record migration rb 405 in load schema if pending ' from home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 3 lib active record migration rb 411 in block in maintain test schema ' from home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 3 lib active record migration rb 639 in suppress messages' from home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 3 lib active record migration rb 416 in method missing' from home noeblack rvm gems ruby 2 3 0 gems activerecord 4 2 3 lib active record migration rb 411 in maintain test schema ' from home noeblack Descargas ecommerce rails spec rails helper rb 34 in top required ' from home noeblack Descargas ecommerce rails spec models link spec rb 15 in require' from home noeblack Descargas ecommerce rails spec models link spec rb 15 in top required ' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 lib rspec core configuration rb 1435 in load' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 lib rspec core configuration rb 1435 in block in load spec files' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 lib rspec core configuration rb 1433 in each' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 lib rspec core configuration rb 1433 in load spec files' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 lib rspec core runner rb 100 in setup' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 lib rspec core runner rb 86 in run' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 lib rspec core runner rb 71 in run' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 lib rspec core runner rb 45 in invoke' from home noeblack rvm gems ruby 2 3 0 gems rspec core 3 5 4 exe rspec 4 in top required ' from home noeblack rvm gems ruby 2 3 0 bin rspec 23 in load' from home noeblack rvm gems ruby 2 3 0 bin rspec 23 in main ' from home noeblack rvm gems ruby 2 3 0 bin ruby executable hooks 15 in eval' from home noeblack rvm gems ruby 2 3 0 bin ruby executable hooks 15 in main ' WHEN IM RUN bin rake db migrate RAILS ENV test I get this No existe el archivo o el directorio noeblack garyhost Descargas ecommerce rails bin rake db migrate RAILS ENV test usr bin env ruby exe No existe el archivo o el directorio,,,2016-11-23 14:26:03,2016-11-23 15:26:11
IS,rails server rejects options,In a new app using edge Rails rails server crashes when documented options e g binding and port are provided This appears to have started with cc,,"georgeclaghorn,utilum,kaspth",2016-11-23 14:27:41,2016-11-23 16:39:07
IS,validations and strange behaviours with boolean fields,Steps to reproduce Have a field active which is a boolean for a model In the model file I have a before validation set default method which contains the code self active false and the method returns true else there is errors I also have validates presence of active in the model What I expect to happen is for the model to validate this field as having a present value however it behaves as if it is nil Appears boolean values nil and false have little difference Can work around this as I do not want the field to be evaluated as true which is a win but would be good for validations to perhaps use something like the nil method to evaluate blank values rather than false Rails 5 0 0 1 Ruby 2 3 0,,"utilum,utilum,sgrif",2016-11-23 08:49:22,2016-11-23 17:41:41
IS,Unable to opt out of path expansion using ActionDispatch Integration RequestHelpers,Steps to reproduce The exact problem is using the as json option to the request helpers defined in ActionDispatch Integration RequestHelpers which also seems to be the only way to correctly encode the body of your request as json Otherwise WWWFormEncoder will be used using rspec rails Expected behavior The path for the request should be left as anything by default or there should be an option to not expand the path Actual behavior the path is expanded to include the format anything json System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin14,,"kaspth,kaspth,rafaelfranca,kaspth,kaspth",2016-11-22 16:21:56,2016-11-23 21:13:44
PR,Update broken links in navbar,,,"utilum,utilum,rafaelfranca,pixeltrix",2016-11-23 22:23:38,2016-11-23 22:31:41
IS,test select query works even when prepared statements are disabled fails on Fedora and CentOS,Steps to reproduce,,"yahonda,maclover7,maclover7,prathamesh-sonpatki,prathamesh-sonpatki,yahonda",2016-11-23 16:50:14,2016-11-24 07:02:12
PR,ci skip MiniTest Minitest,Summary MiniTest was renamed to Minitest Already renamed on But slipped into on diff 6bb90a693835b0e92910b796c8b0ef59R27,,"mtsmfm,kaspth",2016-11-24 09:48:13,2016-11-24 09:50:21
IS,Saving has many through raises exception in rails 4 but works in 3 2 22 SOLVED,Hello I'm upgrading rails on my project and has many errors like this Is there some workaround or fix Related issue Steps to reproduce System configuration Rails version 4 2 7 1 Ruby version 2 1 5,,,2016-11-23 16:40:30,2016-11-24 09:57:38
PR,Remove outdated comment ci skip,Summary No longer valid after Found out while going through related code,,"prathamesh-sonpatki,matthewd,prathamesh-sonpatki",2016-11-24 09:25:37,2016-11-24 11:08:05
IS,collection singular ids crashes if a non existing id is passed,Steps to reproduce Have two models A B where A has many B Open rails console with empty database and run A create b ids 1 2 3 Expected behavior ActiveRecordNotFound exception with a similar message as if you run A find 1 2 3 ActiveRecord RecordNotFound Could not find all Bs with 'id' 1 2 3 found 0 results but was looking for 3 Actual behavior ActiveRecord gets nils for the non existing ids does not check for that and then tries to save the association resulting in ActiveRecord AssociationTypeMismatch B 70166005846320 expected got NilClass 70165971014200 System configuration Rails version 5 RC3 Ruby version 2 2 4,,"rafaelfranca,rafaelfranca",2016-07-06 15:58:55,2016-11-24 14:18:01
IS,I am not able to use db2 native encrypt method in ruby on rails active record,Steps to reproduce I am try to use IBM db2 encrypt method to encrypt password in db2 itself using db2 native method Expected behavior Tell us what should happen user password should not return encrypt 'mysecurepassword' I am not able to encrypt the password Is there any ways to use encrypt method of db2 System configuration Rails version 4 2 Ruby version 2 3,,"kaspth,guilleiguaran,kaspth,guilleiguaran",2016-11-24 14:53:03,2016-11-24 15:06:39
PR,Remove blank else block,,,kamipo,2016-11-24 19:09:19,2016-11-24 20:38:55
PR,Suppress migration message in the test,,,kamipo,2016-11-24 19:19:20,2016-11-24 20:39:32
PR,Removing deprecation of use transactional fixtures,It was introduced in 19282 and has existed for one major version It looks like other deprecations from 5 0 are being removed so I think it s time to remove this,,maclover7,2016-11-24 06:13:35,2016-11-24 23:54:21
IS,InvalidAuthenticityToken while using BrowserSync,I seem to be getting ActionController InvalidAuthenticityToken exceptions while using BrowserSync I have tried setting the config line mentioned here issuecomment 235079906 and had no luck I have noticed however that it seems to be set to false anyway L82 Granted I am new to rails so I may be setting the config value incorrectly I'm not sure what else to try My educated guess still leads me to believe that it may be the host differences origin url that is causing the issue as the rails server is running on localhost 3000 and I am viewing it via the browsersync proxy at localhost 3001 Is there a way to verify this is the issue or to determine what else is at play here The CSRF issue simply goes away when not submitting anything via the localhost 3001 proxy Obviously the end result here is I would like to continue using browsersync and not have to disable CSRF protection while in local development System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112 BrowserSync version 2 18 2,,,2016-11-24 10:39:39,2016-11-25 02:48:37
PR,Should test test change column default in PostgresqlUUIDTest,Follow up to 25395,,kamipo,2016-11-24 21:27:29,2016-11-25 05:08:47
PR,Fix warning method redefined discarding old fields,Follow up to 26976,,kamipo,2016-11-24 21:51:18,2016-11-25 05:22:17
PR,Fix require dependency message format,depend on message format is No such file to load s rb But require dependency message is missing rb suffix,,kamipo,2016-11-24 22:01:09,2016-11-25 05:27:07
IS,History file not loaded,Whenever I enter pry console through rails c or binding pry I get the error History file not loaded invalid byte sequence in UTF 8 and no key strokes history is given me Ex If I type Company new hit enter and hit the up arrow I expect Company new to be re entered according to the history But nothing happens and the above error on startup of the console is all I get System configuration Rails version 4 2 1 Ruby version 2 2 3,,rafaelfranca,2016-11-24 00:05:13,2016-11-25 08:41:00
PR,Followup of UUID default extension in the docs,Summary Mentioned that for PostgreSQL 9 4 you need to pass the default option with uuid generate v4 Also updated PostgreSQL Active Record guide with this change r66877078 r,,"prathamesh-sonpatki,matthewd,prathamesh-sonpatki",2016-11-24 09:45:34,2016-11-25 09:26:39
IS,actions crash when the session store is disabled,I do not want my application to ever generate a cookie compliance requirements so I disable the session store This causes force ssl to crash This seems to be a version 5 issue This worked through the Rails 4 series I'm happy to submit a PR but I do not know what the correct fix would be Prevent the Metal Flash concern from being loaded maybe Steps to reproduce Reproduction app is here rails new disable the session store Rails application config session store disabled call an action 3001 stuffs Crash If it did not crash add force ssl to your controller That makes it crash every time Backtrace actionpack 5 0 0 1 lib action controller metal flash rb 9 in flash' actionpack 5 0 0 1 lib action controller metal force ssl rb 92 in force ssl redirect' actionpack 5 0 0 1 lib action controller metal force ssl rb 66 in block in force ssl' activesupport 5 0 0 1 lib active support callbacks rb 396 in instance exec' activesupport 5 0 0 1 lib active support callbacks rb 396 in block in make lambda' activesupport 5 0 0 1 lib active support callbacks rb 169 in call' activesupport 5 0 0 1 lib active support callbacks rb 169 in block 2 levels in halting' actionpack 5 0 0 1 lib abstract controller callbacks rb 12 in call' actionpack 5 0 0 1 lib abstract controller callbacks rb 12 in block 2 levels in module Callbacks ' activesupport 5 0 0 1 lib active support callbacks rb 170 in call' activesupport 5 0 0 1 lib active support callbacks rb 170 in block in halting' activesupport 5 0 0 1 lib active support callbacks rb 454 in call' activesupport 5 0 0 1 lib active support callbacks rb 454 in block in call' activesupport 5 0 0 1 lib active support callbacks rb 454 in each' activesupport 5 0 0 1 lib active support callbacks rb 454 in call' activesupport 5 0 0 1 lib active support callbacks rb 101 in run callbacks ' activesupport 5 0 0 1 lib active support callbacks rb 750 in run process action callbacks' activesupport 5 0 0 1 lib active support callbacks rb 90 in run callbacks' actionpack 5 0 0 1 lib abstract controller callbacks rb 19 in process action' actionpack 5 0 0 1 lib action controller metal rescue rb 20 in process action' actionpack 5 0 0 1 lib action controller metal instrumentation rb 32 in block in process action' activesupport 5 0 0 1 lib active support notifications rb 164 in block in instrument' activesupport 5 0 0 1 lib active support notifications instrumenter rb 21 in instrument' activesupport 5 0 0 1 lib active support notifications rb 164 in instrument' actionpack 5 0 0 1 lib action controller metal instrumentation rb 30 in process action' actionpack 5 0 0 1 lib action controller metal params wrapper rb 248 in process action' activerecord 5 0 0 1 lib active record railties controller runtime rb 18 in process action' actionpack 5 0 0 1 lib abstract controller base rb 126 in process' actionview 5 0 0 1 lib action view rendering rb 30 in process' actionpack 5 0 0 1 lib action controller metal rb 190 in dispatch' actionpack 5 0 0 1 lib action controller metal rb 262 in dispatch' actionpack 5 0 0 1 lib action dispatch routing route set rb 50 in dispatch' actionpack 5 0 0 1 lib action dispatch routing route set rb 32 in serve' actionpack 5 0 0 1 lib action dispatch journey router rb 39 in block in serve' actionpack 5 0 0 1 lib action dispatch journey router rb 26 in each' actionpack 5 0 0 1 lib action dispatch journey router rb 26 in serve' actionpack 5 0 0 1 lib action dispatch routing route set rb 725 in call' rack 2 0 1 lib rack etag rb 25 in call' rack 2 0 1 lib rack conditional get rb 25 in call' rack 2 0 1 lib rack head rb 12 in call' actionpack 5 0 0 1 lib action dispatch middleware cookies rb 613 in call' activerecord 5 0 0 1 lib active record migration rb 552 in call' actionpack 5 0 0 1 lib action dispatch middleware callbacks rb 38 in block in call' activesupport 5 0 0 1 lib active support callbacks rb 97 in run callbacks ' activesupport 5 0 0 1 lib active support callbacks rb 750 in run call callbacks' activesupport 5 0 0 1 lib active support callbacks rb 90 in run callbacks' actionpack 5 0 0 1 lib action dispatch middleware callbacks rb 36 in call' actionpack 5 0 0 1 lib action dispatch middleware executor rb 12 in call' actionpack 5 0 0 1 lib action dispatch middleware remote ip rb 79 in call' actionpack 5 0 0 1 lib action dispatch middleware debug exceptions rb 49 in call' web console 3 4 0 lib web console middleware rb 135 in call app' web console 3 4 0 lib web console middleware rb 28 in block in call' web console 3 4 0 lib web console middleware rb 18 in catch' web console 3 4 0 lib web console middleware rb 18 in call' actionpack 5 0 0 1 lib action dispatch middleware show exceptions rb 31 in call' railties 5 0 0 1 lib rails rack logger rb 36 in call app' railties 5 0 0 1 lib rails rack logger rb 24 in block in call' activesupport 5 0 0 1 lib active support tagged logging rb 70 in block in tagged' activesupport 5 0 0 1 lib active support tagged logging rb 26 in tagged' activesupport 5 0 0 1 lib active support tagged logging rb 70 in tagged' railties 5 0 0 1 lib rails rack logger rb 24 in call' sprockets rails 3 2 0 lib sprockets rails quiet assets rb 13 in call' actionpack 5 0 0 1 lib action dispatch middleware request id rb 24 in call' rack 2 0 1 lib rack method override rb 22 in call' rack 2 0 1 lib rack runtime rb 22 in call' activesupport 5 0 0 1 lib active support cache strategy local cache middleware rb 28 in call' actionpack 5 0 0 1 lib action dispatch middleware executor rb 12 in call' actionpack 5 0 0 1 lib action dispatch middleware static rb 136 in call' rack 2 0 1 lib rack sendfile rb 111 in call' railties 5 0 0 1 lib rails engine rb 522 in call' puma 3 6 0 lib puma configuration rb 225 in call' puma 3 6 0 lib puma server rb 578 in handle request' puma 3 6 0 lib puma server rb 415 in process client' puma 3 6 0 lib puma server rb 275 in block in run' puma 3 6 0 lib puma thread pool rb 116 in call' puma 3 6 0 lib puma thread pool rb 116 in block in spawn thread' System configuration Rails version 5 0 0 1 Ruby version 2 2 5p319,,"prathamesh-sonpatki,rafaelfranca,rafaelfranca",2016-11-11 02:40:42,2016-11-25 09:55:33
IS,Generate commands in template hangs,Steps to reproduce rails new rails5 m Expected behavior It should generate a Rails 5 app based on the template Actual behavior It hangs when generating the second model I also tested with Rails 4 2 7 1 and that works fine rails 4 2 7 1 new rails4271 m System configuration Rails version 5 0 0 1 Ruby version 2 2 2,,"rafaelfranca,maclover7",2016-11-25 10:08:26,2016-11-25 15:26:14
IS,Wrong Julian Date returned from strftime on TimeWithZone at end of year,Since in 4 2 0beta4 the wrong Julian Day is being returned from strftime for TimeWithZone objects with nonzero UTC offsets during the period between midnight in the given time zone and midnight UTC on the last day of the year My current solution is to revert that commit Failing test 364 is returned instead of 365 between midnight UTC and midnight in Eastern time After midnight Eastern time 001 is correctly returned and before midnight UTC 365 is correctly returned I have not tested time zones ahead of UTC only behind,,"pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2016-01-12 18:28:14,2016-11-25 18:36:15
PR,use correct variable in BacktraceCleaner test,target dir variable was changed to local variable in 8e1714b,,y-yagi,2016-11-26 01:58:49,2016-11-26 02:21:07
PR,Replace ' ' with ' ' before to date calls Date parse,This PR is similar to which was already rejected I understand the reason why it was rejected the lack of a date component does not imply the first of that date But I'm still unconvinced with this behavior Currently hyphens and slashes in the string behave differently This is an unpredictable behavior and looks like a bug for me if are replaced with before calling Date parse method The behaviors will be consistent,,"kenta-s,kaspth,kenta-s",2016-11-26 10:45:52,2016-11-26 11:44:43
PR,Add asset compilation Rake task for UJS,Summary Uses same build pipeline Blade as Action Cable Will run when Rails gems are being built for release r,,"maclover7,guilleiguaran",2016-11-26 14:00:16,2016-11-26 15:14:04
PR,Update RELEASING RAILS md for rails ujs,r,,maclover7,2016-11-26 15:52:39,2016-11-26 17:01:51
IS,compatibility of default uuid generating with postgresql extension,I am new here And I am lost here Ruby 2 3 1p112 installed by rbenv Rails 5 0 0 1 installed by gem According to I got to know that if I do the following addition But if have to do this It is no use for the default uuid generation configuration above So how to do with it Or Rails can handle that situation but i did't get hope to make myself understood,,bdewater,2016-09-27 11:57:52,2016-11-26 18:30:02
PR,typo in RoR Security Guide,Summary url Section 2 5 Session Storage reads So do not use a trivial secret i e a word from a dictionary or one which is shorter than 30 characters use rails secret instead Should say 'rake secret' instead,,,2016-11-26 18:48:51,2016-11-26 19:03:25
PR,Add Style EmptyElse in rubocop yml,To avoid 26375 and 27170 in the future,,"kamipo,utilum,maclover7,kaspth,fxn",2016-11-27 00:36:51,2016-11-27 16:49:38
IS,Getting Started Guide,Steps to reproduce As in the start of the guide change the article edit view is form to like Actual behavior It should show the edit form again with error message that the title length should have length 5 or more System configuration Rails version 4 2 5 1 Ruby version 2 2 0,,"utilum,utilum,matthewd",2016-11-27 16:53:46,2016-11-27 22:40:45
IS,update all and delete all does not work when chained with left joins,Steps to reproduce Given a case when Pet has many toys the following delete all and update all fails Because current Arel implementation ignores left joins when checking if it should join tables Expected behavior The relation should be update deleted Actual behavior The generated query is invalid System configuration Rails version 5 Ruby version any,,,2016-11-27 21:47:33,2016-11-28 02:21:14
PR,fixing update all and delete all when chained with left joins,fixes 27192,,,2016-11-27 21:48:40,2016-11-28 02:21:14
PR,I found this issue and wanted to give the fix,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2016-11-27 17:43:53,2016-11-28 02:23:16
PR,test do not connect to mysql when running sqlite3 tests,test do not connect to mysql when running sqlite3 tests Resolves the following Ports 4b1f67a11a6fd5680a7ce37b695a4d86e6a2c302,,utilum,2016-11-27 11:50:30,2016-11-28 02:25:30
PR,use public Module include instead of send include,Follow up to 18767,,"y-yagi,y-yagi",2016-11-27 23:04:51,2016-11-28 02:31:13
PR,Remove wrong comment about PostgreSQL and UUIDs,PostgreSQL cares about valid UUID and a0eebc99 9c0b 4ef8 fb6d 6bb9bd380a11 is valid UUID There is other versions other than the more popular version 4 and so PostgreSQL is uuid type does not enforce a specific version It will accept any string that passes the general UUID validity check,,"matthewd,matthewd",2016-11-27 08:08:35,2016-11-28 12:57:55
PR,Add rubocop to Gemfile,Since we have rubocop and ask new PRs to satisfy Rubocop rules I think it is worth having rubocop in the Gemfile,,"kirs,kirs",2016-11-28 03:15:44,2016-11-28 16:32:48
IS,There is no index html file in public folder,i am new in ruby and just developing my first app i am following a tutorial on youtube when i run the server by localhost 3000 it shows me Yay You re on Rails i do not know how to route it to index html file in my home where i start developing my app please need help i am new here,,"kaspth,kaspth",2016-11-28 18:14:34,2016-11-28 18:16:21
PR,Add note about step needed to get tests to pass if you implemented basic auth ci skip,Addresses 22862 Added note about needing to add additional code to the setup block to get the tests to pass if you have implemented basic authorization ci skip cc,,"maclover7,cllns,maclover7,matthewd",2016-11-29 00:46:41,2016-11-29 00:53:01
IS,Guide issue 'Functional Tests for your Controllers',The section for 'Functional Tests for your Controllers' functional tests for your controllers contains an issue if the user is working with their code from the 'Getting Started' guide The text supports creating the tests from 1 the scaffold controller generator 2 the test unit scaffold generator which adds only testing scaffold Case 1 is fine The problem is with 2 Specifically if the user is using their code from 'Getting Started' and they went through until the last section where HTTP Basic authentication and authorization is added The end of this section says if you follow the step to modify one test then 'you can try running all the tests and they should pass ' but that is not true if they set up authentication Possible solutions A Add a note after test unit scaffold command about removing the http basic authenticate with name dhh password secret lines from ArticlesController and CommentsController B Add a note about adding the following to the setup block Solutions Pro Con A simpler might give impression that testing can not deal with authentication B more complete retains security not sure where it would go since it only affects some readers I would be happy to implement do either Just let me know which approach you think is better,,"cllns,vipulnsward,kaspth,vipulnsward,prathamesh-sonpatki,maclover7",2015-12-31 01:08:19,2016-11-29 00:53:31
PR,3 2 stable,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2016-11-29 08:33:06,2016-11-29 11:38:48
PR,Adding more documentation for PostgreSQL adapter ci skip,There were some places in the PostgreSQL adapter that did not have documentation so I added some,,matthewd,2016-11-29 05:45:05,2016-11-29 11:58:25
PR,add ActionController Parameters reverse merge,Summary Currenty ActionController Parameters dose not have reverse merge and reverse merge By using reverse merge you can write behaviors like default values,,"kamipo,kamipo,rafaelfranca,rafaelfranca",2016-11-28 12:22:40,2016-11-29 14:38:07
IS,MySQL unsigned column is treated as signed column when column is like 'unsigned zerofill',Steps to reproduce i'm using rails without migration The problem occurs in table like System configuration Rails version 5 0 Ruby version 2 3 0,,,2016-11-21 05:45:38,2016-11-29 16:10:39
IS,Incompatible character encodings ASCII 8BIT and UTF 8 after updating model,Steps to reproduce Create a model with tags column like in example above and save it Then update the column tags with a word that contains 'russian' letters only or partially and save it The result will be our object with tags in ASCII 8BIT encoding Expected behavior It should be encoded correctly For example if we update with ' ' 'tag1' 'tag2' the same array is expected to be mapped back for model System configuration rails 5 0 0 beta2 ruby ruby 2 3 0p0,,sgrif,2016-11-29 16:19:53,2016-11-29 17:37:32
IS,Datetime adding and subtract does not result in the same time,Expected behavior Time at 1480377600 3 months 3 months to i 1480377600 Actual behavior Time at 1480377600 3 months 3 months to i 1480291200 Off by one day due to the 29th of February System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 x86 64 linux gnu,,"matthewd,vipulnsward,matthewd",2016-11-29 14:01:08,2016-11-29 18:13:22
PR,Explicitly document 'false' as value for 'action on unpermitted parameters',Summary These changes Explicitly document false as one of the possible values for the action on unpermitted parameters option It was confusing to see it mentioned as default value without previously including it among the possible options Add a missing Oxford comma honoring the API Documentation Guidelines Note While I have used 'filter them out' as explanation for the behavior I'm not sure it is the best wording Feel free to directly improve it if needed,,,2016-11-29 17:40:53,2016-11-29 19:21:14
IS,ActiveRecord can not do the correctly parser of object model from the database,Steps to reproduce This zip is a rails app with step by step for reproduce the bug roles zip Expected behavior When I use the execute query it returns data properly with the created at and updated at the populated System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin14,,"maclover7,rafaelfranca,rafaelfranca",2016-10-25 20:37:36,2016-11-29 21:20:05
PR,Fix typo in Rails 5 0 release notes when when,ci skip,,"roryokane,rafaelfranca",2016-11-29 21:47:11,2016-11-29 21:53:28
PR,Updated test expression to unless because is more expressive,I found a test expression that not compatible with rubocop and I decided fixe it This PR doens't fix a bug and does not change the documentation Thanks,,maclover7,2016-11-30 02:44:56,2016-11-30 02:51:31
PR,fix typo in changelog,Summary This just fixes a typo in railties CHANGELOG,,kaspth,2016-11-30 09:00:22,2016-11-30 09:22:30
IS,search in hash,hi guys How search in hash column search query Product where 'properties foo bar',,seuros,2016-11-30 09:56:30,2016-11-30 10:20:20
PR,removed current as it is not used,Summary Was trying to answer a question on stackoverflow and looking into the logic of how folders end up in the autoloadpath Trying to understand the logic it looked to me that current is used nowhere in Root itself and most likely a reminiscent from a refactoring Unit Tests are still,,matthewd,2016-11-30 09:39:05,2016-11-30 10:29:08
IS,Find by an array of values,Steps to reproduce articles article ids each do article id articles Article find by id article id end Expected behavior articles Article find batch by id article ids Actual behavior There is no such method System configuration Rails version 5 x Ruby version 2 3 x,,"seuros,matthewd",2016-11-30 10:03:29,2016-11-30 12:32:59
IS,Broken Link on ActiveRecord readme,Steps to reproduce Try clicking on the Learn More link directly below the code block with the text Guidelines for creating a bug report are available here creating a bug report Expected behavior Link should redirect to a new page Actual behavior 404 error System configuration NA Ruby version NA,,matthewd,2016-11-30 13:11:48,2016-11-30 13:48:16
PR,use Gem win platform to check windows Ruby platforms,Gem win platform check if it is Windows more accurately Ref L945 L952,,y-yagi,2016-11-30 13:00:55,2016-11-30 15:18:49
PR,Fix CI failure due to missing Regexp match,Follow up to f39779fb8e40bf88ea842116e4bddcd7280a9a94 CI failure is due to missing Regexp match in 5 0 stable,,"kamipo,kaspth,kamipo,kaspth",2016-11-30 15:55:08,2016-11-30 16:55:04
IS,Psych to json produces invalid json for objects inherited from ActiveRecord Base,Steps to reproduce I have created an executable test for this bug I did not know whether to report this to Psych or Rails just let me know if it belongs elsewhere and I will move the issue Expected behavior Psych to json should emit valid JSON Currently not all keys are double quoted which although valid in JS is not valid JSON Actual behavior It emits invalid json which can be seen in this example System configuration Rails version 5 0 0 Ruby version 2 3 1,,"maclover7,sgrif",2016-11-30 00:05:32,2016-11-30 19:18:06
IS,NameErrors in tests for large applications have a noticeable performance penalty,Steps to reproduce 1 Generate a brand new application rails new some awesome app 2 Generate a model rails generate model post title string body text 3 Tweak the post test to look like this 4 Run the tests rake test Expected behavior The test to fail in a reasonable time Actual behavior The tests fail in a reasonable time for small codebases but for codebases with tons of models and fixtures there is a noticeable delay per each test with a NameError 10 seconds in our production app For some reason it boils down to test failures calling inspect on the test itself which generates the output for all the instance variables with fixture cache fixture connections and loaded fixtures being the main culprits For our production application the output of a single test running puts inspect generates a 54MB file We can monkey patch ActiveSupport TestCase to avoid this but that does not seem like the right approach to this Overriding the inspect method on ActiveSupport TestCase or the inspect methods on those variables will reclaim the performance hit But there may be a better smarter way to fix this System configuration Rails version 4 0 4 1 4 2 5 0 Ruby version All,,sgrif,2016-11-30 16:52:22,2016-11-30 19:25:11
PR,Fix arguments passing in testing isolation,The issue affects MRI 2 2 5 MRI 2 3 3 JRuby 9 1 6 0 It can be reproduced by Originally quotes were introduced in as a part of fixing Testing Isolation MRI 2 2 2 That PR touches multiple lines and there are no background described about the quites do you remember that by the chance The fix solves issue on all affected platforms MRI 2 2 5 MRI 2 3 3 JRuby 9 1 6 0,,"kirs,matthewd,kirs,kirs,matthewd,kirs,kirs",2016-11-29 02:15:59,2016-11-30 19:27:19
IS,Expected string default value for ' jbuilder' got true boolean,Steps to reproduce rails g Pretty much any rails g commands show this error Expected behavior I expect no error Actual behavior the following message appears Expected string default value for ' jbuilder' got true boolean Otherwise everything seems to function properly System configuration Rails version 4 2 7 1 and others Ruby version 2 2 5 and others,,"sgrif,jaredbeck,rafaelfranca",2016-11-30 16:49:27,2016-11-30 19:32:18
IS,Parameters with object having empty arrays as values get dropped,Steps to reproduce PUT PATCH parameters that look like id 1 stuff A B C D will completely drop the stuff parameter by the time we are in the controller method Notes I have got a sample app here with rails 4 2 and rails 5 branches where the tests pass and do not pass respectively I'm trying to figure out the differences between the rails versions that cause the empty object to be dropped I have seen some articles and issues with parameter deep munging does that have something to do with it If this is not the place to bring up this issue please close this Thanks System configuration Rails version tests pass in 4 2 and fail in 5 0 0 1 Ruby version 2 2 4,,"kaspth,kaspth,sgrif,sgrif",2016-11-29 19:48:34,2016-11-30 19:35:51
IS,Ca not unscope default scope in join,Steps to reproduce Expected behavior default scope is unscoped Actual behavior default scope is not unscoped Same for eager load System configuration Rails 5 0 0 1 Ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,sgrif,2016-11-29 18:44:46,2016-11-30 19:37:53
IS,Trouble with table name in inherited models,Hi I have got stuck with unexpected behavior when creating ActiveRecord models located in subdirectories Consider these models I expect table name for each profile would be man profile and company profile respectively as Man Profile tableize says but it is actually user profiles If I use flat structure without nesting profiles in subfolders man profile rb and company profile rb everything is fine man profile and company profile tables in this case,,sgrif,2016-11-29 01:29:45,2016-11-30 19:45:36
IS,Rails 5 previous changes includes nil nil entry for postrgesql json column,Steps to reproduce Create an active record model using the postgresql adapter that has a column of type json Load an instance of the model from the database where the value of the column is NULL Save the instance Expected behavior The column should not be included in previous changes since it did not change Actual behavior previous changes will be my column nil nil System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15 Notes This only happens in Rails 5 In rails 4 previous changes would have been empty as expected Here is a test that passes in rails 4 but fails in rails 5 assuming you have a users table with a provider user info column of type json,,"sgrif,sgrif",2016-11-28 15:25:02,2016-11-30 19:57:48
IS,Consistent generation of schema rb,Steps to reproduce Have some migrations Run rake db migrate Coworker add more migrations Coworker runs rake db migrate The difference between the two schema rb is full of added spaces different orders etc Expected behavior A consistent generation of schema rb should not be machine dependent Actual behavior Adds removes extensions spaces etc Different order views first now views last before for instance Proposed solution Having a schema rb formatter would be nice a a post processing step after its generation using a similar concept as rubocop a for instance I think It would be far more difficult to have an actual consistent generation as its derived from the database System configuration Rails version 5 0 0 Ruby version 2 3 2 Postgres version 9 5 5,,sgrif,2016-11-28 14:19:06,2016-11-30 19:59:16
IS,decrement for counter cache breaks in nested attribute,Problem The decrement of the counter cache is not triggered correctly when connected via nested attribute so that in an after save method wrong values are the result My scenario consists in part of the following as I assume relevant classes The if block is copied over from the following in crement counter definition This fixes the problem scenario for me Should not that be there in the first place,,"utilum,utilum,utilum,utilum,utilum,utilum,maclover7,sgrif",2016-11-24 15:31:44,2016-11-30 20:05:40
IS,Second arg for 'options for select' works in Rails 5,Here it writes The second argument to options for select must be exactly equal to the desired internal value In particular if the value is the integer 2 you cannot pass 2 to options for select you must pass 2 Be aware of values extracted from the params hash as they are all strings However I tried doing exactly this in Rails 5 and it worked So you might want to remove this or specify it applies for older versions of Rails,,"utilum,maclover7,sgrif",2016-11-28 15:41:24,2016-11-30 20:12:28
IS,activerecord table missing column,I am running the following ruby v ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux gems are activerecord 5 0 0 1 sqlite3 1 3 12 The table create is CREATE TABLE member statuses member statuses key INTEGER PRIMARY KEY members key integer board member text 1 DEFAULT 'N' membership categories key integer membership expiration date paid member text 1 DEFAULT 'N' inactive text 1 DEFAULT 'N' The ruby program has class Member status ActiveRecord Base self primary key 'member statuses key' belongs to membership category class name 'Membership category' foreign key 'membership categories key' end class Membership category ActiveRecord Base self primary key 'membership categories key' has many member statuses class name 'Member status' end From withing the program Typing Member status shows all columns Member status member statuses key integer members key integer board member text membership categories key integer membership expiration date paid member text inactive text But entering Member status column names members key is missing board member membership categories key membership expiration paid member inactive So if I run the following r Member statuses create fields ret2 r save where fields board member N membership categories key 8 membership expiration 2015 12 31 paid member N inactive N members key 393 The table has members key as null If I run the command from sqlite3 INSERT INTO MEMBER STATUSES board member membership categories key membership expiration paid member inactive members key VALUES 'N' 8 '2015 12 31' 'N' 'N' 392 This can be seen from a sqlite3 select select from member statuses where member statuses key 391 392 392 N 8 2015 12 31 N N 393 N 8 2015 12 31 N N This did work with older gems I do not know the versions that worked,,sgrif,2016-11-27 22:56:39,2016-11-30 20:14:41
IS,Models using polymorphic has many load associations with an integer associated type column,Steps to reproduce Expected behavior When we call a has many as association it should not return records that have an integer associated type column Rather it should throw an error Actual behavior If a has many as association targets a model with an integer associated type column when we call that association it will coerce the class name to 0 and match any targets with 0 in the associated type column System configuration Rails version 5 0 Ruby version 2 2 4,,"sgrif,sgrif",2016-11-22 23:22:55,2016-11-30 20:15:32
PR,Fixes 27202 ci skip,Remove outdated tip regarding second argument of options for select from form helpers guid,,"utilum,maclover7",2016-11-30 20:25:13,2016-11-30 20:41:40
PR,return correct type from EnumType,Backport of 25506 to 5 0 0,,"y-yagi,sgrif",2016-11-30 23:20:09,2016-11-30 23:28:04
PR,Prevent issue number in documentation from becoming markdown header ci skip,Summary Problematic file I took a quick look at open issues pull requests but no fix in sight Other Information The alternative is escaping it but moving around the text seems a bit simpler,,matthewd,2016-12-01 05:32:51,2016-12-01 10:54:00
PR,Yarn Move node modules package json and yarn lock file to vendor,And then provide a binstub for yarn that runs in that directory,,"dhh,dhh,matthewd,dhh,dhh,dhh,dhh,gsamokovarov",2016-12-01 17:08:47,2016-12-01 17:51:43
IS,What difference it,because I try read cookies name not consistent for option 1,,sgrif,2016-12-01 07:51:51,2016-12-01 19:44:02
IS,Saving an ActiveRecord model with a PostgreSQL money field set with a Ruby Float throws a PostgreSQL syntax error in Rails 5,Creating a new Rails 5 application with a model that has a PostgreSQL money typed field will fail to save records if said field is set as a Ruby Float Note 1 Setting the money field as an Fixnum e g 12 String e g 12 25 or String with a dollar sign e g 12 25 works as expected No error is thrown and the field when read back from PostgreSQL is properly typed in Rails as a BigDecimal 2 Setting the money field as a Float e g 12 25 fails in Rails 5 0 0 1 see below for example output and test file and passes in Rails 4 2 7 1 Steps to reproduce Test file here Note you will need to update the PostgreSQL connection string on line 22 with an appropriate value for your system Expected behavior Setting and persisting a money typed field as a float should properly convert and store the value as the appropriate money value in PostgreSQL Actual behavior The following error is thrown System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 2p217 2016 11 15 revision 56796 x86 64 darwin16 PostgreSQL version 9 6 1,,sgrif,2016-12-01 17:31:06,2016-12-01 19:44:55
IS,Class descendants returns singleton classes starting from Ruby 2 3 0,Steps to reproduce Starting from Ruby 2 3 0 Object each space also returns singleton classes That breaks behavior of Class descendants and Class subclasses that also start to return singleton classes of their arguments System configuration Rails version 5 0 0 Ruby version 2 3 3 OS macOS Sierra 10 12 1,,"nateberkopec,maclover7,sgrif",2016-11-30 23:44:44,2016-12-01 19:57:16
IS,ActiveRecord coerces String values to nil for jsonb fields,Steps to reproduce Using PostgreSQL create a table with a jsonb field and a corresponding ActiveRecord model for this example the field will be called foo and the model Bar Then using the rails console Expected behavior b foo returns test string Actual behavior b foo returns nil System configuration Rails version 4 2 6 Ruby version 2 2 5 Additional notes I believe this is happening because of this line which only encodes Hashes and Arrays L21 It also seems this behavior was changed in Rails 5 and is likely no longer an issue there,,"maclover7,utilum,maclover7,maclover7,sgrif,sgrif",2016-11-30 22:33:27,2016-12-01 19:57:27
PR,Update minimum version of mail gem to 2 6 0,Updates the version of the mail gem shipped with actionmailer to be in the 2 6 x release in order to mitigate SMTP injection outlined in the MBSD whitepaper,,"rafaelfranca,rafaelfranca",2016-12-01 22:42:39,2016-12-01 22:44:31
IS,after destroy is not called on has many through,I have these models Since after create is always called but after destroy is not this should be considered an inconsistency bug The docs mention advice to use has mny through if you need callbacks See the suggestion here You should use has many through if you need validations callbacks or extra attributes on the join model After searching for a long time I found this issue submitted by this describes perfectly the issue at hand but is closed since Rails 3 2 is not supported anymore However I'm experiencing this issue in Rails 4 2 5 so it is very current wrote a test case for this which fails in Rails 4 0 Also mentioned this on StackOverflow,,"maclover7,sgrif,utilum,maclover7",2016-11-18 19:16:55,2016-12-02 00:45:20
PR,use yarn binstub in bin update,Follow up to 3dac36bd8e26363bb10f4d2a7b21efa75d200e26,,y-yagi,2016-12-02 03:53:27,2016-12-02 04:30:33
IS,Why there is no render relative method,Hello rails contributers Do you plan to create method for views context like It will be excellent if we can use relative path in any partial for render another partial not absolute path What you think about this idea With best regards Ruslan,,"rafaelfranca,nateberkopec",2016-12-02 16:39:50,2016-12-02 16:54:29
IS,undefined 'method' helper for ActiveAdmin Devise SessionsController Class,Hello I am receiving error,,,2016-12-02 17:47:51,2016-12-02 18:08:11
PR,fix deprecation caller message to display right file line,Summary since I have upgraded to rails 5 all deprecations are shown to be coming from inside the framework Other Information Before,,"matthewd,matthewd",2016-12-02 19:02:11,2016-12-02 19:28:19
IS,Strange warnings in default rails g help output,Steps to reproduce System configuration Rails version 5 0 0 1 Ruby version 2 3 1 mri Ubuntu 16 04,,"rafaelfranca,utilum,rafaelfranca",2016-12-02 21:10:28,2016-12-02 22:23:41
PR,Use JavaScripts instead of Javascripts in rake stats,Its standard name is JavaScript so I think that JavaScripts were better The following is an example Before,,koic,2016-12-02 22:53:48,2016-12-02 23:33:29
PR,stop using removed render text,Follow up to 79a5ea9eadb4d43b62afacedc0706cbe88c54496,,y-yagi,2016-12-03 06:32:56,2016-12-03 10:16:54
IS,Rails 5 1 0 alpha can not start server with options,Steps to reproduce I can not use 5 1 0 alpha to start a rails server with options Expected behavior work well Actual behavior img width 1204 alt 2016 12 03 11 11 00 src System configuration Rails version 5 1 0 alpha Ruby version 2 3 3,,"georgeclaghorn,maclover7",2016-12-03 15:15:47,2016-12-03 15:41:56
PR,Fix binstop binstub typo in railties changelog,,,"simi,maclover7,guilleiguaran",2016-12-05 01:11:48,2016-12-05 01:22:55
PR,Use sh instead of Ruby script for yarn binstub,Seeing as yarn already uses sh for their binstub we opt to use sh as well The main reason for this being that boot times for some interpreters i e jruby are rather slow This makes for a much better UX for these users See,,"maclover7,matthewd,dhh",2016-12-04 22:32:53,2016-12-05 02:08:38
PR,Add fullstop following the pattern used in rest of the file,,,prathamesh-sonpatki,2016-12-05 03:15:52,2016-12-05 08:25:26
IS,Parameterize strips unicode characters,Expected behavior It feels kinda buggy that currently if you have a case like ' ' parameterize returns '' It would be nice if parameterize could be configured to generate slugs with unicode characters preserved Would something like this be a reasonable change And if the preserve unicode true was passed we would use a different regex like p Alnum over a z0 9,,"rafaelfranca,rafaelfranca",2016-12-05 14:51:44,2016-12-05 16:33:55
PR,Fix that change column lose a comment,,,kamipo,2016-12-04 22:19:15,2016-12-05 18:51:51
PR,ci skip Remove button reference in link to api doc,Summary Adjusted API Documentation of link to method in url helper rb to talk about link instead of button in disable with section Also removed reference to form in this section as a form is not necessarily involved,,,2016-12-05 11:02:03,2016-12-05 18:52:24
PR,Use sort by instead of sort,I fixed it according to other test case ref method i sort by,,sgrif,2016-12-03 14:01:26,2016-12-05 18:53:31
IS,ActiveRecord Migration maintain test schema not updating schema migrations table with SQLite v3 7 9,rspec rspec rails advised I ask for help here on this issue Original thread here Steps to reproduce Locally tests pass git clone cd acrm git checkout 3f2355d bundle without production bundle exec rake,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,matthewd",2016-11-01 10:51:24,2016-12-05 19:13:43
PR,Introduce SQLite3Adapter execute batch method,Summary When using a version of SQLite3 that does not support multi insert statements we build a string containing multiple statements This string is then passed to SQLite3 Database execute but execute will only execute the first statement in a string and return any necessary results This change introduces a new method which uses SQLite3 Database execute batch to execute all of the statements in the string The caveat with SQLite3 Database execute batch is that it cannot return a result set and instead returns nil See This new method is used to insert multiple versions into the schema migrations table when migrations have been executed successfully but only when normal multi insert statements are not supported by the SQLite3 version installed on the system Fixes 26948 Other Information N A,,"sgrif,sgrif,matthewd",2016-12-01 10:56:14,2016-12-05 19:13:43
IS,Same validation is not called in different contexts,Steps to reproduce Expected behavior I would expect it to call check candies when I validate the user with prices context I would better split the validation according to context rather specifying on array in each of the validate statement System configuration Rails version 4 1 6 Ruby version 2 1 2p95,,sgrif,2016-10-26 15:14:49,2016-12-05 19:22:29
PR,Make auto increment to internal primary key option,Using auto increment option for abstracting the DB specific auto incremental types It is worth to ease to implement the compatibility layer I think that this will help to implement 26266,,"kamipo,sgrif,sgrif,kamipo,kamipo,matthewd,matthewd,kamipo,matthewd,kamipo,matthewd,sgrif",2016-12-05 18:47:11,2016-12-05 19:23:05
PR,Make auto increment option works on bigint,Follow up to 27272 r,,"kamipo,matthewd",2016-12-05 20:47:48,2016-12-05 23:31:43
IS,Extending ActiveRecord Base breaks presence validation on belongs to relations,Steps to reproduce extend ActiveRecord Base Expected behavior Presence validation on belongs to relationships exist Actual behavior The built in presence validation on belongs to relationships no longer exist The validation will exist if you explicitly pass optional false but no longer exists by default System configuration Rails version 5 0 0 1 Ruby version 2 3 1 I have provided a sample application with minimal functionality required to demonstrate this issue,,rafaelfranca,2016-12-05 22:52:43,2016-12-06 00:20:13
PR,Remove unnecessary connection name variable,,,kamipo,2016-12-06 00:01:44,2016-12-06 00:33:35
IS,database index creation with length options failing in 5 0 1 rc1,With rails 5 0 1 rc1 I'm seeing failures to create indexes in MySQL with length options specified It looks like the length options are being ignored Steps to reproduce Executable reproduction script file active record gem rb Log of failure under 5 0 1 rc1 file 5 0 1 rc1 log Log of success under 5 0 0 1 file 5 0 0 1 log Line that breaks file active record gem rb L30 Expected behavior Index length options should be applied when the index is created Actual behavior Index length options are ignored resulting in the failure to create the index if underlying length limits are exceeded Note in particular that the create table USING clause differs as follows 5 0 1 rc1 failure USING btree user id uri 5 0 0 1 success USING btree user id uri 255 System configuration Rails version 5 0 1 rc1 Ruby version 2 3 1 Database mysql 5 6 22,,"maclover7,kamipo",2016-12-01 15:59:57,2016-12-06 00:43:18
PR,Update puma rb,Summary Clarifying some of the language punctuation and removing a couple comma splices,,brchristian,2016-12-06 00:48:46,2016-12-06 00:51:20
PR,Should inherit StatementInvalid rather than WrappedDatabaseException,Because defunct wrapper class is kept for compatibility,,kamipo,2016-12-05 22:43:21,2016-12-06 10:14:32
PR,5 0 stable,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2016-12-06 13:44:42,2016-12-06 13:56:51
PR,Ruby Tutorial,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails Ruby Tutorial,,,2016-12-06 13:43:55,2016-12-06 14:00:35
PR,Wrong variable name in action mailer,Summary Currently we use headers content type but I think it should be from class default variable self class default content type Because in set content type we named the third variable as class default,,rafaelfranca,2016-12-06 06:25:22,2016-12-06 15:18:59
PR,ActionCable Connection Base doc code sample syntax error,Summary Doc code sample generates syntax error needs parenthesis around find by identity parameter Seemed clearer to remove local variable named after method attribute bad and if else end statement then replace with ' ' operator FYI came across this working on a YARD based doc system it uses Ripper for code highlighting and I noticed this section was not highlighted,,"rafaelfranca,sgrif,rafaelfranca",2016-12-06 15:52:40,2016-12-06 16:48:15
PR,Use sort by instead of sort,Summary sort by is faster than sort so speed improves Benchmark,,sgrif,2016-12-06 00:43:08,2016-12-06 20:04:08
IS,includes and unscoped not working while having default scope in both models,I have the below 2 models Expected behavior unscoped should work with includes while using order Actual behavior In 1 case it is working but in another case it is not working Look the error above System configuration Rails version Rails 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"sgrif,sgrif",2016-12-02 20:45:53,2016-12-06 20:17:14
PR,ci skip Document regex change,Summary In 27126 updated the regex matcher for unsigned to exclude enum and set types There was a discussion on why the change was necessary and I thought it might be worthwhile to include the reasoning in with the code for future readers,,"alexcameron89,sgrif",2016-12-06 18:03:20,2016-12-06 20:22:14
PR,Fix association scope inside autosaved association callbacks,This pull request fixes has many scope in autosave after save callbacks This problem is also present in 4 2 x,,sgrif,2016-12-02 15:16:32,2016-12-06 20:30:53
PR,ports 26235 to 5 0 stable,,,utilum,2016-12-04 00:21:56,2016-12-06 20:32:33
PR,Improving av,Related to Here are some changes which help investigate the leak and choose the right strategy,,"kaspth,kaspth",2016-12-07 07:39:44,2016-12-07 07:42:59
PR,Fix ActiveModel Model API documentation ci skip,Fixes API wording to comply with conventions for API documentation and adds Action View interaction with Active Model,,,2016-12-07 03:42:29,2016-12-07 07:44:51
IS,JS Syntax highlighting inserts non breaking spaces into the documentation,I copied the secrets yml example from config secrets yml into a vim instance on my Redmine server while I was trying to upgrade to the most recent Redmine version but Redmine could not read it After a while I figured out that the leading spaces in the sample were UTF 8 non breaking spaces 0xC2 0xA0 pre martin dogmeat cat secrets yml xxd 00000000 6465 7665 6c6f 706d 656e 743a 0ac2 a0c2 development 00000010 a073 6563 7265 745f 6b65 795f 6261 7365 secret key base 00000020 3a0a c2a0 0a74 6573 743a 0ac2 a0c2 a073 test s 00000030 6563 7265 745f 6b65 795f 6261 7365 3a0a ecret key base 00000040 c2a0 0a70 726f 6475 6374 696f 6e3a 0ac2 production 00000050 a0c2 a073 6563 7265 745f 6b65 795f 6261 secret key ba 00000060 7365 3a20 3c25 3d20 454e 565b 2253 4543 se ENV SEC 00000070 5245 545f 4b45 595f 4241 5345 225d 2025 RET KEY BASE 00000080 3e0a pre I tried to track the issue down and I think that the JS syntax highlighting library used on the site causes this syntaxhighlighter syntaxhighlighter 31 Only Chrome Chromium seem to be affected it works fine in Firefox,,"maclover7,vipulnsward",2016-11-15 18:16:22,2016-12-07 07:45:10
IS,Wrong command for secret key creation in rails security guidelines,Expected behavior Should be rake secret Actual behavior Actually is rails secret See Ruby on Rails Security Guide session storage,,"sgrif,kaspth",2016-12-07 12:07:41,2016-12-07 12:20:15
PR,Do not clear digest cache in test environment,TL DR rspec spec integration Before 35sec After patch 20sec 20384 implemented template digest expiry for dev requests It is enabled by default for test env which is not required and degradates test performance I'm not sure if there should be testcase for this commit UPD There is failing test on travis But it is for actioncable and passes locally for me,,"matthewd,matthewd,matthewd,matthewd,matthewd,kaspth,rafaelfranca,matthewd",2016-12-05 18:37:01,2016-12-07 14:59:54
IS,Correctly instrument SQL runtime in the INFO log level,Since 191facc857bb4fb52078fb544c6bc1613a81cc80 particularly diff eba6b59bacb9a1d88646145ed1ff4c86L34 the SQL runtime is not instrumented under the INFO log level I guess this is a bug as I see no logical reason why this information is considered too verbose for the INFO log level Indeed this is still reported emitted but as 0 Moving that line back above the logger debug guard corrects the issue I'm happy to submit a fix but wanted first to assess whether this was the expected behaviour Steps to reproduce Expected behavior The SQL runtime counter should be instrumented in all log levels Actual behavior The SQL runtime counter is not instrumented correctly under the INFO log level System configuration Rails version 5 0 0 1 Ruby version 2 3 3,,"maclover7,rafaelfranca",2016-12-04 17:05:04,2016-12-07 18:24:37
PR,Only move fixture file upload to IntegrationTest,The rest of the helpers are better placed on Session and this is the only one that cares which class it is defined on Revises 26384 The new test added there is still passing but I have not come up with a test that proves this change is necessary confused cc,,"matthewd,senny,sgrif,matthewd,matthewd",2016-12-07 03:38:59,2016-12-07 21:00:12
IS,rescure from not working solved I have a typo,I am reading Agile Web Development with Rails 5 Chapter Iteration E2 Handling Errors ENV Ruby 2 3 1 Rails 5 macOS MacBook Pro 2014 mid image image The code should work My Question why rescue from not working as it work in the book Am I doing anything wrong Thank in advance for all these nice people in Rails community,,utilum,2016-12-08 12:36:42,2016-12-08 14:25:51
PR,support callable in routes default url options,to be used when we want to have defaults that are lazily evaluated for example when we want to have I18n locale as part as the path and we want it to reflect the locale that currently is active when the url is generated default url options in controller solve cases when we are generating the url in controller and views but it does not handle cases when Rails application routes url helpers are included in other classes which this commit address,,"rafaelfranca,sgrif,rafaelfranca",2016-12-07 04:40:28,2016-12-08 18:01:46
PR,Fix apply seconds precision not to be affected by mathn,Currently apply seconds precision cannnot round usec when after require 'mathn',,kamipo,2016-11-26 23:24:09,2016-12-08 18:04:39
PR,Should be sync the primary key definition with actually created,Actually the primary key definition is not used but the inconsistency is confusing Actual definition is bigint auto increment PRIMARY KEY so UNSIGNED and 8 is unnecessary See also 21607,,kamipo,2016-12-06 00:36:33,2016-12-08 18:15:13
PR,Make Yarn the default drop default vendor asset directories,Yarn is good Yarn works,,"dhh,guilleiguaran,bogdan,nateberkopec,rafaelfranca",2016-12-08 00:23:16,2016-12-08 18:33:23
IS,Using Postgresql with Prepared Statements turned off exec query discards bind parameters,Steps to reproduce Create a new rails app using Psql My questions are Should I be able to use User connection exec query SELECT from users where name 1 users nil 'aoeu' with prepared statements turned off If so can you provide me some of the nuance details of the internals to help me make the fix If not should the error message be improved,,"vipulnsward,sgrif,sgrif,sgrif,sgrif",2016-05-06 18:41:45,2016-12-08 18:37:25
IS,Cache key behaviour for alliased timestamps,Steps to reproduce I a simple model Expected behavior It should respect the defined alias and include the modified date into the cache key Actual behavior It does not include the modified date System configuration Rails 4 2 7 1 Ruby 2 3 0,,"prathamesh-sonpatki,prathamesh-sonpatki,matthewd,prathamesh-sonpatki,prathamesh-sonpatki",2016-09-07 07:19:12,2016-12-08 18:41:36
PR,Fix test breaking error uninitialized constant ActiveRecord Type Value,Fixes the following error when launching AR tests Reverts a line from ef76f83f4cf0f27e84c0c5f4a3ff426d7ad84d9d merged in 26696 ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux Rails master And you can see the same error in the CI,,"utilum,utilum,rafaelfranca",2016-12-08 20:53:04,2016-12-08 21:01:58
IS,erubis has a reentrancy problem not sure if it impacts rails,kwatch erubis 9 I ran into it using erubis directly in a rails app not via rails templating,,rafaelfranca,2016-12-08 22:53:01,2016-12-08 22:58:54
IS,Controller name inflection failing with v5 0 1 rc1,Steps to reproduce I was sadly unable to create a minimal complete and verifiable example from our codebase but basically at work we have a class ProjectsController ApplicationController and from what I can tell almost all tests that touch it fail using v5 0 1 rc1 I will try to find a short executable example Meanwhile I was able to pinpoint the commit using git bisect System configuration Rails version v5 0 1 rc1 Ruby version 2 3 1,,"matthewd,matthewd,matthewd",2016-12-07 14:38:58,2016-12-08 23:13:31
IS,Variable block can not be used in view,Steps to reproduce Since PR 26672 has been merged variable block in partial view does not work which previously worked In erb file Expected behavior block variable can be used in view can be used In Rails v5 0 0 Actual behavior block variable raises ActionView Template Error System configuration Rails version Latest version Ruby version ruby 2 3 3,,,2016-12-08 18:42:44,2016-12-08 23:20:54
PR,Enable block variable in view,Summary Enabling block variable in view This fixes 27302,,"matthewd,matthewd",2016-12-08 18:56:17,2016-12-08 23:20:54
PR,specify skip yarn option in API only Application,,,"y-yagi,schneems,dhh",2016-12-09 00:22:55,2016-12-09 03:07:40
PR,fix broken tests,Follow up to 0d20530e5edfd7d00fbc2a38ef5f87eca6ccc924,,"y-yagi,maclover7",2016-12-08 23:40:29,2016-12-09 03:08:13
PR,remove deprecated assert send from assertion list ci skip,assert send was deprecated in minitest 5 10 0 Ref,,y-yagi,2016-12-09 07:28:11,2016-12-09 09:59:51
PR,Show message if Yarn is not installed,cc,,guilleiguaran,2016-12-09 13:43:56,2016-12-09 15:46:28
PR,Idempotent option for after commit destroy callback,Summary In SQL a DELETE statement is always idempotent will always succeed even if the underlying table is only modified once Consequently the after commit callbacks on destroy will be invoked multiple times for a given model even if a single deletion occurred This means that user handlers must also be idempotent which is not always the case for example if counting resources The issue addressed in this PR is related to and is fixed in a similar fashion Introduce an optional idempotent flag for the after commit callback Default to true to preserve existing behaviour Cache whether the operation affected any rows and provide an actually destroyed getter Demonstrate problem and solution with new unit tests We Shopify have been running a monkey patched version of this PR since October in production with no ill effects r cc P S This is my first Rails PR so if there are any silly issues or violated conventions please let me know and I will resolve them as soon as possible Thank you,,"byroot,matthewd,kaspth,kaspth,kaspth,sgrif,sgrif,sgrif,sgrif,sgrif,sgrif,sgrif,byroot,byroot,rafaelfranca,sgrif,rafaelfranca,matthewd,sgrif,sgrif,sgrif,matthewd,sgrif,sgrif,sgrif,sgrif,sgrif,sgrif",2016-12-02 00:53:33,2016-12-09 18:48:52
PR,Add a changelog entry for 25451 ci skip,,,kamipo,2016-12-09 19:44:21,2016-12-09 19:52:17
IS,ActiveRecord PostgreSQL Range types transform differently on find by and find or create by,Steps to reproduce Schema Specifically the find or create by transformation is broken and seems to be trying to query as though the zip column was a single int and then find results where int is within the provided Range Looks like it is not triggering the postgres range support at all for some reason System configuration Rails version 5 0 0 1 Ruby version 2 3 3,,kamipo,2016-12-09 18:23:56,2016-12-09 20:01:42
PR,Basic webpack delegation to new webpacker gem,Fair warning This is early stage work x Make Yarn the default for new apps Polish the Webpacker gem a lot more This works with,,"dhh,guilleiguaran",2016-12-07 01:07:59,2016-12-09 20:19:43
IS,Rails documentation and nodoc,I have been working on a YARD plugin and decided to parse into several of the Rails DSL is to generate better Rails docs A good example would be ActiveRecord Base I have got a question on expectations regarding the RDoc nodoc directive In the RDoc docs nodoc will hide all methods constants etc of a class module marked as such But it will not hide inner classes modules or namespace child classes modules See Directives class RDoc Markup label Directives To hide inner classes one should use the nodoc all directive Conversely when viewing docs at api RubyOnRails org it appears that inner classes modules are being hidden I have got two types of Rails docs online user contributor the current gem docs user version show the following class ActiveRecord Associations Builder HasAndBelongsToMany JoinTableResolver KnownTable since it is not nodoc but all its parents are scroll the treeview up to see that This class is not shown at api RubyOnRails org I do not use RDoc but the docs sure seem to imply the class should be visible Hence 1 Should it be visible 2 If not should Rails code be changed to hide these objects If 2 is true I can generate a list of all non nodoc objects with nodoc parents,,rafaelfranca,2016-12-10 00:03:14,2016-12-10 00:06:41
PR,gemfile entry method need to return an empty array rather than nil,This fixes the following error when executing rails new command Follow up to 27288,,"y-yagi,maclover7,dhh",2016-12-10 00:07:08,2016-12-10 00:21:28
PR,run webpack command only when webpack option is specified,,,y-yagi,2016-12-10 01:48:49,2016-12-10 02:11:13
PR,Remove unnecessary variable aresult',Remove unnecessary variable result and replace a long conditional statement with a guard clause,,"kenta-s,kenta-s",2016-12-10 03:04:55,2016-12-10 04:26:45
PR,Fix CI failure caused by 25227 and 25280 were merged at the same time,,,kamipo,2016-12-10 12:44:14,2016-12-10 16:44:46
PR,Add a changelog entry for 25227 ci skip,,,kamipo,2016-12-10 14:09:40,2016-12-10 16:45:12
IS,Caching woes since 20884,Since updating our main production app to Rails 5 0 0 1 we ve noticed a bunch of substantial performance regressions and I ve managed to trace them back to 20884 Our main app is a publishing platform that has a public scope that looks something like Will this cache the Rails 4 2 way on the fetched articles in which case the fragment will cache hit and only trigger one query Or the 20884 way on the query signature count maximum updated at in which case the fragment will never cache hit and will trigger two queries Turns out it depends If more than 12 records exist it will be the Rails 4 2 way if fewer than 12 records exist it will be the 20884 way In my opinion 20884 should be reverted because the pre existing 4 2 behavior is both more intuitive and more performant at least in our application Barring that I think the documentation needs to be much more clear on how one is expected to use this new default behavior Filling my code with explicit to a at the end of every scope doesn t seem very Rails y to me but maybe that s the new best practice in 5 0 0 1,,"brchristian,sgrif,brchristian,sgrif,brchristian,sgrif,matthewd,sgrif,brchristian,brchristian",2016-12-10 20:20:46,2016-12-10 23:16:20
PR,5 0 stable,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2016-12-10 23:16:23,2016-12-10 23:55:07
PR,Remove duplicated line,,,kamipo,2016-12-11 14:16:31,2016-12-11 15:19:20
PR,Add a changelog entry for 26687 ci skip,,,"kamipo,eileencodes,kamipo,eileencodes,kamipo,eileencodes",2016-12-11 11:57:23,2016-12-11 19:35:57
IS,Getting started guides has several errors,Many times in the guide it is showing to use bin rails for rake tasks A couple are 5 2 section In this example the articles path helper is passed to the url option To see what Rails will do with this we look back at the output of bin rails routes and 5 5 Running a Migration At this point you can use a bin rails command to run the migration bin rails db migrate I'm sure that there are others too but I'm not that far into it Come on folks This is like the old days of things not working for newbs But you have come a long way so thanks Github Heroku and maybe twitter,,"utilum,maclover7",2016-12-11 21:09:45,2016-12-11 22:44:43
IS,read multi via cached true doesn t work with abbreviated syntax,On a Rails 5 0 0 1 project I noticed by looking at my logs that when I use in the logs It seems to me that if render is meant to be shorthand for render partial articles article collection then cached true should work equally well in both cases Is this a bug If so I d be happy to submit a PR,,"brchristian,kaspth,brchristian,kaspth",2016-12-09 23:24:56,2016-12-12 20:45:48
IS,actionview 5 1 0 alpha gem,Steps to reproduce I cloned the master Ran bundle Ran some rake tasks for building and installing gems rake build rake install Both aborted at actionview Guidelines for creating a bug report are available here creating a bug report Expected behavior It got the first three activesupport activemodel and activerecord installed just fine Actual behavior When it got to actionview Rake aborted cd actionview bundle exec rake package gem build actionview gemspec mv actionview 5 1 0 alpha gem C row rails pkg rake aborted LoadError cannot load such file blade System configuration Rails version rails 5 1 0 alpha Ruby version ruby 2 2 6p396 2016 11 15 revision 56800 x64 mingw32,,"guilleiguaran,matthewd",2016-12-12 02:24:48,2016-12-12 21:54:16
PR,Add Integer round and Float round core extensions,half option was added to Integer round and Float round in Ruby 2 4 And a behavior of round was changed to round to even We have depended a behavior of rounding to nearest In some case i e ActionView Helpers DateHelper distance of time in words we have to pass half up to round This core ext enables to us to pass a option even before Ruby 2 3,,"yui-knk,yui-knk,rafaelfranca,pixeltrix,yui-knk,rafaelfranca,yui-knk,rafaelfranca,rafaelfranca,yui-knk",2016-11-25 09:54:27,2016-12-13 00:47:01
PR,change return value of duplicable with Ruby 2 4,Summary NilClass FalseClass TrueClass Symbol and Numeric can dup with Ruby 2 4 Therefore the result of duplicable should also be adapted to result of dup Ref,,"y-yagi,kamipo,y-yagi,sgrif,matthewd,y-yagi,kaspth,y-yagi,kaspth",2016-12-07 07:57:36,2016-12-13 07:39:49
IS,More nodoc questions issues,Below is a final summary of my questions cases for nodoc use in Rails My interest is that I would prefer YardT2 doc is 'user version' correctly hides these objects nodoc Cases 1 Non nodoc object with nodoc namespace parent 1 1 Non nodoc ClassMethods module with nodoc namespace parent does this question have a 'global' answer vs case by case 2 Non nodoc class with nodoc superclass 3 Non nodoc object with attributes created via a nodoc module is included do call Case 1 was the main question in 27317 but I touched on case 2 Case 3 is new Below is an example of case 3 In ActiveRecord Base there are several modules that add attributes to it via the included do call Three of these are nodoc modules See ActiveRecord Base ActiveRecord Reflection include Reflection Attributes Methods This could be considered equivalent to opening the ActiveRecord Base class in the ActiveRecord Reflection module which would categorize the added attributes as non nodoc Hence case 3 is equivalent to should attributes like nested attributes options nested attributes options class method or aggregate reflections aggregate reflections instance method be visible in user versions of ActiveRecord Base I have updated the Rails nodoc info text file Case 1 L1 L98 is listed first followed by case 2 L101 L157 and case 3 L160 L193 Finally some info re doc software I would like to make this clear since you seem adamant that nodoc information should not appear anywhere RDoc All of the public facing RDoc versions of Rails seem to not include nodoc objects but as I have pointed out there may some issues RDoc does not natively parse into any Rails DSL YARD RubyDoc info rails shows many repos and gems doc would with YARD The only RDoc directives that YARD currently supports are when parsing c source Hence YARD docs will show all nodoc objects I do not believe that any public YARD sites parse into Rails DSL YardT2 I have gone to the trouble of allowing creation of both 'user' and 'contributor' versions of docs and nodoc objects are tagged as such I have added code to parse Rails DSL In the info on case 1 namespace parent there are several children of ActionView Helpers listed I thought some consideration should be given to whether ActionView Helpers should be nodoc so I looked around It has one native method eager load So I checked the 'Methods' list for it Seven eager load methods two are nodoc five are not That kind of information may be helpful to contributors so that is why I went to the trouble Another example might be looking up the process action chain in ActionController Base which shows six methods in order This kind of information cannot be obtained in RDoc or YARD and would take a bit of work to find in an IDE editor Anyway moving forward if you tagged the text file with directions I would be happy to start generating PR is Maybe a commit per base namespace or pile them all together by the three case types,,"rafaelfranca,matthewd,matthewd,matthewd,matthewd",2016-12-10 19:57:20,2016-12-13 14:18:58
PR,Update list of duplicable objects in AS core ext guide ci skip,BigDecimal has been duplicable since 440559f,,utilum,2016-12-13 15:06:18,2016-12-13 15:27:41
PR,fix new warning in ruby 2 4,This fixes the following warning Ref,,y-yagi,2016-12-14 00:05:10,2016-12-14 01:34:28
PR,use appropriate type for rc option,This fixes the following warning,,"y-yagi,kaspth",2016-12-14 02:14:20,2016-12-14 07:42:32
IS,ActiveRecord 4 2 6 argument out of range in 'utc' in mysql2 adapter,Hey guys I just tried to upgrade my rails app from rails 4 2 5 2 to 4 2 6 and got a new error while running my tests Since I could not find a reported error here is my backtrace System configuration Rails version 4 2 6 Ruby version 2 2 3 mysql2 gem version mysql2 0 3 20,,"rafaelfranca,al2o3cr",2016-03-08 14:34:24,2016-12-14 12:10:42
IS,Railties test broken,Steps to reproduce First error ruby w Itest test railties mounted engine test rb Expected behavior Tests run passing and or failing Actual behavior System configuration Rails version master Ruby version 2 3 3p222,,"utilum,maclover7,utilum,utilum,eileencodes,utilum",2016-12-13 19:50:50,2016-12-14 13:30:15
PR,Remove unused method namespaced file path,,,"mtsmfm,eileencodes",2016-12-14 10:11:23,2016-12-14 14:38:46
PR,Translate PG NotNullViolation AR RecordInvalid,We would like to be able to better present errors that occur when a record passes in memory validation but fails to insert or update to the database due to a null constraint on a column Introduce ActiveRecord NotNull as a wrapper around these database errors and rescue this error type when the Postgres adapter raises a PG NotNullViolation is asked to translate to a handleable error and returns a AR NotNull Since we will need to know what column caused the issue to correctly display the error we have the connection adapter parse the PG NotNullViolation message to extract the column The AR NotNull is then rescued a blank error is added to the appropriate column on the model and an ActiveRecord RecordInvalid is raised In applications developers generally see PG NotNullViolations in their logs or bug trackers when they have set a null constraint on a column but have not defined a corresponding presence validation on the model This often manifests as a 500 response to application users when they have not populated a specific column but is not presented in a good way as it would be if the validation were present Wrap the PG NotNullViolation in an ActiveRecord error with knowledge of the column which caused the error AR NotNull provides the standard interface that connection adapters can use to inform us of not null constraint violations This allows us to rescue them in order to provide a familiar and useful interface to invalid records the ActiveRecord RecordInvalid error combined with populating errors column with a blank error as if the model had defined the presence validation implied by the null constraint Rescue ActiveRecord NotNull populate errors column with an appropriate blank message and raise RecordInvalid This process allows us to take an unfriendly error for developers which likely results in a 500 response for end users and present it in a familiar actionable way that will probably already be handled by redirects to a form with styles and messaging to assist in resolving the problem ActiveRecord RecordInvalid errors add column blank ActiveRecord NotNull new column PG NotNullViolation This PR is a proof of concept for adapting these error messages into actionable AR RecordInvalids with useful errors populated for columns Other potential applications of adapting messaging from the database to useful ActiveModel ActiveRecord Errors include Errors for missing associations from foreign key constraints Errors for comparisons and numericality from CHECK constraints Clusivity errors Length errors Uniqueness errors from index violations etc,,"maclover7,sgrif,kamipo,sgrif,matthewd,sgrif,matthewd,sgrif,sgrif,matthewd",2016-12-06 00:49:46,2016-12-14 15:22:42
PR,Fix constantize edge case involving prepend autoloading and name conflicts,In the following situation Running Inflector constantize 'Foo Bar' would blow up with a NameError uninitialized constant Baz Bar What is happening is that constatize was written before the introduction of prepend and wrongly assume that klass ancestors first klass So it uses klass ancestors inject without arguments as a result a prepended module is used in place of the actual class for review please cc because you stepped upon that bug,,"eileencodes,eileencodes,rafaelfranca",2016-12-14 10:58:11,2016-12-14 17:31:09
PR,Mention JS Runtime dependency in dev dependencies guide ci skip,Follows 27347,,"utilum,maclover7,utilum,maclover7,utilum,fxn,utilum,fxn,utilum",2016-12-14 15:10:18,2016-12-14 20:15:03
IS,Date parse mishandling spanish months,Steps to reproduce rails console 2 3 0 003 Date parse 01 Agosto 2016 Thu 01 Dec 2016 2 3 0 004 Date parse 01 Abril 2016 Thu 01 Dec 2016 Expected behavior 2 3 0 003 Date parse 01 Agosto 2016 Mon 01 Aug 2016 2 3 0 004 Date parse 01 Abril 2016 Xxx 01 Apr 2016 Actual behavior Agosto is parsed to December Abril is parsed to December System configuration Rails 5 0 0 1 Ruby 2 3 0 Would much like to fix this myself should be straight forward but I'm a hobby developer and have never contributed to a project,,"nateberkopec,maclover7",2016-12-14 18:41:52,2016-12-14 20:59:02
IS,Gem Load Error is Could not find a JavaScript runtime,Steps to reproduce Generate new rails app by using rails new appname run bundle install start server by rails s You will see the error in the terminal Expected behavior It should not give an error when running server Actual behavior It gives an error saying Gem Load Error is Could not find a JavaScript runtime See for a list of available runtimes System configuration Rails version 5 0 0 1 Ruby version 2 3 0 Solution uncomment the therubyracer gem in gemfile and run bundle install Now try running server It will work file So I think in default rails generated app by the rails generator should have this change Please let me know what you think,,"guilleiguaran,guilleiguaran,nateberkopec",2016-12-14 14:22:24,2016-12-14 21:07:38
IS,ActiveRecord 5 method missing' undefined method helper' for MyMailer,Issue There is an issue with activerecord 5 0 0 1 that shuts down my app on startup in production I deployed my app on Heroku and the following occurred Rails Console app vendor bundle ruby 2 2 0 gems activerecord 5 0 0 1 lib active record dynamic matchers rb 21 in method missing' undefined method helper' for MyMailer call 'MyMailer connection' to establish a connection Class NoMethodError from app app models my mailer rb 2 in class MyMailer ' from app app models my mailer rb 1 in top required ' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 293 in require' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 293 in block in require' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 259 in load dependency' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 293 in require' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 380 in block in require or load' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 37 in block in load interlock' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies interlock rb 12 in block in loading' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support concurrency share lock rb 117 in exclusive' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies interlock rb 11 in loading' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 37 in load interlock' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 358 in require or load' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 336 in depend on' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 252 in require dependency' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails engine rb 476 in block 2 levels in eager load ' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails engine rb 475 in each' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails engine rb 475 in block in eager load ' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails engine rb 473 in each' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails engine rb 473 in eager load ' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails engine rb 354 in eager load ' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails application finisher rb 59 in each' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails application finisher rb 59 in block in module Finisher ' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails initializable rb 30 in instance exec' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails initializable rb 30 in run' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails initializable rb 55 in block in run initializers' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 226 in block in tsort each' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 348 in block 2 levels in each strongly connected component' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 429 in each strongly connected component from' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 347 in block in each strongly connected component' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 345 in each' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 345 in call' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 345 in each strongly connected component' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 224 in tsort each' from app vendor ruby 2 2 6 lib ruby 2 2 0 tsort rb 203 in tsort each' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails initializable rb 54 in run initializers' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails application rb 352 in initialize ' from app config environment rb 5 in top required ' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 293 in require' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 293 in block in require' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 259 in load dependency' from app vendor bundle ruby 2 2 0 gems activesupport 5 0 0 1 lib active support dependencies rb 293 in require' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails application rb 328 in require environment ' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails commands commands tasks rb 157 in require application and environment ' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails commands commands tasks rb 77 in console' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails commands commands tasks rb 49 in run command ' from app vendor bundle ruby 2 2 0 gems railties 5 0 0 1 lib rails commands rb 18 in top required ' from app bin rails 4 in require' from app bin rails 4 in main ' In development everything runs fine I am fairly new to Rails so I do not know which factors are important for this issue I am not sure if it is remotely caused or issued by my app System configuration Rails version 5 0 0 1 Ruby version 2 2 0,,"nateberkopec,maclover7",2016-12-14 17:15:21,2016-12-14 21:43:18
IS,Rails 5 belongs to requirement error in nested attributes,Steps to reproduce Using the following configuration Expected behavior When I created a new car using these parameters car name Fusca car color Blue car category attributes name Old Then I got category categorizable must exist But when I set belongs to required by default false it worked I think that this issue is caused because the id of the Car is created before the validation of Category System configuration Rails 5 0 0 1 ruby 2 3 3p222,,"nateberkopec,prathamesh-sonpatki",2016-12-14 18:27:07,2016-12-15 12:50:55
PR,Add missing spaces to button tag api doc ci skip,Summary Introduced missing space in reset button description,,vipulnsward,2016-12-15 13:15:15,2016-12-15 13:16:52
PR,Avoid invalid attribute on local forms generated by form with,Fixes that the following ERB template would result in invalid HTML output,,"georgeclaghorn,kaspth",2016-12-15 07:00:19,2016-12-15 19:07:12
PR,Introduce a guide to choosing an app server ci skip,Summary Introduces a beginner friendly guide to choosing an app server to use in production The only code changes are the addition of a comment in the Rails app template is Gemfile referring to the new guide Other Information from Phusion ci skip,,"dhh,nateberkopec,dhh,matthewd",2016-12-15 18:38:33,2016-12-15 21:17:31
IS,Chaining where with first or initialize only assigns association id not the full model,Steps to reproduce Expected behavior Since a Category object was passed into the where p category should already be in memory and should not trigger an additional query Actual behavior Calling p category triggers an additional query System configuration Rails version 5 0 0 1 Ruby version 2 3 3,,maclover7,2016-12-15 16:40:11,2016-12-15 21:28:50
IS,ActiveRecord ConnectionAdapters QueryCache can not dup NilClass,An intermittent issue happens on Heroku with Puma and Thin Rails revision 72e28bc75ecb9de71e1139caac33d57d02481536 Rails branch 4 2 stable I can not manually reproduce this but often see this error in airbrake Backtrace,,maclover7,2016-02-19 12:32:58,2016-12-15 22:02:23
PR,fix QueryCache nil dup,Because the sql component of the payload to the subscriber can be mutated it is possible the validity of the check for the presence of the key may actually changed Using dup ensures that the check remains valid when the cache is eventually queried Fixes,,"matthewd,matthewd,rafaelfranca,matthewd,matthewd,matthewd",2016-12-12 21:54:38,2016-12-15 22:02:23
IS,Assymetric Time String equality,Steps to reproduce Expected behavior Both comparisons return false Actual behavior Time equals String System configuration Behavior can be examined in ActiveSupport 4 2 and 5 0 I did not test other versions Ruby 2 3 3 This causes all kinds of weird issues like this one for example Normally you would assume object equality to be symmetrical so that if a b then b a This is not true in this case,,"rwz,rafaelfranca,rwz,rafaelfranca",2016-12-15 21:52:58,2016-12-15 22:06:55
PR,Fix typo a event an event,,,"kenta-s,maclover7,kenta-s",2016-12-15 23:44:51,2016-12-15 23:49:46
IS,dd,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2016-12-16 08:12:58,2016-12-16 08:21:38
PR,Support double yield inside an around callback,It is questionable whether this is a good thing it forces any later inner callback to handle multiple invocations along with the actual wrapped action But it worked prior to 871ca21f6a1d65c0ec78cb5a9641411e2210460b 26147 so we should not break it unintentionally,,matthewd,2016-12-15 09:01:09,2016-12-16 12:44:47
IS,Current master it is not possible to use in Gemfile,I would like to play with Rails 5 1 master with our current application Steps to reproduce 1 put replace this line in Gemfile If I run gem list I do not see any active action or rails gem on the list System configuration Rails version current master Ruby version Ruby 2 3 3 Ruby 2 4 0 rc1 Bundler version 1 12 6 1 13 6,,"utilum,utilum,simi,utilum,matthewd,guilleiguaran,kaspth",2016-12-16 11:11:17,2016-12-16 12:47:49
IS,CoffeeScript is not defined error,Steps to reproduce 1 rails new myapp 2 cd myapp 3 rails generate controller Welcome index 4 Add root 'welcome index' to config routes rb 5 rails server Expected behavior Renders index html erb Actual behavior app views layouts application html erb where line 7 raised ReferenceError CoffeeScript is not defined csrf meta tags stylesheet link tag 'application' media 'all' wouldata turbolinks track' areload' javascript include tag 'application' wouldata turbolinks track' areload' head System configuration OSX 10 11 6 Rails version 5 0 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin15,,"guilleiguaran,utilum,guilleiguaran",2016-12-15 18:27:34,2016-12-16 14:57:37
PR,Throw friendly error message when fixture is not a hash,Right now when the fixture is not a Hash we throw an error message saying fixture is not a hash This is not very user friendly because it is not telling the developer which fixture is invalid,,"kirs,matthewd,kirs",2016-12-15 20:22:24,2016-12-16 15:49:00
IS,Hash parameter incorrectly encoded,In a remote template I have the following form form tag controller looking for action search object name params object name method names params method names fill params fill conditions params conditions no case params no case use upper params use upper include params include update params update on row click params on row click effect params effect base id params base id order params order labels params labels onsetvalue params onsetvalue with params with all services params all services all companies params all companies title params title method 'get' remote true id params base id form do Whem first called params inspect returns ActionController Parameters fill code reportedby code id incident reportedby id name reportedby name surname reportedby surname height 300 labels labor name surname method names code name surname no case name surname object name Labor onsetvalue ' reportedby name' val ' reportedby name' val ' ' ' reportedby surname' val order code use upper code width 500 action search controller looking for base id looking for labors permitted false and you can see that the fill parameter is a Hash in the controller who calls the template params fill class to s ActionController Parameters After submit in the controller params inspect returns ActionController Parameters base id looking for labors fill ActionController Parameters 0x4f52f7 labels labor name surname method names code name surname no case name surname object name Labor onsetvalue ' reportedby name' val ' reportedby name' val ' ' ' reportedby surname' val order code use upper code utf8 looking for labors page 2 looking for filter ActionController Parameters code name surname permitted false action search controller looking for permitted false in the controller who calls the template params fill class to s String Note if I pass a string the parameters is received correctly In rails 4 2 it works as expected With Jruby 9 1 5 0 Rails 5 0 0 1 on windows Puma latest version as web server,,rafaelfranca,2016-11-04 16:21:25,2016-12-16 16:13:10
IS,DOCS Change ActiveModel Type Helpers to nodoc,All of its namespace children are nodoc and it contains no methods or constants No reason to have it appear in normal docs which at api rubyonrails org shows all the files the namespace is defined in See also ActiveModel Type Helpers,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-12-16 14:54:03,2016-12-16 18:02:42
PR,Docs Command Line Arguments for Generators,Summary This PR adds a documentation section explaining how to add command line arguments to Rails generators This functionality comes from Thor but I think its worth having a section in the Rails guide since it took some extra time to figure how to do this correctly Here is an example generator where I used command line arguments like this,,,2016-12-16 16:22:35,2016-12-16 18:04:02
PR,Change ActiveModel Type Helpers to nodoc ci skip,Summary ActiveModel Type Helpers is a namespace 'placeholder' as it has no native methods or constants All of its namespace class module children are nodoc but it is not PR changes it to nodoc See 27385,,"maclover7,rafaelfranca",2016-12-16 19:44:31,2016-12-16 21:58:55
PR,Add missing option on number helper,The delimiter pattern option was not present on the documentation of the number with delimiter helper,,prathamesh-sonpatki,2016-12-17 13:57:25,2016-12-17 15:02:03
PR,How to disable scaffolds scss in generators md,Enhance the generators guide to include information on how to disable generating the default scaffolds scss,,"eileencodes,eileencodes",2016-12-16 11:48:01,2016-12-17 17:29:56
IS,Error on reload when registering ActiveRecord Types in initializer,Steps to reproduce 1 Create a custom ActiveRecord Type 2 Register that type in an initializer as advised in the docs via ActiveRecord Type register 3 Create a model where that custom type is used 4 Start a rails console 5 reload the environment 6 ArgumentError A copy of CustomType has been removed from the module tree but is still active I have created a sample application that does above steps and exhibits the error Expected behavior I would expect the type to be reloaded just fine Actual behavior An ArgumentError is raised because the Type registry still holds the old reference to the now reloaded CustomType System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112 I'm able to work around this issue by placing the ActiveRecord Type register call into the file that defines the type However you then need to be careful about the order the files are loaded e g that hack does not work out of the box for the example repository above I tried producing a quick fix by clearing the types registry in a to prepare callback but of course we would need to re register the custom defined types and any other default ones Have not found a nice way how to do this yet,,"fxn,gsamokovarov,eileencodes",2016-12-12 08:44:16,2016-12-17 17:37:08
PR,Improve clarity of AJ tests output,Output adapter name before running AJ tests for it We do something similar L16 in AR tests it gives a context to the chunks as they rush up the screen,,"utilum,eileencodes",2016-12-12 20:56:18,2016-12-17 18:03:52
PR,Simplify the regex for unsigned method,It is enough to distinguish only the trailing unsigned and unsigned zerofill,,"kamipo,eileencodes,kamipo",2016-12-11 12:40:15,2016-12-17 18:06:51
PR,Fix Fixnum deprecated warning in Ruby 2 4,This is the single one of near more than a thousand Fixnum Bignum deprecation warnings that comes from Rails itself,,"utilum,matthewd,utilum,matthewd,utilum,jeremy,utilum,matthewd,utilum,utilum,utilum,kaspth,kaspth",2016-12-15 02:40:46,2016-12-18 03:57:29
PR,Backport fd87169 to 5 0 stable,Summary This PR is backporting of I want this commit Because I want to solve this problem,,"yahonda,koic",2016-12-16 05:58:04,2016-12-18 03:59:18
PR,Backport 26732 to 5 0 stable,This PR backports PR 26732 to the 5 0 stable branch,,y-yagi,2016-12-17 23:48:19,2016-12-18 04:01:02
PR,Fix rake guides generate kindle error,Summary PR 26851 updated kindlerb from 0 1 1 to 1 0 1 without changing the usage of kindlerb but in fact kindlerb 1 0 has a breaking change it does not provide kindlerb executable anymore So the rake task guides generate kindle always reports Please gem install kindlerb and make sure you have kindlegen in your PATH This PR updates kindlerb to 1 2 0 also updates the codes that use kindlerb,,"fxn,fxn",2016-12-18 14:58:01,2016-12-18 15:24:00
PR,Consolidate duplicated elsif branch,,,kamipo,2016-12-19 04:30:11,2016-12-19 06:21:41
PR,Remove useless test supports primary key,supports primary key method is defined in AbstractAdapter so does not raise any errors,,kamipo,2016-12-19 02:29:41,2016-12-19 13:53:52
PR,ARGV shift before calling Rails generators,Summary Gems like rspec rails depend on ARGV being shifted and scaffold for example not being the first item in ARGV This behavior was lost in 26414 This should allow rspec rails to be passing on Rails master cc,,"maclover7,eileencodes,maclover7,kaspth",2016-12-17 01:12:09,2016-12-19 14:20:04
PR,Add note on defaults block option,Summary When I was looking for how to default the entire routes file to JSON I could only find the postfix option It was mentioned on IRC that you could do this with a block as well and I had not found it in the documentation,,,2016-12-15 01:18:30,2016-12-19 14:25:58
PR,Fix test failure when output includes warnings,Right now we are getting a lot of warnings using Ruby 2 4 0 rc1 due to Fixnum Bignum deprecation and even though functionality is correct the test fails,,"utilum,matthewd,utilum,matthewd",2016-12-19 11:48:19,2016-12-19 14:45:54
IS,NotImplementedError on File atomic write,Steps to reproduce Please refer to below Expected behavior It should ignore error on chown and create a file Actual behavior It raises NotImplementedError System configuration Rails version master Ruby version JRuby 9 1 6 0 with JRUBY OPTS Xnative enabled false,,"matthewd,guilleiguaran",2016-12-19 15:17:02,2016-12-19 15:35:56
PR,Fix typo in channel generator usage message,Summary I fixed the following typo on the usage message for the channel generator actioncable lib rails generators channel USAGE Note Turn on the cable connection in app assets javascript cable js after generating any channels Where it says javascript it should say javascripts,,eileencodes,2016-12-19 15:35:01,2016-12-19 17:29:12
PR,make work bin test scripts with line filter,Rails LineFiltering is not automatically loaded need to load it explicitly Ref 797f1dd b6f935b,,"y-yagi,kaspth",2016-12-17 09:10:29,2016-12-19 18:09:14
IS,Queries with a association named same as specified FK causes SystemStackError,Steps to reproduce 1 Have a table matches with a column named winner without id 2 Have a model with belongs to winner class name Match foreign key winner 3 Do a where query Match where winner team Expected behavior Rather self explanatory I think Return a collection where the winner is equal to team This was the case in previous versions at least 4 2 Actual behavior Causes SystemStackError stack level too deep System configuration Rails version 5 0 0 1 Ruby version 2 3 0 I worked around it by renaming the column winner to winner id and not specifying the foreign key,,alexcameron89,2016-12-19 20:22:03,2016-12-19 21:13:09
IS,Very rarely update attributes fails nearly silently,Steps to reproduce Only one before destroy callback Not sure if it is relevant but there was there was a worker active in another terminal window failing a few times Although I noticed it after so I'm not sure if it happened concurrently Other than that it has not happened enough to really notice what is out of the ordinary A few days ago I made a SO post when it happened once and before that it happened a couple of days before but I just ignored it figuring I was tired and imagining it I'm fairly certain that it has not just happened in the console either I'm pretty sure it happened at least once in my code as well the first time Expected behavior System configuration Rails version Rails 5 0 0 1 pg 0 19 0 PostgreSQL 9 5 2 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"rafaelfranca,matthewd",2016-12-20 01:38:51,2016-12-20 01:45:14
IS,after commit callbacks not running when an action is specified,The problem seems to be that transaction include any action L458 is being passed a list of strings but the case statement expects symbols Overriding transaction include any action and calling to sym on the action in the case statement makes everything work as expected but the fact that this does not appear to have been brought up before makes me uncertain Steps to reproduce 1 Model 2 Run User create username test Expected behavior callback method should be run Actual behavior callback method is not run System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,rafaelfranca,2016-12-19 23:17:59,2016-12-20 02:52:12
IS,Content Type regression in 5 0 1 rc2,Steps to reproduce I'm not entirely sure if this is a bug or a fix in 5 0 1 rc2 but since I could not find a deprecation warning or similar I thought I would report anyway since this happens in an update in a patch version I think it is similar or the same as in I have not yet tried with git bisect but so far my best bet would be that it has been introduced in and also a discussion here I have the following code in a controller System configuration Rails version 5 0 1 rc2 Ruby version 2 3 1,,,2016-12-13 15:05:49,2016-12-20 11:04:22
PR,Only default the response charset when it is first set,If it is explicitly cleared e g response sending file true then we should not try to set it again Revises 26317 fixes 27344,,"matthewd,matthewd",2016-12-19 18:37:02,2016-12-20 11:04:22
PR,Revise the XML is not HTML test,It was depending on a side effect of the old html scanner L31 L39 so was no longer proving what it intended to Instead assert more directly about the resulting observable difference should this test even exist or is this now really rails html sanitizer is job while we still ultimately want the Fixnum warning to go away this removes the assertion it was tripping freeing 27412,,matthewd,2016-12-20 08:58:16,2016-12-20 18:10:25
PR,Ignore warnings caused by bundled gems,Checking all warnings makes the test case fragile For example test should not impose childless html tags in xml failed by these warnings This commit will suppress these noise,,"yui-knk,maclover7,nateberkopec,yui-knk,utilum,kaspth,yui-knk",2016-12-14 11:37:36,2016-12-20 19:52:30
IS,Expected string default value for jbuilder got true boolean error in a new rails project with a previously used name,I am starting a new project and have done this meany times now However this is the first time I have run into this issue I created the app as normal rails new myapp d postgresql I have created the DB using rails db create and ran the site rails s It all works and I see the Rails welcome holding page Now I start to create my models rails g model user for example And I get the following error Has anyone else had this issue and if so any ideas why I have tried running bundle install and bundle update with no luck I have also tried setting the thor version as mentioned in this post I am using Rails 5 0 0 1 and Ruby 2 3 1 I noticed this has only just started happening since I did an update to macOS to 10 12 1 I am not sure if they are related I started to test this out further And I created a couple of different projects rails new testapppg and rails new testapp pg On both of apps I changed the thor gem gem 'thor' '0 19 1' I then went on to run bundle update and create the DB Now both of these projects created the test models when running rails g model sample Cool So that is the fix So I went back and recreated my myapp app from scratch as i did before updated the thor gem created the DB Now when I went to create the model I got the errors again So my next question is does Rails cache project names which is why the new projects worked fine but the one with the previously used name causes the error,,"rafaelfranca,kaspth",2016-12-20 12:37:52,2016-12-20 20:04:39
PR,Ruby 2 4 compatibility,Summary This PR adds Ruby 2 4 compatibility to Rails Below are the current test suite statuses for each of the Rails components x Cable PASSING x Mailer PASSING x Pack PASSING x View PASSING x Job PASSING x Model PASSING x Record PASSING x Support PASSING x Railties PASSING This PR also adds Ruby v2 4 0 rc1 to the Travis matrix to prevent any regressions and also just to add this release line to our Travis matrix Other Information Small adjustments were needed in order to get CI passing This includes two dependency upgrades concurrent ruby and sprockets and one slight modification to the railties test suite a similar patch was already applied on master in a different location,,"maclover7,matthewd,maclover7,kaspth",2016-12-20 03:06:42,2016-12-20 20:35:19
PR,Improve javascript include tag documentation,Add all the available options and correct the samples of the javascript include tag,,eileencodes,2016-12-19 11:17:26,2016-12-20 21:12:39
IS,render 'empty list' when is empty,Steps to reproduce Expected behavior no foos partial should be rendered Actual behavior no foos partial is not rendered unless foos nil System configuration Rails version 4 1 15 Ruby version 2 2 4,,"georgeclaghorn,guilleiguaran",2016-12-21 02:09:25,2016-12-21 02:43:34
PR,fix fixtures loading for models with same table names in different databases,Hello Updating an app to Rails 5 I found a regression introduced by this commit The app I'm working on has different models that connect to different databases and some of them use the same table names In this case is not enough just to save the table name to know that we have already run DELETE FROM prior inserting the fixtures that causes problems loading the fixtures of my app because some tables are not properly cleaned up I could solve the problem by appending the database name in the key that we use in order to know if we have to clean the table I hope you like the fix Cheers,,"matthewd,kaspth,kaspth",2016-12-14 11:36:37,2016-12-21 11:32:16
PR,fix typo in getting started ci skip,s variants variant,,vipulnsward,2016-12-21 16:12:04,2016-12-21 16:14:54
IS,ActiveSupport Samoa Timezone error,Steps to reproduce In rails console DateTime now in time zone Samoa Returns a date with a UTC offset of 14 00 ActiveSupport TimeZone new 'Samoa' utc offset 60 60 Returns 11 Expected behavior ActiveSupport TimeZone new 'Samoa' utc offset 60 60 Should return 14 or 13 based on daylight savings time Actual behavior ActiveSupport TimeZone new 'Samoa' utc offset 60 60 Returns 11 System configuration Rails version 5 0 0 1 Ruby version 2 3 0p0,,,2016-12-20 19:06:55,2016-12-21 16:22:25
PR,WIP Support channel prefix configuration for ActionCable,Summary Adds support for config action cable channel prefix for 27224 TODO Tests Suite passes but need to test this change Default to app name env in new framework defaults Documentation I'm sure there is more,,maclover7,2016-12-01 16:32:21,2016-12-21 16:55:15
IS,rails api with action cable,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen as on the rails actioncable base is the documentation it stated that System configuration Rails version rails 5 0 0 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"maclover7,robin850",2016-12-19 13:21:03,2016-12-21 17:53:45
PR,Document and update API for skip parameter encoding,This commit changes parameter encoding to skip parameter encoding skip parameter encoding will set encoding on all parameters to ASCII 8BIT for a given action on a particular controller This allows the controller to handle data when the encoding of that data is unknown for example file systems or truly binary parameters This should work for our case on GitHub I think with the change to Utils we could even go so far as to remove the class level config method and just call out to the controller to do parameter encoding Either way will work for me cc,,"tenderlove,dhh,arthurnn",2016-12-21 19:23:29,2016-12-21 21:47:43
PR,Remove warning in ActiveJob,Currently it causes,,kirs,2016-12-22 01:40:11,2016-12-22 03:17:51
PR,quiet generators log in test,This quiet the following log,,y-yagi,2016-12-22 02:04:15,2016-12-22 06:43:30
PR,Default fixtures path to spec fixtures if it exists,Summary This patch allows the use of rspec fixtures without having to override FIXTURES PATH Other Information I could not find any existing areas in the tests related to fixtures path handling so I did not write one If you would like one please advise where it should live,,"thewoolleyman,matthewd",2016-12-22 07:31:21,2016-12-22 11:26:33
IS,Can not parsing lt to,,,matthewd,2016-12-22 09:57:12,2016-12-22 11:36:59
PR,Fix duplicable for Complex and Rational,ComplexClass and RationalClass can not be duplicated but are not taken into account by duplicable,,utilum,2016-12-21 16:47:46,2016-12-22 19:27:08
IS,Rails upgrade from 5 0 0 1 to 5 0 1 breaks ActionCable WSS Upgrade,Steps to reproduce Upgraded existing application on Rails 5 0 0 1 to Rails 5 0 1 No other changes were made Websocket connected and were able to switch protocol in development environment without any issues when on 5 0 0 1 However when pushed to production the websockets would not switch protocols Expected behavior Request URL wss Request Method GET Status Code 101 Switching Protocols Actual behavior ActionCable WebSocket never switches protocol System configuration Rails 5 0 1 Ruby 2 3 3 Passenger 5 1 0 Nginx Config,,"eileencodes,guilleiguaran,FooBarWidget,FooBarWidget,FooBarWidget,FooBarWidget",2016-12-21 05:11:56,2016-12-22 20:18:40
IS,rails test command fails with warning to run bundle install after upgrade from 5 0 0 1 to 5 01,Steps to reproduce run command rails test Expected behavior entire test suite should run Actual behavior receive message Could not find concurrent ruby 1 0 3 in any of the sources Run bundle install to install missing gems running bundle install does not resolve issue running rake test works fine cannot run individual tests development mode boots and runs fine System configuration rails 5 0 1 ruby 2 3 3 OS Sierra Ruby version,,"prathamesh-sonpatki,kaspth,prathamesh-sonpatki",2016-12-21 23:23:41,2016-12-23 16:04:58
IS,ActiveRecord JDBCError org postgresql util PSQLException ERROR multiple primary keys for table schema migrations are not allowed,Steps to reproduce When postgres db with jruby is used with rails 5 it causes following problem However same works well with rails 4 X versions Same bug report is also available here Expected behavior rake db migrate should run pending migration Actual behavior gives an error Position 75 CREATE TABLE schema migrations version character varying PRIMARY KEY PRIMARY KEY PRIMARY KEY System configuration Rails version 5 0 1 also tried in several rails 5 version Ruby version jruby 9 1 6 0 also tried with jruby 9 1 2 0,,rafaelfranca,2016-12-23 18:11:05,2016-12-23 19:29:00
PR,Remove unnecessary attr acessors in AV tests and get rid of two method redefined warnings,Fixes the following warnings when launching AV tests Removes two unnecessary Post send calls from their respective tests,,"utilum,matthewd,utilum,utilum,kaspth,kaspth,utilum,kaspth,kaspth,utilum,prathamesh-sonpatki,utilum,amatsuda,utilum",2016-12-08 23:25:05,2016-12-23 21:43:27
PR,fix AC warning method redefined,Fixes the following warning ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux Rails master,,"utilum,rafaelfranca,utilum,utilum,rafaelfranca,utilum,utilum,utilum",2016-12-08 21:49:53,2016-12-23 22:04:10
IS,Unable to pass parameters to rails server command,I am testing the ransack demo app from github The app is using rails 5 1 0 alpha Unfortunately it appears this version of Rails is broken I am unable to pass any parameters to the call rails server Is there some kind of ref or branch I can update to When I try downgrading Rails I get an error at this line of code tag h1 'Search Users' What is tag Is that a new feature of rails,,rafaelfranca,2016-12-23 23:47:40,2016-12-24 01:27:42
PR,No need doc for nodoc classes ci skip,Follow up to 5b14129d8d4ad302b4e11df6bd5c7891b75f393c r,,"kamipo,amatsuda",2016-12-24 17:52:35,2016-12-24 18:38:30
PR,fix indents of routes generated by controller generator,,,"y-yagi,kaspth,y-yagi",2016-12-24 10:12:57,2016-12-25 06:22:28
PR,Bump sdoc to rc1 which includes zzak sdoc 98,cc,,"zzak,amatsuda",2016-12-25 08:56:45,2016-12-25 09:25:24
IS,Running specific rails version,Hi I have rails 5 0 0 1 and 4 2 7 1 installed I am using rbenv to manage multiple ruby versions I would like to create new 4 2 7 1 rails app and I use the following command rails 4 2 7 1 new to remove As far as I know this 4 2 7 1 should tell rubygems which version to use And it seems to work well since rubygems resolves binary path to Users aleksey rbenv versions 2 3 3 lib ruby gems 2 3 0 gems railties 4 2 7 1 bin rails The file is very short Is it something wrong with my environment or am I doing something wrong Is there any way to run specific rails version Thank you,,matthewd,2016-12-26 11:39:01,2016-12-26 11:57:05
PR,Get 5 0 stable happy with Ruby 2 4 0,,,"matthewd,morgoth",2016-12-26 14:21:22,2016-12-26 14:57:45
IS,activesupport 5 0 1 ERROR,Running rails s Expected behavior the terminal should only have a message that will tell the user how to terminate the rails app Actual behavior But then again this is what happened Users Menj rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 51 warning constant Fixnum is deprecated Users Menj rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 52 warning constant Bignum is deprecated System configuration Rails version 2 4 0 Ruby version 5 0 1,,prathamesh-sonpatki,2016-12-26 16:29:55,2016-12-26 16:35:00
IS,params from cookies in routes rb,I would like to suggest an enhancement for routes params may also come from cookies I would like to declare and handle them in routes they shall not be query parms in the generated urls I think about cookies like a preferences set in the browser by the individual user But I do not want to explode the url space of my site So I would like to hide the users preferences saved in cookies but then these are params for generating a page and I want to declare that difference once in routes Let is see what we could do my first try routes cookies map in declared cookies into params routes drop remove params from url generation routes preferences both of the above combined It is all about context Let is make this easy more to come eike,,prathamesh-sonpatki,2016-12-25 16:41:49,2016-12-26 16:37:19
PR,Restore missing Gemfile lock entries,These lines were lost in diff e79a60dc6b85309ae70a6ea8261eaf95L204,,kamipo,2016-12-26 15:53:23,2016-12-26 17:19:18
IS,Activesupport 5 0 1 not compatible with Ruby 2 4 0 few deprecations,activesupport 5 0 1 lib active support xml mini rb 51 warning constant Fixnum is deprecated activesupport 5 0 1 lib active support xml mini rb 52 warning constant Bignum is deprecated activesupport 5 0 1 lib active support core ext numeric conversions rb 138 warning constant Fixnum is deprecated Actual behavior Starting server System configuration Rails version 5 0 1 Ruby version 2 4 0,,"matthewd,jeremy",2016-12-26 17:57:50,2016-12-26 18:00:21
IS,Component 'json' of Ruby on Rails not working with Ruby 2 4 0,Install Ruby 2 4 0 In projects with RoR 3 2 xx 4 2 xxx bundle install is fail Gem Ext BuildError ERROR Failed to build gem native extension current directory home ruby rbenv versions 2 4 0 lib ruby gems 2 4 0 gems json 1 8 3 ext json ext generator home ruby rbenv versions 2 4 0 bin ruby r siteconf20161225 17221 ivjmjg rb extconf rb creating Makefile current directory home ruby rbenv versions 2 4 0 lib ruby gems 2 4 0 gems json 1 8 3 ext json ext generator make DESTDIR clean current directory home ruby rbenv versions 2 4 0 lib ruby gems 2 4 0 gems json 1 8 3 ext json ext generator make DESTDIR compiling generator c generator c In function generate json generator c 861 25 error rb cFixnum undeclared first use in this function else if klass rb cFixnum generator c 861 25 note each undeclared identifier is reported only once for each function it appears in generator c 863 25 error rb cBignum undeclared first use in this function else if klass rb cBignum generator c At top level cc1 warning unrecognized command line option Wno self assign cc1 warning unrecognized command line option Wno constant logical operand cc1 warning unrecognized command line option Wno parentheses equality cc1 warning unrecognized command line option Wno tautological compare Makefile 241 generator o make generator o 1 make failed exit code 2 Gem files will remain installed in home ruby rbenv versions 2 4 0 lib ruby gems 2 4 0 gems json 1 8 3 for inspection Results logged to home ruby rbenv versions 2 4 0 lib ruby gems 2 4 0 extensions x86 64 linux 2 4 0 static json 1 8 3 gem make out An error occurred while installing json 1 8 3 and Bundler cannot continue Make sure that gem install json v '1 8 3' succeeds before bundling,,"rafaelfranca,matthewd",2016-12-25 06:28:27,2016-12-26 22:05:18
PR,Add protect from forgery to ActionController Base,This PR fixes all the test failures that are introduced by,,,2016-12-27 07:56:33,2016-12-27 08:07:23
IS,postgresql extension migrations fail,Steps to reproduce Create a migration for a Postgresql extension new or existing project then rake db migrate I attempted this with extensions 'uuid ossp' and 'postgis' with the same results System configuration Postgresql version psql version psql PostgreSQL 9 6 1 Rails version rails version Rails 5 0 1 Ruby version ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,matthewd,2016-12-27 08:23:35,2016-12-27 08:30:36
PR,enable doc for matched attribute method and merged options ci skip,matched attribute method have proper documentation it is calling from method missing and respond to methods so we can enable for doc merged options is also calling from various methods in same class so it can be enable for doc,,"Gaurav2728,matthewd,Gaurav2728,matthewd",2016-12-27 08:03:09,2016-12-27 09:26:31
PR,renderers typo fix ci skip,Summary change at lest to at least,,prathamesh-sonpatki,2016-12-27 10:14:48,2016-12-27 10:17:01
IS,Rails 5 development fail to start on Ruby 2 4,Ruby 2 4 Rails 5,,matthewd,2016-12-27 10:12:00,2016-12-27 10:24:38
PR,Light CHANGELOG md linting,Summary remove a few extra spaces add backticks to show shell command,,"maclover7,rafaelfranca",2016-12-27 13:36:46,2016-12-27 13:36:59
PR,Small edits to CHANGELOG md files,Summary Small grammar edits and other nits in various components' CHANGELOG md files,,maclover7,2016-12-27 13:49:44,2016-12-27 13:49:51
PR,Add protect from forgery into ActionController Base,This PR fixes all the test failures that are introduced by 27362,,eileencodes,2016-12-27 08:08:49,2016-12-27 15:39:36
IS,Upgrading from Rails 5 0 0 1 to 5 0 1 increases import from local CSV from 3 to 94 minutes,I have a rake task which imports 38242 rows from a local CSV file Even though it might not be the most efficient way for each row create is executed to create a new record Just by updating Rails to 5 0 1 without changing anything else the time to create these records increased tremendously I could not find anything in the changelog that would indicate such an increase Any ideas The rake task basically looks like this System configuration Ruby 2 3 3 Rails 5 0 1 Puma 3 6 2 Postgres 9 6 Mac OS Sierra 10 12 2,,"matthewd,kaspth",2016-12-22 10:06:28,2016-12-27 15:41:26
PR,Add a record to target before any callbacks loads the record,append record was added at 15ddd51 for not double adding the record But adding append record checking target include record caused performance regression 27434 Instead of checking not double adding the record add a record to target before any callbacks loads the record Fixes 27434,,"kamipo,guilleiguaran,kaspth",2016-12-23 13:14:49,2016-12-27 15:41:26
PR,Update request rb,Explanation for ActionDispatch Request key Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2016-12-27 16:59:49,2016-12-27 17:34:25
PR,Set assert not as alias to refute,,,"bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca",2016-12-27 21:32:56,2016-12-27 21:59:10
PR,Fix typo in action view template rb ci skip,,,"kenta-s,prathamesh-sonpatki",2016-12-28 10:00:13,2016-12-28 10:03:18
PR,Update request rb ci skip,ci skip better docs for ActionDispatch Request key,,eileencodes,2016-12-27 17:32:23,2016-12-28 15:12:16
PR,Restore missing Gemfile lock entries,These lines were lost in diff e79a60dc6b85309ae70a6ea8261eaf95L196,,"kamipo,rafaelfranca,kamipo,robin850",2016-12-28 08:14:06,2016-12-28 16:27:19
IS,should not AcitveSupport Concern be abstracting away prepending vs including,Currently it does not hook prepending prepend features prepended but it seems to make sense for Concern to abstract this away because Concern functionality is applicable regardless of whether it is ultimately prepended or included,,"rafaelfranca,rafaelfranca,rafaelfranca",2016-12-28 18:11:02,2016-12-28 19:34:07
PR,better docs for ActiveRecord Type UnsignedInteger,Add documentation to the methods in ActiveRecord Type UnsignedInteger as found on CodeTriage,,eileencodes,2016-12-28 20:34:15,2016-12-28 21:21:44
PR,Optimize Journey Route score for url for,Summary I have an application with a large routeset a few thousand This application uses url for in some circumstances which when combined with the large routeset contribute a significant amount of allocations and wall time to the overall request Named route helpers sidestep the issue and end up being 25x faster against my test case Still the url for case can be significantly optimized I set up a benchmark under profiling that was roughly Against the base code Route score allocated 4 3 million objects baseline allocations and took 2 5 seconds to run After these changes allocations in Route score were reduced to 21k after allocations and it took 0 57 seconds to run,,"rafaelfranca,rafaelfranca",2016-12-28 20:04:25,2016-12-29 01:49:09
IS,Array of nested fields for bug,I am trying to construct a form which should be structured like this simplified for clarity System configuration Rails version 5 0 0 1 Ruby version 2 3 0,,maclover7,2016-10-29 18:13:58,2016-12-29 02:56:06
PR,do not mutate object name of class in fields for,Since it affects the entire form should not mutate object name of class Fixes 26931,,"y-yagi,rafaelfranca",2016-12-27 05:26:04,2016-12-29 02:56:06
PR,Use execute instead of connection query,connection query bypasses instrumenting sql active record This behavior preventing us from debugging SQLs which Rails generates,,yui-knk,2016-12-19 10:59:53,2016-12-29 03:12:58
PR,Upgrade to nio4r 2 0 0,I have just released nio4r 2 0 0 nio4r 2 0 0 primarily includes new features and bugfixes with few breaking changes The primary reason for bumping nio4r is major version is dropping support for all Ruby versions prior to 2 2 2 so as to match Rails 5 Full release announcement here topic socketry ZDIUj1ufiJ8,,matthewd,2016-12-29 03:49:11,2016-12-29 04:58:03
IS,Backport Ruby 2 4 support into Rails 4 2,At the moment the Rails 4 2 branch does not work on Ruby 2 4 0 due to Active Support has an explicit dependency on json gem version 1 x and json gem in 2 4 0 is at 2 0 2 Fixnum Bignum unification means that some of the internal fixes in later versions of active support need to be backported was open to back porting support provided it is not too much work and someone is willing to take it Since we are looking at dropping sprockets at Discourse and sprockets 4 upgrade is chewing up more memory than current 3 branch we are in a bit of a bind when it come to upgrading to Rails 5 but really want to get some of the perf benefits of Ruby 2 4 thoughts see also,,"SamSaffron,rafaelfranca",2016-12-29 05:54:58,2016-12-29 05:56:42
IS,before update called for children during parent creation with no reason,Steps to reproduce I attach two files which are identical except one uses Rails 5 0 and one Rails 4 2 The Rails 5 0 version fails since the before update callback is called for the User while in Rails 4 2 is not Is not clear to me why this is happening and I could solve it setting has many users through followers autosave false in the Article model I think this is not documented in Rails migration from 4 2 to 5 0 or at least not clear enough From my point of view can even be considered a bug Activerecord5 Activerecord4,,"alexcameron89,maclover7,bquorning",2016-12-12 15:21:50,2016-12-29 08:11:58
PR,Should not update children when the parent creation with no reason,This issue was introduced with d849f42 to solve 19782 However we can solve 19782 without causing the issue It is enough to save only when necessary Fixes 27338,,"kamipo,rafaelfranca,bquorning",2016-12-29 07:32:59,2016-12-29 08:11:58
PR,Backport 24616 to 4 2 stable,This PR backports PR 24616 to the 4 2 stable branch,,"eugeneius,rafaelfranca,matthewd",2016-12-20 16:04:39,2016-12-29 08:22:42
PR,5 0 stable Fix CI failure caused by using has changes to save,Should use changed instead in 5 0 stable,,kamipo,2016-12-29 09:46:59,2016-12-29 11:19:44
IS,ActiveRecord does not work well with STI associations in where clause,Steps to reproduce See this gist file rails sti test rb for reproducible test cases Expected behavior All tests should pass Actual behavior Final test fails with an error message like ActiveRecord tries to select from a table video posts instead of a post even though it should know that it is an STI association It does work only when specifying STI base class in where statement System configuration Rails version 4 2 7 1 and 5 0 1 Ruby version 2 3 2,,matthewd,2016-12-29 11:37:52,2016-12-29 12:49:18
PR,Update request rb ci skip,Documentation for ActionDispatch Request key ci skip,,"rafaelfranca,rafaelfranca,rafaelfranca,prathamesh-sonpatki,kaspth,kaspth,rafaelfranca,prathamesh-sonpatki,prathamesh-sonpatki,kaspth,prathamesh-sonpatki,kaspth",2016-12-28 15:07:11,2016-12-29 12:52:01
IS,Aliasing associations in STI sub classes properly,Situation Let is assume we have a situation similar to However this seems to be kind of silly and verbose What would be the correct way of aliasing associations under STI sub classes so that reading code would make more sense System configuration Rails version 4 2 7 1 Ruby version 2 3 2,,matthewd,2016-12-29 11:52:42,2016-12-29 12:52:27
PR,Use proper output format ci skip,,,"prathamesh-sonpatki,kaspth",2016-12-29 12:57:04,2016-12-29 12:57:49
PR,Bump Arel version to 8 0,Summary Since rails arel 462 including Arel VERSION is now '8 0 0' This pull request updates ActiveRecord dependency with Arel,,"yahonda,matthewd,yahonda,yahonda,rafaelfranca,yahonda",2016-12-29 12:52:15,2016-12-29 14:47:21
IS,Not hidden routing default parameters,Expected behavior Route generator should hide parameter if it is equal to default Actual behavior Route generator does not hide parameter get ' param1 test param2 ' index index defaults param1 1 param2 2 constraints param1 d param2 d url for controller index param1 1 3000 1 test should be 3000 test BUT get ' param1 test' index index defaults param1 1 constraints param1 d url for controller index param1 1 3000 test I think here L38 should be next instead of break System configuration 5 0 1 Ruby version 2 3 3,,"maclover7,maclover7,maclover7",2016-12-25 20:58:35,2016-12-29 17:50:37
PR,Use next instead of break avoid terminating whole loop,Summary We want to avoid terminating the whole loop here because it will cause parameters that should be removed to not be removed since we are terminating early In this specific case param2 is processed before param1 due to the reversing of route parts and since param2 fails the check on this line it would previously cause the whole loop to fail and param1 would still be in parameterized parts Now we are simply calling next which is the intended behavior Other Information Introduced by 8ca8a2d773b942c4ea76baabe2df502a339d05b1 Fixes 27454,,"maclover7,rafaelfranca",2016-12-29 15:43:47,2016-12-29 17:50:37
PR,Update migration rb ci skip,Explanation for ActiveRecord Migrator finish ci skip,,rafaelfranca,2016-12-29 17:56:26,2016-12-29 18:02:40
PR,Update list of duplicable objects in AS core ext guide ci skip,BigDecimal has been duplicable since 440559f,,"utilum,kaspth,utilum,kaspth,utilum,kaspth,utilum,utilum,kaspth",2016-12-13 15:35:57,2016-12-29 19:12:19
PR,Make ActiveRecord structure load dump configurable,Right now it is not possible to pass extra flags to mysqldump pg dump when running rake db structure dump or rake db structure load The following config variables structure load flags and structure dump flags make it better configurable Background today at Shopify we have to monkey patch ActiveRecord Tasks MySQLDatabaseTasks to accommodate extra flags With this PR we can reduce amount of monkeypatches required to run Rails with MySQL at scale and make it more configurable,,"kirs,rafaelfranca,kirs,rafaelfranca,kirs,kaspth,kaspth,kaspth,kaspth,kaspth,kirs,kaspth",2016-12-22 15:45:14,2016-12-29 19:23:36
PR,fix with routing test helper to make it work with api only controllers,Hi again I found another regression while migrating my api only app to Rails 5 I'm on fire The with routing test helper does not work for controllers that inherit from ActionController API because the ActionView Rendering module is not longer included as it was in the rails api gem L128 Hope you like the fix,,"kaspth,spastorino,maclover7,spastorino,kaspth,kaspth",2016-12-15 17:24:36,2016-12-29 20:10:31
PR,Sync the visibility of sql for insert to private,The visibility of all internal protected methods was changed to private since 5b14129,,kamipo,2016-12-29 10:20:02,2016-12-29 20:23:33
PR,Remove all ActiveRecord deprecations,,,rafaelfranca,2016-12-29 22:52:20,2016-12-29 22:59:05
PR,Fix grammar in AR CHANGELOG md ci skip,,,"kenta-s,maclover7",2016-12-30 00:05:08,2016-12-30 00:08:01
PR,Grammar linting in activerecord CHANGELOG md,ci skip,,maclover7,2016-12-30 00:12:48,2016-12-30 00:12:59
IS,StackOverflowError when method missing gets called,Steps to reproduce In our deeply nested hierarchy of our own libraries attempt to call an inexisting method in development mode Expected behavior NoMethodError Actual behavior StackOverflowError System configuration Rails version 5 0 1 rc2 Ruby version jruby 9 1 6 0 2 3 1 2016 11 09 0150a76 Java HotSpot TM 64 Bit Server VM 25 112 b15 on 1 8 0 112 b15 jit linux x86 64 I described the problem in detail in this StackOverflow question 41363976 We found out that there was code removed in commit 6b543166f7b0fd5712ffe831dad31d34f6de5dcd and indeed see the build fails from there That might be a bug right there Since it only happens in the development mode where auto re loading is enabled this might be a bug related with autoloading,,matthewd,2016-12-28 14:30:46,2016-12-30 09:50:46
PR,remove useless import,,,eileencodes,2016-12-27 11:55:40,2016-12-30 11:38:45
IS,5 0 0 1 5 0 1 pluck returns data of unsaved association records,pluck now returns data from new records if the association is loaded Pull request that changed the behavior Steps to reproduce Expected behavior pluck should not return data of unsaved records System configuration Rails version 5 0 1 Ruby version 2 3 3,,"bogdan,matthewd,matthewd",2016-12-30 13:32:20,2016-12-30 14:25:22
IS,Different result group enum count with PostgreSQL adapter,Steps to reproduce Expected behavior Same result Actual behavior Different result System configuration Rails 5 0 1 5 0 0 1 5 0 0 Ruby 2 3 3 PostgreSQL 9 6 Thanks,,matthewd,2016-12-30 18:07:18,2016-12-30 18:58:47
IS,5 0 0 1 5 0 1 breaks group enum count with PostgreSQL adapter,See bug report at In short if you have a Post model with an integer column category that acts as enum Using git bisect I found that 9c28c54879d61ef95a3bc132ef9854f7ac5e9ec7 is the first bad commit To be honest I like this new behavior better and it aligns with the other adapters However it was a breaking change for my Rails app and in principle there should not be breaking changes without warnings deprecations minor releases,,"claudiob,rafaelfranca,claudiob,rafaelfranca,maclover7,utilum,claudiob,claudiob,claudiob,matthewd",2016-12-22 19:54:56,2016-12-30 19:00:54
PR,Remove remaining ActiveRecord deprecations,Follow up to 27503,,"kamipo,eileencodes",2016-12-30 12:36:38,2016-12-30 19:44:34
PR,Remove needless ActiveSupport Deprecation silence,,,"kamipo,kaspth,kamipo,matthewd,kaspth",2016-12-30 18:56:23,2016-12-30 19:48:41
PR,5 0 stable Remove duplicated changelog entry caused by c30469e,,,"kamipo,kaspth",2016-12-30 11:14:20,2016-12-30 21:19:29
PR,Allow log remote ip addres when config action dispatch trusted proxie,My attempt to push 19710 forward by I changed comment to read ip address vs remote id Please let me know if remote id was indeed the correct text cc Closes 19710 original pr as follows Related to 5223 Logger set before remote ip detected properly in view of config action dispatch trusted proxies was set custom list of local IP addressed settings in application rb,,matthewd,2016-12-30 21:04:31,2016-12-30 22:16:05
PR,Add missing word in activerecord CHANGELOG md,ci skip,,maclover7,2016-12-30 23:58:48,2016-12-30 23:58:55
IS,Passing a block to an active record relationship should throw an error,Steps to reproduce User first 2 t fail this does not get executed Expected behavior Should throw an error the user probably meant to use map each etc Actual behavior Ignore the block silently System configuration Rails version 5 0 0 Ruby version 2 3 3,,matthewd,2016-12-31 01:03:23,2016-12-31 01:20:43
PR,better docs for ActionDispatch Routing RouteSet NamedRouteCollection helper names,Hello everyone this is my first contribution to Rails Please bear with me if I have not followed any guideline Thank you to for pointing me out to the missing doc Have a nice day,,georgeclaghorn,2016-12-17 19:05:15,2016-12-31 03:39:39
PR,remove redefined warning Enumerable sum,Ruby2 4 has Enumerable sum I found warning of redefined Enumerable sum,,"georgeclaghorn,kaspth",2016-12-30 00:12:44,2016-12-31 12:28:20
PR,remove skip bundle option from plugin generator,Because bundle install is not executed regardless of whether the option is specified or not Ref fbd1e98cf983572ca9884f17f933ffe92833632a,,y-yagi,2016-12-31 09:49:21,2016-12-31 12:30:09
PR,Bump license years for 2017,Summary Per it is already 2017 in a lot of places so we should bump the Rails license years to 2017 ci skip,,maclover7,2016-12-31 13:35:55,2016-12-31 13:36:27
PR,Mark GeneratedAssociationMethods also as private constant,After only GeneratedAssociationMethods was remaining to be marked as private constant so marked it as well Before User constants false GeneratedAssociationMethods After User constants false r,,prathamesh-sonpatki,2016-12-31 05:57:11,2016-12-31 16:18:24
PR,Add a quote to an SQL insert statement of schema migration,I think it would be better to use quote method for SQL statements because an evaluation of quote varies depending on the RDBMS Example code Thanks,,"koic,kaspth,koic",2016-12-23 03:58:25,2016-12-31 16:27:35
PR,Update copyright notice,Update copyright notice for activemodel,,"kaspth,maclover7,kaspth",2016-12-31 16:32:05,2016-12-31 16:40:42
PR,Update schema cache doc in guides command line,Now we use yml instead of dump 27042,,"kirs,kaspth",2016-12-31 16:43:39,2016-12-31 17:04:32
PR,Dump array subtype options correctly,Currently schema dumper does not dump array subtype precision and scale options This commit fixes the issue,,"kamipo,kaspth",2016-12-31 17:50:08,2016-12-31 18:33:00
PR,Refactor CollectionAssociation ids reader,Simply we can do target pluck reflection association primary key if target is loaded,,kamipo,2016-12-31 19:39:32,2016-12-31 20:53:20
PR,Extract casted true casted false for Type ImmutableString,The only difference between Type ImmutableString and its subclasses is the representation of the casted booleans Prefer extracting casted true casted false and override these by subclasses,,kamipo,2016-12-31 19:08:09,2016-12-31 20:54:21
IS,Switch to inspect mode,Hello guys I'm trying to work with a database using rails console but I keep getting this error switch to inspect mode I'm on windows platform How can I fix it,,,2016-12-31 21:22:05,2016-12-31 21:25:05
PR,Change timestamp attributes for create update from symbol to string,timestamp attributes for create update is defined as symbol but always used as string with to s This allocates extra strings To avoid extra allocation change the definitions from symbol to string,,kamipo,2016-12-31 22:10:42,2016-12-31 23:21:26
IS,Symbol deep dup fails for certain symbols with Ruby 2 4 0,Steps to reproduce I do not know what makes a Symbol duplicable or not But in my app certain frequently used Symbols appear to not be duplicable Ruby version 2 4 0,,"kaspth,matthewd,kaspth,kaspth,kaspth",2016-12-31 22:23:34,2016-12-31 23:24:27
PR,remove unnecessary remove file,It deletes the app mailers directory itself it is not necessary to delete the file individually L329,,y-yagi,2017-01-01 02:02:24,2017-01-01 08:24:28
IS,cache if always computes the cache key,Steps to reproduce Say I have the following code Expected behavior since the condition is false the cache should NOT compute article user name or article comments count Actual behavior Both values are computed by reaching to the database although the cache should be ignored since the condition is false System configuration Rails version 5 0 0 1,,"prathamesh-sonpatki,kaspth,kaspth",2017-01-01 01:39:09,2017-01-01 08:28:47
PR,add bin test script for railties,The railties test does not require specific setup performed in the rake tasks so we can use test runner as well as other components,,"y-yagi,kaspth,y-yagi",2017-01-01 07:21:39,2017-01-01 08:33:32
PR,Remove bin yarn if yarn is skipped tidy up tests,No need to remove bin yarn separately for API only apps because skip yarn is set to true for API only apps Added a test for skip yarn config,,"prathamesh-sonpatki,kaspth",2017-01-01 09:49:16,2017-01-01 12:56:56
IS,ActiveRecord CounterCache methods should have an option to change updated at,ActiveRecord CounterCache should provide an option to update updated at when any one of these methods are called update counters L76 reset counters L20 decrement counter L120 increment counter L102 My application implements a trash module so I must call decrement counter when sending a record to the trash and increment counter when restoring a record I'm displaying a counter cache in a view and I would like for the fragment cache to expire whenever I increment or decrement the counters by updating the updated at value However I must make a second call to the database to update the updated at value after incrementing or decrementing the counter cache I think there should be an additional argument to send to these methods to change updated at when changing the counter cache For example Expected behavior ActiveRecord CounterCache should be able to change a record is updated at value Actual behavior ActiveRecord CounterCache does not have the ability to change a record is updated at value System configuration Rails version 4 2 5 1 Ruby version 2 2 3,,"maclover7,kaspth",2016-10-06 19:17:40,2017-01-01 17:37:55
PR,Counter cache touching improvements,Do not invoke touch updates if touch does not supplied Prefer each over map because unused return value,,"kamipo,kaspth",2017-01-01 20:08:30,2017-01-01 20:32:25
PR,Make the tests for uncountability of ascii and non ascii words uniform,,,"prathamesh-sonpatki,rafaelfranca,prathamesh-sonpatki",2016-12-31 04:00:48,2017-01-01 20:43:11
PR,touch time should be type casted to respect the precision of the column,,,kamipo,2017-01-01 21:12:41,2017-01-01 22:47:33
PR,Fix grammar in active record counter cache rb ci skip,,,"kenta-s,maclover7,maclover7,kenta-s",2017-01-02 02:14:59,2017-01-02 03:53:23
PR,Dump schema cache for custom connection,Today rake db schema cache dump only supports dumping cache for a single connection ActiveRecord Base connection This does not work for apps with multiple databases This PR makes DatabaseTasks to provide an API for dumping schema cache for any connection The use case today at Shopify we have to patch rake db schema cache dump to accomodate dumping schema cache for multiple databases This could be simplified with ActiveRecord Tasks DatabaseTasks dump schema cache that the PR introduces,,"kirs,kirs,rafaelfranca,kirs,kaspth,kirs,rafaelfranca",2016-12-31 17:19:55,2017-01-02 03:55:49
PR,remove useless import,,,,2016-12-30 11:40:57,2017-01-02 03:58:51
IS,Mismatch type error when you create an non integer index,bug found by Steps to reproduce 1 Create a new table migration with a non integer primary key 2 Run the migration 3 Drop your database 4 Run bundle exec rake db schema load Expected behavior This should create the table with the same type Initial string after load string Actual behavior It is creating the table using Integer as column type Initial string after load integer System configuration Rails version 4 2 7 Ruby version 2 3 1 p112,,"rafaelfranca,kamipo,rafaelfranca",2016-12-29 19:16:29,2017-01-02 03:59:26
IS,method redefined warnings for ActiveSupport 5 0 1,I have listed ActiveSupport as a runtime dependency for my gem in gemspec Running rake test on the command line succeeds with no errors however I get the following warnings before any tests run Users example rvm gems ruby 2 3 0 gems activesupport 5 0 1 lib active support core ext time calculations rb 243 warning method redefined discarding old Users example rvm gems ruby 2 3 0 gems activesupport 5 0 1 lib active support core ext time calculations rb 253 warning method redefined discarding old Users example rvm gems ruby 2 3 0 gems activesupport 5 0 1 lib active support core ext time calculations rb 263 warning method redefined discarding old I have tried running the same code that uses ActiveSupport in IRB and using the Ruby CLI tool but the warnings do not appear The warnings also appear when I build my gem with Travis CI when rake test runs I'm running macOS Sierra 10 12 2 and using Ruby 2 3 0 with RVM,,pixeltrix,2016-12-30 19:00:24,2017-01-02 14:23:05
IS,append before action append around action and append after action are just alias methods,Steps to reproduce I just tried to log when controller callbacks are triggered and found a strange behaviour of all append callbacks depending of the declaration order Expected behavior For example I want append before action to be triggered after before action Same logic for the two others I need this to order my before action callbacks and I'm sad to see it is not possible to give a parameter to before action like order 1 called by chronological order regardless of the controller in which it is declared Actual behavior The current state from Rails 3 is an alias to before action around action and after action unlike prepend before action prepend around action and prepend after action that are real callbacks as you can see is the source code L220 It is so counter intuitive System configuration Rails version 5 Ruby version 2,,"al2o3cr,rafaelfranca",2016-12-03 15:41:54,2017-01-02 16:23:05
PR,Remove duplicated test,b8f74860b61782e3b949ade3bb51bff40899e89b provided a nicer version of test structure load but the old version was not removed,,"utilum,kaspth",2017-01-02 15:41:48,2017-01-02 16:29:53
PR,Fix update counters of multiple records with touch true,Currently does not work the following example in the doc,,"kamipo,pixeltrix,kamipo,kaspth",2017-01-02 16:49:27,2017-01-02 20:10:33
IS,RubyGems org incorrectly lists the json gem as a dependency for ActiveSupport 4 2 7 1,Steps to reproduce View the dependencies RubyGems org has for ActiveSupport 4 2 7 1 Notice it shows json 1 7 7 1 7 as a dependency View the actual dependencies in the source for ActiveSupport 4 2 7 1 Notice it does not list json as a dependency Expected behavior ActiveSupport 4 2 7 1 from RubyGems should not have a dependency on the json gem Actual behavior ActiveSupport 4 2 7 1 from RubyGems shows a dependency on the json gem System configuration Rails version 4 2 7 1 Ruby version 2 4 0,,"rafaelfranca,matthewd",2017-01-02 22:37:09,2017-01-02 22:54:56
PR,Backport 26732 for 4 2 stable,Updates 4 2 stable to include the Ruby 2 4 fixes from 26732 cc as you were both on the original pull request,,rafaelfranca,2017-01-03 03:16:11,2017-01-03 12:34:38
PR,Cache results of computing model type,We faced a significant performance decrease when we started using STI without storing full namespaced class name in type column because of PostgreSQL length limit for ENUM types We realized that the cause of it is the slow STI model instantiation Problematic method appears to be ActiveRecord Base compute type which is used to find the right class for STI model on every instantiation It builds an array of candidate types and then iterates through it calling safe constantize on every type until it finds appropriate constant So if desired type is not the first element in this array there will be at least one unsuccessful call to safe constantize which is very expensive since it is defined in terms of begin rescue end This commit is an attempt to speed up compute type method simply by caching results of previous calls,,"matthewd,pixeltrix,pixeltrix,pixeltrix,matthewd,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-01-01 13:21:36,2017-01-03 15:50:07
PR,Add missing emit warning if needed for changed,,,"kamipo,senny",2016-12-29 07:56:18,2017-01-03 16:17:17
PR,Active Record supports MySQL 5 1 10,Follow up to 25307 and 23458 Related with 27422 We are using information schema referential constraints since 25307 The table was introduced in MySQL 5 1 10 MySQL 5 0 is too old It is enough to support 5 1 10 at least MySQL 5 0 GA was released in Dec 2005 and already EOL in Dec 2011 MySQL 5 1 GA was released in Dec 2008 and already EOL in Dec 2013,,"kamipo,matthewd,sgrif",2016-12-22 10:17:17,2017-01-03 16:19:47
IS,Precision option for arrays of timestamps are ignored on save,I am using ruby 2 3 3 Rails 5 0 1 with PostgreSQL 9 6 1 I want to have an array of timestamps with a precision level of 6 Given these migrations As you can see it shows the microseconds So it looks like there is a bug in Active Record when it saves the value,,"maclover7,maclover7,maclover7",2016-12-30 19:31:17,2017-01-03 17:22:27
PR,Remove duplicated model class definitions in test cases base test rb,,,kamipo,2016-12-11 23:51:35,2017-01-03 17:33:32
PR,Backport 0f1d0b1 to 5 0 stable,This is a backport of 0f1d0b1,,"sgrif,sgrif",2017-01-03 17:25:34,2017-01-03 18:08:14
PR,Remove useless belongs to touch method,TouchLater module is included after Persistence module to ActiveRecord Base so belongs to touch method always return touch later,,"kamipo,pixeltrix,sgrif,arthurnn",2017-01-02 23:23:59,2017-01-03 18:44:51
PR,Clarify Bi directional Associations docs,Summary Rails automatically finds bi directional associations between models with well named associations However when using non standard naming you have to use inverse of to explicitly tell Rails about the bi directional association Addresses issue 27516 ci skip,,"maclover7,maclover7,maclover7,maclover7",2017-01-01 18:29:11,2017-01-03 18:45:04
PR,Prevent duplicate data disable with attributes,When using the hash form of the data option on submit tag prevent duplicate data disable with attributes from appearing in the tag output due to both string and symbol forms of the hash key being present in the final options hash when automatically disable submit tag is enabled Currently this call,,"pixeltrix,rafaelfranca",2017-01-03 04:58:01,2017-01-03 18:46:30
PR,Refining Array sum monkey patch using Refinements,Here is an alternative implementation of Array sum Current Array sum unwantedly exposes our own internal orig sum method to the outside world Ruby 2 is probably most unused but useful new feature Refinements is provided exactly for this use case to define a perfectly private method that can be accessed only inside this file I would like to ask the core members' opinion about this approach since AFAIK we have never used Refinements in our code base before If you like it I would love to rewrite some other monkey patches to this style And I guess 25202 can also be more elegantly solved using this technique cc,,"amatsuda,yui-knk,kamipo,yui-knk,kamipo,rafaelfranca,rafaelfranca",2016-12-14 21:17:48,2017-01-03 18:50:58
PR,4 2 stable ruby 2 4,,,"matthewd,pixeltrix,matthewd,pixeltrix,matthewd,pixeltrix,matthewd",2016-12-27 14:41:39,2017-01-03 18:57:46
IS,assigns and assert template in controller testing,Philosophically I agree but in the spirit of hey I was using that Testing what instance variables are set by your controller is a bad idea The same goes for assert template Absolutely These were dirty However It is dirty for the controller to pass data to the view by scraping the controller object is instance variables and setting them as instance variables available to the templating The view should be a class and the helper methods should be methods in that class Just as a stub for a model method can test if the controller called the model a stub for this non existent class should be able to test if the controller passed data to the view Since the controller does this by setting instance variables assigns is the way you have to do it It is dirty but it is making up for the dirtiness of how rails passes data to the view For instance if you want a test to see if a given object occurs in the index results how are you going to test it Do you have to screen scrape the HTML You could have the controller call a method on the model and test the results from that model but how do you know the controller used the data by passing it to the view Since instance variables are how the controller does this it is reasonable to test the instance variable For assert template consider controllers which fail a create by rendering the new template Arguably they should not do this If they do if this is supported then you need to test that it happened Developers should redirect to the new page and have the controller render the new page properly That does mean passing all the field values but that is not outrageously hard However it also means getting the object is error aggregate populated for the new page If rails suggested error handling requires rendering a template from the action where it failed then handling errors requires such template switching and needs a way to be tested Again assert template is dirty but it is making up for a dirty ness in rails So maybe the new issue is a pass data from the controller to the view in a cleaner way so it can be tested b redesign the error handling on the view so you can redirect to the new and edit page instead of rendering the view from the create and update action,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-01-03 19:48:35,2017-01-03 19:54:42
IS,Rails 5 beta 4 stats includes tasks LOC twice,When you run rails stats it counts the tasks under libs two times once under libs and once under tasks increasing the number of the actual lines of code Steps to reproduce System configuration Rails version 5 beta 4 Ruby version 2 3 0,,vipulnsward,2016-05-02 15:31:07,2017-01-03 20:33:49
PR,grammar updates for AR Persistence reload,Ran the sentences through Grammarly and used its suggestions Happy to always improve docs line them up to 80 characters and ensure the ruby examples are 2 lines shorter p,,"kaspth,kaspth,matthewd,kaspth,kaspth,kaspth",2017-01-03 19:22:45,2017-01-03 21:00:04
IS,Regression in PostgreSQL HStore dirty check when key order changes,Steps to reproduce This passes on Rails 4 2 7 1 but fails on Rails 5 0 1 Expected behavior The record has no changes and should not be saved or marked as dirty Actual behavior The record thinks the HStore has changed This is causing it to be saved resulting in a cascade of effects which should be avoided e g updates the updated at timestamp causing touch association updates busting caches and ETags System configuration Rails version 5 0 1 Ruby version 2 3 3 PostgreSQL version 9 5 4,,"maclover7,maclover7,maclover7",2016-12-29 20:36:07,2017-01-03 21:12:47
PR,Compare deserialized values for PostgreSQL OID Hstore types,Summary Per the regression commit below the commit changes the behavior of changed to consult the changed in place method on Type Value classes Per this change PostgreSQL OID Hstore needs to override this method in order to compare the deserialized forms of the two arguments In Ruby two hashes are considered equal even if their key order is different This commit helps to bring that behavior to Hstore values Other Information Fixes regression introduced by 8e633e505880755e7e366ccec2210bbe2b5436e7 Fixes 27502,,"maclover7,sgrif,maclover7,maclover7,rafaelfranca",2016-12-30 23:49:51,2017-01-03 21:12:47
PR,Backport PR 27517,r,,"maclover7,rafaelfranca",2017-01-03 21:22:29,2017-01-03 21:24:09
IS,Batch updating associations using fields for and array names requires extra array,Steps to reproduce Application upgraded from 4 2 to 5 0 0 following the official upgrade guides Unusual behaviour in fields for when used to batch create or update records using model Guidelines for creating a bug report are available here creating a bug report Expected behavior Something like the following should create an input to update an attribute of an association that belongs to a record customisable This produces the same behaviour as if we had just used fields for 'associations' System configuration Rails version 5 0 0 Ruby version 2 2 3,,maclover7,2016-10-31 18:27:31,2017-01-03 21:49:41
PR,Backport PR 27146,,,"maclover7,rafaelfranca,maclover7",2017-01-03 21:30:49,2017-01-03 21:54:27
PR,Rephrase CHANGELOG md entry,Summary Rephrase entry with better sounding English ci skip,,maclover7,2017-01-03 23:55:34,2017-01-03 23:55:40
PR,Fix test name deprecated to not permitted,Follow up to 4b6709e818177792735e99a70ec03210c0ac38dc,,"kamipo,rafaelfranca,rafaelfranca,kamipo",2017-01-04 00:01:54,2017-01-04 00:10:17
PR,Fix typo s permited permitted,,,kamipo,2017-01-04 01:42:34,2017-01-04 01:47:06
PR,Remove unnecessary require statements,Summary Should have been removed via 8e43fc5ace8039370f233570863b34821a3be46f,,maclover7,2017-01-04 01:31:53,2017-01-04 02:20:11
PR,Fix generator command for nested namespaced rails engine,Summary If we create nested namespaced rails engine such like bukkits admin bin rails g scaffold User name string age integer will create bukkits admin app controllers bukkits users controller rb but it should create bukkits admin app controllers bukkits admin users controller rb Other Information In 6643 we changed namespaced path as root path because we supposed application controller is always in root but nested rails engine is application controller will not,,"mtsmfm,rafaelfranca,mtsmfm",2017-01-03 12:26:47,2017-01-04 02:45:26
IS,AR find by and AR where find inconsistently with id param,Steps to reproduce I would expect the two above statements to return the same value as they did in Rails 4 x I have not found any discussion of an intentional change to find by System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,alexcameron89,2016-08-18 16:30:49,2017-01-04 04:22:48
PR,Fix find by and where consistency,The alternative of 26213 Currently find by and where with AR object return inconsistent result This is caused by statement cache does not support AR object Passing to finder method to fix the issue Fixes 26210,,"kamipo,rafaelfranca",2017-01-04 03:29:21,2017-01-04 04:22:48
PR,Rails env for empty string env vars,The story I have got a weird issue where Rails application config for app config returns nil So I looked into the console and found out that Rails env is an empty string That was because I'm using docker compose and it is setting RAILS ENV to an empty string because I specified in docker compose yml but not set in my local env vars That was an easy fix on my side but I always thought rails handles that edge case That is why I'm submitting this PR to give rails the ability to fall back to development mode when this happens The changes I have added 2 tests with RAILS ENV and RACK ENV being set to an empty string and Rails env should be development Also added the message to CHANGELOG md P S This is my first commit to rails repo and I tried to follow the guidelines for contributing I skipped some steps that seems irrelevant but if I'm missing any step please let me know Daniel,,"eileencodes,eileencodes,rafaelfranca,maclover7,rafaelfranca,rafaelfranca",2016-12-19 02:27:04,2017-01-04 04:39:49
PR,Fix collection singular ids ignores different primary key on relationhip,Closely related to 14439 It looks like someone opened a PR to try and fix this 15262 but it looks to be abandoned This is resolved in Rails 5 but is not resolved in the 4 2 I thought I would open a PR since this is not a feature enhancement but a bug in 4 2 Example Models When a different primary key is signified on the has many through relationship using user business ids 111 111 111 throws a RecordNotFound exception This is due to the ids writers method ignoring the primary key key and using the default primary key id when looking for records The ids writer method essentially does this Business find 111 111 111 and then the ids that are passed get cast to integers Here is a gist to help clear up any confusion,,,2017-01-04 04:03:10,2017-01-04 04:44:55
PR,Backport Active Support Date Time changes for Ruby 2 4,This backports the changes made to Rails 5 0 required for supporting Ruby 2 4 This was mainly around the behaviour of to time but since the changes required the backporting of a later fix for a possible stack level too deep error ee5e476 and the caching of to time it was safest to include a number of small changes which possibly are not entirely necessary but would have meant rewriting patches to make them apply cleanly However larger changes like duration parsing were left out since they could be safely ignored Needed for 27473,,"pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-01-03 17:24:52,2017-01-04 06:23:03
PR,add missing code in Extracting Partials documentation,In the Rails Documentation Rails Guides Getting Started Section 7 1 Rendering Partial Collections Summary The comment partial being extracted lacks the looping block to iterate through comments i e there was no surrounding comments each do comment and end,,,2017-01-04 10:22:32,2017-01-04 10:30:15
PR,Fix default locale code example ci skip,Summary Changing the default locale using an initializer file throws I18n InvalidLocale exception if following the instructions on the documentation Error home jari rvm gems ruby 2 4 0 gems i18n 0 7 0 lib i18n rb 284 in enforce available locales ' fi is not a valid locale I18n InvalidLocale from home jari rvm gems ruby 2 4 0 gems i18n 0 7 0 lib i18n config rb 34 in default locale ' from home jari rvm gems ruby 2 4 0 gems i18n 0 7 0 lib i18n rb 35 in default locale ' from home jari code myapp config initializers locale rb 2 in top required ' Other Information This PR changes the example code from I18n load path Dir Rails root join 'lib' 'locale' ' rb yml ' I18n default locale pt to working one Rails application config i18n load path Dir Rails root join 'lib' 'locale' ' rb yml ' Rails application config i18n default locale pt,,"rafaelfranca,rafaelfranca",2017-01-03 16:24:24,2017-01-04 10:52:32
PR,Warn when has many through is defined before through association,This change adds a deprecation warning if a has many through association is defined before the through association This aims to reduce issues such as and,,"matthewd,matthewd,pixeltrix,pixeltrix",2016-12-28 19:26:42,2017-01-04 12:22:41
IS,Non null constraint exception when creating model with a has many through association,Steps to reproduce System configuration Rails version 5 0 0 1 4 2 7 1 Ruby version 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,,2016-10-19 22:37:31,2017-01-04 13:22:06
IS,rails new fails to read my Ruby version and wo not create a new project,Steps to reproduce Please note that when I'm trying to create the new project my current Ruby version is 2 4 as shown above System configuration Rails version 5 0 1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin15 installed via ruby install chruby stable 0 3 9 bottled HEAD installed via Homebrew,,"matthewd,matthewd,fxn,fxn",2017-01-04 14:01:18,2017-01-04 14:06:40
IS,Object blank has incorrect behavior for empty whitespace string,Steps to reproduce 1 open an irb console 2 enter the following method from activesupport lib active support core ext object blank rb 16 L16 System configuration Rails version 5 0 1 Ruby version 2 3 3,,matthewd,2017-01-04 17:21:28,2017-01-04 18:07:55
PR,Update asset fingerprinting information,Summary I was looking up some information on asset fingerprinting and I found that some of the information in the Rails guides were outdated Replaced MD5 SHA256 where necessary Updated sprockets manifest example I kept the text mostly unaltered Let me know if anything needs updating Thanks Other Information L26 fourth to last and last,,maclover7,2016-12-24 02:21:15,2017-01-04 18:14:57
PR,use double quotes follow new string literal convention,applies new string literal convention here missed to follow new string literal convention also fixed rubocop warning,,"Gaurav2728,rafaelfranca",2017-01-04 19:36:45,2017-01-04 19:39:16
PR,Require models post before models comment,Summary BasicsTest test readonly attributes fails when test cases base test rb executed after test cases calculations test rb and test cases fixtures test rb Since these two files require require models comment before require models post There was a similar pull request 26370 this pull request addresses the same error for other two files Other Information Step to reproduce Environment Ruby 2 4 0 Rails master branch,,yahonda,2017-01-04 21:22:46,2017-01-04 21:27:28
IS,action cable reconnect fails,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Am using action cable for a multi tenancy application i athenticte my action cable by System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,maclover7,2017-01-04 18:10:09,2017-01-05 03:18:35
PR,Fix typo in asset pipeline md ci skip,,,"kenta-s,maclover7",2017-01-05 03:43:35,2017-01-05 04:00:54
PR,Add check parameters option to current page,Example For This is needed when navigation is also present on the page Without this option both paths are considered current,,"rafaelfranca,rafaelfranca",2017-01-03 05:09:07,2017-01-05 04:34:57
IS,mattr accessor ignore access modifiers,Steps to reproduce mattr accessor and all related functions disregard access modifiers i e private protected and always creats public functions This should either be documented or changed to respect modifiers Simple reproducer class System configuration Rails version 4 2 7 1 Ruby version 2 0 0,,"maclover7,maclover7",2016-09-11 09:03:59,2017-01-05 04:39:20
IS,ActiveSupport MessageEncryptor fails with default ActiveSupport KeyGenerator in Ruby 2 4 on Rails 5 0 1,Steps to reproduce Following the steps in under Ruby 2 4 Expected behavior The following should work salt SecureRandom random bytes 64 key ActiveSupport KeyGenerator new 'password' generate key salt x89 xE0 x156 xAC crypt ActiveSupport MessageEncryptor new key ActiveSupport MessageEncryptor encrypted data crypt encrypt and sign 'my secret data' NlFBTTMwOUV5UlA1QlNEN2xkY2d6eThYWWh crypt decrypt and verify encrypted data my secret data Actual behavior ActiveSupport MessageEncryptor encrypt and sign raises ArgumentError key must be 32 bytes Loading development environment Rails 5 0 1 irb main 001 0 salt SecureRandom random bytes 64 R xBA xE1Z xC4e xBF xB5 x96 xA6 x84 xB8 x8C xA1c xCC xF6' x11 x00 nKxA x98 x83 k xF8mWFSk x83 xE3 xE3 xC4y eb x9C xF8 xA11 x14 xBC xF31 xB24 x1Ccr x8F xCE bI irb main 002 0 key ActiveSupport KeyGenerator new 'password' generate key salt v xD1 x8Dq x7F5iE x95 xF6 xFD t xB9 x1A xE6 x9E xBE xA9 xF4B x1A xA6sc x86 xE9g x81 xBF x17 xD2 xEA xC0WY xB7 x89 x87 xCC xA5V xBEs xE4A0 xF0 t xC4 r x03 xEC x06Ke xCB x1F xB8 xF4 xE6 irb main 003 0 crypt ActiveSupport MessageEncryptor new key ActiveSupport MessageEncryptor 0x007f0179635660 v xD1 x8Dq x7F5iE x95 xF6 xFD t xB9 x1A xE6 x9E xBE xA9 xF4B x1A xA6sc x86 xE9g x81 xBF x17 xD2 xEA xC0WY xB7 x89 x87 xCC xA5V xBEs xE4A0 xF0 t xC4 r x03 xEC x06Ke xCB x1F xB8 xF4 xE6 nil aes 256 cbc ActiveSupport MessageVerifier 0x007f0179635570 v xD1 x8Dq x7F5iE x95 xF6 xFD t xB9 x1A xE6 x9E xBE xA9 xF4B x1A xA6sc x86 xE9g x81 xBF x17 xD2 xEA xC0WY xB7 x89 x87 xCC xA5V xBEs xE4A0 xF0 t xC4 r x03 xEC x06Ke xCB x1F xB8 xF4 xE6 SHA1 ActiveSupport MessageEncryptor NullSerializer Marshal irb main 004 0 encrypted data crypt encrypt and sign 'my secret data' System configuration Rails version 5 0 1 Ruby version 2 4,,"utilum,maclover7",2017-01-04 22:31:53,2017-01-05 04:57:42
IS,5 0 0 5 0 1 mysql foreign keys is crazy slow,makes our rake db schema dump take 5 minutes can try out with I would think is responsible FYI flamegraph img width 913 alt screen shot 2017 01 04 at 7 54 09 pm src,,"grosser,grosser,rafaelfranca,grosser,grosser,rafaelfranca,jeremy,grosser,kamipo",2017-01-05 03:53:10,2017-01-05 06:12:26
PR,Optimizing information schema query for foreign keys,Need table name to avoid all databases scan See Fixes 27579,,"kamipo,rafaelfranca",2017-01-05 05:37:56,2017-01-05 06:12:26
PR,Update cookies helper on all HTTP requests,Summary Regression introduced by ae29142142324545a328948e059e8b8118fd7a33 8363b879fe759f0645179f4521cc64795efbee6e Previously cookies were only updated on GET requests Now we will update the helper for all requests as part of process Added regression tests for all available HTTP method helpers in ActionController TestCase Other Information ref 27584 very similar to 27145 27146,,"maclover7,rafaelfranca,rafaelfranca",2017-01-05 22:41:46,2017-01-06 09:18:55
PR,documentation ActiveRecord Document order of Callbacks,Add document on how callbacks defined in ActiveRecord model is executed This is done in order to clarify better that transactional after commit callbacks are executed in a LIFO way,,"eileencodes,eugeneius,eugeneius,sgrif,utilum,eugeneius,eugeneius",2016-12-07 10:41:25,2017-01-06 09:39:32
PR,Allow to custom content type when setting mailer body,Summary Allow to custom content type in case of setting headers body and attachments,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,sgrif,sgrif",2016-11-30 14:09:28,2017-01-06 11:06:05
PR,ensure compact of HWIDA to return HWIDA,Hash compact of Ruby native returns new hash Therefore in order to return HWIDA as in the past version need to define own compact to HWIDA Related 26868,,"y-yagi,sgrif,y-yagi,rwz,rafaelfranca,y-yagi,eugeneius",2016-12-17 10:27:57,2017-01-06 11:23:25
IS,Forked foundation rails gem causes assets precompile error deploying to production,Steps to reproduce 1 Fork the foundation rails gem without modifying any code 2 Use branch v5 in your gemfile 3 Deploy to production with Capistrano Expected behavior The deployment should be successful using the forked gem along with potential code modifications Actual behavior I get an error ExecJS RuntimeError SyntaxError Name expected line 17864 col 111 pos 559646 during the Execute assets precompile step in Capistrano System configuration Rails v 5 0 0 1 Ruby v 2 3 1,,rafaelfranca,2017-01-06 15:18:26,2017-01-06 22:45:41
IS,unable to add to action dispatch rescue responses in an engine,Steps to reproduce I'm still not certain if this is an issue or a lack of understanding of the configuration option I'm trying to add a rescue response in an engine initializer so the application renders its 403 error page Rails application config action dispatch rescue responses merge 'MyEngine Errors Forbidden' forbidden This is not working I'm still getting a 500 error and its page and not a 403 When I move the above code to the application is config application rb or an initializer though I get the 403 page System configuration Rails 5 0 1 Ruby 2 3 3,,rafaelfranca,2017-01-06 12:59:18,2017-01-06 23:01:36
IS,Merge secure headers into core,I wanted to open a discussion forgive me if this is not the right place about merging the library functionality into rails core attempted to add similar CSP functionality but has stalled out In I suggested a static default policy and that turned into a let is write better docs conversation This is entirely separate secure headers does much more than CSP and is meant to be a here is a place where you configure isecurity' for all header based things including cookies thing Maybe it tries to do too much maybe it does not The rails default headers mechanism does not suffice for any non trivial application CSP and X Frame Options are not meant to be static Before I go through the motions of spiking out what this would look like I just want to see if this is something that would be agreeable And during the porting process y'all can review out anything that is disagreeable If there is anything wrong with the current design of secure headers that would be a great place to start Features Global configs Meant to be fairly static or the basis of a dynamic policy e g api policy vs the default policy or admin CSP vs the default or preview potentially breaking features to employees only vs the default There is a default policy and a set of policies that can be referred to by name API for opting out of a given header or of all headers for a given request API for setting specific X Frame Options values per request Grouped policy changes based on specific needs e g that one page that needs an extra frame src font src and form action that does not belong in the global policy See named overrides and named appends It validates values via regex It does some light validation on the CSP certainly not comprehensive It handles per content type per controller per action per tag helper configs well An API for overriding a directive An API for appending to a directive is minifying code middleware to set everything once there should never be a need to check their string values in the application layer It handles cookie security marking cookies as httponly secure samesite etc Why not The API is not clear enough for everyone jeremy is suggestion issuecomment 46390256 seems more friendly To me it does not buy much But I'm clearly not the right person to have an opinion here smile Maybe the code is so awful it is painful to try and grok Maybe it tries to do too much Maybe the way it is shoehorned as a library has created some not so desirable code Maybe the current mechanisms that are duplicated by secure headers are actually better even if incomplete How to move forward Figure out which parts of secure headers are terrible agreeable Agree on an API Agree on a configuration scheme Settle on UA sniffing if any Agree on safe defaults Getting security closer to the framework is always a win and is something is actively working on cc,,"guilleiguaran,maclover7,rafaelfranca,rafaelfranca,rafaelfranca,matthewd",2017-01-05 19:03:17,2017-01-06 23:09:16
PR,Preserve up and down return type,In Rails 4 2 calling ActiveRecord Migrator migrate would return an array of results Without realizing that this return type was expected I accidentally introduced a change in This PR preserves the previous behavior and adds a test on the return type This will need a backport to 5 0 branch,,schneems,2017-01-06 19:32:01,2017-01-07 02:24:12
PR,Reduce serialize in changed in place,If raw old value is needed deserialize to normalization unneeded serialize again because new value is deserialized value,,"kamipo,sgrif,rafaelfranca,kamipo",2017-01-06 12:37:50,2017-01-07 09:50:46
PR,Fix bug with symbolized keys in where with nested join,Summary In code was added to fix making where clauses against tables with an enum column with a join present as part of the query As part of this fix it called singularize on the table name variable that was passed into the associated table method table name in some circumstances can also be a symbol if more than one level of joins exists in the Relation i e joins book subscription This fixes that by adding to s before calling singularize on the table name variable Other Information This bug only surfaces when a join is made more than 1 level deep since the where clause builder calls stringify keys on the top level of the where hash L16 So this hides this edge case from showing up in the test suite with the current coverage and the test that was in PR 25146 The other solution to this problem is to deeply stringify the keys in the where clause builder and all method calls following that can safely assume strings are being passed in as keys This is a heavier hammer but the assumption is already being made on the top level to do this so it seems like a better place to put it instead of scattered throughout the codebase and having it handle both strings symbols in multiple places This alternative will be proposed in a separate PR Also of note the this probably is not the best place for a test like this but it was the simplest way I could get a test in place without familiarizing myself with the entire ActiveRecord test suite copying what was done in the previous PR Suggestions welcome for a better place for this test to live but it is worth noting that this same test will also be used to confirm the same working functionality in the alternative form for this PR,,"maclover7,matthewd",2017-01-07 01:00:48,2017-01-07 22:30:35
PR,Fix bug with symbolized keys in where with nested join alternative to 27598,Summary In code was added to fix making where clauses against tables with an enum column with a join present as part of the query As part of this fix it called singularize on the table name variable that was passed into the associated table method table name in some circumstances can also be a symbol if more than one level of joins exists in the Relation i e joins book subscription This fixes that by adding chaning the stringify keys found in ActiveRecord Relation WhereClauseFactory to be a deep stringify keys to stringfy keys at all levels Other Information This bug only surfaces when a join is made more than 1 level deep since the where clause builder calls stringify keys on the top level of the where hash L16 So this hides this edge case from showing up in the test suite with the current coverage and the test that was in PR 25146 This is the alternative to in which the change from PR 25146 was fixed in isolation Instead here we fix the false assumption that all table name values being passed into associated table are a string This might have wider effects because of that so that should be considered when reviewing,,,2017-01-07 01:05:51,2017-01-07 22:30:37
PR,Followup of 27596 test output of run method as well,27596 Updated run and migrate method for returning correct value but only added test for migrate method This commit adds a test for run as well r,,"prathamesh-sonpatki,prathamesh-sonpatki",2017-01-07 11:11:42,2017-01-08 03:35:22
PR,Fix random failure related to migration environment,Reference Reproduction command MTB VERBOSE 2 bundle exec minitest bisect seed 33328 Itest test cases migration test rb test cases tasks database tasks test rb You need to also add minitest bisect gem to the Gemfile to reproduce this failure r,,"prathamesh-sonpatki,kamipo,prathamesh-sonpatki,kamipo",2017-01-07 12:17:26,2017-01-08 03:35:37
IS,doc active record add index,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version none Ruby version none I read the docs at and saw some matformed formating screen shot 2017 01 07 at 22 43 48 I think is is something in these lines L665 L669 but could see anything stange there I am willing to contribute but need some guidelines then,,"Gaurav2728,Gaurav2728,prathamesh-sonpatki",2017-01-07 21:46:49,2017-01-08 10:34:59
IS,In mountable plugin fixtures from test dummy test fixtures do not load,Steps to reproduce 1 Generate new mountable plugin with rails plugin new cool plugin mountable 2 Go to test dummy and generate few scaffolds 3 Return to plugin root and run bin rails t Expected behavior Tests should pass Actual behavior Tests do not pass because in test helper we have in railties lib rails generators rails plugin templates test test helper rb System configuration Rails version 5 0 0 rc2 Ruby version 2 3 0,,maclover7,2016-06-23 18:29:28,2017-01-08 13:49:10
IS,Rails 5 scaffold controller generates html files when api flag is used,Steps to reproduce Expected behavior The steps above should only create jbuilder views Actual behavior Creates both jbuilder and html views screen shot 2017 01 06 at 13 10 00 System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16,,,2017-01-06 13:10:37,2017-01-08 18:31:04
PR,Do not generate HTML ERB templates for scaffold controller with api flag,Fixes 27591 r,,"prathamesh-sonpatki,kaspth",2017-01-07 12:37:18,2017-01-08 18:31:04
IS,has secure token token was method incompatible with some callbacks,Steps to reproduce Define a model with a secure token and a before validation hook that accesses token was maybe other ActiveModel Dirty properties too Create an instance of this model and attempt to save System configuration Rails version 5 0 0 1 Ruby version 2 3 3,,"rafaelfranca,kaspth,kaspth",2017-01-04 03:48:42,2017-01-08 19:23:35
IS,has many through with include Comparable,I'm not sure this is a bug but this has worked in previous versions of rails and stopped working in rails 5 0 1 It was a huge pain to track down so if nothing else maybe someone will find this if they are running into a similar issue If a has many through join model includes Comparable then creating join records through the association does not set the foreign key for all but the first record For example in the test below Event create user ids user1 id user2 id will create two Invite join records but only the first one is assigned an event id Steps to reproduce Expected behavior Correctly create joins records with foreign keys correctly populated Actual behavior foreign keys are nil System configuration Rails version 5 0 1 Ruby version 2 3 3,,"utilum,alexcameron89,sgrif,sgrif,maclover7,kamipo,maclover7,maclover7",2017-01-06 18:57:48,2017-01-08 19:25:39
IS,Yield in partial view does not call block given by calling view,Steps to reproduce Create following controller and views app controller welcome controller rb My block was not executed System configuration Rails version 4 2 7 1 Ruby version 2 3 0,,"prathamesh-sonpatki,kaspth,prathamesh-sonpatki",2017-01-06 16:19:23,2017-01-09 06:48:37
PR,ActionCable should not raise when a connection is already open,ActionCable was throwing a Existing connection must be closed before opening exception which was being picked up as a production issue in our error monitoring software Since this happens pretty often on any device that allows the browser to sleep mobile this error was getting triggered often This change removes the exception but keeps logging the occurrence We now return false to let the caller now that open failed,,"maclover7,javan,javan",2016-12-20 14:39:47,2017-01-09 14:58:37
PR,clarifies usage of blocks when fetching from cache,Summary This clarifies the behaviour of blocks when they are used with Rails cache fetching the existing documentation neglects to mention that the block does not always execute Other Information N A,,arthurnn,2017-01-06 17:03:41,2017-01-09 17:45:38
PR,Preserve up and down return type,In Rails 4 2 calling ActiveRecord Migrator migrate would return an array of results Without realizing that this return type was expected I accidentally introduced a change in This PR preserves the previous behavior and adds a test on the return type This is a backport of 27596 to the 5 0 stable branch,,"schneems,prathamesh-sonpatki,schneems,schneems",2017-01-09 16:28:25,2017-01-09 18:02:48
PR,Deprecate reflection class name to accept a class,The idea of class name as an option of reflection is that passing a String of class name would allow us to lazy autoload the reflection class Passing c class belongs to client class name Customer is eagerloading more models than necessary and creating possible circular dependencies,,"kirs,sgrif,rafaelfranca,rafaelfranca,rafaelfranca,kirs,kirs,kirs,rafaelfranca,kirs,kaspth,kirs,kaspth",2017-01-03 15:37:29,2017-01-09 18:58:23
IS,enum integer isnt working properly,Steps to reproduce Have a field in a database that has enumerate with type integer on a Ticket object example t integer priority on view on Model enum priority High 0 Middle 1 Low 2 Expected behavior It should insert the value as an integer on model It works in previous versions of rails Actual behavior It gets rejected when new inserted saying ArgumentError in TicketsController '0' is not a valid status or '1' is not a valid status or '2' is not a valid status System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1p112 Thank you,,"maclover7,maclover7,maclover7,maclover7,kamipo,kaspth",2016-06-17 05:15:47,2017-01-09 20:08:59
PR,Test skip git generator option,While researching rails app generator I noticed that test case for skip git is missing so I added it,,"dixpac,kirs,dixpac,kirs",2017-01-09 16:25:53,2017-01-09 21:36:56
PR,Improve deprecation message for deprecated reflection class name,Passing a class to has and belongs to many show deprecation message three times It is enough only once And improved deprecation message for deprecated reflection class name Before DEPRECATION WARNING Passing a class to the class name is deprecated and will raise an ArgumentError in Rails 5 2 It eagerloads more classes than necessary and potentially creates circular dependencies Please pass the class name as a string belongs to client class name 'Company' called from initialize at Users kamipo src github com rails rails activerecord lib active record reflection rb 702 After DEPRECATION WARNING Passing a class to the class name is deprecated and will raise an ArgumentError in Rails 5 2 It eagerloads more classes than necessary and potentially creates circular dependencies Please pass the class name as a string has and belongs to many projects class name 'ProjectWithSymbolsForKeys' called from initialize at Users kamipo src github com rails rails activerecord lib active record reflection rb 702,,kamipo,2017-01-09 20:19:08,2017-01-09 22:32:45
PR,activerecord test Fix Mysql2ConnectionTest test execute after disconnect,cc sonpatki Mysql2ConnectionTest test execute after disconnect was originally added in 26434 to catch a NoMethodError occurring in execute when the Mysql2Adapter has a nil connection Pull request 26869 removed the error message check in that test because the error message changed in the mysql2 gem which caused the test to fail Now the test would not catch the original bug since the NoMethodError would get turned into a ActiveRecord StatementInvalid exception Check the cause of the StatementInvalid exception to make sure it is of the correct type,,senny,2017-01-09 20:16:02,2017-01-10 07:19:11
IS,Time travel using TimeHelpers breaks subclasses of Time,For some ungodly reason some libraries like Rubyzip subclass Ruby is built in Time class This is a problem when travel to stubs Time now because the value returned from then calling now on a Time subclass such as Zip DOSTime would return an instance of Time instead of returning an instance of Zip DOSTime I'm unsure of how to best solve this problem The current implementation of TimeHelpers assumes that simply returning a static value is adequate and this implementation is correct for the classes itself but does not work when subclassing Of course one could make a case that core classes should not be subclassed like Aaron wrote on his blog a while ago but code like this is out there and in my case caused breakage in the app I was working on and it seems like tracking down and fixing such broken code would be a game of whack a mole Timecop has had the same issue documented here and applied a fix to work around this issue However looking at this fix it seems that the way it is implemented is by being aware of the workings of Time in the actual stubbing The SimpleStubs L6 class that Rails uses is a very basic generic stubbing class but it would need to be much more aware of the internal workings of Time to apply such a fix This class is nodoc so changing it should be okay I think Steps to reproduce I also wrote a test case for this within the rails test suite here time travel now test Here it is using the template Expected behavior Calling now on a subclass of Time after time traveling should return an instance of the subclass Actual behavior Calling now on a subclass of Time after time traveling returns an instance of Time System configuration Rails version affects all Rails versions since the addition of travel to verified against master Ruby version 2 3 3,,,2017-01-09 11:01:36,2017-01-10 11:40:05
PR,Make time travel work with subclasses of Time Date Datetime,Closes 27614 Previously when calling now on a subclass of e g Time it would return an instance of Time instead of returning an instance of the subclass This way we always return the correct class,,"pixeltrix,pixeltrix,matthewd,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-01-09 13:30:34,2017-01-10 11:40:05
IS,nginx passenger with Rails 5 0 1 WebSocket connection to 'ws' failed WebSocket is closed before the connection is established,This problem does not exists with Rails 5 0 0 1 I uploaded 2 test repositories Working Not working Steps to reproduce Expected behavior Application runs normally Actioncable is streaming from cable URL Actual behavior Browser console shows WebSocket connection to 'ws' failed WebSocket is closed before the connection is established System configuration Rails version 5 0 1 Ruby version 2 2 5,,rafaelfranca,2017-01-09 21:07:29,2017-01-10 12:30:04
PR,Revert Merge pull request 27619 from dixpac add missing generator test,This reverts commit 8cb3cdffdb70f3575518d24ea96ec891e40d21d0 reversing changes made to 3bc747bd8676dc940b531067e2861dcd4ac28efc Reason This test already exists in SharedGeneratorTests Ref L109 L112 L55 L56,,"y-yagi,kaspth",2017-01-10 07:57:05,2017-01-10 12:58:38
PR,Add missing release notes entry for ci skip,,,"prathamesh-sonpatki,kaspth,prathamesh-sonpatki,prathamesh-sonpatki,kaspth",2017-01-09 07:11:33,2017-01-10 12:59:30
PR,Remove json gem dependency,Backport of to 4 1 stable All modern Rubies ship JSON as part of stdlib Using the gem actually hurts multi platform support due to build difficulties on Windows,,"pixeltrix,pixeltrix,matthewd",2017-01-10 13:47:54,2017-01-10 14:45:33
IS,No Rails 5 in apidock com rails,is number one resource for browsing Rails sources and exploring changes accross different versions API Dock results are usually first in all Rails related search results I'm aware this is third party but we as a community should not ignore it having it up to date helps everyone in the community I have just pinged API Dock team on Twitter,,"matthewd,kaspth,matthewd",2017-01-10 15:50:49,2017-01-10 16:10:28
IS,ArgumentError for Attribute of Type decimal for Invalid Input with Ruby 2 4,The behavior of,,pixeltrix,2017-01-10 16:01:45,2017-01-10 17:23:12
IS,config environments development rb 53 in block in top required ' uninitialized constant ActiveSupport EventedFileUpdateChecker NameErro,i created a rails new app after the installation I add bundle exec rails about then when I add bin rails generate controller Say hello goodbye that shows the error System configuration Rails version rails version Rails 5 0 1 Ruby version rvm install ruby 2 3 1 rvm install ruby 2 3 rvm install 2 3 1 rvm install 2 3 how could i fix this a href img src alt width 1139 a,,"prathamesh-sonpatki,matthewd,kaspth,pixeltrix",2016-12-27 03:03:33,2017-01-10 17:28:02
PR,Fix postgres array date with overridden date format,Summary For postgresql arrays when the default date format has been altered then the wrong format is sent to the database This is fixed in rails 5 due by diff 71a38fd3eeeff55fbd47a03809ded3bdL67 but this error is still in rails 4 2,,maclover7,2017-01-10 13:30:22,2017-01-10 21:50:00
PR,Fix typo,,,rafaelfranca,2017-01-10 23:23:45,2017-01-10 23:30:31
IS,new framework defaults should be in the environment not an initializer,Because new framework defaults is in an initializer it overwrites any settings in the environment files The result is that changing a setting in an environment file might have no effect I think this is bad because 1 it is confusing for someone who does not realize that the setting is configured in new framework defaults this just happened to me 2 conceptually it seems more appropriate to put the future framework defaults between the current framework and the app is configuration This way they are truly setting what the application environment config experiences as a default if the new framework defaults are never modified the app environment config can be seamlessly carried from the current framework version to the next one and have the same meaning with the initializer approach when moving to the next framework version those settings will have to either be moved into environment files or into other initializer files if they are moved into new framework defaults on the new app which now also has new new framework defaults then the file will be a mess that does not actually reflect the defaults of the current and future version Backing up a little The way it is now new framework defaults is simply just one more final config file that happens to have things related to the future framework since all these settings can be changed by the user and a user typically changes such settings in the environment config maybe instead of having a standalone initializer it should just be dumped into application rb with comments about what the values are for present and future rails versions Then the user can modify it as needed and the config will be portable to the next version,,"rafaelfranca,rafaelfranca",2017-01-10 21:12:48,2017-01-10 23:57:33
PR,Modifications to parameter DEFAULT PARSERS are not reflected by the default parameter parsers,Summary This fixes an issue where the default parsers are copied when set on ActionDispatch Request From b93c226d19 it seems the initial intent is for the parameter parsers to be a singleton for the middleware stack Later in a087cf4312 things were updated so that existing apps would not break if a parser was added which did not use symbol keys That update copied the parsers when setting them even if only the default parser constant was used This copying breaks apps which expect the default parsers constant to be mutable in initializers e g config initializers mime types rb then later used by requests when no other set of parsers has been explicitly set In an attempt to reconcile both of these intents this lazy loads the parameter parsers In the case where the parameters are not set which is the default as of 53d2b7335a the default constant will be used which will reflect modifications by initializers Otherwise a copy of the custom set it used with symbol keys This chooses to implement the lazy loading via a custom reader inside the ClassMethods module to be consistent with the existing code Other implementations that were considered include Eager load parameter parsers directly in the included block While this works as expected it does not follow existing conventions To remain consistent with the existing code we wo not us this In the setter check if all keys are symbols and not copying the hash in this case This behavior is surprising as sometimes the hash is used directly and other times a copy is used Since this may be surprising we wo not use it Drop transposing keys in the setter This does not appear to be a viable option given the current release cycle so we wo not do this either Background This modification of the DEFAULT PARSERS was implemented in a Rails 4 2 application based on information from rails api active model serializers 1027 After updating to Rails 5 0 1 this stopped working For this app the custom parser is setup in config initializers mime types rb The custom parser is used to by pass realtime parsing for large JSON data set for a particular endpoint When the controller receives this particular format it pushes the data into a background job for further processing Other Information I was not clear on the module is intended behavior based on the above mentioned commits and seeing that the implementation of params parsers delegates directly to ActionDispatch Request parameter parsers I guessed on the intended behavior based on the prior behavior and the statement there is only one set of parameter parsers in an app Also I was a little concerned that the lazy loading may have threading implications but I do not have enough knowledge of the Rails loading process to make a call on that I'm happy to adjust things as necessary,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-01-11 04:29:26,2017-01-11 04:46:48
IS,Getting more done in GitHub with ZenHub,Hola has created a ZenHub account for the rails organization ZenHub is the only project management tool integrated natively in GitHub created specifically for fast moving software driven teams How do I use ZenHub To get set up with ZenHub all you have to do is download the browser extension and log in with your GitHub account Once you do you ll get access to ZenHub s complete feature set immediately What can ZenHub do ZenHub adds a series of enhancements directly inside the GitHub UI Real time customizable task boards for GitHub issues Multi Repository burndown charts estimates and velocity tracking based on GitHub Milestones Personal to do lists and task prioritization Time saving shortcuts like a quick repo switcher a Move issue button and much more Add ZenHub to GitHub Still curious See more ZenHub features or read user reviews This issue was written by your friendly ZenHub bot posted by request from ZenHub Board,,,2017-01-11 09:27:47,2017-01-11 09:28:10
PR,Fix indent,Summary case when indent is broken,,pixeltrix,2017-01-11 08:08:53,2017-01-11 10:34:30
PR,Fix grammar in action dispatch http parameters rb ci skip,,,"kenta-s,prathamesh-sonpatki,kenta-s",2017-01-11 09:55:47,2017-01-11 14:17:29
IS,TypeError Cannot visit ThreadSafe Array,Recent unit tests getting TypeError Cannot visit ThreadSafe Array since Build 39933 It had been fine until 39917 It just reproduces with ruby trunk Steps to reproduce Here o right class is ThreadSafe Array but Array is expected,,"yahonda,matthewd,yahonda,yahonda,yahonda",2017-01-10 14:47:25,2017-01-11 15:08:53
PR,Add byebug history to gitignore,Byebug uses local byebug history file since version 8 1 0,,"palkan,prathamesh-sonpatki,palkan",2017-01-11 11:44:46,2017-01-11 16:28:26
IS,ActiveRecord Anonymous Class discussion not a bug,As stated in 8934 using Anonymous Classes are not supported That said IF I were to use an anonymous class what suggestions and concerns would you have This is how I am using it currently tempConnection Class new ActiveRecord Base do def self name end end tempConnection instance variable set name params database params table config tempConnection connection config clone config database params database tempConnection table name params table tempConnection establish connection config,,rafaelfranca,2017-01-11 19:48:35,2017-01-11 19:50:49
IS,sum no longer queries for associations when previously loaded,Steps to reproduce Expected behavior 8 on Rails v5 0 0 1 Actual behavior 0 on Rails v5 0 1 The behavior of sum changed in No query is executed since the comments association is already loaded due to the validates associated validator I realize however that model association create is a more proper way of creating those associations System configuration Rails version v5 0 0 1 and v5 0 1 Ruby version ruby 2 3 1p112,,kamipo,2017-01-09 21:15:08,2017-01-11 23:15:31
IS,authenticate with http basic allows invalid headers,When using the authenticate with http basic it accepts invalid basic authentication header and passes to the block nil username and password User is auth system may not expect nil values for these variables and this could lead to possible security issues in the app I'm providing an example of how this could happen In my opinion when invalid basic auth header is supplied the methid should return nil as if no auth header has been supplied This would be least surprise behavior Steps to reproduce In some controller method do Expected behavior HTTP 1 1 401 Unauthorized Actual behavior HTTP 1 1 204 No Content System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,maclover7,2017-01-11 20:42:53,2017-01-12 02:16:52
PR,remove unused requires,Related to 0129ca2eeb6d5b2ea8c6e6be38eeb770fe45f1fa f7782812f7e727178e4a743aa2874c078b722eef f9ed83321ac1d1902578a0aacdfe55d3db754219,,y-yagi,2017-01-11 23:45:32,2017-01-12 02:27:57
PR,Fix inconsistent parsing of Durations with both months and years,boazy reported in issuecomment 263035188 that the following code may fail success depends on the current time,,"Envek,pixeltrix,pixeltrix,Envek,pixeltrix,Envek,pixeltrix,pixeltrix,Envek,pixeltrix,Envek,Envek,pixeltrix",2017-01-08 23:24:24,2017-01-12 07:20:29
IS,Server not starting Errno ENOENT,Steps to reproduce installed a new application and typed rails server to start server got this error Expected behavior Server should start Actual behavior Niranjans MacBook Pro test app niranjan rails server b 0 0 0 0 Booting Puma Rails 5 0 1 application starting in development on 3000 Run rails server h for more startup options Exiting Users niranjan rvm gems ruby 2 3 3 gems puma 3 6 2 lib puma launcher rb 328 in stat' No such file or directory rb file s stat Users niranjan Desktop ruby ruby projects Section 2 test app Errno ENOENT from Users niranjan rvm gems ruby 2 3 3 gems puma 3 6 2 lib puma launcher rb 328 in generate restart data' from Users niranjan rvm gems ruby 2 3 3 gems puma 3 6 2 lib puma launcher rb 66 in initialize' from Users niranjan rvm gems ruby 2 3 3 gems puma 3 6 2 lib rack handler puma rb 47 in new' from Users niranjan rvm gems ruby 2 3 3 gems puma 3 6 2 lib rack handler puma rb 47 in run' from Users niranjan rvm gems ruby 2 3 3 gems rack 2 0 1 lib rack server rb 296 in start' from Users niranjan rvm gems ruby 2 3 3 gems railties 5 0 1 lib rails commands server rb 79 in start' from Users niranjan rvm gems ruby 2 3 3 gems railties 5 0 1 lib rails commands commands tasks rb 90 in block in server' from Users niranjan rvm gems ruby 2 3 3 gems railties 5 0 1 lib rails commands commands tasks rb 85 in tap' from Users niranjan rvm gems ruby 2 3 3 gems railties 5 0 1 lib rails commands commands tasks rb 85 in server' from Users niranjan rvm gems ruby 2 3 3 gems railties 5 0 1 lib rails commands commands tasks rb 49 in run command ' from Users niranjan rvm gems ruby 2 3 3 gems railties 5 0 1 lib rails commands rb 18 in top required ' from Users niranjan Desktop ruby ruby projects Section 3 test app bin rails 9 in require' from Users niranjan Desktop ruby ruby projects Section 3 test app bin rails 9 in top required ' from Users niranjan rvm gems ruby 2 3 3 gems spring 2 0 0 lib spring client rails rb 28 in load' from Users niranjan rvm gems ruby 2 3 3 gems spring 2 0 0 lib spring client rails rb 28 in call' from Users niranjan rvm gems ruby 2 3 3 gems spring 2 0 0 lib spring client command rb 7 in call' from Users niranjan rvm gems ruby 2 3 3 gems spring 2 0 0 lib spring client rb 30 in run' from Users niranjan rvm gems ruby 2 3 3 gems spring 2 0 0 bin spring 49 in top required ' from Users niranjan rvm gems ruby 2 3 3 gems spring 2 0 0 lib spring binstub rb 31 in load' from Users niranjan rvm gems ruby 2 3 3 gems spring 2 0 0 lib spring binstub rb 31 in top required ' from Users niranjan Desktop ruby ruby projects Section 3 test app bin spring 14 in require' from Users niranjan Desktop ruby ruby projects Section 3 test app bin spring 14 in top required ' from bin rails 3 in load' from bin rails 3 in main ' System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 3,,,2017-01-12 09:21:05,2017-01-12 09:22:46
PR,fix method name in Renderer doc ci skip,ActionController Renderer defaults was removed in 2db7304,,"y-yagi,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,y-yagi,prathamesh-sonpatki,prathamesh-sonpatki,kaspth",2017-01-12 11:55:05,2017-01-12 15:01:16
IS,after commit is previous changes lose the changes made earlier in the transaction,Steps to reproduce System configuration Rails version 5 0 0 Ruby version 2 3 3,,"maclover7,arthurnn",2017-01-12 19:33:14,2017-01-12 22:02:34
IS,feature request automatically generate options routes,Steps to reproduce Send OPTIONS http method to any route Expected behavior routes rb should automatically generate OPTIONS routes to advertise the API Currently it is possible to generate them manually using but it would be much better if it was automatically generated by rails Actual behavior I get a 500 error status System configuration Rails version 4 2 5 1 Ruby version 2 2 4,,maclover7,2017-01-12 09:38:51,2017-01-12 22:04:53
PR,Fix typo extention extension ci skip,,,"kenta-s,prathamesh-sonpatki",2017-01-13 03:00:59,2017-01-13 03:53:48
IS,ActiveSupport TimeZone find by zipcode missing 37212 Nashville TN,Steps to reproduce System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin16,,Edouard-chin,2017-01-13 01:52:28,2017-01-13 07:03:27
IS,Getting Started With Rails Blog Tutorial Unit 6,Is the Getting Started With Rails Blog tutorial known to work Could there be a bug in it I carefully copied and pasted the given code into the generated files Everything work fine until I did unit 6 Then I got the error NoMethodError in Articles show undefined method article comments path' for Class 0x007fc8993a6510 0x007fc8986c6868 Did you mean article path Nobody on Stackoverflow could solve the problem Expected behavior The Show link should take user to the article clicked on Actual behavior Rails throws the above error System configuration Rails version Rails 5 0 1 Ruby version 2 4 0 Thanks,,,2017-01-12 14:51:36,2017-01-13 08:48:18
PR,Fix grammar in asset url helper rb ci skip,,,"kenta-s,kamipo",2017-01-13 11:14:20,2017-01-13 11:40:44
IS,Rails 4 2 x does not work with Ruby 2 4,Steps to reproduce 1 Install Ruby 2 4 2 Try to launch e g Rails console Guidelines for creating a bug report are available here creating a bug report Expected behavior Rails console should be railed Actual behavior SystemStack error is caused by activesupport 4 2 7 1 lib active support core ext numeric conversions rb line 131 System configuration Rails version 4 2 7 1 Ruby version 2 4 0,,robin850,2017-01-13 12:11:45,2017-01-13 12:37:06
PR,Fixed precision lost when intend highly number to currency precision,Do not use method Float to s as helper number to currency will looses precision Summary Fixed 27645 AS mentioned if we intend want highly precision helper number to currency we should not use Float to s it will convert to float and then convert to string and lost precision Like that 0 10000000000000000555 to s 0 1,,,2017-01-13 13:44:29,2017-01-13 14:12:07
PR,Update builder gem to avoid deprecations of 2 4,,,kirs,2017-01-13 18:52:32,2017-01-13 19:48:31
PR,Fix missing bracket,Fix missing left bracket in exception message,,eileencodes,2017-01-13 22:55:28,2017-01-13 23:58:39
PR,CI against JRuby 9 1 7 0,JRuby 9 1 7 0 Released,,"koic,koic,eileencodes,koic",2017-01-13 09:40:03,2017-01-14 00:06:11
IS,find by sql select sum price from orders return order id nil not sum price,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior find by sql select sum price from orders return order id nil not sum price image Actual behavior Tell us what happens instead System configuration Rails version 5 0 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,matthewd,2017-01-14 02:54:27,2017-01-14 04:19:10
PR,Small spelling error,Summary Just a small spelling fix existing acrnoyms existing acronyms,,arthurnn,2017-01-14 03:34:10,2017-01-14 04:25:39
IS,scope for create STI model type key glitch,there is teh not so well documented scope for create on teh docs which i suppose is used to create stuff into teh current scope method i scope for create i was gonna use it in a new link containing default values based on teh current search but then all my STI child models have type key duplicated seems to yield nice results Copy of but this could return with indifferent access or just symbolize keys before teh merge and save us from surprises o3 describing teh function would be nice too what do you think O3,,,2017-01-07 03:35:36,2017-01-14 17:25:22
PR,type condition should be overwritten by create with value in scope for create,type condition should be overwritten by create with value So type in create with value should be a string because where values hash keys are converted to string Fixes 27600,,"kamipo,kaspth",2017-01-14 16:11:28,2017-01-14 17:25:22
PR,Add the touch option to ActiveRecord increment and decrement,Summary I modified 21979 with the changes from 26995 In this commit AR increment updates timestamp columns This is the same behavior as Rails before 11410,,"akihiro17,kaspth,kaspth,akihiro17,kaspth",2017-01-12 18:06:31,2017-01-14 18:00:08
PR,Fix broken sample code in action view helpers output safety helper rb,A right bracket is missing in a sample code,,"kenta-s,kamipo",2017-01-15 03:08:25,2017-01-15 04:49:49
IS,Can anyone help me,hi I want to auto save data created in description method but I could not save it Please anyone can help me class Room ApplicationRecord auto save description def description letters 0 9 to a 'a' 'z' to a 'A' 'Z' to a add or remove possibilities self description letters sample 6 join end end,,kamipo,2017-01-15 04:14:24,2017-01-15 04:53:07
PR,remove unnecessary addition of lib,TestTask add lib directory by default Ref L39 L41,,y-yagi,2017-01-15 01:30:15,2017-01-15 10:16:30
IS,Regression in render to string from 5 0 0 1 to 5 0 1 when passing instance variables to locals,Hi I'm not sure whether this has been ever supported officially but since it was suggested in a StackOverflow question I was using this and maybe others too and that broke when I upgraded our Rails app I ended up fixing in our application by assigning something something before calling render to string otherwise something would be nil in the partial Was this change intentional somehow I'm just reporting in case it was not intentional for this patch release in case you wanted to handle this with proper warnings before removing the maybe unintentional support for instance variables through locals Maybe render to string would support assigns now instead of locals for such cases I have not tested but one would not usually expect such breakage in a patch release so I'm reporting in case you want to release 5 0 2 supporting applications using that trick and emit a deprecation warning in such cases Best Rodrigo,,"rosenfeld,maclover7,pixeltrix,pixeltrix,rosenfeld,pixeltrix,rosenfeld,matthewd,pixeltrix,rosenfeld",2016-12-28 14:29:16,2017-01-15 13:48:11
PR,Several representation of BigDecimal has changed in Ruby 2 4 0 ci skip,cf,,"koic,maclover7,kaspth,koic",2017-01-15 03:00:52,2017-01-15 15:18:07
PR,remove unused require,InlineAdapter is not used from 1f8558f,,y-yagi,2017-01-15 04:04:53,2017-01-15 18:31:28
IS,Image tag not producing fingerprint,Steps to reproduce Please see the posts from different people I experience the same issues Post 1 Post 2 Expected behavior image tag should be producing a fingerprint for the image Actual behavior image tag is not producing an md5 fingerprint System configuration Rails 4 2 Ruby 2 3 1 2 3 3,,"maclover7,maclover7,rafaelfranca",2017-01-13 14:46:12,2017-01-15 18:47:42
PR,Fix UUID primary key with default nil in legacy migration,UUID primary key with no default value feature 10404 18206 was lost in legacy migration caused by 25395 got merged Restore the feature again in legacy migration,,kamipo,2017-01-09 13:41:38,2017-01-15 19:08:03
PR,Make all rails commands work in engine,Currently all rails commands can be executed in engine but server console dbconsole and runner do not work This make all rails commands work in engine Related to 22588 r,,"y-yagi,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,y-yagi,y-yagi,y-yagi,y-yagi,y-yagi,kaspth,y-yagi",2017-01-07 07:12:00,2017-01-15 19:15:47
PR,Add test for update counters with empty touch array,This is a regression test for a fix included in see discussion r95855113 Without that change this test would fail with ActiveRecord StatementInvalid SQLite3 SQLException near WHERE syntax error UPDATE topics SET replies count COALESCE replies count 0 1 WHERE topics id r I have no idea if I'm allowed to r but let is see fyi,,"eugeneius,kaspth,eugeneius,kaspth,eugeneius,kaspth,eugeneius",2017-01-15 01:15:20,2017-01-15 20:57:38
PR,readme,just a readme,,,2017-01-16 03:08:39,2017-01-16 03:11:50
PR,Update comment for Scrubber usage ci skip,The sample code does not work now it must be updated see,,"kenta-s,kaspth",2017-01-16 11:27:12,2017-01-16 14:57:51
PR,Allow SQLServerAdapter To Opt Into A Few Tests,Hi I am the author of the SQLServer adapter for Rails While working on the long awaited Rails v5 releases I found a few tests in core that we would like to opt into Our tests run the full ActiveRecord suite and we have a coercion system that enables us to keep most of our changes out of the core test suite However these changes open up tests that we do not want to regress on Willing to answer any questions if needed Thanks cc,,"metaskills,maclover7,metaskills",2017-01-16 02:39:14,2017-01-16 15:04:08
PR,make render work with AC Params,In 4 2 since AC Params inherited Hash processing in the case of Hash was done But in 5 x since AC Params does not inherit Hash need to add care for AC Params Related to 00285e7cf75c96553719072a27c27e4ab7d25b40,,"y-yagi,eileencodes,rafaelfranca",2017-01-15 05:48:18,2017-01-16 15:09:57
PR,Translate Foreign Key violation to the specific exception for SQLite3 adapter,Raise ActiveRecord InvalidForeignKey when a record cannot be inserted or updated because it references a non existent record for SQLite3 adapter,,"kamipo,pixeltrix",2017-01-16 13:53:58,2017-01-16 17:26:28
PR,Raise ArgumentError if attempting to transliterate nil,Problem When calling This is coming from tidy bytes and I18n transliterate both not handling nil either Solution Raise an ArgumentError explaining what the problem is and where it comes from Alternately we could pass through nil since by definition it is also transliterated but this is the least functionality change cc,,"kmcphillips,kirs,kaspth,kirs,kaspth,kmcphillips,kmcphillips,kaspth,kmcphillips,rafaelfranca,kaspth,kmcphillips,kaspth",2017-01-16 18:57:20,2017-01-16 20:32:49
PR,Allow SQLServerAdapter To Opt Into A Few Tests,This is the same as 27695 but is meant for the 5 0 stable branch,,"metaskills,metaskills,maclover7,metaskills",2017-01-16 18:31:16,2017-01-17 03:17:49
PR,Explicitly require ActionView Helpers TagHelper dependencies,Summary It turns out that TagHelper depends on additional view helpers as well as ActiveSupport Concern This is not explicitly required because when Rails is loaded all at once these constants will have been required elsewhere but it is necessary to declare the dependency explicitly if anyone is going to require something from ActionView directly Other Information I stumbled upon this because I was trying to require just DateHelper require action view helpers date helper NameError uninitialized constant ActiveSupport Concern from rails actionview lib action view helpers tag helper rb 12 in module TagHelper ',,"matthewd,rafaelfranca",2017-01-17 05:46:12,2017-01-17 06:53:48
IS,Rails MailersController preview can not modify frozen String,Hi the following should be self explanatory My bet is that this is easy to fix so creating a repro might be bit of useless work Backtrace screenshot and text image System configuration Rails version 5 0 1 Ruby version 2 4 0 Cheers Victor,,"maclover7,pixeltrix,pixeltrix,eugeneius,jeremy,eugeneius",2017-01-16 17:26:26,2017-01-17 14:24:10
PR,Let 'current page ' return false when the argument path is not defined,Since current page ' not exists' returns false I think current page controller 'not' action 'exists' should also return false instead of raising an error When there is no route for the arguments of current page it is obvious that the path is not current page,,"kenta-s,pixeltrix,kenta-s",2017-01-17 10:34:47,2017-01-17 14:41:43
PR,Fix pool from any process to use most recent spec,I was going to backport this but I can not push to 4 2 stable because it is protected cc If a process is forked more than once the pool was grabbing the oldest spec not the most recent spec This was not noticed before because most folks are lilely forking the process only once If you are forking the process multiple times however the wrong spec name will be returned and an incorrect connection will be used for the process This fixes the issue by reversing the list of spec names so we can grab the most recent spec rather than the oldest spec,,"eileencodes,rafaelfranca",2017-01-17 14:24:24,2017-01-17 15:29:51
PR,Remove meaningless line from adapter test rb,tables is defined twice,,"kenta-s,pixeltrix",2017-01-16 11:35:12,2017-01-17 15:33:15
PR,Generate migrations at path set by config paths db migrate,Summary Generate new database migrations at path set by config paths db migrate instead of hardcoding the generations to db migrate,,"simi,pixeltrix,simi,pixeltrix,simi,pixeltrix,pixeltrix,rosenfeld",2017-01-13 16:42:55,2017-01-17 15:56:08
PR,Use appropriate assertion based on expectation,This resolves a stern Minitest warning about an upcoming behavior change in MiniTest 6 that will result in the test failing More information on the change is available at,,,2017-01-17 20:33:52,2017-01-17 21:01:16
PR,Remove unused variable aregex',The variable regex here is currently not used,,kenta-s,2017-01-17 23:24:13,2017-01-18 02:35:19
PR,Install Byebug gem as default in Windows mingw and x64 mingw platform,Summary In this pull request byebug gem in default Gemfile has platform mri option but mri does not include Windows platform see here PLATFORMS So Byebug has not been installed in Windows since then However Byebug is CI tests are passing in Windows mingw and x64 mingw and the author says Byebug supports Windows see here So it should be installed in Windows platform again if you have any thoughts on this change please let me know,,,2017-01-18 01:28:32,2017-01-18 02:35:56
PR,Update rubocop,Summary Since rubocop v0 47 AlignWith became obsolete Update CodeClimate raises new issues If I need to fix it I will auto collect the issues,,"maclover7,eileencodes,rafaelfranca,rafaelfranca,fxn",2017-01-16 06:43:22,2017-01-18 03:11:54
PR,allow to pass describe option to rake,Since Thor HELP MAPPINGS contains D so bin rails D show rails is help But in Rails 5 0 1 bin rails D show the description of rake task I think that it is better to have the same behavior,,y-yagi,2017-01-17 05:26:43,2017-01-18 03:42:42
PR,Remove initialize schema migrations table and initialize internal metadata table internal public methods,These internal methods accidentally appeared in the doc and so almost useless It is enough to create these internal tables directly and indeed do so in several places L55 L6 L230,,"kamipo,matthewd,matthewd,kamipo",2017-01-18 03:24:35,2017-01-18 03:47:36
IS,Wrong SQL syntax is generated when count is called on limit and custom select,Steps to reproduce You can find a reproducible test case here Construct a query with 1 select with custom SQL 2 limit 3 count For instance System configuration Rails version master Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux gnu,,"kamipo,kamipo",2017-01-13 19:07:21,2017-01-18 03:55:17
IS,Why delete all on dependent option rather than delete,While inspecting the different value of the dependent option I was surprised that all the values are phrased as a verb alone destroy nullify restrict with exception restrict with error outside delete which is suffixed by all delete all Is there a specific reason for this,,rafaelfranca,2017-01-16 09:06:49,2017-01-18 04:19:54
PR,Module parent name broken for frozen classes,Previously memoization inside of Module parent name resulted in a runtime error when called for the first time on a frozen module This patch adds a regression test and refactors the method to resolve the issue Note introspection tests were previously lumped into test core ext module test rb despite the code having been extracted to core exts module introspection rb I isolated the tests similarly following convention e g core exts module anonymous rb to test core ext module anonymous test rb In the process I removed some old over 10 years setup objects that were no longer being referenced,,"rafaelfranca,maclover7,rafaelfranca",2017-01-17 21:14:26,2017-01-18 04:21:06
IS,Module parent name broken for frozen classes,Steps to reproduce Expected behavior Should return A and not try to cache the parent name into an instance variable on the frozen class Actual behavior RuntimeError can not modify frozen Class A B System configuration Rails version 4 2 7 1 though the code has not changed in 5 0 or master Ruby version 2 3 1,,"ccutrer,maclover7,ccutrer,maclover7",2017-01-10 17:40:43,2017-01-18 04:21:20
PR,Add channel prefix support to AC redis evented redis adapters,Summary 27224 In Redis Pub Sub has no relation to the key space It was made to not interfere with it on any level including database numbers Publishing on db 10 will be heard by a subscriber on db 1 database amp scoping To avoid problems when multiple Rails applications use the same Redis instance the redis evented redis subscription adapters now support a channel prefix option specified in cable yml Other backends do not appear to have this issue The generated cable yml has also been updated to reflect this change,,"rafaelfranca,rafaelfranca,rafaelfranca,matthewd,matthewd,matthewd,matthewd,rafaelfranca,rafaelfranca",2016-12-21 17:21:13,2017-01-18 05:00:40
IS,Scope channel if multiple actioncable server using redis,Steps to reproduce 1 create two rails app with a basic chat 2 Setup ChatChannel for both app with stream from chat channel 3 Run both app and two differents actioncable server using redis 4 send a message from app 1 Expected behavior The message is saved in app 1 and broadcasted to app 1 websocket Actual behavior The message is saved in app 1 and broadcasted to both app websocket,,maclover7,2016-11-30 10:27:20,2017-01-18 05:00:50
PR,Update ActionCable guide to better describe SubscriptionAdapter config,Summary Fleshed out documentation on each SubscriptionAdapter including new channel prefix support on the redis evented redis adapters 27425,,maclover7,2017-01-18 04:39:39,2017-01-18 05:01:10
PR,restore class and module deleted by mistake,Tests using these are deleted with c32ccd8 which is unnecessary in master but still necessary for 5 0 stable Follow up to 9f4fc67,,y-yagi,2017-01-18 05:30:46,2017-01-18 06:38:53
PR,Add test for safe join,When the second argument is not passed safe join should return a string separated by this is a default separator But there is no test for this case,,kenta-s,2017-01-15 03:49:15,2017-01-18 06:41:27
PR,Fix unexpected behavior of to sentence with,When is not nil to sentence returns a strange string Steps to reproduce to sentence calls safe join which uses unless the second argument is given Since to sentence method is expected to return a comma separated sentence it should not be affected by even when is not nil,,kenta-s,2017-01-15 12:21:50,2017-01-18 06:43:17
IS,Calling path to stylesheet from job give different results than view,Steps to reproduce I started both rails server and rails console with RAILS ENV production In view Expected behavior We would like to have the same result in job as in view Actual behavior In jobs it returns stylesheets application css while assets application 477467a41f81a8f91475e45831103e4c4eba2d6b666cc38251bdeb6a7f08c6e4 css in view System configuration Rails version 4 2 2 Ruby version 2 2 2,,rafaelfranca,2017-01-13 13:05:32,2017-01-18 06:47:10
PR,compute asset extname should explicitly return nil in else clause,As is Nothing specified as a return value when the last condition is false An else clause should be here and explicitly return nil,,kenta-s,2017-01-13 03:07:15,2017-01-18 06:49:16
PR,match indentations in environment template,Summary production rb in config environments is generated with mismatching indentations,,"eileencodes,rafaelfranca",2017-01-12 01:00:25,2017-01-18 06:50:20
IS,ActionController Parameters instances expect only one argument for require,The documentation method i require for the method explains that when given an array of keys the method tries to require each one of them in order If it succeeds an array with the respective return values is returned Then it provides this example System configuration Rails version 5 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"rafaelfranca,rafaelfranca",2017-01-12 15:43:19,2017-01-18 06:56:20
PR,Initalize git repo when creatin new rails app,Since Rails is already generating gitignore and in 90 of cases when creating new rails app user initialise git repo Now Rails automatically initialises new git repo on rails new command If skip git is not specified I have added this as new step in generator called version control in case someone wants to override this when creating custom app builder maybe not using git as version control but something else,,"dixpac,dixpac,dixpac,georgeclaghorn,rafaelfranca,dixpac,dixpac,dixpac,maclover7",2017-01-10 14:52:40,2017-01-18 07:02:07
IS,Add String nil or empty and allow nil or empty true option to validations,Context There are edge cases where these features might be useful For example I want to add and change a password to a User model Steps to reproduce 1 Generate User model System configuration Rails version 5 0 1 Ruby version 2 3 3,,"al2o3cr,rafaelfranca",2017-01-10 06:19:47,2017-01-18 07:09:46
PR,update links of pluralization in i18n guide,Summary Fixed broken links of pluralization in i18n guide,,robin850,2017-01-18 08:36:01,2017-01-18 08:43:42
PR,load yarn rake,Follow up to b1c08d8d9b921fdcf3813b5c20a0c3fab96eccca,,"y-yagi,kaspth",2017-01-18 07:48:03,2017-01-18 09:07:28
PR,Fix grammar in partial renderer rb ci skip,,,kenta-s,2017-01-18 11:45:58,2017-01-18 12:59:07
PR,Remove TODOs related to Exceptron ci skip,I think it is high time we let TODOs related to Exceptron go Last commit was 6 years ago in the repository,,kenta-s,2017-01-18 13:16:24,2017-01-18 13:17:49
PR,only enhance when assets precompile task is defined,,,y-yagi,2017-01-18 13:16:29,2017-01-18 14:00:27
IS,send email error connection reset by peer SSL connect,Steps to reproduce i have problem when sending email using SMTP TLS SSL it was working fine but now has a problem all the email cant be send and detail described in Actual behavior Expected behavior the email should send successfully Actual behavior when sending email error message like this UserMailer notification processed outbound mail in 162 3ms Sent mail to hendranatas yahoo com 545 5ms Date Wed 18 Jan 2017 20 35 12 0700 From system xxx com To xxx yahoo com Message ID 587f6f10c21c9 78e28d30ec47753 xxx HP Pro 3330 MT mail Subject PO Notification number xxxxxx Mime Version 1 0 Content Type text html charset UTF 8 Content Transfer Encoding base64 PT09PT09PT09PT09PT09PT09IEJBSEFTQSBJTkRPTkVTSUEgPT09PT09PT09 PT09PT09PT09PT08YnI PGJyPgoKVGVyZGFwYXQgbm90aWZpa2FzaSBQTyBi YXJ1IHVudHVrIGFuZGE8YnI PGJyPgoKPGI bm9tb3IgUE86PC9iPiBEQ0kz MTUxMjAwMDE8YnI CjxiPlBPIGRpYnVhdCB0YW5nZ2FsOjwvYj4gMDEtMTIt MjAxNSAxMToxNDoyOTxicj4KPGI UE8gZGlidWF0IG9sZWg6PC9iPiBFcmZp bmEgT3U8YnI CjxiPkRlcGFydG1lbnQ6PC9iPiBNYWludGVuYW5jZTxicj4K PGI U3RhdHVzOjwvYj4gRmluaXNoPGJyPjxicj4KCjxwPlNpbGFoa2FuIGxv Z2luIGtlIGhhbGFtYW4gUE8gPGEgaHJlZj0iaHR0cDovLzE4MC4yNTAuMTY5 LjE3MC8iPmJlcmlrdXQgaW5pLjwvYT48L3A CjxwPlRlcmltYWthc2loPC9w Pgo8YnI PGJyPgo9PT09PT09PT09PT09PT09PT09PSBDSElORVNFID09PT09 PT09PT09PT09PT09PT09PT09PT09PT09PQoK5pyJ5paw5o6h6LO85Zau6aCI 57C95qC4PGJyPjxicj4KCjxiPuaOoeizvOWWruiZn eivDo8L2I IERDSTMx NTEyMDAwMTxicj4KPGI 6KO95Zau5pel5pyfOjwvYj4gMDEtMTItMjAxNSAx MToxNDoyOTxicj4KPGI 6KO95Zau6ICFOjwvYj4gRXJmaW5hIE91PGJyPgo8 Yj7pg6jploA6PC9iPiBNYWludGVuYW5jZTxicj4KPGI 5oOF5rOBOjwvYj4g RmluaXNoPGJyPjxicj4KCjxwPuiri m7numAo e1kOWIsOaOoeizvOWWriA8 YSBocmVmPSJodHRwOi8vMTgwLjI1MC4xNjkuMTcwLyI 5paw5o6h6LO85Zau PC9hPjwvcD4KPHA 6Kyd6KydPC9wPgo8YnI PGJyPg Errno ECONNRESET Connection reset by peer SSL connect from home globalway rvm rubies ruby 2 3 0 lib ruby 2 3 0 net smtp rb 587 in connect' from home globalway rvm rubies ruby 2 3 0 lib ruby 2 3 0 net smtp rb 587 in tlsconnect' from home globalway rvm rubies ruby 2 3 0 lib ruby 2 3 0 net smtp rb 555 in do start' from home globalway rvm rubies ruby 2 3 0 lib ruby 2 3 0 net smtp rb 521 in start' System configuration Rails version 4 2 4 Ruby version 2 3,,rafaelfranca,2017-01-18 13:40:39,2017-01-18 14:16:37
PR,Various style grammar fixes for 27719,ci skip,,maclover7,2017-01-18 20:22:32,2017-01-18 20:22:37
PR,4 2 stable,,,,2017-01-18 21:16:10,2017-01-18 21:28:42
PR,Add CHANGELOG entry for 24743,,,"kamipo,maclover7,kamipo",2017-01-19 03:11:51,2017-01-19 03:13:56
IS,Rails rails generate controller to add missing view file got error,For my case I almost all I need file except view as following,,rafaelfranca,2017-01-17 09:48:57,2017-01-19 11:00:15
PR,Tweak bigint PK handling,Do not force PKs on tables that have explicitly opted out All integer like PKs are autoincrement unless they have an explicit default I think this should improve things for at least some of the issues ran into in 27374 it will still require the manual upgrade process schema load in 5 0 then fresh schema dump in 5 1 to get the updated schema rb but the resulting schema seems more likely to recreate a correct looking DB I'm also pondering whether we can should improve on that upgrade transition process but I consider that secondary for now because it was a known limitation not a straight bug cc No test changes yet I will see what breaks first then hopefully just fix the tests to match,,"matthewd,sgrif,kamipo",2016-12-16 12:43:43,2017-01-19 14:28:42
PR,Allocation free Integer to s,We were profiling in production and were surprised to see NumericWithFormat to s account for 2 of global object allocations Looking at the code it turns out that even if you want to call the regular Integer to s which is fairly common especially if you display numbers in your views you end up allocating both an Array splat args and a Hash options This PR prevent those allocations if you are not trying to call any advanced formatting I know 2 objects is not much at all and that this version is a bit more complex to grasp but for such a hotspot I believe it is worth it,,"matthewd,matthewd,pixeltrix,matthewd,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-01-19 10:33:43,2017-01-19 15:24:49
PR,Deprecate initialize schema migrations table and initialize internal metadata table,These internal initialize methods are no longer used internally,,"kamipo,pixeltrix",2017-01-19 15:31:59,2017-01-19 16:33:21
PR,find templates should be able to handle 5 arguments,Resolver find templates is designed to be overridden by a child class but the method is called from Resolver find all anywhere which calls find templates with 5 arguments L152 As long as the child class' find templates can handle 5 arguments it is OK However Resolver find templates should also be able to handle 5 arguments and should raise a NotImplementedError with a suitable message I suppose,,"kenta-s,pixeltrix,pixeltrix",2017-01-18 23:37:43,2017-01-19 17:20:59
IS,test application rake dbs test rb failing with newer sqlite,Steps to reproduce 1 Installed sqlite 3 16 2 1 fc26 x86 64 2 run the railties tests f e ruby Itest 'test application rake dbs test rb' Expected behavior With older sqlite version the only difference sqlite 3 14 2 1 fc26 x86 64 System configuration Rails version rubygem rails 5 0 1 1 fc26 noarch Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux Note This was tested on the rawhide version of Fedora,,,2017-01-10 16:16:59,2017-01-19 17:33:44
PR,update CREATE TABLE statements generated by sqlite3 command,From SQLite 3 16 0 IF NOT EXISTS set to CREATE TABLE statements Ref Fixes 27635,,"y-yagi,kamipo,y-yagi,pixeltrix",2017-01-19 02:46:48,2017-01-19 17:33:44
PR,Mention ActiveRecord is config example yml,This will help people figure out what credentials and tables are required to run ActiveRecord specs,,"maclover7,maclover7",2017-01-19 18:44:06,2017-01-19 19:10:21
IS,image tag,I have one windows developer who receives ActionView Template Error TypeError Object does not support this property or method 24 image tag info png alt Info size 16x16 Other windows developers and Linux developers do not experience the issue nor does a production server exhibit issue This developer is able to use a website running this code Also happens with image tag info png alt Info size 16x16 Does not happen with image tag image info png alt Info size 16x16 System configuration Windows 10 all browsers 'rails' '4 2 6' ruby 2 2 6,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-01-19 16:46:40,2017-01-19 19:41:42
PR,Add missing tests for ActionView Template Text,Currently there are no tests for some methods of ActionView Template Text Just added tests for them,,kenta-s,2017-01-19 22:11:45,2017-01-19 22:47:27
IS,Replace byebug with binding irb when RUBY VERSION 2 4 0,After upgrading a few Rails applications to Ruby 2 4 I have found myself removing the byebug gem and replacing it with this code in config application rb This allows binding irb to be called anywhere in the application in the development and test environments I would like to discuss if binding irb a suitable replacement for byebug and if a pull request that made this change would be welcome,,"bogdanvlviv,rafaelfranca",2017-01-19 21:21:27,2017-01-19 22:49:13
PR,Correctly count methods when using declarative test in minitest,Correctly count methods when using declarative test in minitest Drop old test locations from rake stats cherry picked from commit 6eb499f600206ba6e61f15a8cba988dd6d2ad2f8 cc,,"bogdanvlviv,rafaelfranca",2017-01-19 21:10:11,2017-01-19 22:50:21
PR,Specify the queue to be used with assert enqueued jobs,Summary Change assert enqueued jobs to allow the queue to which jobs are enqueued to be verified For example,,"eileencodes,eileencodes,eileencodes,eileencodes",2017-01-09 20:48:55,2017-01-20 01:23:59
PR,add missing comment out ci skip,,,"y-yagi,vipulnsward",2017-01-20 07:42:34,2017-01-20 07:45:02
PR,Only assume kwargs if one hash is passed to process get etc,Calling get etc with either an empty params hash or a hash with only format plus a session hash was assumed to be keyword arguments causing the session hash to be ignored cada080 new on 5 0 stable since 5 0 1 introduced the regression for an empty params hash as all returns true Targeted at 5 0 stable as non kwarg support has been removed on master,,"domcleal,eileencodes,eileencodes,domcleal",2017-01-20 12:06:55,2017-01-20 15:49:46
PR,add missing comment out ci skip,Follow 27748 cc,,"bogdanvlviv,vipulnsward,bogdanvlviv,bogdanvlviv",2017-01-20 13:44:30,2017-01-20 16:08:54
IS,Broken links for ActiveRecord README,Steps to reproduce view activerecord readme rails rails blob master activerecord README rdoc Click on any of the Learn More links,,vipulnsward,2017-01-20 16:37:30,2017-01-20 16:39:19
IS,Different configs objects,Steps to reproduce does not Expected behavior Declaring config as an argument should have the same behaviour inside of the block as if it did not otherwise this can confuse framework users System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112,,"rafaelfranca,rafaelfranca",2017-01-20 16:30:10,2017-01-20 18:09:18
PR,Remove unused parameter instance,the parameter instance is not used,,"kenta-s,pixeltrix,rafaelfranca,kenta-s",2017-01-20 11:15:54,2017-01-20 19:32:55
IS,Bug activesupport does not load successfully,Steps to reproduce unshift File expand path arelative path to metasploit lib' require 'msfenv' Expected behavior active support should load successfully Actual behavior crashes with this stack trace System configuration Active Support version 4 2 7 1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 linux,,rafaelfranca,2017-01-20 19:20:28,2017-01-20 19:34:21
IS,Guides Rails Internationalization I18n API 4 2 Pluralization broken link,In English there are only one singular and one plural form for a given string e g 1 message and 2 messages Other languages Arabic Japanese Russian and many more have different grammars that have additional or fewer plural forms Thus the I18n API provides a flexible pluralization feature The link to unicode org is no longer valid and should be should be,,"rafaelfranca,y-yagi",2017-01-17 15:15:20,2017-01-21 01:13:50
IS,redirect behavior change with path not documented,given this route user sign in foo bar will redirect to sign in foo bar This test L291 L298 is the closest thing which might suggest this is the intended behavior in the path case Although the name suggests that it is testing something else and the params are an afterthought In fact from reading that test one might imagine that params are only carried over by default when the host is being changed in the redirect What is the intended behavior I would have expected those two routes to have identical behavior The fact that the path case behaves as such does not seem to be documented ActionDispatch Routing Redirection I would like to contribute some documentation but I do not know the rationale Thanks John,,"rafaelfranca,maclover7",2017-01-17 23:11:57,2017-01-21 14:54:58
PR,Add examples for behaviour about redirection with and without options,Fixes 27715,,"vipulnsward,maclover7,maclover7",2017-01-18 17:56:03,2017-01-21 14:54:58
PR,Clean up wording in Action Mailer Basics ci skip,Just added some missing words The two halves of the sentence are now worded the same,,"vipulnsward,vipulnsward,vipulnsward",2017-01-21 15:43:55,2017-01-21 15:58:06
PR,Remove unnecessary comments in cache helper rb ci skip,I looked into a TODO comment in cache helper rb I think we can remove those comments the comments were added in this commit 9de83050d3a4b260d4aeb5d09ec4eb64f913ba64 Below is a pic of the commit opened in RubyMine screen shot 2017 01 21 at 8 05 41 pm I guess he left the comment because he thought capture method would be able to work by its own without 'the dance' in his future I git reseted to see the code at the time The methods named capture were in ActionView Helpers CaptureHelper which exists in current master branch too and Rails Generators TestCase in this case it is obvious that he meant the first one Now we can use capture not only in erb but builder and jbuilder with no problem even without write fragment for From these reasons those long lived comments can go To be honest I'm not 100 sure the intention of his comments Please let me know if there is someone who knows what he meant and who thinks I'm wrong If so I want to try to deal with it Personally I do not think it is a good idea to ignore TODO comments such a long time 6 years in this case,,"kenta-s,kaspth",2017-01-21 12:43:47,2017-01-21 20:23:28
IS,count and count all generate different queries leading to SQL errors,Steps to reproduce 1 Generate an ActiveRecord model I'm using Company here but any AR model will do 2 Company select 'companies ' count throws a SQL Syntax Error 3 Company select 'companies ' count all behaves as expected This is a minimal repro which is very contrived In the real world a similar select statement might come at the end of a long join sequence such as the one found in the Rolify gem Expected behavior No SQL error should be thrown Actual behavior An SQL syntax error occurs System configuration Rails version 5 0 1 Ruby version 2 3 0,,vipulnsward,2017-01-22 07:13:21,2017-01-22 07:56:30
PR,Add changelog entry for 27425 ci skip,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-01-22 03:04:43,2017-01-22 13:56:40
PR,move db migrate path method to Migration module,Since Migration module is included in both MigrationGenerator and ModelGenerator no need to define a common method for each class,,y-yagi,2017-01-22 02:47:16,2017-01-22 13:57:16
PR,Stop testing MRI implementation details,Right now this test fails on JRuby We should not describe MRI implementation details in tests because it is valid only for MRI We can not guarantee that Rational 1 3 will always be '0 3333333333333333' 16 20 on other platforms This is the same issue as in 27117,,"kirs,matthewd,kirs,matthewd,sgrif,kirs,sgrif,kirs,sgrif,kirs",2016-12-10 18:41:51,2017-01-22 15:34:01
PR,Make BigDecimal casting consistent on different platforms,Right now it behaves differently on JRuby My initial PR offered to let the precision to be decided by the platform and change the test expectation but other contributors suggested that we should change the default precision in Rails to be consistent of all platforms instead I got the value of 18 from the max default precision that comes from casting Rational 1 3 to BigDecimal,,kirs,2017-01-22 15:33:48,2017-01-22 16:25:50
PR,Add module name to BacktraceCleaner usage example ci skip,NameError uninitialized constant BacktraceCleaner will occur if BacktraceCleaner is called without ActiveSupport,,"kenta-s,maclover7",2017-01-22 10:25:04,2017-01-22 16:45:38
PR,do not run git init when specify the pretend option,When specifying the pretend option expect that no processing will be done so do not execute git init as well,,y-yagi,2017-01-23 01:10:17,2017-01-23 16:30:08
IS,ckeditor install,Expected behavior When i request the rails generate ckeditor install orm active record backend carrierwave Actual behavior i add the gem 'carrierwave' gem 'mini magick' in GemFIle after bundle install to generate some important files to ensure CarrierWave works with CKEditor then when i generate rails generate ckeditor install orm active record backend carrierwave it comes error as blow home reza apps scotch blog config initializers devise rb 223 in block in top required ' undefined local variable or method ture' for main Object NameError from home reza rvm gems ruby 2 3 1 gems devise 4 2 0 lib devise rb 292 in setup' from home reza apps scotch blog config initializers devise rb 3 in top required ' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support dependencies rb 287 in load' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support dependencies rb 287 in block in load' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support dependencies rb 259 in load dependency' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support dependencies rb 287 in load' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails engine rb 648 in block in load config initializer' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support notifications rb 166 in instrument' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails engine rb 647 in load config initializer' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails engine rb 612 in block 2 levels in class Engine ' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails engine rb 611 in each' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails engine rb 611 in block in class Engine ' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails initializable rb 30 in instance exec' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails initializable rb 30 in run' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails initializable rb 55 in block in run initializers' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 228 in block in tsort each' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 350 in block 2 levels in each strongly connected component' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 422 in block 2 levels in each strongly connected component from' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 431 in each strongly connected component from' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 421 in block in each strongly connected component from' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails initializable rb 44 in each' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails initializable rb 44 in tsort each child' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 415 in call' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 415 in each strongly connected component from' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 349 in block in each strongly connected component' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 347 in each' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 347 in call' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 347 in each strongly connected component' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 226 in tsort each' from home reza rvm rubies ruby 2 3 1 lib ruby 2 3 0 tsort rb 205 in tsort each' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails initializable rb 54 in run initializers' from home reza rvm gems ruby 2 3 1 gems railties 5 0 1 lib rails application rb 352 in initialize ' from home reza apps scotch blog config environment rb 5 in top required ' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support dependencies rb 293 in require' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support dependencies rb 293 in block in require' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support dependencies rb 259 in load dependency' from home reza rvm gems ruby 2 3 1 gems activesupport 5 0 1 lib active support dependencies rb 293 in require' from home reza rvm gems ruby 2 3 1 gems spring 2 0 1 lib spring application rb 92 in preload' from home reza rvm gems ruby 2 3 1 gems spring 2 0 1 lib spring application rb 143 in serve' from home reza rvm gems ruby 2 3 1 gems spring 2 0 1 lib spring application rb 131 in block in run' from home reza rvm gems ruby 2 3 1 gems spring 2 0 1 lib spring application rb 125 in loop' from home reza rvm gems ruby 2 3 1 gems spring 2 0 1 lib spring application rb 125 in run' from home reza rvm gems ruby 2 3 1 gems spring 2 0 1 lib spring application boot rb 19 in top required ' from home reza rvm rubies ruby 2 3 1 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 55 in require' from home reza rvm rubies ruby 2 3 1 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 55 in require' from e 1 in main ' System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,robin850,2017-01-23 16:07:58,2017-01-23 16:52:22
IS,strange behaviour of associations,I have following code migration System configuration Rails version Rails 5 0 1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,al2o3cr,2017-01-23 15:29:56,2017-01-23 19:28:45
PR,Fix railties test dependent on Bundler version,Summary Bundler 1 14 2 changed its log output so we need to change the test to reflect that The test checks the Bundler version and asserts against the correct output for the current Bundler version since we do not have a specific Bundler version restriction when running the test suite,,"maclover7,kaspth,maclover7,matthewd,kaspth",2017-01-23 16:39:44,2017-01-23 20:15:07
IS,What is a good gem for work asynchronous in rails 4 2 5,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version 4 2 5 1 Ruby version 2 1 2,,matthewd,2017-01-23 20:27:06,2017-01-23 20:32:41
IS,get in AC TestCase resets to the first format used from PATH INFO not HTML,Steps to reproduce In a ActionController TestCase calling get first with a format and then without causes the second test request to use the first is format instead of resetting to HTML e g get type format 'json' get type The second request is made with a JSON format not HTML Reproducer Expected behavior Request 1 should have PATH INFO of test type json and format application json request 2 should have PATH INFO of test type and format text html I 2017 01 23T11 55 29 570428 6711 INFO I 2017 01 23T11 55 29 570474 6711 INFO BugTest test missing format defaults back to html I 2017 01 23T11 55 29 570488 6711 INFO I 2017 01 23T11 55 29 658395 6711 INFO PATH INFO test type json format application json I 2017 01 23T11 55 29 658978 6711 INFO PATH INFO test type format text html Actual behavior I 2017 01 23T11 54 59 901240 6557 INFO I 2017 01 23T11 54 59 901286 6557 INFO BugTest test missing format defaults back to html I 2017 01 23T11 54 59 901299 6557 INFO I 2017 01 23T11 54 59 975079 6557 INFO PATH INFO test type json format application json I 2017 01 23T11 54 59 978533 6557 INFO PATH INFO test type json format application json F Finished in 0 078783s 12 6931 runs s 25 3862 assertions s 1 Failure BugTest test missing format defaults back to html home dcleal code rails rails actionpack format reset rb 61 Expected text html Actual application json Both the PATH INFO and format are incorrect format is derived from PATH INFO since 84e8acc I think System configuration Rails version both 5 0 1 and master at 2d61745 works correctly on 4 2 7 1 regression Ruby version 2 3 0,,domcleal,2017-01-23 11:59:05,2017-01-23 21:33:43
PR,Delete PATH INFO after each controller test request,Prevents PATH INFO from being used to infer the request format in later test requests when no explicit format is given As the request PATH INFO may be set before a request it can not be deleted during pre request scrubbing Fixes 27774,,"domcleal,maclover7,domcleal,domcleal,eileencodes,domcleal,rafaelfranca",2017-01-23 13:17:45,2017-01-23 21:33:43
PR,Fix sample code for expand cache key usage ci skip,Simply calling expand cache key foo bar raises a NoMethodError It must be ActiveSupport Cache expand cache key foo bar,,"kenta-s,kaspth",2017-01-24 11:33:26,2017-01-24 14:23:16
IS,Websocket keeps reconnecting even with 101 server response,Steps to reproduce Well idk how to reproduce and even why its happening but I will show what I found in my investigations so someone can help me out The problem is Whenever I create a consumer in javascript the webscoket starts to create a lot of another connections like the image image All that I do to recreate this problem is just write in console So debugging the ActionCable source code I have found this code image where secondsSince that probably calculates the last attempt to make an connection always return a number bigger that this constructor staleThreshold constant as 6 My question is is 6 a reasonable number to make this logic Cause all my connection return as 101 and upgrade header all seems pretty fine with the connections since the very first one Expected behavior The code should detect the valid connection an not start creating other connections Actual behavior The code can not see the first attempt was good and start creating a lot of connections System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux OS version Windows 10 using Centos 7 over Vagrant,,,2017-01-24 13:03:55,2017-01-24 16:13:48
PR,remove unreachable code,app path is a required argument Therefore if app path is not specified it becomes an error in thor is option parsing does not reach this check,,"y-yagi,spastorino,y-yagi",2017-01-23 02:22:21,2017-01-25 02:55:05
PR,Change ActionView ERB Handler from Erubis to Erubi,Erubi offers the following advantages for Rails Works with ruby is enable frozen string literal option Has 88 smaller memory footprint Does no freedom patching Erubis adds a method to Kernel Has simpler internals 1 file 150 lines of code Has an open development model Erubis does not have a public source control repository or bug tracker Is not dead Erubis has not been updated since 2011 Erubi is a simplified fork of Erubis that contains just the parts that are generally needed which includes the parts that Rails uses The only intentional difference in behavior is that it does not include support for tags for debug output That could be added to the ActionView ERB handler if it is desired,,"kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,matthewd,matthewd,nateberkopec,matthewd,kaspth,kaspth,kaspth,kaspth,matthewd,jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,maclover7,kaspth,jeremy",2017-01-20 23:18:25,2017-01-25 08:44:35
PR,Give a message to test duplicable assertion,Giving a message helps us to know what happened when we look at Travis CI,,"yui-knk,schneems,yui-knk",2017-01-25 05:03:01,2017-01-25 08:53:49
PR,Keep the value of and restore it,As unit tests we do not know the value of when this test case started It' better to keep the value when the test case fnished,,"yui-knk,pixeltrix,yui-knk",2017-01-25 00:39:54,2017-01-25 10:02:12
PR,Fix grammar 'an hyphen' 'a hyphen' ci skip,,,"kenta-s,vipulnsward,kenta-s,vipulnsward",2017-01-25 14:44:37,2017-01-25 14:56:43
PR,Action Mailer Basics clean up ci skip,Just some minor updates to the guide,,arthurnn,2017-01-25 21:17:54,2017-01-25 21:20:25
PR,remove warning from bin setup test,This removes the following warnings,,"y-yagi,senny",2017-01-25 22:42:58,2017-01-26 07:49:49
IS,Less formatting in schema rb to prevent unnecessary changes,Steps to reproduce The schema rb file uses spaces to align the column names types options Although this makes the file a bit easier to read it is not that practical for tracking changes in git Let is say I have a column email with a limit of 64 and I change that to 128 the schema generator will change all the lines of that table definition If I add a column with a name that is a bit longer than the name of the other column same thing happens It would be great if there was a way to turn the alignment off Another question why are all the strings double quotes Column names probably wo not need string interpolation or special symbols System configuration Rails version 4 2 7 1 Ruby version 2 3 3p222,,"al2o3cr,morgoth,kamipo",2017-01-26 02:44:41,2017-01-26 12:55:29
IS,Segmentation fault whose bug is this,System configuration Ruby 2 4 0 Rails 4 2 7 1 Steps to reproduce,,"utilum,utilum",2017-01-26 11:02:49,2017-01-26 15:41:42
PR,Small fixes,Just standardizing some sentences Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,eileencodes,2017-01-26 05:13:31,2017-01-26 16:12:39
IS,Rails 5 generate controller generates the wrong type of test,Steps to reproduce Type rails g controller MyNameHere to generate a controller Expected behavior Rails would generate a controller in the controllers folder and would generate a unit test for the controller in the controllers folder within the test folder Actual behavior Rails actually generates a controller file successfully but generates a test in the controller folder within the test folder which is actually an integration test You can see this by noting that it inherits from ActionDispatch IntegrationTest and not ActionController TestCase System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"utilum,utilum",2017-01-26 16:27:10,2017-01-26 16:50:14
IS,activesupport 4 2 7 1 lib active support core ext numeric conversions rb 124 in block 2 levels in class Numeric ' stack level too deep SystemStackError,Ruby version 2 4 0 Rails version 4 2 7 1 Sorry if it is a duplicate,,"utilum,y-yagi",2017-01-26 07:26:36,2017-01-26 19:18:07
PR,Bump bug report template versions to 5 0 1 in master,Summary While investigating how to create a bug report for 27803 I realised the gem version numbers of the templates were slightly out of date Very similar to but on master since these are the files linked from creating a bug report,,eileencodes,2017-01-26 09:45:26,2017-01-26 21:50:40
PR,Remove reference to Debugger in Rails on Rack docs,Why Instructing users to add the line use Rails Rack Debugger to config ru in a Rails 4 2 app is misleading because it s not required to use rackup It s optional just like running rails server with the debugger flag is optional Adding that line is likely to cause issues for the majority of 4 2 users because Rails Rack Debugger depends on the debugger gem which doesn t work with Ruby 2 0 0 and is no longer a gem that ships with Rails by default since version 4 2 0 If you re installing a brand new Rails 4 2 app today 1 23 17 you will need Ruby 2 1 0 due to the dependency on nokogiri In other words for someone to be able to use Rails Rack Debugger with rackup in a Rails 4 2 app they will need to use Ruby 1 9 3 and make the following Gemfile modifications adding debugger removing byebug since it requires Ruby 2 0 0 and locking nokogiri to 1 6 8 1 because 1 7 0 requires Ruby 2 1 0 Is the number of Rails 4 2 users on Ruby 1 9 3 and using rackup instead of rails server large enough to warrant adding documentation for this scenario,,,2017-01-24 02:46:29,2017-01-26 21:54:21
PR,use rails html sanitizer 1 0 3,CVE 2015 7579 says rails html sanitizer 1 0 2 has XSS vulnerability,,"amatsuda,amatsuda,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,amatsuda,matthewd,pixeltrix",2017-01-27 04:48:43,2017-01-27 11:30:34
IS,Add unique and index on rails migration,Steps to reproduce timestamp create equipment rb Expected behavior It should generate the following index on MySQL UNIQUE KEY 'index equipment on code' 'code' USING BTREE Actual behavior It generates the following index on MySQL KEY 'index equipment on code' 'code' USING BTREE System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,kamipo,2017-01-27 11:37:13,2017-01-27 11:58:12
PR,Modernize SQL Server database YAML for Linux vNext,In order to make things smooth for developers getting started with SQL Server and Rails we need to make a few changes to the adapters database yml template The goal would be to get Ruby Rails on the SQL Server Getting Started page Changes include Fix comments SQL Server Adapter v4 2 and up requires 2012 DB versions Advocate development user of sa vs per user app name Assume localhost for everyone given Linux vNext Docker image This pull request targets the 5 0 stable branch so that the next release will include this information I would like to have these changes drop into master as well Should I open another PR for that Thanks in advance cc,,"metaskills,guilleiguaran,metaskills,maclover7",2017-01-27 05:01:37,2017-01-27 13:52:44
PR,Fix broken sample code for EventedFileUpdateChecker ci skip,The second parameter should not be a lambda a block should be given instead otherwise it will raise an error below NoMethodError undefined method each' for Proc 0x007f92ecb9e160 irb 1 lambda,,"kenta-s,eileencodes,kenta-s,eileencodes",2017-01-27 15:10:33,2017-01-27 15:28:29
PR,Modernize SQL Server database YAML for Linux vNext,In order to make things smooth for developers getting started with SQL Server and Rails we need to make a few changes to the adapters database yml template The goal would be to get Ruby Rails on the SQL Server Getting Started page Changes include Fix comments SQL Server Adapter v4 2 and up requires 2012 DB versions Advocate development user of sa vs per user app name Assume localhost for everyone given Linux vNext Docker image This pull request targets the 5 0 stable branch so that the next release will include this information I would like to have these changes drop into master as well Should I open another PR for that Thanks in advance cc,,"metaskills,metaskills,eileencodes,metaskills",2017-01-27 13:14:58,2017-01-27 19:41:24
IS,Rails working fine last night woke up this morning now giving errors,Expected behavior System should have the same rails gems it had yesterday today given I have changed nothing at all on the server Actual behavior System configuration Rails version 5 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,eileencodes,2017-01-27 10:51:16,2017-01-27 20:00:22
IS,ActiveRecord is not configured correctly when other gem use it,Steps to reproduce Install any gem use ActiveRecord will cause this problem ex Rails Admin Expected behavior The ActiveSupport run load hooks active record Base should run after application is initialize loaded I found this problem because the default belongs to required by default becomes nil Actual behavior If any gem use ActiveRecord the Rails will loaded like below config application rb config environments rb Gems config initializers rb So the actual on load active record will happens when gem loaded and try to autoload ActiveRecord and not the application initialize Every things happen before we configured it System configuration Rails version 5 0 1 Ruby version 2 3 1,,"y-yagi,maclover7",2017-01-23 15:37:47,2017-01-27 20:40:50
IS,ActionMailer in 5 0 1 nullifying to address,Steps to reproduce environment rb If I then run in the console m to It outputs nil as the value System configuration Rails version 5 0 1 Ruby version 2 3 1,,,2017-01-23 23:55:25,2017-01-27 21:04:53
PR,add combination of Ruby 2 4 aj integration to CI,Summary The test of the combination of Ruby 2 4 aj integration was not executed so it add,,y-yagi,2017-01-27 04:49:00,2017-01-27 21:10:58
IS,Rails server not loading rack handler,Steps to reproduce Expected behavior Server process should start Actual behavior Running rails server p 80 b ipaddress Results in System configuration Rails version 5 0 1 Ruby version ruby 2 3 1p112 2016 04 26 x86 64 linux gnu Additional uninstalling and reinstalling ruby and rails specifically including railties and bundler does not appear to help,,y-yagi,2017-01-27 21:47:36,2017-01-28 03:33:37
IS,The dependency tzinfo data 0 will be unused by any of the platforms Bundler is installing for,Steps to reproduce I just installed ruby via rvm and rails followed this tutorial When I run,,jeremy,2017-01-28 01:42:33,2017-01-28 03:53:28
PR,Offer the option to use parameterization for shared processing of headers and ivars,Consider this example that does not use parameterization That is a big improvement It is also fully backwards compatible So you can start to gradually transition mailers that stand to benefit the most from parameterization one by one and leave the others behind,,"dhh,alexcameron89,kaspth,kaspth,kaspth,dhh,dhh,kaspth,rafaelfranca,kaspth,dhh",2017-01-27 17:06:08,2017-01-28 10:20:46
IS,I18n 'true' 'false' are not accepted as valid key names,There is an issue where YAML keys true and false cannot be located by I18n I do not see any documentation capturing this The following conditions create the issue 1 YAML see language independent scalars section treats true as TrueClass not true and instantiates the objects accordingly It also treats yes no as true false as well 2 I18n Backend Simple store translations calls Hash deep symbolize keys 3 Hash deep symbolize keys keeps the key unless the key respond to to sym 4 true and false do not respond to to sym 5 I18n Backend Simple lookup does not have logic redirecting true yes keys to true As a result the key is for that tree is true instead of the expected 'true' and I18n is not able to find the translation I'm thinking there is a number of possible solutions Update I18n Backends 1 Update I18n Backend Simple lookup and KeyValue lookup logic to match the YAML keys for true and false to their corresponding boolean value and proceed with that key This has the benefit of being more or less transparent to the user and does not extend a core class in ways that may break existing code Docs should be updated to capture that the boolean keys are all equivalent to each other for the purpose of I18n Extend Hash 2 Create TrueClass to sym and FalseClass to sym so that they return true and false respectively Even easier to implement but may break existing code because we are making a core class symbolizable sp where it was not before Docs should be updated to capture that the boolean keys are all equivalent to each other for the purpose of I18n Documentation Only 3 Update the guide and API documentation with a warning that these keys are reserved Does not really solve the problem but at least it is documented Thoughts Issue Template Steps to reproduce 1 Create translation entry in lang yml as follows 2 Call I18n t 'key name true' Guidelines for creating a bug report are available here creating a bug report Expected behavior Should return True Result Actual behavior Returns translation missing en key name true System configuration Rails version 5 0 1 Ruby version 2 3 3,,"pixeltrix,pixeltrix",2017-01-28 00:36:50,2017-01-28 12:16:32
IS,Setting where true for a partial index in a migration should probably throw an error,Steps to reproduce Given a migration that looks like Expected behavior I would expect this to throw an error or at least a warning Actual behavior A normal non partial index is created System configuration activerecord 4 2 7 1 Ruby version 2 3 3,,pixeltrix,2017-01-27 22:25:02,2017-01-28 12:30:49
IS,require dependency in model breaks rake db migrate,Steps to reproduce Run rake db migrate I'm running migration and get next error image My model I had to add require dependency because I had circular dependency issue when I ran sidekiq without sidekiq everything is fine The issue is the same as here One more interesting thing If I change require dependency into require relative then everything is working fine i e I do not get circular dependency and LoadError No such file to load BUT according this article autoloading and require I should never do it I tried also to resolve this problem by calling Rails application eager load but had to luck Adding to config autoload paths core app models concerns vpos also did not help Expected behavior Migrations should run without error when model has require dependency Actual behavior It fails with message no file System configuration Rails version Rails 4 1 6 Ruby version ruby 2 2 5p319 2016 04 26 revision 54774 x86 64 linux,,pixeltrix,2017-01-27 13:45:36,2017-01-28 12:51:12
PR,make backburner integration test to work,Currently backburner integration test is not running on CI L610 Using Backburner Worker connection to check whether beanstalkd is running But Backburner Worker connection was removed in backburner 1 2 0 Therefore this check process always becomes false so the test is no longer done I fixed it so that check processing is done correctly,,"y-yagi,pixeltrix,y-yagi,pixeltrix,y-yagi",2017-01-28 02:41:43,2017-01-28 13:01:55
PR,Fix judgment spelling ci skip,As has kindly mentioned in 25239 judgment is the spelling that we are going with,,"pixeltrix,pixeltrix,pixeltrix",2017-01-28 12:33:32,2017-01-28 13:25:58
PR,restore delivery method after test,Currently use two variables to restore delivery method but the order of restoring the values is incorrect and does not restore is correctly,,"y-yagi,kaspth",2017-01-28 15:53:50,2017-01-28 16:16:12
IS,Uniq based on a certain column,When a table contains a json column then uniq function raise an error 'could not identify an equality operator for type json' and the only possible solution for that is select 'DISTINCT ON users id users ' I think it will be better if uniq method can accept a named parameter like uniq on id,,kaspth,2017-01-29 14:08:36,2017-01-29 14:45:17
PR,Show subclass name in the migration error instead of the Class,self class is class Class which is not really useful in the error message r Should I add a test for this,,"prathamesh-sonpatki,kamipo,maclover7",2017-01-29 17:19:47,2017-01-30 00:23:54
PR,Improve insufficient test for safe join,The test should check that safe join will return a different string if changes,,kenta-s,2017-01-30 10:50:57,2017-01-30 16:26:45
IS,Rails g scaffold for module resource generates wrong directory in jbuilder templates,Steps to reproduce rails g scaffold guest category title description Expected behavior While many new files being generated three jbuilder templates are expected to be created like this guest category json jbuilder json extract guest category id title description created at updated at json url guest category url guest category format json index json jbuilder json array partial 'guest categories guest category' as guest category show json jbuilder json partial guest categories guest category guest category Actual behavior The two jbuilder templates for index and show have inexistent directory which the module namespace is not applied guest category json jbuilder json extract guest category id title description created at updated at json url guest category url guest category format json index json jbuilder json array partial 'guest categories guest category' as guest category show json jbuilder json partial guest categories guest category guest category System configuration Rails version 5 0 1 Ruby version 2 3 3,,rafaelfranca,2017-01-30 10:09:53,2017-01-30 16:28:19
PR,Report the attribute on ActiveRecord SerializationTypeMismatch,Today when you get ActiveRecord SerializationTypeMismatch it does not give you a tip about what attribute caused the error This is not user friendly img width 593 alt screen shot 2017 01 22 at 22 39 03 src I think we should report it together with the error Regarding the implementation I had to catch SerializationTypeMismatch on one level up in Attribute because that is where we know the attribute name SerializationTypeMismatch is raised from a coder that has no idea about the attribute name,,"kirs,kaspth,kaspth,kaspth,kirs,maclover7,eileencodes,kirs,kirs",2017-01-23 03:42:25,2017-01-30 16:32:39
PR,Simplify query in column definitions for Postgres,column definitions for Postgres needs to fetch the collation for every column if present Previously it did so using a correlated subquery a subquery that references results from the outer scope This patch updates the query to remove the subquery in favor of a simpler and more efficient JOIN clause Running the two queries through EXPLAIN against Postgres additionally shows that the original form with a correlated subquery requires a Nested Loop Left Join while the new form with a simple JOIN can use a more efficient Merge Left Join Old plan,,"kamipo,rafaelfranca",2017-01-19 20:47:38,2017-01-30 17:06:45
PR,Docs Specify return value of save,I can never remember if it returns self or true seems to be true ci skip,,jaredbeck,2017-01-30 16:51:04,2017-01-30 17:08:32
PR,show correct class name in migration inherited directly error,Follow up to 249f71a,,y-yagi,2017-01-24 05:27:45,2017-01-30 17:21:44
PR,add warnings option to test runner,Summary Ruby is warning show useful information However there is no easy way to enable it with the current test runner As far as I know Therefore I would like to be able to enable it by option How about that,,"y-yagi,y-yagi",2017-01-24 02:16:12,2017-01-30 17:48:14
PR,Set port environment variable when using the puma webserver,Summary This pull request references the bug recorded in issue 27834 Bug When running the command rails server p 3001 the following is logged Note the last line Listening on tcp 3000 should read Listening on tcp 3001 This is because of this line in config puma rb port ENV fetch PORT 3000 No ENV variable named PORT exists so it is defaulting to port 3000 My code changes will check to see if the server being started is Puma and if so it will set ENV PORT equal to the passed parameter,,"robin850,robin850,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-01-28 22:51:14,2017-01-30 19:38:20
IS,Changing development server port does not take effect,Sorry if this is a bad issue I'm just starting out with rails and encountered this I did a search on GitHub and did not find anything relating to this issue I'm seeing Please let me know if I messed something up or you need more information Steps to reproduce This is on a fresh install right from the guide I ran the following commands Expected behavior The server should attempt to start on port 3002 Actual behavior The server attempts to start on port 3000 As you can see in the logs above the rails server acknowledges the command line parameter in the log line Rails 5 0 1 application starting in development on 3002 but below it attempts to listen on port 3000 Listening on tcp 3000 System configuration Rails version Rails 5 0 1 Ruby version ruby 2 4 0rc1 2016 12 12 trunk 57064 x86 64 linux,,"rafaelfranca,y-yagi,rafaelfranca",2017-01-28 12:40:28,2017-01-30 19:38:59
PR,Update Unicode Version to 9 0 0,Summary 9 0 0 was released on June 21 2016 There are some changes about grapheme cluster in Unicode 9 0 0 Grapheme Cluster Boundary Rules Other Information I noticed that unpack graphemes will return Other when the argument is Other Prepend it must be Other Prepend But in Unicode 8 0 0 is Prepend has no characters Prepend so we do not have to backport following patch See for more information about replacing AS Multibyte with Ruby is feature I'm not unicode expert so I'm very happy if you review this PR carefully,,"mtsmfm,jeremy,jeremy,jeremy,mtsmfm,mtsmfm,jeremy,amatsuda",2017-01-27 14:12:05,2017-01-30 20:16:03
PR,Deprecate scope chain,This PR refactors reflections such that we can iterate over each reflection and ask the reflection object what scopes should be applied to the query we are currently building This means we do not need to construct a scope chain array and iterate that array in parallel with the chain Instead we can just ask each item in the chain for the scopes that should be applied then apply those scopes,,"tenderlove,rafaelfranca",2017-01-30 22:19:34,2017-01-30 22:48:14
PR,correctly check error message,assert raise does not check error message However in some tests it seems like expecting error message checking with assert raise Instead of specifying an error message in assert raise modify to use another assert to check the error message,,"y-yagi,yui-knk,y-yagi,arthurnn,y-yagi",2017-01-25 00:59:44,2017-01-31 01:16:31
PR,Fully initialize routes before the first request is handled,AD Journey GTG Simulator is lazily built the first time Journey Router find routes is invoked which happens when the first request is served On small applications with only a few dozen routes it only takes a few milliseconds But on large applications with hundreds of routes building the simulator can take several hundred milliseconds 700ms for us Triggering this initialization during the boot process reduces the impact of deploys on the application response time,,"rafaelfranca,rafaelfranca,rafaelfranca,matthewd,matthewd,rafaelfranca,arthurnn,rafaelfranca,rafaelfranca,pixeltrix,pixeltrix,rafaelfranca",2017-01-11 14:06:48,2017-01-31 02:51:09
IS,Rails 5 belongs to required by default not working,Steps to reproduce Expected behavior Test should have passed Actual behavior Test fails System configuration Rails version 5 0 1 Ruby version 2 4 0p0,,"rafaelfranca,rafaelfranca",2017-01-30 08:59:26,2017-01-31 04:57:29
PR,New minitest 'assert false' message,Minitest has new 'assert false' message since 5 9 It is checked for in the Railties tests,,"arthurnn,rafaelfranca",2017-01-19 11:13:08,2017-01-31 05:00:22
PR,Added warning for reserved YAML keywords,Summary Adding warnings to I18n guide and the default em yml file that certain YAML keys must be escaped otherwise they will not be retrieved by the I18n gem Prompted by 27829,,"maclover7,maclover7,eileencodes",2017-01-29 23:17:53,2017-01-31 05:04:18
PR,Remove unused argument formats,in the method extract handler and format and variant the second argument default formats is not used so I just removed it,,"kenta-s,arthurnn,rafaelfranca",2017-01-19 11:03:46,2017-01-31 05:09:37
PR,add default value to deliver later queue name option ci skip,,,y-yagi,2017-01-31 01:32:07,2017-01-31 05:10:06
PR,Specify complete path to AR LegacyYamlAdapter,We had a one time non reproducible error NameError uninitialized constant ActiveRecord Core LegacyYamlAdapter originating from this line Backtrace,,"rafaelfranca,rafaelfranca,maclover7,rafaelfranca,rafaelfranca,matthewd,rafaelfranca,matthewd,rafaelfranca,rafaelfranca",2017-01-30 17:13:15,2017-01-31 05:19:51
PR,Do not mutate raw source in mailer preview interceptor,See issuecomment 275979276 for previous discussion The raw source method is documented as returning the exact value L136 L137 that was used to create the body mutating it breaks that contract Additionally if the value used to create the body is blank raw source returns a frozen string which causes the interceptor to raise an error r,,eugeneius,2017-01-31 03:43:03,2017-01-31 05:21:37
PR,Raise an error if FileUpdateChecker execute is called with no block,If ActiveSupport FileUpdateChecker or ActiveSupport EventedFileUpdateChecker is initialized with no block and its execute is called it will raise an error NoMethodError undefined method call' for nil NilClass We should raise a better error to make it easier to understand what leads to an error,,"kenta-s,matthewd,rafaelfranca",2017-01-27 16:02:14,2017-01-31 05:54:02
PR,Reload through record that has been destroyed in create through record,This is an alternative of 27714 If has one through association has set nil through record is destroyed but still remain loaded target in through proxy until reload or reset explicitly If through proxy is not reset remain destroyed frozen target setting new record causes RuntimeError Ca not modify frozen hash To prevent RuntimeError should reload through record that has been destroyed in create through record,,"kamipo,rafaelfranca,kamipo,rafaelfranca",2017-01-29 06:09:16,2017-01-31 06:20:22
PR,Reset through proxy when through record is destroyed,If has one through association has set nil through record is destroyed but still remain loaded target in through proxy until reload or reset explicitly It is caused by through proxy stale target always return false But it is difficult to fix to work stale state and stale target properly for now So reset through proxy when through record is destroyed until stale state and stale target has fixed,,"kamipo,kamipo,rafaelfranca",2017-01-17 21:46:31,2017-01-31 06:20:35
PR,Remove redundant right parentheses in number helper ci skip,,,"kenta-s,prathamesh-sonpatki",2017-01-31 11:14:49,2017-01-31 11:24:47
IS,Intermittent failure to recognise table name prefix in namespaced model,Steps to reproduce Create a controller to load Blog Post all Expected behavior Blog Post table name should be blog posts Actual behavior Blog Post table name appears to be posts from time to time but not consistently It is almost as if the Blog module that was generated is loaded before blog post rb or not at all Interestingly calling Blog Post table name always yields the correct result in rails console System configuration Rails version 5 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16,,"maclover7,fxn,fxn,fxn,fxn",2017-01-29 22:33:08,2017-01-31 12:15:12
PR,Add test for variable size secure compare,Currently there are no tests for variable size secure compare,,kenta-s,2017-01-31 11:42:31,2017-01-31 13:33:49
PR,Fix typo about sort in finder methods rb,Summary This PR is a quick typo grammar fix in the documentation for FinderMethods There are a couple typos in activerecord lib active record relation finder methods rb related to applying sort to find The main typo is if you want the results are sorted this should be if you want the results to be sorted,,eileencodes,2017-01-31 06:27:21,2017-01-31 14:07:06
PR,Freeze default empty string for sql type in get oid type,Summary On my app I ran a benchmark on object allocation on one json endpoint using derailed benchmark The result shows this I ran the test again on a fresh Rails5 api with the same result It seems we allocate one empty string per column per row in the postgresql adapter in get oid type L441 We can easily get rid of this allocation using freeze I dig into previous PR with the same type of change and know they are not always accepted Feel free to make any feedbacks Thanks in advance,,arthurnn,2017-01-22 14:36:07,2017-01-31 16:53:18
PR,Get neglected TODO done in render test,I looked into one of the neglected TODOs in render test rb What test render partial and fallback to layout tests seems to be the same as what test render partial with locals tests So I think it is OK to let go of test render partial and fallback to layout test render partial with locals is here L188,,"kenta-s,maclover7,kenta-s,maclover7,kenta-s,maclover7,arthurnn",2017-01-21 02:36:19,2017-01-31 19:57:19
IS,ActionCable does not work with Unicorn in development,Steps to reproduce I think this might be a wide enough problem that it can be reproduced with pretty much any app so I'm not providing all the code for now but I can if others can not reproduce First create a Rails 5 app that uses ActionCable with the following channel The second one wraps HijackWrapper around the class in case of Unicorn Kgio Socket that WebSocket Driver uses to write messages That class is fetched from env rack hijack Possible solution Properly forward messages in HijackWrapper Fix ActionCable if it violates something that Rack Lint legitimately fails on OR fix Rack Lint to not complain about things that hijacking does if they are not bad I unfortunately do not have enough time to dig further now but I'm reporting this as it seems it is something that more people will run into System configuration Rails version 5 0 Ruby version 2 3 1 Unicorn 5 1 0 or 4 8 3,,maclover7,2016-08-15 22:59:06,2017-01-31 20:39:58
PR,Fix inherit from deprecated ActionView Template Handlers Erubis,There are some classes inherit from ActionView Template Handlers Erubis ex L3,,mtsmfm,2017-01-31 15:14:33,2017-01-31 20:43:47
PR,Feature active job test helper,Summary This PR updates the ActiveJob QueueAdapters TestAdapter to add filtered jobs to the enqueued jobs array Prior to this change skipped jobs were just ignored Refer to Other Information I have also updated the test suite,,rafaelfranca,2017-01-30 18:55:51,2017-01-31 20:45:29
IS,ActiceJob TestHelper behaves unintended when using a filter,Steps to reproduce class FooJob ActiveJob Base def perform puts FooJob executed end end class BarJob ActiveJob Base def perform puts BarJob executed end end ActiveJob Base queue adapter test include ActiveJob TestHelper perform enqueued jobs only FooJob do FooJob perform later BarJob perform later end puts Number of enqueued jobs enqueued jobs count puts Enqueued job enqueued jobs first try job inspect Expected behavior Personally I would expected the FooJob to be executed and the BarJob to be not executed but queued instead I would expect something like this FooJob executed Number of enqueued jobs 1 Enqueued job BarJob Actual behavior Instead when a filter is present every job is skipped completely if it is not included in the filter FooJob executed Number of enqueued jobs 0 Enqueued job nil System configuration Rails version rails 5 0 0 1 Ruby version ruby 2 2 3 x86 64 Discussion Assuming that this is not the intended behavior I could think of two possible solutions that would not break existing implementations a The perform enqueued jobs method could take an additional options like this perform enqueued jobs only FooJob queue filtered true do FooJob will be executed all other Jobs will be added to enqueued jobs end b Store filtered jobs instead of ignoring them so that we can verify that they have been enqueued perform enqueued jobs only FooJob do FooJob will be executed all other Jobs will be added to a seperate array e g skipped jobs end,,"rafaelfranca,dhh",2017-01-30 17:04:14,2017-01-31 20:45:40
PR,Remove deprecated callbacks from ActionDispatch middlewares,matthewd I'm most seeking review for the documentation at ActionDispatch Reloader since I'm not sure we want to add more information,,"rafaelfranca,kaspth,maclover7,maclover7,matthewd,kaspth,rafaelfranca",2017-01-06 09:48:30,2017-01-31 20:52:38
IS,test cache is not available when using a not connected connection gets error with sqlite3 mem,Steps to reproduce cc who originally blogged this failure,,"yahonda,maclover7,yahonda,yahonda,rafaelfranca,yahonda",2017-01-27 18:39:55,2017-01-31 21:01:37
PR,Use temporary connection pool for sqlite3 mem adapter,Summary This pull request fixes 27826 by referring sqlite3 in memory option each connections has its own database then it needs to create tasks table and load its fixtures In Memory Databases When this is done no disk file is opened Instead a new database is created purely in memory The database ceases to exist as soon as the database connection is closed Every memory database is distinct from every other So opening two database connections each with the filename memory will create two independent in memory databases Also it adds sqlite3 mem to Travis CI Since sqlite3 mem has not been tested I do not think we need to test with all of Ruby versions then just testing with 2 4 0 Other Information This pull request has been tested with all bundled adapters,,"yahonda,rafaelfranca",2017-01-31 16:32:04,2017-01-31 21:01:37
PR,Bump bug report template versions to 5 0 1 in 5 0 stable,Summary While investigating how to create a bug report for I realised the gem version numbers of the templates were slightly out of date HTH,,"rafaelfranca,arthurnn",2017-01-26 09:42:25,2017-01-31 21:13:46
IS,ActiveJob test adapter is override by self enque adapter sidekiq,Steps to reproduce It weired spent me hours to found out test use ActiveJob QueueAdapters TestAdapter to make test work Expected behavior self queue adapter sidekiq in job should not change the default test adapter it only test enque not test enque to sidekiq System configuration Rails 5 0 0 Ruby 2 2 4,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki",2016-09-02 03:51:40,2017-01-31 21:37:17
IS,Wrong query produced when through association duplicated,Steps to reproduce This is exactly what I expected Actual behavior user family members got the records which have a family tree with token is not NULL System configuration I'm using Rails 4 2 0 with Ruby 2 3 0,,al2o3cr,2017-01-13 04:22:48,2017-01-31 22:06:18
PR,Chain scope constraints should respect own table alias,Fixes 27666,,"kamipo,rafaelfranca,kamipo,rafaelfranca,kamipo",2017-01-28 20:57:24,2017-01-31 22:06:18
IS,The partial name iteration local is missing when rendering heterogeneous collections,Steps to reproduce In a controller create a heterogeneous array of objects responding to to partial path such as a set of ActiveRecord models in an STI hierarchy and assign it to collection Render the collection using render or render partial Attempt to use template name iteration in the rendered partial and find that it is not defined See for a simple POC specifically the commit that introduces the bug and screenshots of the broken expected behavior Expected behavior A variable named partial name iteration should be set to an instance of ActionView PartialIteration Actual behavior The variable is unset System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,,2017-01-24 21:48:41,2017-01-31 23:18:32
PR,Fix missing partial iteration,Summary Fixes 27794 The iteration variable was being assigned to the correct key in the locals hash but the name of the iteration variable partial name iteration was not included in the keys to find template meaning it was excluded from keys a partial to be loaded without the partial name iteration variable defined as one of it is locals during initialization Other Information I produced a simple POC against Rails 5 0 1 and created screenshots of the actual and expected behavior,,"eileencodes,eileencodes,eileencodes,eileencodes,rafaelfranca",2017-01-24 22:10:45,2017-01-31 23:18:32
PR,remove unused variable,This removes the following warnings,,y-yagi,2017-01-31 23:22:51,2017-01-31 23:28:06
PR,add erubis to dependency,We still support erubis handler Therefore erubis is required for dependency,,"y-yagi,maclover7,matthewd,y-yagi,matthewd,y-yagi",2017-02-01 01:47:37,2017-02-01 02:56:49
PR,call gem erubis before require,For inform that need to add erubis to gemfile Context issuecomment 276566062,,y-yagi,2017-02-01 04:10:34,2017-02-01 04:37:26
PR,explicitly require listen in EventedFileUpdateCheckerTest,Currently executing the test initialize raises an ArgumentError if no block given test alone will result in an error This is because if do not specify a file or directory for EventedFileUpdateChecker do not require listen and using listen method in teardown L53 L65 Therefore added listen is require to avoid errors,,"y-yagi,arthurnn",2017-01-31 23:46:21,2017-02-01 18:45:57
PR,xml http request does not return true,Nitpick on wording but a regex match will return the index of the match truthy or nil falsy not strictly true It came up over on IRC and it was a fairly trivial change so I decided to put it up,,kaspth,2017-02-01 18:23:57,2017-02-01 19:31:20
IS,operator on ActiveRecord Base does not return expected values,Steps to reproduce In a Rails 3 console 28 pry main ActiveRecord Base ActiveRecord Base false Expected behavior This should be the same constant but is returning false Actual behavior I would expected to return true in this case even though this is the 'case subsumption' operator it seems like this satisfies case subsumption conditions System configuration Rails version 3 2 17 Ruby version 2 1 1 Apologies if this has been fixed in a later version of Rails,,matthewd,2017-02-01 23:52:54,2017-02-02 00:04:13
PR,do not dump user credentials when failing to create prod db,Summary This issue is introduced here When failing to create a database in a production environment the user is credentials from their database yml are leaked into stderr by printing the inspected config This is problematic as points out in that the credentials could very well be legitimate and the failure could be due to another reason in this instance it is not acceptable to leak them into error logs Other Info This is my first contribution to rails Apologies for any faux pas committed or processes overlooked I did read the Contributing to Ruby on Rails guide I'm happy to revise any code PR text or fix anything improper Thanks,,,2017-02-02 06:51:46,2017-02-02 06:54:14
IS,General question Migrating from 4 x to 5,a is R5 stable enough to upgrade from 4 x b I have a very big project worked on it for about 2 years or so and I think there are many changes in R5 Are there any compatibility wrapper gems or so to make a migration easier c how long is R4 x supported is there any plan,,utilum,2017-02-02 10:39:04,2017-02-02 10:44:49
PR,remove unnecessary synchronize calls,pmahoney,,"grosser,thedarkone,grosser,thedarkone,grosser,thedarkone,utilum,matthewd",2017-02-02 03:52:11,2017-02-02 10:58:43
PR,Fix CI failure caused by aa647b46cce55ec12f5895e403c0d1b85502c8e0,r,,"kamipo,amatsuda",2017-02-02 14:17:46,2017-02-02 15:11:53
IS,cant install rails 4 2 7,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior installing rails 4 2 7 on ubuntu 16 04 running on windows 2012 r2 hyper v virtual machine Actual behavior Tell us what happens instead gem install rails v 4 2 7 ERROR Error installing rails invalid gem package is corrupt exception while verifying undefined method size' for nil NilClass NoMethodError in home navy rbenv versions 2 3 1 lib ruby gems 2 3 0 cache activesupport 4 2 7 gem System configuration Rails version 4 2 7 Ruby version 2 3 1,,arthurnn,2017-02-02 10:15:19,2017-02-02 20:47:16
PR,generate mailer layout files only when it does not exist,If already have layout files in many cases use it,,y-yagi,2017-02-02 08:24:53,2017-02-02 21:14:35
IS,Autoloading ignores namespaces if class with name is already loaded,Steps to reproduce I set up a sample project that has a generated rails app and a single mounted namespaced engine to demonstrate the issue I can reproduce the issue on both Rails 4 2 5 Ruby 2 2 3 and Rails 5 0 1 Ruby 2 3 0 1 git clone 2 bundle install 3 rails s 4 Go to 3000 test Expected behavior You should see 'engine user' The controller you hit is in the Myengine namespace so we should expect User to reference Myengine User Actual behavior You see 'main app user' System configuration Rails version 5 0 1 Ruby version 2 3 0 Other notes I believe this may be related to,,matthewd,2017-02-02 22:21:58,2017-02-03 00:13:15
PR,Ignore yarn error log file,Yarn will generate a yarn error log if error has occurred L353 This is a log file so do not need to include it in the repository So I think that it is better to ignore by default,,"y-yagi,eileencodes",2017-02-03 03:10:29,2017-02-03 13:17:43
PR,Fix a test of AR Type TypeMap lookup when using Oracle,Summary This PR fixes the following failure when using Oracle 11g In oracle enhanced it seems that expecting integer when scale of number is 0 L971 L975 Related Oracle document CNCPT1832,,"koic,eileencodes,koic,eileencodes,koic",2017-02-02 09:07:46,2017-02-03 13:37:08
IS,collection singular ids broken with symbol primary keys,I will make a PR for this in a few minutes Steps to reproduce Expected behavior collection singular ids should be able to handle an array of strings regardless of whether the primary key was set as a symbol or as a string Actual behavior AssociationReflection association primary key type and ThroughReflection association primary key type return the incorrect type since ModelSchema type for attribute only accepts a string CollectionAssociation ids writer fails to cast the ids to integers results in ActiveRecord RecordNotFound introduced this while fixing another problem System configuration Rails version 5 0 Ruby version 2 3 1,,composerinteralia,2017-01-31 22:07:00,2017-02-03 15:16:54
PR,Fix collection singular ids bug,When the association is primary key is set as a symbol CollectionAssociation ids writer fails to cast the ids to integers This is because AssociationReflection association primary key type and ThroughReflection association primary key type rely on ModelSchema type for attribute which only accepts a string The result is an ActiveRecord RecordNotFound error Fixes 27864,,"composerinteralia,rafaelfranca,composerinteralia,kamipo,composerinteralia,composerinteralia,composerinteralia,rafaelfranca,composerinteralia,eileencodes,eileencodes",2017-01-31 22:17:14,2017-02-03 15:16:54
IS,Caracter no esperado en el n mero de A,Incluir el c digo en el filtro Discard filter del primero flujo para la correcci n del tratamiento del n mero de A Para las llamadas de CL3 que el campo calling empiezan con anonymous o unknown los CDRs son enviados adelante para hacer los tratamientos necesarios porque son casos v lidos Para las llamadas de CL4 que el campo calling tiene alguna string junto con el n mero como en el ejemplo abajo los CDRs son enviados al directorio de descartados abajo separado por fecha con el mismo nombre del archivo de entrada con el c digo de descarte 6 en BER y comprimidos Calling sip wscenter18 mexsnjsbg1 ld telmex com Numero normalizado wscenter18 Directorio de descartes home bgw IMS discard precons 20160506 Nombre del descarte SBG 2016050609592405351 dec 6 gz El siguiente c digo debe incluirse if theSource accounting Record Type TelmexConstants AcctRecType start AND isDefined theSource calling Party Address numString1 normalizeNumber theSource calling Party Address split numString1 numString1 numString2 Right scenario for CL3 CDRs if theSource callType TelmexConstants CallType cl3 AND regExpMatch numString1 anonymous theSubstrings TRUE OR regExpMatch numString1 unknown theSubstrings TRUE return 1 Discard CL4 CDRs with caracters in the calling split numString1 numString1 numString2 if regExpMatch numString1 a yA Y theSubstrings TRUE sys setGenericString discardReason 6 return 99,,,2017-02-03 16:04:47,2017-02-03 16:05:12
IS,Comandos para Veritas,1 ver nombre del disco que se desea a adir al grupo vxdisk list 2 Hacer que veritas maneje el disco nombre del disco emcpower6 etc vx bin vxdisksetup i emcpower6 format sliced 3 Inicializar nuevo grupo nombre de grupo tempdg tmp El nombre del disco emcpower6 dentro del grupo sera tempdg tmp01 vxdg init tempdg tmp cds off tempdg tmp01 emcpower6 4 Ver que tan grande se puede hacer el grupo vxassist g tempdg tmp maxsize Maximum volume size 733952000 358375Mb 5 Asignar el tama o del grupo templv tmp es el nombre del volumen logico vxassist g tempdg tmp b make templv tmp 733952000 tempdg tmp01 layout nostripe 6 Ver resultados con vxprint vxprint Disk group tempdg tmp TY NAME ASSOC KSTATE LENGTH PLOFFS STATE TUTIL0 PUTIL0 dg tempdg tmp tempdg tmp dm tempdg tmp01 emcpower6s2 733952000 v templv tmp fsgen ENABLED 733952000 ACTIVE pl templv tmp 01 templv tmp ENABLED 733952000 ACTIVE sd tempdg tmp01 01 templv tmp 01 ENABLED 733952000 0 7 Crear un sistema de archivos usando VXFS opt VRTS bin mkfs F vxfs dev vx rdsk tempdg tmp templv tmp version 6 layout 733952000 sectors 366976000 blocks of size 1024 log size 65536 blocks largefiles supported 8 Crear el punto de montaje u2 montar el volumen logico templv tmp y ver si se monto mkdir u2 mount F vxfs dev vx dsk tempdg tmp templv tmp u2 df h u2 Filesystem size used avail capacity Mounted on dev vx dsk tempdg tmp templv tmp 350G 153M 328G 1 u2,,,2017-02-03 16:31:43,2017-02-03 16:31:55
PR,Fix typo in guide articles should be article,The guide contains a typo in the local assigns section where rendering a a collection of Article models via render or a singular model via render is shown to render a partial called articles html erb when in fact the necessary partial name is article html erb See the 6th code block under passing local variables screenshot 2017 02 03 11 42 26,,"eileencodes,eileencodes",2017-02-03 16:38:18,2017-02-03 16:50:17
IS,ActionCable Passing the Request to the Channel,Steps to reproduce Create a new Rails 5 app and follow the basic guide for creating a chat application Expected behavior Expecting Connect rb to somehow pass the request to the proper channel file so it can be queried for a subdomain attribute and used with multi tenancy Actual behavior When calling request in the consults channel rb in the send message method I receive a,,,2017-02-01 18:47:53,2017-02-03 17:18:05
IS,Docs Potentially incorrect docs for Module delegate re NoMethodError,The docs say that a NoMethodError will be raised but I think the error is actually Module DelegationError But I was not confident enough to make a PR The docs mention NoMethodError in a few different places Here are some examples Example 1 allow nil if set to true prevents a NoMethodError from being raised Example 2 Foo new goodbye NoMethodError undefined method goodbye' for Foo 0x1af30c,,"jaredbeck,eileencodes,jaredbeck",2017-02-01 16:58:36,2017-02-03 22:30:30
PR,Docs Correction Module DelegationError,When the delegation target is nil and the allow nil option is not in use a Module DelegationError is raised class C delegate a to b def b nil end end C new a Module DelegationError C a delegated to b a but b is nil,,"jaredbeck,jaredbeck,eileencodes",2017-02-03 22:29:58,2017-02-04 15:02:53
PR,Please use Rails root join 'path' 'to' instead,Please use Rails root join 'path' 'to' instead,,"matthewd,matthewd,matthewd",2017-02-05 09:19:04,2017-02-05 09:24:49
IS,Calling rake test units test functionals etc only runs one group of tests,Steps to reproduce On Rails 5 0 0 or higher execute rake test units test functionals TESTOPTS v and see only the functional tests will be run Reproducer Rails master c6f7c18e Working example 4 2 7 1 Expected behavior Both groups should be run both unit tests models helpers and functional tests controllers mailers Output readme Actual behavior Only the last argument is run i e functional tests controllers mailers Output readme System configuration Rails version 5 0 1 master c6f7c18e works on 4 2 7 1 Ruby version 2 3 0,,domcleal,2017-01-25 15:39:40,2017-02-05 16:02:59
PR,Collect all file patterns when running multiple rake test tasks,Fixes 27801,,"domcleal,kaspth,domcleal,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,domcleal,domcleal,arthurnn,domcleal,arthurnn,domcleal,kaspth,domcleal,kaspth,domcleal,kaspth,domcleal,kaspth",2017-01-25 16:03:02,2017-02-05 16:02:59
PR,Add args to process action mailer event,Summary I would like to add args to process action mailer event Because args is useful for investigating when an unexpected error occurs in a method,,"y-yagi,kaspth",2017-02-04 02:47:22,2017-02-05 16:12:23
PR,Allow Marshal load with autoloading to take a Proc as optional 2nd argument,Summary From my entry in the ActiveSupport changelog Make Marshal load with autoloading source pass through the second optional argument for Marshal load source proc Necessitated because Marshal load and Marshal load with autoloading are alias method chain would and ideally we should not have to call Marshal load without autoloading just to be able to pass a proc For reference method c load method c load Other Information Please excuse disproportionately large number of commits for such a small change this is my first Rails contribution and I had to struggle through getting my development environment to run the tests Admittedly this contribution is a yak shave necessitated by upgrading a legacy app to Rails 4,,"maclover7,kaspth",2017-02-03 16:16:30,2017-02-05 16:13:43
PR,Fix Model create and Model create with empty array,Summary If an model say User has validations and should return false But currently it will return in both cases This is because collect returns an empty array directly instead of evaluates the block This should fix 27910,,st0012,2017-02-05 11:51:24,2017-02-06 00:46:35
PR,Indicate action that failed in YamlColumn,Let is indicate whether serialization failed to load or dump of the attribute,,"kirs,kaspth,kaspth,maclover7,kirs,kaspth",2017-02-04 11:56:35,2017-02-06 08:27:24
PR,Use https for external links,ci skip,,"bogdanvlviv,kaspth",2017-02-05 20:33:19,2017-02-06 08:46:29
IS,NoMethodError undefined method singularize' for companies Symbol,Models Changing the code to a string 'companies' works System configuration Rails version 5 0 1 Ruby version ruby 2 3 1p112 2016 04 26 x86 64 linux gnu,,"utilum,meinac",2017-02-06 09:01:55,2017-02-06 10:43:32
IS,Rails 4 2 and Rubinius 3 69 seg faults,Hi there I am trying to setup a Rails 4 2 app with puma running on rubinius 3 69 I am having the following issues Can someone please share a successful rails 4 2 and puma production setup using rubinius What versions did you use and what issues did you run into Honestly this had to be an easy migration from a staging setup that uses MRI to a production setup using something that should give us higher performance Now I'm feeling like the only person in the world that ever tried it,,"al2o3cr,matthewd",2017-02-04 18:49:16,2017-02-06 14:33:45
PR,Backport 56ac6e4 to 4 2 stable use concurrent ruby not thread safe,Use concurrent ruby not deprecated thread safe gem This backports 56ac6e4 which was merged in to 5 0 but we have a 4 2 app that would love not to have deprecation warnings on 2 4 It was easier for me to reimplement the commit rather than resolve conflicts there were a few but I definitely want to keep the original author credit for not sure how to do that so help welcome Note that tzinfo still uses thread safe in activesupport but no minor version bump exists yet for that update so I have left well alone My hope is that this resolves the majority of the deprecation warnings in 4 x rails applications,,rafaelfranca,2017-02-04 16:04:42,2017-02-06 14:52:42
IS,Validations are not applied when an empty array is passed to create,Steps to reproduce User create Expected behavior User create ActiveRecord RecordInvalid Validation failed Email can not be blank Password can not be blank Actual behavior User create System configuration Rails version 5 0 1 Ruby version 2 3 1p112,,"st0012,st0012,st0012,st0012,al2o3cr,rafaelfranca",2017-02-05 07:50:33,2017-02-06 15:04:03
IS,Specifying an enum and then using with options anywhere in the same class raises an ArgumentError,Steps to reproduce 1 Create an enum column and configure the values in any model Below the enum definition use with options e g Example App Includes a test to show the error in test models enum with option test rb,,"al2o3cr,meinac,meinac,rafaelfranca",2017-02-03 17:38:07,2017-02-06 15:06:03
IS,Ruby on Rails 5 Ruby 2 4 0 start server fails with Gem openssl 2 0 3,Ruby on Rails 5 Ruby 2 4 0 start server fails with Gem openssl 2 0 3,,al2o3cr,2017-02-05 11:24:56,2017-02-06 15:06:22
PR,Add test for DateTime blank,Currently there are no tests for DateTime blank Even after I make the method return true as an experiment all the tests were passed P,,"kenta-s,simi,kenta-s,pixeltrix,kenta-s,kenta-s,rafaelfranca,kenta-s",2017-02-06 13:43:38,2017-02-06 15:06:59
PR,Correct spelling,,,"bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,bf4,matthewd,arthurnn,arthurnn,bf4,bf4",2017-02-06 01:01:27,2017-02-06 16:12:54
PR,Removes unnecessary require lines,fileutils functionality is provided by pathname,,"utilum,rafaelfranca",2017-02-06 16:55:47,2017-02-06 17:00:15
PR,Fix bundle install error occurring in 5 0 stable branch and Oracle,Summary The currently master branch of activerecord oracle enhanced adapter is for AR 5 1 x L90 L91 In Oracle environment Running bundle install on 5 0 stable branch will cause the following error The version of activerecord oracle enhanced adapter for AR 5 0 x is 1 7 x rails 50 This problem can be solved by specifying the release17 branch to activerecord oracle enhanced adapter for 5 0 stable branch This PR takes that solution,,"koic,eileencodes",2017-02-05 17:29:43,2017-02-06 20:46:43
IS,fields for with without record name,Steps to reproduce Expected behavior email field tag should have name role user attributes email Actual behavior email field tag name is role user email System configuration Rails version 5 0 1 Ruby version 2 4 0p0 NOTE If I use f fields for user user then tag name renders properly But in case record name is omitted Rails infers appropriate record name from given record object according to Rails guide does not it,,"st0012,st0012,dmitry,rafaelfranca",2017-02-03 06:53:18,2017-02-06 22:41:03
PR,Remove ActiveModel TestCase from lib,ActiveModel TestCase is used only for the test of Active Model Also it is a private API and can not be used in applications Therefore it is not necessary to include it in lib,,"y-yagi,rafaelfranca,y-yagi",2017-02-06 22:33:25,2017-02-06 23:15:05
PR,Remove useless MySQL Column tests,Since text default treated as an empty string in non strict mode has been removed in 26154 MySQL Column behaves like any other column Also The difference between strict and non strict mode is covered by test mysql not null defaults strict and test mysql not null defaults non strict,,"kamipo,arthurnn",2017-02-06 23:17:32,2017-02-07 02:32:48
IS,Rails ignoring lazy evaluation ActiveRecord and instance variables,Steps to reproduce 1 Create a model for example a Channel model 2 In rails console run Channel exists non existent record id 5 3 var is now 5 even though Channel exists returned false NOTE Only works with instance variables for some reason Expected behavior var should have been nil at the end Actual behavior var gets assigned 5 System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin16,,rafaelfranca,2017-02-07 03:05:49,2017-02-07 03:25:50
PR,Handle html translations within controllers,Previously translations marked with the html or html suffixes were not translated into html safe objects As a result the behaviour between views and controllers differed This change brings translations for the two scenarios into closer alignment To address I'm looking for a bit of guidance on further improvements here There is a fair amount of duplicate code between this change and ActionView Helpers TranslationHelper and so is there a better place where the two pieces of code can be merged together Seems like activesupport lib active support locale would be that place Additionally would it be also good to include the missing translation span tag functionality currently available in views L38 L42 Potential Todos Expand tests and provide better coverage for new functionality Add in missing translation span tags Refactor to merge with existing translate L59 method in ActionView Helpers,,"eileencodes,eileencodes,rafaelfranca",2017-02-05 00:25:42,2017-02-07 03:31:31
IS,Rails fails on Windows when rails is updated,Updating Rails on Windows destroys rails Steps to reproduce Install older Ruby on Rails with Rails installer Install the latest rails gem install rails Installs rails 5 0 1 Update gemfile of project to include new rails version gem 'rails' '5 0 1' gem list rails 5 0 1 4 2 5 1 3 2 13 railties 5 0 1 4 2 5 1 3 2 13 3 2 0 Run project rails server Bundler could not find compatible versions for gem railties rails 5 0 1 x86 mingw32 was resolved to 5 0 1 which depends on railties 5 0 1 x86 mingw32 Bundler is looking for the windows version but gem installed the non windows version when installing rails Hence it BROKE the installation Expected behavior Gem should update rails correctly on Windows and not break the installation Actual behavior Gem installs non windows railties and breaks the installation System configuration Rails version 5 0 1 Ruby version ruby 2 2 4p230 2015 12 16 revision 53155 i386 mingw32,,rafaelfranca,2017-02-07 04:31:04,2017-02-07 04:41:48
PR,Deprecate ColumnDumper migration keys,ColumnDumper migration keys was extracted to customize keys for standardized column arguments widths But the feature was removed in df84e98 The internal method is no longer used for that,,kamipo,2017-02-02 12:59:26,2017-02-07 05:08:54
PR,Restore the behaviour of the compatibility layer for integer like PKs,Follow up to 26266 Currently master branch was lost 1fa6c9e 22090 and 18220 due to 26266 and 26266 has another regression 27374 primary key definition before 26266 after 26266 id primary key default int auto increment PRIMARY KEY bigint auto increment PRIMARY KEY id integer int PRIMARY KEY int PRIMARY KEY id integer default nil int PRIMARY KEY int PRIMARY KEY id bigint bigint auto increment PRIMARY KEY bigint PRIMARY KEY id bigint default nil bigint PRIMARY KEY bigint PRIMARY KEY 1fa6c9e 22090 and 18220 are to ease to create an auto incremental or not bigint primary key and to dump the primary key correctly Since 26266 changed default primary key and 1fa6c9e 22090 and 18220 were lost And so currently an auto incremental int primary key cannot dump lose auto increment To fix the issue integer and bigint primary key has auto increment as implicit default and legacy migration still keep its previous behavior as before 26266 primary key definition suggested fix id primary key default bigint auto increment PRIMARY KEY id integer int auto increment PRIMARY KEY id integer default nil int PRIMARY KEY id bigint bigint auto increment PRIMARY KEY id bigint default nil bigint PRIMARY KEY The PR 27384 changed migration compatibility behaviour Previously this migration created non autoincremental primary key expected But after the PR the primary key changed to autoincremental it is unexpected This change restores the behaviour of the compatibility layer,,"kamipo,maclover7,kamipo",2016-12-17 03:11:53,2017-02-07 05:18:12
PR,Correctly dump integer like primary key with default nil,The PR 27384 changed integer like primary key to be autoincrement unless an explicit default This means that integer like primary key is restored as autoincrement unless dumping the default nil explicitly We should dump integer like primary key with default nil correctly,,"kamipo,maclover7",2017-01-22 01:10:43,2017-02-07 05:18:16
PR,Should test counting a null containing column,We should keep the behaviour that specified a single column at least r,,"kamipo,rafaelfranca,rafaelfranca,jeremy",2017-01-17 00:17:47,2017-02-07 06:00:49
PR,Remove useless column alias in subquery for count,If select clause is specified and last column has a column alias additional column alias causes a statement invalid Fixes 27676,,"kamipo,matthewd,kamipo,jeremy",2017-01-14 16:54:26,2017-02-07 06:01:02
PR,Move some ActionCable logs to debug level,Summary Currently ActionCable logs all broadcasted transmitted info with level 'info' This seems unnecessary we do not log complete HTTP responses either To avoid filling up production logs I propose to move the 'FooBarChannel transmitting ' and ' ActionCable broadcasting to ' to debug level,,arthurnn,2017-02-06 11:08:56,2017-02-07 07:01:03
PR,primary key and references columns should be identical type,Follow up to 26266 The default type of primary key and references were changed to bigint since 26266 But legacy migration and sqlite3 adapter should keep its previous behavior,,"kamipo,sgrif,sgrif,kamipo,kamipo",2016-12-11 23:10:06,2017-02-07 07:03:11
PR,Revert Remove useless column alias in subquery for count,This reverts commit 28977f1fa3d7b15c1608174a165e60b71ddf3995 Because this change causes CI failure,,"kamipo,jeremy",2017-02-07 07:10:08,2017-02-07 07:15:01
PR,Remove deprecated passing string to define callback,And raise ArgumentError when passing string to define callback,,"kamipo,kaspth,kamipo,kaspth,rafaelfranca,kamipo,kaspth,rafaelfranca,kamipo,rafaelfranca,kamipo",2017-01-08 10:49:59,2017-02-07 13:33:29
PR,Improve linking inside guides,Original proposal Hi This pull request improves a bit linking to the API site or GitHub in the guides Actually if RAILS VERSION is specified generating the guides it is automatically injected in URLs if there is not a version already Also now notes like Defined in path to file rb are automatically expanded to a link so people can see the file on GitHub tied to the version the guides were released against There is already an opened pull request to address this last point The author has been properly credited inside the commit but here is the PR for future references Have a nice day,,"robin850,matthewd,sgrif,utilum,robin850,fxn,matthewd,fxn,fxn,robin850,fxn",2016-11-30 18:40:51,2017-02-07 20:51:50
IS,ActionMailer tls in smtp settings undocumented,In ActionMailer in the smtp settings configuration hash setting tls to true solved a connection prolem to my smtp server But this option is not documented neither in the rails guide nor in the official API documentation I am not opening a pull request directly because I am not sure what this option means exactly or its relation to enable starttls auto System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux,,jeremy,2017-02-07 20:59:02,2017-02-07 21:25:31
PR,remove link to edgeapi ci skip,,,"y-yagi,maclover7",2017-02-07 23:25:52,2017-02-07 23:40:29
PR,deprecate halt callback chains on return false instead of halt and display warning on return false,Summary halt and display warning on return false is not a public API and application is using halt callback chains on return false L29 L86 L88 Therefore deprecate messages should be issued for halt callback chains on return false instead of halt and display warning on return false r,,y-yagi,2017-02-08 08:28:18,2017-02-08 14:06:20
IS,ActiveRecord ConnectionAdapters PostgreSQLColumn limit behaviour between Rails 3 and Rails 4,Steps to reproduce I found a difference in ActiveRecord ConnectionAdapters PostgreSQLColumn limit between Rails 3 and 4 App Below are the console result of each but each of them is a valid behaviour Rails 3 App ActiveRecord ConnectionAdapters PostgreSQLColumn limit can return 255,,"al2o3cr,rafaelfranca,rafaelfranca,rafaelfranca",2017-02-04 17:23:01,2017-02-08 14:08:37
IS,Remote ip should use the first ip address,Should not request remote ip return the first address in x forwarded for Steps to reproduce curl H X Forwarded For 1 1 1 1 0 0 0 0 3000 Expected behavior request remote ip should be 1 1 1 1 Actual behavior request remote ip is 0 0 0 0,,rafaelfranca,2017-02-08 13:10:12,2017-02-08 14:12:22
PR,Fix inspection behavior when the id column is not primary key,Summary When the id column is not primary key inspection does not work correctly So I fixed the issue by adding condition to force overwrite attribute name for reading value Currently I think that attribute name is false when reading the id column,,rafaelfranca,2017-02-07 15:49:56,2017-02-08 17:26:27
PR,Allow ActiveRecord Base as json to accept a frozen Hash,Summary ActiveRecord Base as json takes an options Hash which is cloned The clone is then modified Since Object clone preserves frozen state a frozen Hash will not work here This commit resolves that by changing clone to dup which does not preserve frozen state Other Information There are many situations where one would want to pass a frozen Hash to as json I came across this issue when trying to create a default JSON representation class User ApplicationRecord DEFAULT JSON only name email freeze def as json options nil super options presence DEFAULT JSON end end Doing this in a seemingly innocuous and correct way I got this stack trace RuntimeError can not modify frozen Hash rvm gems ruby 2 3 0 gems activerecord 5 0 1 lib active record serialization rb 14 in serializable hash' rvm gems ruby 2 3 0 gems activemodel 5 0 1 lib active model serializers json rb 99 in as json' app models user rb 5 in as json',,"rafaelfranca,rafaelfranca",2017-02-08 16:28:57,2017-02-08 17:39:26
PR,Refactor ColumnDefinition to contain options hash,Column options are passed as an hash args then used as options hash in add column options Converting args to attributes is inconvinient for using options as an hash,,"kamipo,jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,kamipo,kamipo,jeremy,yahonda,kamipo",2017-02-03 00:42:19,2017-02-09 07:33:17
IS,find or create by trying to create duplicate records with hmt association,Steps to reproduce Expected behavior Should find feature id 1 name Wifi and associate it with c2 id 2 name Luxury Actual behavior The find or create by method fails out because it tries to create instead of find I have also tried c2 features where name Wifi first or create and it also results in a uniqueness violation I know a solution is to c2 features Feature find or create by name Wifi just wanted to check that this is the only solution System configuration Rails version 5 0 1 Ruby version 2 4 0,,,2017-02-08 22:10:36,2017-02-09 09:27:18
PR,Fix wording,,,,2017-02-09 11:52:11,2017-02-09 13:11:07
PR,Add note about breakage in file uploads in controller tests to upgrading guide,Summary ref 26404 cc ci skip,,"maclover7,jaredbeck",2017-02-09 20:54:07,2017-02-09 21:28:17
PR,Simplify and optimize Postgres query for primary keys,primary keys table needs to query various metadata tables in Postgres to determine the primary key for the table Previously it did so using a complex common table expression against pg constraint and pg attribute This patch simplifies the query by joining pg index against pg attribute instead of going through pg constraint This simplifies the logic making the query far easier to understand and additionally avoids an expensive unnest window function query and common table expression EXPLAIN ing these queries in Postgres against a database with a single table with a composite primary key shows a 66 reduction in the plan and execute latencies This is significant during application startup time especially against very large schemas where these queries would be even slower and more numerous I tested querying for the primary keys of the following simple table with the old and new queries The following plans have representative plan and execution time timing of both was consistent across several runs,,"kamipo,kamipo,kamipo,maclover7,kamipo",2017-02-08 23:15:44,2017-02-09 21:29:18
PR,Update configuration guide about ActiveRecord is use schema cache dump option ci skip,,,"st0012,maclover7,st0012,maclover7,st0012,st0012",2017-02-09 10:06:59,2017-02-10 01:11:09
PR,Fix test composite primary key out of order,test composite primary key out of order should use barcodes reverse table,,"kamipo,kamipo,rafaelfranca,kamipo,kamipo",2017-02-10 01:41:51,2017-02-10 02:20:14
PR,Use released resque,Since caused the test to fail so specified master However it is not necessary to specify master because the latest version containing the fix was released Ref 25691,,"y-yagi,kaspth",2017-02-10 06:57:38,2017-02-10 09:01:27
IS,Memory does not release,,,,2017-02-10 18:38:21,2017-02-10 18:44:35
IS,Methods defined in array conversions not working when called by ActiveRecord Relation,Summary It looks like ActiveRecord Relation lost some methods such as to sentence to formatted s and to xml All of the methods are in activesupport lib active support core ext array conversions rb Let is say there is a Blog model which has three records on DB and try to call Blog all to formatted s db Expected behavior Blog all to formatted s db returns 1 2 3 Actual behavior Blog all to formatted s db raises a NoMethodError I found that those methods work fine on 4 2 stable on 4 2 stable,,"kenta-s,y-yagi,kenta-s,matthewd,kenta-s",2017-02-04 11:26:38,2017-02-10 19:05:54
PR,Delegate to sentence and to fomatted s to records,Fix,,"kenta-s,simi,kenta-s,maclover7,simi,kenta-s,eileencodes",2017-02-04 13:51:28,2017-02-10 19:05:54
PR,Add methods days weeks months years between,I think it might be useful so i decided to make this PR Added methods days between returns the number of days to given date default to Date current weeks between returns the number of weeks to given date default to Date current months between returns the number of months to given date default to Date current years between returns the number of years to given date default to Date current Your thoughts guys,,"bogdanvlviv,rafaelfranca,bogdanvlviv,bogdanvlviv",2017-02-10 18:50:40,2017-02-10 19:07:09
IS,Regression Bigint change does not work for schema dump is of previous created application,I was testing something with Rails 5 master and noticed the change to use bigint at primary keys has caused an issue when using the schema dump for example in CI or in a bin setup script If the application is created previous to upgrading to Rails 5 the schema dump does not properly handle the primary key Because the migration itself has a compatibility layer the auto increment is correctly applied I can try to look into this more this weekend but thought possibly someone else may know offhand how to fix this cc,,"eileencodes,maclover7,eileencodes",2016-12-15 19:25:04,2017-02-10 19:36:06
IS,Memory does not release,I have a function that create a backup of the app and download it in a zip file with the datas in the databases images files etc For this i create a big temp file using the Tempfile class that send to browser with send data but when i delete it after send data the download failed and its memory is not released Service class Controller method,,al2o3cr,2017-02-10 18:47:03,2017-02-10 21:42:22
PR,Fix bigint primary key with unsigned,Currently schema dumper lost the unsigned option when primary key is defined as bigint with unsigned This PR fixes the issue,,kamipo,2017-02-10 07:39:28,2017-02-10 22:04:43
PR,Pass aj integration test in 4 2 stable,It seems that only tests of resque failed in integration test However the cause of the test failure has been fixed in resque 1 27 0 Therefore it does not have to be allow failures,,"y-yagi,y-yagi",2017-02-11 05:04:00,2017-02-11 06:02:21
PR,Remove version number from API links when coming from Edge Guides,Summary Rails Guides links to the API documentation include a version number matching the Rails Guide providing the link However the version number for Edge Guides is a git commit hash not a true version number which results in a 404 when you try to follow the documentation link This change fixes that problem by only including true version numbers It also removes some unused code the edgeapi api substitution is not necessary since api link is only called on urls which start with http nolink,,"kaspth,fxn,kaspth,fxn",2017-02-10 18:59:56,2017-02-11 14:26:39
PR,Get TODO done in render test,I examined the other TODO comment in render test rb The method checks that MissingTemplateError is raised if a partial with a non existent extension is rendered This PR renames the method to a better name removes the comment moves the method to a better place changes view formats to view lookup context formats formats delegates to lookup context in ActionView Base Because other test methods in render test rb use the latter style and they should be consistent to be more readable,,"kenta-s,kaspth,kenta-s,kaspth,kenta-s,kenta-s,kaspth",2017-02-01 12:16:03,2017-02-11 20:47:14
IS,Warning Message,Hi After I installed rails 4 2 8 rc I ran rails v and I got a message Expected string default value for ' rc' got false boolean Some people say that the latest version of thor 0 19 4 causes this issue and thor 0 19 1 works well Please fix it in the final release,,"sgrif,rafaelfranca",2017-02-11 13:46:13,2017-02-11 22:21:19
IS,Regression attribute will change does not work for nested resources,Failing Test System configuration Rails version Edge Rails cabb212976703dac46bacc36addf70a232e96e71 Ruby version ruby 2 4 0p0 I tracked it down to this commit,,"sgrif,sgrif",2017-02-09 22:53:17,2017-02-11 22:49:32
PR,Check for forced attribute changes,Summary AttributeMutationTracker any changes only looked at model attribute changes and ignored any forced changes Fixes 27956,,"sgrif,sgrif,sgrif,sgrif,shioyama",2017-02-10 17:01:02,2017-02-11 22:49:33
PR,Add Style EmptyLinesAroundMethodBody in rubocop yml and remove extra empty lines,r,,"kamipo,fxn",2017-02-12 11:46:45,2017-02-12 11:50:52
IS,Base url for ActiveRecord readme is wrong,Steps to reproduce Click on any of the Learn more links Expected behavior First link goes to Actual behavior Should go to,,fxn,2017-02-12 12:05:32,2017-02-12 12:12:32
PR,Add Time blank to blank test,Test for Time blank is missing Sorry for issuing similar PR like again I check the behavior of public methods one by one I realized that the test was missing just a moment ago,,"kenta-s,pixeltrix",2017-02-12 02:10:57,2017-02-12 13:17:31
PR,Make table name reset current statement cache,Summary In our project some exceptional we have the function of dynamically swapping table names It has not been working since those features upgraded to rails 4 2 or maybe latest 4 1 It is due to the implementation of Adequate Record which is a wonderful feature I solved this problem by including table names in cache key Could you review my changes,,"jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,jeremy,tenderlove,jeremy",2017-02-09 17:13:42,2017-02-13 01:15:39
PR,Removed the attribute accessors required file,This file is no more needed the calls to cattr reader were removed in diff c5146df11f35304765e9ceebed108f57L60 and diff c5146df11f35304765e9ceebed108f57L99,,Edouard-chin,2017-02-13 00:46:57,2017-02-13 01:30:00
IS,Unable to create spec folder using rails generate rspec install,Steps to reproduce 1 Install rails 2 Install rspec gems 3 Enter rails g rspec install command in cmd Guidelines for creating a bug report are available here creating a bug report Expected behavior Spec folder should be generated Actual behavior System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"utilum,prathamesh-sonpatki,rafaelfranca,sgrif,sgrif,utilum,rafaelfranca",2016-11-21 11:08:37,2017-02-13 02:24:16
PR,Remove unused require,These files are not using strip heredoc,,kamipo,2017-02-12 12:53:35,2017-02-13 02:40:45
PR,Deprecate supports primary key,supports primary key was added to determine if primary key is implemented in the adapter in f060221 But we already use primary key without supports primary key 207f266 5f3cf42 and using supports primary key has been removed in 1318 This means that supports primary key is no longer used in the internal and Active Record does not work without primary key is implemented all adapters must implement primary key,,kamipo,2017-02-12 16:15:54,2017-02-13 02:48:31
PR,Schema dumping support for PostgreSQL interval type,,,kamipo,2017-02-12 18:03:14,2017-02-13 02:54:53
PR,Schema dumping support for PostgreSQL oid type,,,kamipo,2017-02-12 18:06:06,2017-02-13 03:02:23
IS,unscope causes too many parameters to be supplied when used with subquery,Steps to reproduce I have created this minimal example Expected behavior In the test case test subquery unscope p2 and p3 are ActiveRecord Relation s thus causing a subquery with a join to be used Using unscope to remove the first condition I expect the query to work and only the parameters from p3 to be applied Actual behavior The SQL generated includes both the parameters from p2 and p3 thus supplying too many parameters and causing an ActiveRecord StatementInvalid error As can be seen in test avoid subquery unscope simplifying the first condition by using p2 first and thus avoiding a subquery there unscope works as expected and the new condition with a subquery can be applied System configuration Rails version master but also on 4 2 6 have not tested any others Ruby version ruby 2 3 1p112 2016 04 26 x86 64 linux gnu,,sgrif,2016-08-29 23:29:40,2017-02-13 04:35:29
PR,Refactor test find by does not use statement cache if table name is changed,,,"kenta-s,kamipo,kenta-s",2017-02-13 10:10:06,2017-02-13 13:30:25
PR,Add header support to process method in controller test case,Summary Currently in controller test cases the base method is process and thus get post etc The base method does not support custom headers The current interface looks like Digging into the source code found that it s genetically limiting custom headers This PR adds support for custom headers when doing test calls The argument is deliberately put in the end so that nothing is implicated Other Information Please let me know if you have any concerns to the change,,rafaelfranca,2017-02-13 05:44:22,2017-02-13 13:31:35
PR,Backport tests changelog and docs for travel to DateTime support to 4 2 stable,Support for stubbing DateTime now with travel to was added in It was later backported to 4 2 stable as part of but the tests and changelog entry were not included The documentation update from is also included here,,"eugeneius,maclover7",2017-02-12 00:20:30,2017-02-13 14:06:57
PR,Omit redundant using btree for schema dumping,,,"kamipo,kamipo,matthewd,rafaelfranca,kamipo,matthewd,rafaelfranca,matthewd",2017-02-12 18:54:58,2017-02-13 15:04:51
IS,Presence of an expression index causes problems when removing indexes,Steps to reproduce System configuration Rails version 5 0 0 1 Ruby version 2 3 1 Postgres version 9 5 0 0 It looks like index name for remove L1210 is expecting i columns to be an array of strings but in the case of an expression index it is just a string This was added in 8ceb883 by,,utilum,2016-09-26 23:40:07,2017-02-13 15:10:54
IS,Migration errors out with undefined method join' for string when removing an index from a table which contains a PG jsonb path ops index,Steps to reproduce In any table create an index like the following System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"alexcameron89,kamipo",2016-09-27 13:30:50,2017-02-13 15:15:16
IS,Arel table column matches double quotes its argument,Steps to reproduce Rails 4 Expected behavior Queries to be identical namely LIKE argument should not be double quoted in Rails 5 version Actual behavior LIKE argument incorrectly encoded twice leading to query returning empty set after upgrade to Rails 5 System configuration Rails version 5 0 1,,"dolzenko,rafaelfranca",2017-02-13 17:02:13,2017-02-13 17:03:56
PR,Add default index type to the generic schema dumper does not have the knowledge about an index type,,,"kamipo,rafaelfranca,kamipo,rafaelfranca,kamipo",2017-02-13 16:30:51,2017-02-13 18:38:41
IS,passing multiple raw sql commands to ActiveRecord Base connection execute returns nil but thesame sql works as psql command,Steps to reproduce I am trying to turn on and turn off postgresql enable nestloop for a single query in activerecord using raw SQL Here is the command class Segment ApplicationRecord def self count payload kind s SET LOCAL enable nestloop off SELECT count FROM segments s WHERE s payload ' kind person ' SET LOCAL enable nestloop on ActiveRecord Base connection execute s to a end end When I call ActiveRecord Base connection execute s to a it does not return any record and throws no error However if I remove the 2 calls to SET LOCAL enable nestloop the query returns the correct count Here is the schema rb create table segments force cascade do t t jsonb payload default null false end How can I turn enable nestloop on and off for one query Expected behavior It ought to return the correct count eg count 2 psql host x 19 x 2 port 5432 username name password dbname filter development SET LOCAL enable nestloop off SELECT count FROM segments s WHERE s payload ' kind person ' SET LOCAL enable nestloop on Running the last psql command returns the correct count instead of nil when using ActiveRecord Base connection execute count 2 1 row Actual behavior When I call ActiveRecord Base connection execute s to a it does not return any record and throws no error However it works correctly if i remove the 2 calls to SET LOCAL enable nestloop System configuration Rails 5 0 1 Ruby 2 3 1p112,,rafaelfranca,2017-02-13 23:09:18,2017-02-13 23:16:43
IS,QueryMethods lock not locking row concurrent SELECT FOR UPDATE queries not blocked 4 2 7 1,Steps to reproduce Create a model persist one instance of that model to the database Run the following for a model named Thing Expected behavior We should see lock granted in thread 1 then five seconds later we should see lock granted in thread 2 Actual behavior We see lock granted in thread 1 and lock granted in thread 2 immediately An interesting thing to note is if Thing where id 1 lock is changed to Thing where id 1 lock first in both threads everything works fine Same for Thing find 1 lock This same issue occurs if multiple IDs are passed e g Thing where id 1 2 first 2 System configuration Rails version 4 2 7 1 PG Gem Version 0 19 0 Postgres Version 9 3 3 Ruby version 2 2 2p95,,"rafaelfranca,matthewd",2017-02-13 21:06:54,2017-02-13 23:18:19
PR,Freeze fragment cache related instrument name,Summary ActionMailer Base instrument name and ActionController Base instrument name will be frequently called once caching is enabled So it is better to freeze them instead of creating new string on every call Also the instrument name in instrument fragment cache will usually be write fragment action controller or read fragment action controller So freezing them might also gain some performance improvement We have done something like this in other places L348,,"st0012,dmitry,st0012,st0012,matthewd,st0012,eileencodes,st0012",2017-02-06 16:44:02,2017-02-13 23:53:40
PR,Fix the return of deprecate methods in doc ci skip,L66 Module prepend is supposed to return the receiver So in this case the return value is Fred not an Array,,kenta-s,2017-02-14 00:37:51,2017-02-14 00:44:35
IS,Issue with PG json queries,Hello guys I have found a strange behavior it is probably related to the attribute types system Steps to reproduce AR did not try to wrap it in one more string Actual behavior I do not see any way to query the whole content of a jsonb field System configuration Rails version 5 0 1,,,2017-02-09 10:57:16,2017-02-14 03:54:20
IS,ActionCable not connecting in certain environments,Not sure if this is an issue with ActionCable websockets or my implementation I have asked everyone I can ask posted on StackOverflow and done all the research I can so I'm posting here as a final recourse I have built a chat application and in certain environments particularly office spaces people are unable to post messages I have never been able to replicate the issue personally which is why it is been very hard to solve I thought maybe it was a firewall issue but it is happened in offices where they had no firewall Before I send a message out I try to test if the connection is active The code looks like this Users will just get the trying to reconnect message and are never able to post This is happening frequently enough to be a big issue,,"rafaelfranca,rafaelfranca",2017-02-09 21:17:11,2017-02-14 04:17:13
PR,Add current year check on Date Time,Extend Date Time to add current year check Similar as today but it checks wheter Date or Time belongs to the current year Surprising number of Rails projects that I was envolved in needed some way to check whether Date or Time belongs to the current year So I think that adding this check to ActiveSupport will be a nice addition to the gem,,"dixpac,rafaelfranca,dhh,dixpac",2017-02-13 15:31:23,2017-02-14 10:37:17
PR,Simplify and optimize Postgres query for primary keys,Take two on 27949 which was flawed because unnest does not always return in a consistent order Now we use generate subscripts which should always return rows in a consistent order It is available since Postgres 8 4 In summary this pull request simplifies the query used to determine the primary keys of a table in Postgres to achieve a 66 speedup per table primary key query during application startup cc thanks for your patience Here is the EXPLAIN data with the new and old queries on a sample table,,"kamipo,kamipo,sgrif,sgrif,jeremy,sgrif,sgrif",2017-02-10 07:47:18,2017-02-14 10:47:33
PR,Not ants were harmed,Fixes just a typo,,vipulnsward,2017-02-14 11:05:44,2017-02-14 11:07:37
PR,Should keep the primary key column order,Fixes CI failure caused by 27961 L2390 L2409,,kamipo,2017-02-14 11:51:23,2017-02-14 13:11:09
PR,Use ActiveRecord bigint type not SQL literal bigint,Summary This pull request addresses this error when tested with Oracle enhanced adapter I believe sql statements executed at mysql2 and postgresql adapters are equivalent before and after with this commit,,yahonda,2017-02-14 13:40:34,2017-02-14 14:23:31
IS,Rails 5 0 1 issue undefined method push' for User ActiveRecord Relation 0x0000000aba23b8,Steps to reproduce Make a query for collections User includes account order last name Create a new user record User create last name 'jazz' Now I want to push this new record into the collections push new user Expected behavior The activerecord array should include the new record into its collection Actual behavior But in Rails 5 0 1 it is raising an error undefined method push' for User ActiveRecord Relation 0x0000000aba23b8 System configuration Rails 5 0 1 Ruby 2 3 0 I have checked 'concat' method in rails 5 but not working anyway,,rafaelfranca,2017-02-14 12:10:55,2017-02-14 14:35:32
IS,ActiveSupport Message verifier with double slash trouble,Steps to reproduce Encoding lost after redirect to https 2F 2F Is mandatory normalization in block location on nginx May be is it possible to disable the normalization of slashes on rails Expected behavior token BAh7CDoMdXNlcl9pZGkC7wk6EXJlY2lwaWVudF9pZGkDA FOgplbWFpbEkiF2RtcGV0cm92bmFAbWFpbC5ydQY6BkVU e2c138bb54209f7e31138fa0111d152c7d1c96cd Actual behavior token BAh7CDoMdXNlcl9pZGkC7wk6EXJlY2lwaWVudF9pZGkDA FOgplbWFpbEkiF2RtcGV0cm92bmFAbWFpbC5ydQY6BkVU e2c138bb54209f7e31138fa0111d152c7d1c96cd System configuration Rails version 4 2 5 Ruby version 2 3 0,,rafaelfranca,2017-02-14 09:25:37,2017-02-14 15:00:42
PR,Remove unused DdlHelper in ForeignKeyTest,,,"kamipo,yahonda",2017-02-14 14:49:48,2017-02-14 15:38:43
PR,Fix generator command for nested namespaced rails engine take 2,Rewrite 085546df45 was reverted b6ffb5efcb because it change the return of namespaced path from String to Array If we create nested namespaced rails engine such like bukkits admin bin rails g scaffold User name string age integer will create bukkits admin app controllers bukkits users controller rb but it should create bukkits admin app controllers bukkits admin users controller rb In 6643 we changed namespaced path as root path because we supposed application controller is always in root but nested rails engine is application controller will not,,"mtsmfm,chancancode,chancancode",2017-01-07 13:34:21,2017-02-15 00:34:09
IS,Missing namespace folders when using generators inside an engine,Rails version 5 0 1 Steps to reproduce Generate an engine with 1 levels nested namespaces e g As you can see it is supposed to generate app controllers foo bar dashboard controller rb but it dropped the bar from the generated output,,"chancancode,chancancode,chancancode",2017-02-14 23:07:31,2017-02-15 00:35:48
IS,Rails wo not start Im new to rails and only just set up rails so be very basic,Last login Thu Feb 9 14 24 17 on ttys000 leon cd Sites leon ll total 16 drwxr xr x 4 501 20 136 6 Feb 15 15 drwxr xr x 22 501 20 748 9 Feb 14 24 rw r r 1 501 20 6148 9 Feb 14 12 DS Store drwxr xr x 19 501 20 646 6 Feb 15 15 simple cms leon cd simple cms leon ll total 80 drwxr xr x 19 501 20 646 6 Feb 15 15 drwxr xr x 4 501 20 136 6 Feb 15 15 rw r r 1 501 20 8196 9 Feb 13 54 DS Store rw r r 1 501 20 468 6 Feb 15 12 gitignore rw r r 1 501 20 1899 6 Feb 15 12 Gemfile rw r r 1 501 20 4280 6 Feb 15 12 Gemfile lock rw r r 1 501 20 374 6 Feb 15 12 README md rw r r 1 501 20 227 6 Feb 15 12 Rakefile drwxr xr x 11 501 20 374 6 Feb 16 39 app drwxr xr x 8 501 20 272 6 Feb 15 12 bin drwxr xr x 15 501 20 510 6 Feb 16 22 config rw r r 1 501 20 130 6 Feb 15 12 config ru drwxr xr x 3 501 20 102 6 Feb 15 12 db drwxr xr x 4 501 20 136 6 Feb 15 12 lib drwxr xr x 5 501 20 170 9 Feb 14 12 log drwxr xr x 11 501 20 374 6 Feb 16 39 public drwxr xr x 9 501 20 306 6 Feb 15 12 test drwxr xr x 8 501 20 272 6 Feb 16 03 tmp drwxr xr x 4 501 20 136 6 Feb 15 40 vendor leon rails server Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 51 warning constant Fixnum is deprecated Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 52 warning constant Bignum is deprecated Booting Puma Rails 5 0 1 application starting in development on 3000 Run rails server h for more startup options Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support core ext numeric conversions rb 138 warning constant Fixnum is deprecated Exiting Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 78 in check via' You should not use the match method in your router without specifying an HTTP method ArgumentError If you want to expose your action to both GET and POST add via get post option If you want to expose your action to GET use get in the router Instead of match controller action Do get controller action from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 1902 in map match' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 1599 in match' from Users leon Sites simple cms config routes rb 5 in block in top required ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing route set rb 389 in instance exec' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing route set rb 389 in eval block' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing route set rb 371 in draw' from Users leon Sites simple cms config routes rb 1 in top required ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in load' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in block in load' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support dependencies rb 259 in load dependency' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in load' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 40 in block in load paths' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 40 in each' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 40 in load paths' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 16 in reload ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 26 in block in updater' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support file update checker rb 77 in execute' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 27 in updater' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 7 in execute if updated' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application finisher rb 119 in block in module Finisher ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails initializable rb 30 in instance exec' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails initializable rb 30 in run' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails initializable rb 55 in block in run initializers' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 228 in block in tsort each' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 350 in block 2 levels in each strongly connected component' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 431 in each strongly connected component from' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 349 in block in each strongly connected component' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 347 in each' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 347 in call' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 347 in each strongly connected component' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 226 in tsort each' from Users leon rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 205 in tsort each' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails initializable rb 54 in run initializers' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application rb 352 in initialize ' from Users leon Sites simple cms config environment rb 5 in top required ' from Users leon Sites simple cms config ru 3 in require relative' from Users leon Sites simple cms config ru 3 in block in main ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems rack 2 0 1 lib rack builder rb 55 in instance eval' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems rack 2 0 1 lib rack builder rb 55 in initialize' from Users leon Sites simple cms config ru in new' from Users leon Sites simple cms config ru in main ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems rack 2 0 1 lib rack builder rb 49 in eval' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems rack 2 0 1 lib rack builder rb 49 in new from string' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems rack 2 0 1 lib rack builder rb 40 in parse file' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems rack 2 0 1 lib rack server rb 318 in build app and options from config' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems rack 2 0 1 lib rack server rb 218 in app' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails commands server rb 59 in app' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems rack 2 0 1 lib rack server rb 353 in wrapped app' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails commands server rb 124 in log to stdout' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails commands server rb 77 in start' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails commands commands tasks rb 90 in block in server' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails commands commands tasks rb 85 in tap' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails commands commands tasks rb 85 in server' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails commands commands tasks rb 49 in run command ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails commands rb 18 in top required ' from Users leon Sites simple cms bin rails 9 in require' from Users leon Sites simple cms bin rails 9 in top required ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring client rails rb 28 in load' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring client rails rb 28 in call' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring client command rb 7 in call' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring client rb 30 in run' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 bin spring 49 in top required ' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring binstub rb 31 in load' from Users leon rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring binstub rb 31 in top required ' from Users leon rbenv versions 2 4 0 lib ruby site ruby 2 4 0 rubygems core ext kernel require rb 55 in require' from Users leon rbenv versions 2 4 0 lib ruby site ruby 2 4 0 rubygems core ext kernel require rb 55 in require' from Users leon Sites simple cms bin spring 15 in top required ' from bin rails 3 in load' from bin rails 3 in main ' leon,,prathamesh-sonpatki,2017-02-15 01:26:20,2017-02-15 05:04:53
IS,ActiveRecord Learn More links all 404,Steps to reproduce 1 Go to 2 Glick a Learn More link Expected behavior We visit the link Actual behavior We get a 404,,prathamesh-sonpatki,2017-02-14 17:51:02,2017-02-15 05:10:55
PR,Indicate units of 'limit' in 'Integer' error message,It took a minute or two of searching online to find out what the units are referred to by this 'limit' error message so it would be helpful if the error message provided that information up front,,eileencodes,2017-02-15 15:39:54,2017-02-15 17:33:53
PR,Fix a tests of AR ValueTooLong when using OracleAdapter,Summary This PR fixes the following 2 failures when using Oracle 11g In oracle enhanced it seems that raise ActiveRecord ValueTooLong when these test cases Then it seems like the expected behavior according to the following references References As additional Information I confirmed that there is the same test fails on 5 0 stable branch Thanks,,"koic,eileencodes",2017-02-14 03:12:29,2017-02-15 17:38:36
IS,Gem Load Error is uninitialized constant ActiveModel ForbiddenAttributesProtection,Guys I'm trying to upgrade an application from Rails 3 2 22 to 4 0 13 and I'm getting Gem Load Error is uninitialized constant ActiveModel ForbiddenAttributesProtection to any various maybe any I said various because after removing for checks some gems that the same error happened I just gived up and decided that the error was not of the gems gems I really does not make any sense what is happening The gems I'm using are supported for Rails 4 0 x That was not suppose to be happening I think At least not trying to load the gems The error trace Rails is already in 4 0 0 Ruby 2 1 8 Thanks 3,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-02-15 18:07:17,2017-02-15 19:16:40
IS,ActiveRecord Attributes should work standalone in a PORO,System configuration Rails version 5 0 1 Ruby version 2 3 1p112,,rafaelfranca,2017-02-15 17:57:03,2017-02-15 19:24:33
PR,Remove redundant namespaces from sample code of deprecated method wa,deprecated method warning is a private method Name spaces should not be here,,"kenta-s,maclover7",2017-02-15 10:33:27,2017-02-15 20:23:20
PR,Change ActiveModel Validation to ActiveModel Validations in comments,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"maclover7,maclover7",2017-02-15 22:30:45,2017-02-15 22:36:39
IS,Test helper with routing does not work with default url options,Hi I would like to share a possible bug in with routing test helper when used in combination with default url options Steps to reproduce I have created a reproduction which demonstrates the unexpected behavior described below Expected behavior I would expect the test helper with routing to work with default url options In the case of the reproduction above I would expect all four tests to pass Actual behavior The usage of the test helper with routing in combination with def default url options fails with ActionController UrlGenerationError Workaround Define test routes inside config routes rb System configuration Rails version 4 2 7 1 5 0 1 Ruby version 2 3 3 Feedback is very welcome smile Kind regards Peter,,"maclover7,maclover7",2017-02-14 18:29:06,2017-02-15 23:12:56
PR,Optimize indent,Summary just optimize indent in core ext module delegation rb,,,2017-02-16 10:13:41,2017-02-16 10:14:56
IS,JSON parse chokes on the UTF 8 character EM SPACE U 2003 e2 80 83,Steps to reproduce No error here,,,2017-02-16 11:03:52,2017-02-16 17:54:28
PR,Enable activemodel date to serialize format mm dd yyyy,An attempt to fix,,,2017-02-07 07:15:13,2017-02-16 18:09:57
IS,Setting action mailer default params does not define charset,Steps to reproduce 1 Create a test rails app with rails new and go get a coffee because it is going to take loong could not resist 2 bundle exec rails g mailer TestMailer 3 touch app views test mailer test mail text erb 4 define the test mail method and some stacktrace In simple terms sending mails breaks My expectation as a user is that when I set my default params that these overwrite do not replace the default params coming from rails Charset should be the same unless I specifically set it otherwise System configuration Rails version Rails 5 latest Rails 4 2 7 1 did not test others,,"al2o3cr,al2o3cr",2017-02-16 14:21:40,2017-02-16 19:52:32
PR,Remove a useless empty line,,,rafaelfranca,2017-02-16 18:37:09,2017-02-16 20:03:18
IS,ActiveRecord Ca not Process Nested Query with Parameterized WHERE Parameters,Steps to Reproduce ActiveRecord can process Nested Query by giving ActiveRecord Relation inside a where like this puts User where Post where 'views count ' 100 where 'posts user id users id' exists to sql SELECT users FROM users WHERE EXISTS SELECT posts FROM posts WHERE views count 100 AND posts user id users id However it does not work well if there is a parameterized where inside the inner relation Example puts User where Post where views count 100 where 'posts user id users id' exists to sql SELECT users FROM users WHERE EXISTS SELECT posts FROM posts WHERE posts views count AND posts user id users id Expected Behaviour The query can be executed Actual Behaviour The parameterized WHERE is gone WHERE posts views count AND posts user id users id On Postgres it will throw error 2 4 0 001 User where Post where views count 100 where 'posts user id users id' exists to a User Load 0 5ms SELECT users FROM users WHERE EXISTS SELECT posts FROM posts WHERE posts views count 1 AND posts user id users id ActiveRecord StatementInvalid PG ProtocolViolation ERROR bind message supplies 0 parameters but prepared statement requires 1 SELECT users FROM users WHERE EXISTS SELECT posts FROM posts WHERE posts views count 1 AND posts user id users id System configuration Rails version 5 0 1 Ruby version 2 4 0 However it can be reproduced too on Ruby 2 3 1 and Rails master Attachment Here is the example test case from active record bug test template I have tested it with both Postgres and SQLite,,"alexcameron89,alexcameron89,alexcameron89,sgrif",2017-02-15 08:59:24,2017-02-16 23:16:24
PR,Switch minitest to development dependency fixes gjtorikian html proofer 380,Related discussion issuecomment 280484629 minitest is currently a dependency of activesupport However these does not appear to be an end user benefit of this I have switched this to a development dependency so that end users are not bothered with downloading this unnecessary dependency,,rafaelfranca,2017-02-16 22:46:13,2017-02-16 23:20:38
PR,Fix doc in Multibyte Chars ci skip,I found some mistakes in the doc Just fixed them,,"kenta-s,kenta-s,maclover7",2017-02-16 23:09:17,2017-02-17 00:32:14
PR,Fix typo in I18n Guide,Summary Fix typo in YAML example from I18n Guide,,"Erol,senny,Erol",2017-02-17 08:40:05,2017-02-17 08:54:18
PR,Remove doc for NumericalityValidator ci skip,The doc was added in cdb9d7f but NumericalityValidator is already nodoc class doc is unneeded L3 r,,"kamipo,amatsuda",2017-02-17 14:15:53,2017-02-17 23:08:57
PR,Change engines guide to demonstrate maintained forum,Change Rails engine guide to references a maintained project Thredded instead of the abandoned project Forem I chose Thredded as Forem is closing note below suggests the choice,,"maclover7,maclover7",2017-02-17 12:16:59,2017-02-17 23:38:12
PR,Fix failed migration in a fresh database prevents subsequent db drop,Summary When we create internal metadata table then we always record current environment into internal metadata table This pull request will fix 28001 problem,,"matthewd,maclover7",2017-02-17 05:46:23,2017-02-18 00:32:42
PR,Remove deprecate passing string to if and unless conditional options ci skip,Follow up to 27608,,"y-yagi,maclover7",2017-02-18 01:41:08,2017-02-18 01:54:22
PR,Unfreeze interpolated string because it is unnecessary,Summary Freeze does not work on interpolated string So change it back for preventing confusion Thank for is report Benchmark r,,"st0012,st0012,matthewd,st0012,st0012,matthewd,st0012,matthewd",2017-02-19 15:08:07,2017-02-19 16:09:44
IS,test unit integration tests generator is missing the namespace wrapper,Not sure how important this is but it seems inconsistent with everything else See vs L3,,chancancode,2017-02-15 00:37:55,2017-02-19 18:21:49
PR,Add missing module namespacing wrapper,close 28011 Summary Fix to add missing module namespacing clause cc,,"chancancode,chancancode",2017-02-15 02:18:40,2017-02-19 18:21:49
PR,Fix behavior url for with string as argument,Fix inconsistency between String and Symbol url for handling Related to 37d4415a7b433fcb987b1c6a5b51bf2d8efc5d5e cc,,"bogdanvlviv,bogdanvlviv,maclover7,tenderlove,bogdanvlviv,bogdanvlviv",2017-01-20 21:27:41,2017-02-19 22:49:13
PR,Add assertion to polymorphic routes test rb,Add assertion to polymorphic routes test rb The assertion will ensure that the behavior does not regress Related to 37d4415 cc hr Set correct routes in tests cases for consistency hr This PR closes my previous wrong PR 27755,,bogdanvlviv,2017-02-19 22:48:58,2017-02-20 04:55:36
PR,Improve create table force true,Extra data source exists table name is unneeded if drop table table name if exists true directly,,kamipo,2017-02-19 15:22:14,2017-02-20 04:56:21
PR,Do not run git init in dummy application,,,y-yagi,2017-02-18 02:03:21,2017-02-20 04:57:43
PR,fix codeclimate,Fix CodeClimate style warnings by replacing single quotes with double ones,,guilleiguaran,2017-02-20 07:16:21,2017-02-20 08:17:23
IS,ActionView Helpers TagHelper tag wo not produce a closed textarea tag,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Simply create a bare rails application and place tag textarea in the body of any view The tag produced will be open and all other HTML code produced from that point until the view is finished rendering will appear as contents inside the textarea Overriding the default with tag textarea true or tag textarea false has no effect tag input seems to work perfectly fine The tag method seems to work perfectly find outside of that context If I place a pry on the line immediately before the tag call and evaluate tag textarea in the console the result is textarea a properly closed tag Sure enough though after exiting the pry the rendered page that by browser receives contains an unclosed textarea tag As a workaround anyone else having this issue can place html safe ' textarea ' on the line following the textarea Expected behavior tag textarea cannot be forced to produce a closed textarea tag Actual behavior It produces an open one and renders other page content as textarea contents System configuration Rails version 5 0 1 Ruby version 2 4 0 I typically use HAML rather than ERB and originally noticed the bug in that context but reproduced it in an ERB view as well,,"Erol,Erol,kaspth",2017-02-17 05:16:30,2017-02-20 08:36:09
PR,Remove the top level HashWithIndifferentAccess contant,Hi This pull request removes the top level HashWithIndifferentAccess constant It was kept for the sake of backward compatibility it is still available under ActiveSupport HashWithIndifferentAccess Furthermore since Ruby 2 5 wo not support top level constant lookup people would have to update their code anyway I defined a HashWithIndifferentAccess constant inside tests to avoid polluting the log and make blames harder but let me know if I should rather update the different tests with the full constant qualifier Cross refs 27863 Have a nice day,,"robin850,rafaelfranca,rafaelfranca,matthewd,rafaelfranca,robin850,rafaelfranca,robin850,robin850,kaspth,kaspth,robin850,kaspth,robin850,kaspth",2017-02-06 13:55:51,2017-02-20 08:36:40
IS,cannot load such file bcrypt ext while installing devise,Steps to reproduce I am using Rails 5 0 1 and ruby 2 3 3p222 2016 11 21 revision 56859 i386 mingw32 versions on windows 10 using railsinstaller I have added gem wouldevise' in gem file and run bundle install then rails g devise install then in config environments development rb file i have added the below line config action mailer default url options host 'localhost' port 3000 before the end keyword then i have run rails g devise user followed by rake db migrate after going to this url 3000 users sign up while submitting the form i am getting LoadError in Devise RegistrationsController create cannot load such file bcrypt ext Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Expected behaviour is user should be able sign up using devise Actual behavior Tell us what happens instead I am not able to install required bcrypt ext System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 i386 mingw32,,al2o3cr,2017-02-19 23:40:00,2017-02-20 09:04:38
PR,Update Guides to use macOS instead of Mac OS X,Summary Update Guides to use macOS instead of Mac OS X,,"robin850,robin850,robin850",2017-02-20 13:53:21,2017-02-20 14:17:30
IS,ActiveRecord StatementInvalid in after touch callback when using associations,Hola It took me a while to track this bug down and finding a way to reproduce it but finally I have it I will try to explain my findings as best as I can After switching from 5 0 0 1 to 5 0 1 an ActiveRecord StatementInvalid exception is raised in my tests and it looks like that ActiveRecord is not building the query as expected when doing a mininum and per extension maximum average and others calculation I could not figure which was the problem out until I used git bisect and I detected that the commit that introduced the regression is Then I tried to reproduce the issue so I could open a PR to fix it and that took me a long time and I still can not explain why the ActiveRecord StatementInvalid is happening because the issue gets weirder hahaha I could fix the issue on my side when I read and specifically Placing your callbacks after associations is usually a good practice I will tell you what I have found out and let the experts try to solve it Check the test case example first please 1 This happens only when the callbacks are specified before the has many association and when we try to autosave associated records 2 In the test case the error is raised when running the after touch callback but only if the after create has been also run In the after create the SQL query is This issue is also happening in the master branch you can check that out here callbacks calculation bug Sorry for the long post I did not want to miss anything I hope I explained myself If you have any questions let me know,,"kamipo,maclover7",2017-01-05 14:04:47,2017-02-20 18:56:23
PR,Some improvements to the API site is sidebar,Hello That is a tiny pull request that improves a bit the sidebar on the API site removing some useless or duplicated entries Also all the core classes are now under a Core extensions label Here is the result sidebar There is still the SourceAnnotationExtractor class because there is no nodoc comment on it but since there is an API to register annotations is it still needed to keep this documented I'm not very happy of the generator is code but that is not really easy to hook into SDoc Let me know if there is anything wrong or missing Have a nice day,,"robin850,rafaelfranca,rafaelfranca,rafaelfranca,robin850,robin850,rafaelfranca,robin850,rafaelfranca,rafaelfranca,robin850,rafaelfranca,robin850,rafaelfranca,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,robin850,robin850,robin850,robin850,kaspth,kaspth,matthewd,matthewd,robin850,robin850,robin850,matthewd,robin850,kaspth,matthewd,robin850,robin850,robin850,robin850,kaspth,kaspth,robin850",2017-01-31 21:43:03,2017-02-20 19:03:32
IS,rails console does not seem to work with whitespace in path OS X Binstubs,Steps to reproduce dependencies installed via rbenv bundler with binstubs 1 install gems bundle install path bundle gems binstubs bundle bin 2 create a new rails application in a subdirectory of a directory with white space in the name mkdir Directory Name With Space cd Directory Name With Space or cd Directory Name With Space rails new prototype cd prototype 3 run rails console rails console Expected behavior Application should boot into irb console Actual behavior application will fail to boot with the message,,"y-yagi,maclover7",2017-02-15 19:24:59,2017-02-20 19:05:23
PR,Prevent multiple values being set to run via,When executing the test via rake since rake is set for run via ruby should not be set Related 2cb6c27,,"y-yagi,kaspth,kaspth,kaspth,kaspth,y-yagi,y-yagi,y-yagi,kaspth,y-yagi,kaspth",2017-02-08 09:32:28,2017-02-20 21:20:15
PR,Collect all file patterns when running multiple rake test tasks,Replaces the rake patterns instance variable with simple require as autorun will run tests from all eagerly required test files Fixes 27801 backport of merged 27802 cherry picked from commit 1c8a4cdf63134f34d638703a956c2706d8e3789f on master,,"domcleal,maclover7,kaspth",2017-02-17 08:41:16,2017-02-20 21:34:12
PR,Ensure test threads share a DB connection,This ensures multiple threads inside a transactional test to see consistent database state When a system test starts Puma spins up one thread and Capybara spins up another thread Because of this when tests are run the database cannot see what was inserted into the database on teardown This is because there are two threads using two different connections This change uses the statement cache to lock the threads to using a single connection ID instead of each not being able to see each other This code only runs in the fixture setup and teardown so it does not affect real production databases When a transaction is opened we set lock thread to Thread current so we can keep track of which connection the thread is using When we rollback the transaction we unlock the thread and then there will be no left over data in the database because the transaction will roll back the correct connections Eileen M Uchitelle Matthew Draper cc,,"eileencodes,tgxworld,matthewd,tgxworld,sgrif,matthewd,matthewd,sgrif,bf4,eileencodes,sgrif,eileencodes",2017-02-20 21:37:35,2017-02-20 23:11:36
IS,Calling has many association 100x slower in Rails 4 vs Rails 3 with associations preloaded,Even when the associated objects are preloaded using tt includes tt for instance the actual call to tt object my children tt is significantly slower in Rails 4 than in Rails 3 10 000 of such calls can add up to a second which causes significant performance hits in our application In Rails 3 this was about 100x faster The following flamegraph illustrates a single call to a tt has many tt association in Rails 4 It appears as though the call to tt ActiveRecord Associations CollectionAssociation scope tt has significant overhead rails 4 flamegraph Is there anything we can do about this After upgrading to Rails 4 our a lot of our endpoints have slowed down significantly because of this issue Steps to reproduce and are simple apps I created with rake tasks that illustrate this problem Please see the Readme System configuration Rails version 4 2 6 and 3 2 22 Ruby version 2 1 3,,"rafaelfranca,kamipo,kamipo",2016-07-27 22:19:23,2017-02-20 23:35:21
PR,Test run via rails,Summary Fix regression introduced by 88b335e Symptom home rubys git rails railties lib rails commands test rb 9 in top required ' wrong number of arguments given 2 expected 1 ArgumentError from home rubys git rails railties lib rails commands commands tasks rb 138 in require' from home rubys git rails railties lib rails commands commands tasks rb 138 in require command ' from home rubys git rails railties lib rails commands commands tasks rb 95 in test' from home rubys git rails railties lib rails commands commands tasks rb 49 in run command ' from home rubys git rails railties lib rails commands rb 18 in top required ' from bin rails 4 in require' from bin rails 4 in main ' Other Information See cmd9,,"rubys,rubys,rubys",2017-02-21 02:09:09,2017-02-21 02:16:42
IS,redirect to fails when controller has a location method,Steps to reproduce Add a controller method called location Have another method in the controller call redirect to Minimum reproducible bug code can be seen here Expected behavior I expect location to not be called It might have models that expect params or other request information that a redirect would not provide and cause it to raise an exception For example with the following code,,al2o3cr,2017-02-16 13:27:50,2017-02-21 02:28:55
PR,Use response location instead of location in redirect,Closes 28033,,meinac,2017-02-20 17:11:50,2017-02-21 02:28:55
PR,Fix some grammar in docs ci skip,,,"kenta-s,Erol,vipulnsward,vipulnsward,kenta-s",2017-02-21 04:04:01,2017-02-21 04:51:22
PR,Use Puma 3 7,Summary rails service p is not working properly since there is a bug on he puma server ref this commit seems that has not been merged into 3 7 Rails should be suggesting to use 3 6 x or olders versions instead,,"robertomiranda,robertomiranda,maclover7,guilleiguaran,robertomiranda,dhh",2017-02-17 20:16:15,2017-02-21 06:09:27
PR,Fix regression introduced by 88b335e,Summary Symptom Other Information See cmd9,,"rubys,rubys,kaspth",2017-02-21 02:18:30,2017-02-21 07:32:07
IS,override rails scaffold template raise incompatible character encodings UTF 8 and ASCII 8BIT,I modify 'index html erb' as below If I use attribute human name it will not report this please tell me how to solve it thanks,,"al2o3cr,sikachu",2017-02-21 08:23:08,2017-02-21 09:56:13
PR,Do not display template files on API doc ci skip,Currently templates files are displayed in API doc e g This is because only lib rails generators rails is excluded I modified to exclude everything about templates files,,y-yagi,2017-02-21 04:00:03,2017-02-21 10:19:06
PR,Fix define attribute method with Symbol in AR,This issue is only appear when you try to call define attribute method and passing a symbol in Active Record It does not appear in isolation in Active Model itself Before this patch when you run User define attribute method foo you will get NoMethodError undefined method unpack' for foo Symbol from activerecord lib active record attribute methods read rb 28 in define method attribute' from activerecord lib active record attribute methods primary key rb 61 in define method attribute' from activemodel lib active model attribute methods rb 292 in block in define attribute method' from activemodel lib active model attribute methods rb 285 in each' from activemodel lib active model attribute methods rb 285 in define attribute method' This patch contains both a fix in Active Model and a test in Active Record for this error,,sikachu,2017-02-21 11:36:36,2017-02-21 12:04:04
IS,Filter a ActiveRecord Relation raise an error if use with name as one of the fields,Hello I hope that is not a duplicate issue I searched and or this is not a planned behavior otherwise I am sorry Steps to reproduce My Attachment model defines filterable user id project id name status Expected behavior What I expect is the filter method should filter elements whether I give it status or name as a key filter Is this right Actual behavior With status it works fine but with name as one of my filters I get an ArgumentError error System configuration Rails version 5 0 1 Ruby version 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,"sikachu,kamipo,matthewd",2017-02-20 18:34:30,2017-02-21 12:52:27
IS,Fixnum Bignum Deprecated ERROR,I do not know if this really an error but each command I type no matter if it is a rails db migrate rails g migration But I keep getting this lines Users rubyn rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 51 warning constant Fixnum is deprecated Users rubyn rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 52 warning constant Bignum is deprecated Users rubyn rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support core ext numeric conversions rb 138 warning constant Fixnum is deprecated,,"eileencodes,rafaelfranca,rafaelfranca",2017-02-21 11:27:50,2017-02-21 14:17:20
PR,new database yml format,Summary New database yml format This is how it looks The upgrade path would be to move the development readonly config to inside development and reference it when calling establish connection see the third task on future work Future work Change the guides Change the default database yml template Connect to all databases under the env during Rails initializer so apps wo not need to call establish connection readonly for instance Deprecate create all drop all and make create drop create all the dbs under the development test envs Deprecate the old template config with a warning message All the future work are not in this PR because I would like to discuss one by one before implementing them to make sure they make sense review specially on commit because it changes a lot from 6cc03675d30b58e28f585720dad14e947a57ff5b However I made sure the core functionality still works which is make DATABASE URL work without Rails,,"arthurnn,kirs,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,maclover7,arthurnn,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,matthewd,rafaelfranca,rafaelfranca,rafaelfranca,kaspth,kaspth,matthewd,arthurnn,arthurnn,arthurnn,kaspth,kaspth,matthewd,dhh,arthurnn,schneems,arthurnn,kirs,kaspth,kaspth",2017-01-09 00:33:00,2017-02-21 14:54:01
IS,Cannot find load capybara dsl file sometimes with latest Rails version,Steps to reproduce 1 Example Clone repo 2 Run rake to see no errors 3 Then run bundle update to get new edge version of Rails Revision 5716c4ddf4e03c75bd50df901a515ac445167a99 4 Run rake and you get this error message LoadError cannot load such file capybara dsl Guidelines for creating a bug report are available here creating a bug report Expected behavior Before upgrading to latest Rails version rake ran cleanly no errors Actual behavior After upgrading to latest Rails version rake gets this error message LoadError cannot load such file capybara dsl System configuration Rails version Edge Rails gem 'rails' git '' Ruby version 2 4 0 x86 64 Machine OS Mid 2014 MacBook Pro running 10 12 3,,"maclover7,eileencodes,eileencodes,eileencodes",2017-02-21 15:32:29,2017-02-21 16:17:44
PR,Revert back to the original of using package json in the root of the project,After further deliberation and reflecting on how disruptive the proposed change for Gemfile gems rb gems locked is for the comparable gain we are going to revert to the original plan of putting package json in the root I do not love adding to a messy overloaded root but the pain of patching around this is not worth it So we will live with some scar tissue Without scars you have not lived,,dhh,2017-02-21 13:58:56,2017-02-21 16:33:32
PR,TIP added to solve common Windows issue,Summary TIP added to solve common Windows issue preventing successful completion of the tutorial Other Information Added a TIP for a common Windows problem which is not solved by uncommenting therubyracer gem to the generated Gemfile,,"guilleiguaran,guilleiguaran",2017-02-20 23:06:14,2017-02-21 18:02:14
PR,Simplify Rails engine paths since root app path globs all subdirs,Since paths add app eager load true glob concerns already globs the directories beneath it e g app models there is no need to specify them as explicit paths as well This PR removes app controllers app helpers app models and app mailers from being explicitly added to the load path,,"rafaelfranca,rafaelfranca",2017-02-21 21:02:10,2017-02-21 21:19:46
PR,Add PhantomJS runner for UJS integration tests,This add test integration ujs rake task for running of UJS tests in CI,,"guilleiguaran,rafaelfranca,maclover7,rafaelfranca",2016-11-26 06:31:28,2017-02-21 22:02:05
PR,Add CHANGELOG entry for 27384 and 27762,,,kamipo,2017-02-16 23:56:21,2017-02-21 22:07:34
PR,Allow 3 level DB configs to group connections by environment,Cut down take on the key part of 27611 Still to do Teach the rake tasks that work with all the configs how to navigate this Relocate the Rails env call which has long been inside AR but really should not be Add more 3 level tests to the resolver This gets us a shippable implementation of the headline feature for 27611 though,,"matthewd,kirs,yahonda,matthewd,yahonda,yahonda",2017-02-21 15:57:41,2017-02-21 22:28:31
IS,Order of through association affects behavior,Steps to reproduce Let is say you have two models with a many to many association through a join model We have observed that the order in which you declare the association to the join model and the association through the join model affects the queries generated by ActiveRecord Take this example available as a Gist you can clone and run With the first ordering the query generator is attempting to do an INSERT into foo bars without a bar id and then a second query to UPDATE foo bars with a bar id Which as you can see does not work if the join table is null constrained With the second ordering both IDs are INSERTed at the same time Expected behavior This may very well be the expected behavior but we found it surprising that the order of association declaration would affect the query generator in this way Actual behavior Shown above System configuration Rails version Initially observed on activerecord 4 2 7 1 and subsequently confirmed still an issue on 5 0 1 Ruby version Confirmed on 2 2 3 and 2 4 0 Proposed Fix It seems like there are a couple options remove the order sensitivity of dependent associations OR warn the user if dependent associations are declared out of order e g has many foos through foo bars before has many foo bars seen above would result in a warning error,,"iamvery,meinac,al2o3cr,iamvery,maclover7,iamvery",2017-02-17 14:56:51,2017-02-21 23:38:36
PR,doc Fix wrong class name in testing md,As the specified command is rails g system test articles the generated class name is ArticlesTest not UsersTest my first PR I looked at Guidelines and Guidelines for docs and did not find specific instructions hope everything is ok,,"maclover7,maclover7",2017-02-22 00:44:12,2017-02-22 01:43:59
PR,remove needless extension from system test example ci skip,,,"y-yagi,maclover7",2017-02-22 02:07:42,2017-02-22 02:39:03
PR,Preload to datetime before freezing a TimeWithZone instance,Summary Fixes 28101 after freezing an ActiveSupport TimeWithZone instance it is not possible to call to datetime because the value is cached in an instance variable To avoid this issue the instance variable is preloaded before the freeze occurs,,"maclover7,maclover7",2017-02-22 01:30:53,2017-02-22 02:41:35
IS,Calling to datetime on a frozen ActiveSupport TimeWithZone causes a RuntimeError,Steps to reproduce Create a frozen instance of ActiveSupport TimeWithZone and then call to datetime on it For example Time zone now freeze to datetime Expected behavior Returns an instance of DateTime with the timezone is UTC offset this should not modify the TimeWithZone instance Actual behavior RuntimeError can not modify frozen ActiveSupport TimeWithZone from Users arice dev rails activesupport lib active support time with zone rb 412 in to datetime' This appears to be related to 8c402ef which stores the value to an instance variable as a form of caching System configuration Rails version 4 2 8 Ruby version 2 4 0p0,,,2017-02-22 00:53:38,2017-02-22 08:26:07
PR,Preload to datetime before freezing a TimeWithZone instance,Fixes 28101 after freezing an ActiveSupport TimeWithZone instance it is not possible to call to datetime because the value is cached in an instance variable To avoid this issue the instance variable is preloaded before the freeze occurs,,pixeltrix,2017-02-22 03:17:41,2017-02-22 08:26:07
PR,Explain what action mailer perform caching does,The reason for this commit is to keep the environment files consistent Every configuration is preceded by a line that explains the default value except for config action mailer perform caching false img width 480 alt newly generated app src I have two questions for the reviewers 1 Is my comment explanatory enough or should it be more verbose 2 Is the code correct Should caching be disabled by default even in production Thanks,,"claudiob,guilleiguaran,claudiob",2017-02-15 23:32:26,2017-02-22 15:33:00
PR,Default to not supporting controller action,Although the plan was to completely remove support for dynamic controller and action in Rails 5 1 the test suite is heavily dependent on them so for now just raise an error by default and allow turning back on via a config option,,"pixeltrix,pixeltrix",2017-02-22 11:46:59,2017-02-22 16:22:15
PR,Simplify the version specifier generated by prereleases,1 2 3 pre4 will automatically allow 1 2 4 no need for an explicit range I was being needlessly complicated in 22657 This changes the string we output but not the set of versions it permits,,matthewd,2017-01-04 17:51:46,2017-02-22 16:54:57
IS,thread safe warnings with Rails 4 2 8,Hello Rails team I have just upgraded my application to Rails 4 2 8 and Ruby 2 4 And I see a lot of warnings in the console when just start the application,,"maclover7,rafaelfranca,rafaelfranca,rafaelfranca",2017-02-21 22:56:42,2017-02-22 18:19:46
PR,Better integrate rails ujs in our repository,1 Run the test suite in out matrix 2 Move the README and the LICENCE to the adapter folder After this is merged I will migrate all the issue and delete the rails ujs repository,,"rafaelfranca,maclover7,maclover7,simi,rafaelfranca,matthewd,matthewd,matthewd,matthewd,matthewd,rafaelfranca,matthewd,matthewd,claudiob,rafaelfranca,rafaelfranca,claudiob",2017-02-21 21:57:01,2017-02-22 20:29:13
IS,HashWithIndifferentAccess compact returns Hash in Ruby 2 4,Tested with ActiveSupport 4 2 8 In Ruby 2 3 3 Edit It seems to work correctly in ActiveSupport 5 0 1 though,,"rwz,rafaelfranca,rwz",2017-02-23 00:34:23,2017-02-23 00:40:29
PR,Ensure all gems for SQL Server app setup,This pull request is related to 27820 which ensures that new applications setup with SQL Server have all conventions in place However when working today on the SQL Server Getting Started pages I found out that the TinyTDS gem was not included in the Gemfile when generating a new application This gem is the low level raw connection for the adapter for all platforms of the SQL Server adapter I will also be making a pull request to 5 0 stable as well Thanks in advance,,"metaskills,maclover7,metaskills,rafaelfranca,metaskills,metaskills,maclover7,metaskills,rafaelfranca,maclover7",2017-02-23 00:28:19,2017-02-23 00:46:48
PR,Deprecate the EventedRedis subscription adapter,Unlike Faye support it seems a bit too documented to remove without warning So here is a warning,,matthewd,2017-02-23 00:23:21,2017-02-23 01:07:09
IS,inappropriate IrreversibleOrderError,Steps to reproduce create any postgres table named say things with a string column called say mystring the corresponding model class Thing ActiveRecord Base default scope order string to array mystring ' ' int end so this will sort when strings are in the format 1 1 3 5 1 2 8 7 etc in rails console type Thing last Expected behavior should return the Thing instance with the highest value of mystring according to the order criterion defined in the model Actual behavior DEPRECATION WARNING Finding a last element by loading the relation when SQL ORDER can not be reversed is deprecated Rails 5 1 will raise ActiveRecord IrreversibleOrderError in this case Please call to a last if you still want to load the relation FinderMethods last interprets the sort criterion in the default scope definition as not being reversible However appending DESC to the query does correctly reverse the order it is reversible The SQL query that is produced by AR is SELECT things FROM things ORDER BY string to array mystring ' ' int it works perfectly well if DESC is appended Also it appears that all the records in the table are being intstantiated and the result set is not being limited to 1 as might be expected from the last method System configuration Rails 5 0 0 Postgres 9 4 8 Ruby version 2 3 1,,"matthewd,eugeneius",2017-02-23 00:58:56,2017-02-23 01:14:57
IS,rails console does not catch RuntimeError and exits,Steps to reproduce This is an edge case but there may be other side effects because it looks like dependency loading is modifying a frozen entity Davids MacBook Air gitstats dave rails c Running via Spring preloader in process 28290 Loading development environment Rails 5 0 1 Cannot read termcap database using dumb terminal settings irb main 001 0 def a irb main 002 1 puts a irb main 003 1 end a irb main 004 0 a Users dave rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 5 0 1 lib active support dependencies rb 301 in blame file ' can not modify frozen fatal RuntimeError from Users dave rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 5 0 1 lib active support dependencies rb 262 in rescue in load dependency' from Users dave rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 5 0 1 lib active support dependencies rb 256 in load dependency' from Users dave rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 5 0 1 lib active support dependencies rb 293 in require' from Users dave dev gitstats bin rails 9 in top required ' from Users dave rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in load' from Users dave rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in block in load' from Users dave rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 5 0 1 lib active support dependencies rb 259 in load dependency' from Users dave rbenv versions 2 2 3 lib ruby gems 2 2 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in load' from Users dave rbenv versions 2 2 3 lib ruby 2 2 0 rubygems core ext kernel require rb 54 in require' from Users dave rbenv versions 2 2 3 lib ruby 2 2 0 rubygems core ext kernel require rb 54 in require' from e 1 in main ' Davids MacBook Air gitstats dave Guidelines for creating a bug report are available here creating a bug report Expected behavior The console should not exit irb correctly recurses until the stack is exceeded and then returns to the prompt console should probably do the same Actual behavior RuntimeError is raised and causes console to exit System configuration Rails version 5 0 1 Ruby version 2 2 3p173 Davids MacBook Air gitstats dave ruby v ruby 2 2 3p173 2015 08 18 revision 51636 x86 64 darwin15,,maclover7,2017-02-18 12:46:56,2017-02-23 02:41:43
IS,after initilzed is called after wouldup' for record without id that returns new record false,Steps to reproduce Add after initialize callback in an ActiveRecord model Actual behavior I would expect if the instance does not have an id and to be a duplicate of another instance then the self new record in after initialize to return true It should return true in the after initialize and after the after initialize Currently it return false in the after initialize and true after after initialize System configuration rails 4 2 7 1 Ruby version ruby 2 2 2,,maclover7,2017-02-16 07:24:40,2017-02-23 02:42:25
IS,Action Cable config use config cable yml erb is not work,I had see some others issue about the name of AC config file But I think maybe cable yml erb should be support like following config cable yml erb Rails version 5 0 0 1 Ruby version 2 3 3,,"maclover7,rafaelfranca",2017-02-23 02:41:50,2017-02-23 03:49:03
IS,Ca not create TIMESTAMP column with MySQL,Steps to reproduce Expected behavior A column with TIMESTAMP data type should be created Actual behavior A column with DATETIME data type is created System configuration Rails version 5 0 0 Ruby version 2 3 1p112,,"kamipo,kamipo",2016-07-14 14:56:33,2017-02-23 04:24:13
IS,Regression in Postgres WHERE statements when using decimal literals,Regression from Rails 4 2 7 1 in Rails 5 0 1 Steps to reproduce The following code will demonstrate this Gemfile Expected behavior In an earlier version of Rails 4 2 7 1 Each WHERE statement in the above script produced the exact same result by finding the appropriate record Actual behavior When using decimal literals i e where column 12 34 the resulting ActiveRecord result returned blank System configuration Rails version 5 0 1 Ruby version 2 3 1 PSQL version 9 4 10,,maclover7,2017-02-23 00:20:07,2017-02-23 05:39:33
PR,Use local variables instead of instance variables,Instance variables may affect other test cases It is better to use local variables here,,"yui-knk,kaspth,yui-knk,kaspth",2017-02-23 08:15:56,2017-02-23 10:11:09
IS,Provide encrypted secrets,Keeping important secrets in config secrets yml is not a good idea as all these secrets are stored in plaintext when the file is checked into version control That is a shame The application should be able to store actual secrets that it need to talk to internal and external services We can get there by providing an additional secrets file under config secrets yml enc along with an interface to both edit and read this file To edit the file I'm thinking something like Note that config secrets yml enc is in addition to config secrets yml We can still use the latter for secrets that are not critical like dev test secret base key Then it will become a user action to add config secrets yml enc which should be created on demand the first time rails secrets edit is called At the initiation time the user will be asked to set the master key The two secrets files should then be merged at runtime with enc taking priority,,"dhh,rafaelfranca,rafaelfranca,dhh,kaspth,kaspth,dhh,dhh,dhh,jeremy,dhh,jeremy,dhh,dhh,dhh,dhh,rafaelfranca,dhh,sikachu,dhh,sikachu",2016-05-21 13:11:26,2017-02-23 14:01:03
PR,Add encrypted secrets,Fixes Adds config secrets yml enc using Sekrets to allow storing production app secrets right in source control When running bin rails secrets edit the file is decrypted and opened in a tmp file that then gets destroyed after the file is encrypted again and written back to its original location Differs sligthly in the proposed first call experience in that we generate a key instead of asking for it Also supports storing the key in config secrets yml key instead of always going the RAILS MASTER KEY Pending x Tests x Restricting rails s boot when no decryption key is present x Merging encrypted into the standard secrets after decryption,,"kaspth,kaspth,maclover7,maclover7,maclover7,matthewd,simi,kaspth,kaspth,kaspth,maclover7,kaspth,dhh,dhh,dhh,dhh,matthewd,dhh,kaspth,dhh,schneems,kaspth,matthewd,schneems,claudiob,kaspth,morgoth,morgoth,kaspth,claudiob,kaspth,kaspth,kaspth,kaspth,morgoth,kaspth,kaspth,dhh,dhh,dhh,kaspth,kaspth,kaspth,kaspth,kaspth,dhh,kaspth,dhh,kaspth,dhh,kaspth,dhh,claudiob,kaspth,claudiob,simi,schneems,schneems,claudiob,dhh,kaspth,kaspth",2017-02-16 18:45:38,2017-02-23 14:01:03
PR,Fix extract method return modified self instead of new instance,Summary This fixes a bug in the extract method which currently returns a new instance of ActionController Parameters instead of the extracted parameter Other Information This change makes the code behave like the documentation describes it method i extract 21,,,2017-02-23 12:16:43,2017-02-23 14:07:26
PR,Revert Add encrypted secrets,Reverts rails rails 28038 Need to fix the incompatibility with bin rails test system and friends,,dhh,2017-02-23 14:55:09,2017-02-23 14:55:15
PR,Do not take screenshot when test skipped,passed also returns false when skipping tests L228 L236 However I think screenshot is unnecessary when test skipped,,y-yagi,2017-02-23 13:41:34,2017-02-23 16:16:14
PR,Revert Revert Add encrypted secrets,Reverts rails rails 28127,,kaspth,2017-02-23 17:15:47,2017-02-23 18:22:56
IS,Strong params are nil if empty hash passed as a parameter from spec test case,params set to nil on controller when an empty hash is passed to a param in test case in Rails 4 params would contain an empty hash Tests on several of my apps fail to run after upgrade because params key is nil in the controller Steps to reproduce on Rails 5 0 0 1 end Expected behavior params user in the controller should not be nil Actual behavior params user is nill unlike R4 where params user would be set to an empty hash System configuration Rails version 5 0 0 1 Ruby version 2 3 1 rspec 3 5 0 actionpack 5 0 0 1,,"maclover7,maclover7,maclover7,tenderlove,tenderlove,rafaelfranca",2016-09-21 13:59:40,2017-02-23 19:01:06
PR,nodoc AS Duration ISO8601Serializer,Like the ISO8601Parser which is nodoc ed this class should not be used directly the public API is AS Duration iso8601 cc,,chancancode,2017-02-23 18:55:53,2017-02-23 19:05:33
IS,Unexpected return LocalJumpError triggered in model scope methods in Ruby 2 4 0,Steps to reproduce Create a model lets call it TestModel with a scope method You will get an unexpected return error Expected behavior I expect to be getting all of my models Actual behavior I'm getting an unexpected return error This does not happen with ruby 2 3 1 which I was previously using System configuration Rails version 5 0 1 Ruby version 2 4 0,,"rafaelfranca,rafaelfranca",2017-02-23 18:43:01,2017-02-23 19:06:27
PR,Add wrapper for plugin is test runner,Summary Currently private API is directly used in bin test So it is necessary to change bin test when changing private API To avoid this provide a wrapper file and modify bin test to just require that file r,,y-yagi,2017-02-22 07:46:58,2017-02-23 19:31:22
IS,Feature Request Error if content for called from within fragment cache,It is very easy to accidentally call content for from within a block that will be fragment cached especially if the cached fragment calls out to a partial eg Steps to reproduce Call content for from within code that will end up in a fragment cache Expected behavior An error should be raised letting the developer know that the content for would not occur Actual behavior The contents of the content for are silently discarded System configuration Rails 5 0 1 Ruby 2 3 1,,"mipearson,st0012,maclover7,mipearson",2017-02-19 22:17:28,2017-02-23 19:41:12
PR,Fowardport changes to tasks release rb,Summary Fowardporting changes to tasks release rb that were made as part of the 5 0 1 rc1 release cycle r,,maclover7,2016-11-30 22:21:55,2017-02-23 20:12:23
PR,Change require to require,NOTE While generating new rails plugin today I noticed a new comment that states code in this file should be added after the last require statement I updated it to say code in this file should be added after the last require statement NOTE2 My first contribution Let me know if I should do something differently There are several options for requiring an asset through the comment at the top of the file any of require methods or require without extra word This change makes fixes possible confusion created by stating that you can only have require statements while it is possible to have require statement too,,robin850,2017-02-23 05:51:02,2017-02-23 21:13:51
PR,Include JobID in all ActiveJob info logs,Currently we provide the Job ID in logs only related to enqueuing a job This adds the job id to the remaining ActiveJob logs when a job started performing a job ended performing Providing the job id in those logs will ease searching logs by job id,,,2017-02-22 22:13:09,2017-02-23 21:18:02
IS,No way to specify wait timeout via DATABASE URL for mysql2,Steps to reproduce Using the mysql2 gem open a console with DATABASE URL using wait timeout configuration e g DATABASE URL mysql2 3306 test db wait timeout 60 checkout timeout 42 bundle exec rails console I believe the culprit is the Integer Fixnum check here L848 which was introduced as some sort of backwards compatibility because wait timeout was also used by the connection pool configuration There is no way to get the parameter typed as Integer when using a DATABASE URL which seems like undesirable behaviour from my point of view Expected behavior The configured wait timeout should be 60 all connections Actual behavior The configured wait timeout is the default of 2147483 on all connections System configuration Rails version Tested with ActiveRecord 4 2 7 1 possibly more versions affected Ruby version Tested with ruby 2 3 1,,,2016-09-20 10:52:23,2017-02-23 21:46:51
IS,ActionCable default from npm is 5 1 0 beta1,If someone runs npm install actioncable now they are getting the 5 1 0 beta1 release instead of the stable 5 0 1 This is because npm install actioncable is effectively saying npm install actioncable latest If you run npm publish with no additional arguments it publishes to the latest tag The standard way of handling beta or rc releases on npm is to publish to a next tag via npm publish tag next To correct this make 5 0 1 latest and 5 1 0 beta1 next you would run,,matthewd,2017-02-23 22:00:46,2017-02-23 22:06:43
IS,In Rails5 parameters with arrays are merged in special edge cases,Steps to reproduce Can be related to 23997 System configuration Rails version 5 0 1 Ruby version 2 3 3,,rafaelfranca,2017-02-23 22:16:27,2017-02-23 22:19:36
PR,Fix w3c validator rb validation script,Summary w3c validator rb currently failing with Other Information PR submitted to the gem,,"robin850,rafaelfranca,rafaelfranca,robin850,robin850",2017-02-15 19:18:26,2017-02-23 22:26:32
PR,Deprecate using quoted id in quoting type casting,Originally quoted id was used in legacy quoting mechanism Now we use type casting mechanism for that Let is deprecate quoted id,,"kamipo,rafaelfranca,rafaelfranca,kamipo,kamipo,rafaelfranca,rafaelfranca,kamipo,metaskills,grosser,rafaelfranca",2017-02-10 09:53:47,2017-02-23 23:27:10
PR,Make HWIA compact not return nil when no nils,Summary In ActiveSupport 5 HashWithIndifferentAccess compact currently returns nil when hash does not contain nil values in it This PR fixes it Example Note this fix will also have to be backported into 4 2 branch since the same bug was recently introduced there as well by,,"rwz,schneems,rafaelfranca",2017-02-23 22:52:20,2017-02-24 02:34:25
IS,Add support in jbuilder,,,"rafaelfranca,maclover7",2017-02-23 23:24:55,2017-02-24 02:35:47
PR,Enable Active Model testing for JRuby,Summary Active Model is passing locally on JRuby 9 1 7 0 for me,,"maclover7,y-yagi,rafaelfranca,headius,maclover7,maclover7",2017-01-22 16:52:10,2017-02-24 02:42:46
PR,5 0 stable backports 27605 28013,Backport 27605 28013 into 5 0 stable,,"chancancode,chancancode,rafaelfranca",2017-02-24 00:34:39,2017-02-24 02:52:20
PR,Make version and help short cut alias to work,before,,"y-yagi,kaspth",2017-02-24 00:21:02,2017-02-24 02:59:27
PR,Improve docs for ActiveRecord Result ci skip,Summary General imporvements to ActiveRecord Result documentation,,rafaelfranca,2017-02-24 03:06:04,2017-02-24 15:25:14
IS,Organize models in subfolders,I do not know if this is more a bug report or a feature request or even an SO question flushed anyway I have a model Activity which has a lot of sti types so a lot of related class files I would like to organize them into app models activities in order to separate them from the other models I can actually accomplish it using config eager load paths W config root app models activities directive but then in development mode the following exception is raised System configuration Rails version 5 0 1 Ruby version 2 4 0,,rafaelfranca,2017-02-24 15:18:46,2017-02-24 15:29:14
PR,Make adding gemfile entry work even if specify only the plugin name,Whether the command was executed within the rails application is checked by whether or not the application is path matches app path L439 L441 Therefore if only plugin name is specified in app path addition to Gemfile is not done However in the rails guide an example of specifying only plugin name is given and it is considered that there are many cases where only plugin name is specified For that reason made it work even if only plugin name was specified,,"y-yagi,kaspth,y-yagi",2017-02-18 07:53:33,2017-02-24 15:30:34
PR,does not show hidden namespaces in generator is help,before,,y-yagi,2017-02-24 14:48:57,2017-02-24 15:31:12
PR,Change SystemTestCase driven by to use setup teardown hooks,Previously driven by would change the Capybara configuration when the test case is loaded and having multiple test classes with different driven by configs would fail as the last loaded would be effective,,"lucasmazza,eileencodes,eileencodes,lucasmazza,eileencodes,eileencodes,lucasmazza,lucasmazza,eileencodes,lucasmazza,eileencodes,eileencodes,eileencodes,eileencodes,lucasmazza",2017-02-24 01:50:43,2017-02-24 16:49:43
IS,MyModel new params has timezone problem Differents behaviour for Active Record and Mongoid in 4 2 7 1,Introduction recently i migrate Ruby 2 0 to 2 3 3 and Rails 4 1 to 4 2 7 1 And now have problems in timezone in ActiveRecord models My application controller rb application controller rb Questions In 4 2 7 1 the bug is on Active Record or Mongoid System configuration Rails version 4 2 7 1 Ruby version 2 3 3,,rafaelfranca,2017-02-24 13:08:19,2017-02-24 22:22:56
PR,Add missing gzip footer check in ActiveSupport Gzip decompress,Problem I noticed that gzip data decompressed with ActiveSupport Gzip decompress did not check the crc in the footer for the compressed data After digging into why this was not happening I found the following in the ruby documentation for Zlib GzipReader class Zlib GzipReader label Method Catalogue Be careful of the footer of the gzip file A gzip file has the checksum of pre compressed data in its footer GzipReader checks all uncompressed data against that checksum at the following cases and if it fails raises Zlib GzipFile NoFooter Zlib GzipFile CRCError or Zlib GzipFile LengthError exception When an reading request is received beyond the end of file the end of compressed data That is when read gets or some other methods for reading returns nil When Zlib GzipFile close method is called after the object reaches the end of file When unused method is called after the object reaches the end of file So calling Zlib GzipReader read is not enough the Zlib GzipReader also needs to be closed to make sure the footer is checked Solution I added a failing test that showed that the footer was not being checked by flipping some bits in the CRC32 field of the footer Details on the gzip file format can be found in RFC 1952 file format which documents the end of the file as having a 4 byte CRC32 field and a 4 byte input size field To fix this bug I used Zlib GzipReader wrap which closes the Zlib GzipReader after the given block is called which reads the compressed data,,,2017-02-24 22:51:06,2017-02-25 00:00:20
PR,Add attributes filter the attributes by keys,Example,,"bogdanvlviv,rafaelfranca",2017-02-24 23:26:14,2017-02-25 00:03:46
PR,Allow ActiveSupport MarshalWithAutoloading load to take a Proc,Summary From my entry in the ActiveSupport changelog In Core Extensions make MarshalWithAutoloading load pass through the second optional argument for Marshal load source proc This way we do not have to do Marshal method load super method call sourse proc just to be able to pass a proc For reference method c load method c load Other Information I originally submitted a similar pull request to 4 2 stable a couple weeks ago What is the standard practice for backporting changes like this,,"rafaelfranca,rafaelfranca,maclover7,maclover7,rafaelfranca",2017-02-14 20:01:33,2017-02-25 00:18:28
IS,Rails 5 NameError uninitialized constant User on reload from console in production environement,RAILS ENV production rails c Running via Spring preloader in process 5191 Loading production environment Rails 5 0 1 2 3 3 001 User new User id nil email created at nil updated at nil 2 3 3 002 reload Reloading NameError uninitialized constant User from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support inflector methods rb 268 in const get' from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support inflector methods rb 268 in block in constantize' from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support inflector methods rb 266 in each' from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support inflector methods rb 266 in inject' from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support inflector methods rb 266 in constantize' from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support dependencies rb 583 in get' from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support dependencies rb 614 in constantize' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise rb 301 in get' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise mapping rb 81 in to' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise mapping rb 76 in modules' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise mapping rb 93 in routes' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise mapping rb 160 in default used route' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise mapping rb 70 in initialize' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise rb 331 in new' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise rb 331 in add mapping' from rvm gems ruby 2 3 3 rails5 0 1 gems devise 4 2 0 lib devise rails routes rb 241 in block in devise for' 45 levels from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support dependencies rb 259 in load dependency' from rvm gems ruby 2 3 3 rails5 0 1 gems activesupport 5 0 1 lib active support dependencies rb 293 in require' from Downloads temp carrierwave bin rails 9 in top required ' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring commands rails rb 6 in load' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring commands rails rb 6 in call' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring command wrapper rb 38 in call' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring application rb 191 in block in serve' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring application rb 161 in fork' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring application rb 161 in serve' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring application rb 131 in block in run' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring application rb 125 in loop' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring application rb 125 in run' from rvm gems ruby 2 3 3 rails5 0 1 gems spring 2 0 1 lib spring application boot rb 19 in top required ' from rvm rubies ruby 2 3 3 lib ruby 2 3 0 rubygems core ext kernel require rb 55 in require' from rvm rubies ruby 2 3 3 lib ruby 2 3 0 rubygems core ext kernel require rb 55 in require' from e 1 in main ',,"al2o3cr,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-02-24 05:59:15,2017-02-25 00:23:03
PR,Soft deprecate the HashWithIndifferentAccess constant,Hi That is just a second take on 27925 This version just softly deprecates the top level HashWithIndifferentAccess constant rather than trying to display a deprecation message since this constant and the ActiveSupport scoped one are exactly the same which means that changing one inevitably changes the other PS Even though it is not yet posted I took the liberty to add the link to the 5 1 release notes in the upgrade guides to avoid missing it writing the other steps of the upgrade process Have a nice day,,"robin850,kamipo",2017-02-24 22:44:05,2017-02-25 00:25:34
PR,Type Decimal casting raises exceptions on ruby 2 4 0 rc1,Summary Our active model numeric types accept slightly invalid strings like 1ignore cast to 1 and bad cast to 0 This is desirable Users input these values and they should not result in error pages Under ruby 2 4 0 rc1 entering bad into a decimal attribute will raise ArgumentError invalid value for BigDecimal In Ruby 2 4 BigDecimal as used by the Decimal cast was changed so that it will raise ArgumentError when passed an invalid string in order to be more consistent with Integer Float etc The other numeric types use ex to i and to f Unfortunately we can not simply change BigDecimal to to d String to d raises errors like BigDecimal unlike all the other to methods I have filed this as a bug in ruby In the first commit of this PR I have added tests to test the casting of these invalid strings to Type Integer Type Float and Type Decimal All of these tests pass on ruby 2 3 3 and before On ruby 2 4 0 rc1 the new Type Decimal test fails You can see this in a Travis run of just the first commit on ruby 2 4 0 rc1 In the second commit I have reproduced the existing behaviour and the behaviour of the other to methods by finding a numeric string at the start of the passed in value and parsing that using BigDecimal This might be too slow it is certainly not the nicest solution but I wanted to get something to show the desired behaviour Other Information See also EDIT I originally filed this with the incorrect assumption that BigDecimal 1ignore would fail in the same way that Integer 1ignore does but BigDecimal does not error in that case,,"sgrif,sgrif,sgrif,sgrif,sgrif,rafaelfranca,pixeltrix",2016-12-22 00:52:37,2017-02-25 00:45:57
PR,close 24435 Send user supplied options to server,Currently when Puma gets a Port it does not know if it is Rails' default port or if it is one that is specified by a user Because of this it assumes that the port passed in is always a user defined port and therefor 3000 always wins even if you specify port inside of the config puma rb file when booting your server with rails s The fix is to record the options that are explicitly passed in from the user and pass those to the Puma server or all servers really Puma then has enough information to know when Port is the default and when it is user defined I went ahead and did this for all values rails server exposes as server side options for completeness The hardest thing was converting the input say p or port into the appropriate name in this case Port There may be a more straightforward way to do this with Thor but I'm not an expert here,,"schneems,matthewd,schneems,schneems,schneems,rafaelfranca",2017-02-23 22:27:21,2017-02-25 01:29:35
IS,Rails 5 Puma default port does not take effect,Especially prevents from comfortable SOA development as you can not start different services at the same time and test the interactions between them Steps to reproduce 1 Create new rails project normal or api 2 Change a line in config puma rb to port ENV fetch PORT 3010 3 Run rails s Expected behavior Puma server should run on port 3010 Actual behavior Listening on tcp 3000 Puma server runs on port 3000 instead of 3010 System configuration Rails version 5 0 0 beta3 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 linux,,"prathamesh-sonpatki,vipulnsward,schneems,vipulnsward,vipulnsward,schneems,vipulnsward,schneems,schneems,vipulnsward,prathamesh-sonpatki,prathamesh-sonpatki,vipulnsward,vipulnsward,prathamesh-sonpatki,schneems,prathamesh-sonpatki,schneems,schneems,y-yagi,guilleiguaran,nateberkopec,schneems,schneems",2016-04-05 15:46:34,2017-02-25 01:30:55
PR,Improve docs for Rails AppGenerator ci skip,Add example so its easier to understand how one can override an app generator,,"dixpac,maclover7",2017-02-25 12:03:59,2017-02-25 14:37:23
IS,Setting a flash value from inside a redirect route lambda does not persist the flash value to the redirected request,Steps to reproduce I tried to bundle the above into an executable test failure but failed sorry Instead here is a demo app with the above already populated Expected behavior Visiting foo 3000 foo should redirect to bar 3000 bar and render true as the response body flash has data in it and the test should pass Actual behavior The redirect to bar 3000 bar happens but false is rendered no data in flash The test fails with nil being the value of flash error If I add an explicit req commit flash then everything works as expected This worked fine in Rails 4 2 7 1 without the need for req commit flash was discovered during an upgrade System configuration Rails version edge 437020aa6dd4bae19706628daab6725fcb786a45 5 0 1 Ruby version 2 3 3,,,2017-02-14 03:01:24,2017-02-25 17:08:59
PR,Suppress DISTINCT clause outside aggregate function,DISTINCT clause is applied inside aggregate function by operation over aggregate column if needed Unneeded outside aggregate function,,"kamipo,kamipo,kamipo,rafaelfranca,kamipo",2017-01-09 12:21:09,2017-02-26 02:12:48
PR,Use ensure block for things we cleanup in tests,In connection pool tests we do some things that require the connection reset after the test run However if these tests fail the line with cleanup will never run It needs the ensure block I discovered it when working on review,,kirs,2017-02-26 01:48:26,2017-02-26 03:44:22
PR,Deprecate AbstractAdapter verify with arguments,Since 2008 all arguments passed to verify have been ignored I think it is now time to print a deprecation warning and stop accepting any arguments in future,,"kirs,matthewd",2017-02-25 22:35:26,2017-02-26 03:47:44
IS,Attempting to install 5 1 0 beta1 fails on actionpack dependency,Steps to reproduce Start with a Rails 5 0 1 installation gem install rails v 5 1 0 beta1 pre Expected behavior Rails 5 1 0 beta1 should be installed Actual behavior System configuration Rails version 5 0 2 rc1 Ruby version 2 4 0,,y-yagi,2017-02-26 05:25:05,2017-02-26 05:53:13
PR,AS CHANGELOG Pass,,,vipulnsward,2017-02-26 04:52:20,2017-02-26 07:20:19
PR,Fix typo 'affect' 'effect' ci skip,,,kaspth,2017-02-26 07:47:37,2017-02-26 07:58:36
PR,Add Duration before and after as aliases for ago and since,It is common in test cases at my job to have code like this I find this to be much more readable and it makes me happy A small downside I see is that before and after do not make very much sense when used without an argument I would be happy to pull these into a new set of methods that always take an argument but I figured that the lowest impact change was an alias I also did not add a test case as I saw there was no additional test coverage for since and ago If desired I will happily add a test case Please let me know if there is anything else I can address Additionally if this change is not desired please feel free to close it,,"jeremy,jeremy,jeremy,jeremy,maclover7,jeremy,pixeltrix,dhh,dhh,dhh",2017-01-18 07:17:30,2017-02-26 08:21:14
PR,Use released arel,Follow up to ea9566f6cd1b4d3f0d8a5f03283b49423b89044d,,"y-yagi,pixeltrix",2017-02-26 10:57:01,2017-02-26 11:40:45
PR,Remove useless select values select values,select values is a local variable defined at previous line select values select values is totally useless,,"kamipo,pixeltrix,pixeltrix",2017-02-26 10:16:28,2017-02-26 11:52:08
PR,Remove duplicated private method in ActiveRecord FinderMethods,ActiveRecord FinderMethods has two private L359 L433 This issue is due to recent changes about methods visibility So I deleted the private duplicates,,pixeltrix,2017-02-26 09:07:48,2017-02-26 11:55:56
PR,Push valid type up to abstract adapter,valid type should return true if a type exists in native database types at least L136,,"kamipo,pixeltrix",2017-02-26 08:23:44,2017-02-26 12:08:01
PR,Fix typo in test cases connection pool test rb,It looks like the sign in the test method name is a typo review,,"kirs,pixeltrix,kirs,pixeltrix",2017-02-26 04:00:37,2017-02-26 12:15:34
PR,Remove unused params in RouteSet add route,Summary Remove unused params in RouteSet add route The params ast and anchor has been moved to mapping,,pixeltrix,2017-02-22 08:55:25,2017-02-26 12:24:38
PR,Include selects in group query with having clause,When a grouped calculation contains a having clause that references a selected value we need to include that selected value in the query Postgres does not support referencing a selected value in a having clause but other databases do we can skip the test on the pg adapter but run it for the others This was fixed before in but the test coverage was lost in 5a05207d99b7e2678f9b42db2d9ffc21ec2c8c3b The fix regressed in 6311975fb3c02f50730fd1e11b8dba8dd9c05306 and was removed in r fyi,,"eugeneius,pixeltrix,eugeneius,pixeltrix",2017-02-26 12:45:12,2017-02-26 14:04:19
PR,Refactor connection pool test,This is a follow up on I separated the test cases into one that verified automatic reconnect by default and another one that verifies that automatic reconnect can be disabled review,,"kirs,pixeltrix,kirs,pixeltrix,kirs",2017-02-26 16:01:41,2017-02-26 19:44:50
PR,Deprecate supports migrations on connection adapters,supports migrations was added at 4160b518 to determine if schema statements create table drop table etc are implemented in the adapter But all tested databases has been supported migrations since a4fc93c3 at least,,"kamipo,pixeltrix,kamipo,pixeltrix,pixeltrix",2017-02-26 04:14:48,2017-02-26 19:49:05
PR,Update i18n guide to cover zero key support in pluralization ci skip,Summary This pull request updates the Rails i18n Guide is pluralization section to cover support for the zero key in addition to one and other Here is a link to the relevant code in the i18n gem L133 L148,,maclover7,2017-02-26 21:04:30,2017-02-26 22:33:13
PR,Fix test apply distinct in count failure in PG adapter,L1933 L1562 L1562,,"kamipo,pixeltrix,kamipo",2017-02-26 18:38:02,2017-02-26 22:38:19
PR,Use max identifier length for index name length,Actually index name length depend on max identifier length not always 63,,"kamipo,kamipo,pixeltrix,pixeltrix",2017-02-26 19:10:09,2017-02-26 22:38:52
IS,ActiveSupport HashWithIndifferentAccess compact behaves differently from Hash in Rails 5 1 0 beta1,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Same behavior with Ruby is Hash compact Actual behavior It returns nil if nothing removed System configuration Rails version 5 1 0 beta1 Ruby version 2 4 0,,matthewd,2017-02-27 02:52:15,2017-02-27 02:53:54
PR,Only load SystemTestCase if Puma is defined,SystemTestCase supports only Puma and always load puma is file L1 For that reason the case of use Capybara but do not use Puma it will cause an error So we need to check about Puma is defined as well,,"y-yagi,robin850,y-yagi,eileencodes",2017-02-25 04:14:32,2017-02-27 13:01:54
PR,Handle non existing ARCONN,I always forget it is postgresql not postgres When you pass ARCONN that does not exist the test fails with can not dup NilClass that does not tell you what exactly went wrong Before review,,kirs,2017-02-27 14:25:46,2017-02-27 14:43:51
IS,Rails 5 1 0 beta1 crashes on Heroku cedar 14 or heroku 16 v5 0 1 instead works fine Error R10 Boot timeout Web process failed to bind to PORT within 60 seconds of launch,Expected behavior I was on Rails 5 0 1 and everything fine on my PC and on Heroku Today I upgraded just my Gemfile like this If I revert the commit with my 5 0 1 Gemfile everything works Also this guy have the problem How to fix this Ruby version 2 4,,"pixeltrix,pixeltrix,matthewd,schneems,schneems",2017-02-26 14:10:53,2017-02-27 14:49:49
PR,Set correct host except development environment,Currently localhost is used for the default host in all environments But up to Rails 5 0 0 0 0 0 is used except for development So fixed to use the same value as 5 0 Fixes 28184,,"y-yagi,y-yagi,pixeltrix,y-yagi,pixeltrix,schneems",2017-02-27 08:34:05,2017-02-27 14:49:49
IS,rails runner can not read env,Steps to reproduce if I try to run next code in terminal I will get wrong env System configuration Rails 5 0 1 ruby 2 4 0,,,2017-02-27 15:47:53,2017-02-27 15:59:37
IS,Rails 4 2 8 Error related to rails api,Getting this error when running rspec after upgrading to Rails 4 2 8 with rails api 4 1 2 related,,"rafaelfranca,rafaelfranca",2017-02-27 18:55:30,2017-02-27 20:14:34
PR,Add ability to create join table with primary key,Related to This is not fixed related issue but i see sense to refer to it This PR is the chance to give more flexibility when creating join table with method create join table It does not break old behavior that by default it only gives the possibility to add primary key if need Your thoughts,,"bogdanvlviv,al2o3cr,bogdanvlviv,rafaelfranca",2017-02-18 22:11:01,2017-02-27 21:16:06
IS,ActiveRecord unable to update records with a has one through relationship,Steps to reproduce I have a working example here Expected behavior I should be able to update the relationship Actual behavior ActiveRecord is unable to find the primary key so it fails with a If I include a primary key everything works as expected System configuration Rails version 5 0 0 Ruby version 2 3 1,,"bogdanvlviv,maclover7,al2o3cr",2016-10-25 00:16:45,2017-02-27 21:16:21
PR,Remove not required by default test for belongs to association,Summary Since 18937 belongs to associations implies required true by default with that option replaced for optional false Other Information I think that some may have forgot the tests that ensure that required was by default false on belongs to associations,,"rafaelfranca,rafaelfranca",2017-02-27 19:09:21,2017-02-27 22:18:27
IS,strip tags is encoding special chars,Expected behavior strip tags does not encode special chars Related issues,,,2017-02-18 02:24:18,2017-02-27 23:13:09
PR,Remove encode special chars option from strip tags,This pr removes the misnomer option encode special chars false from the strip tags helper Fixes,,Erol,2017-02-18 02:29:12,2017-02-27 23:13:09
PR,Use released webpacker in new applications,Because webpacker 1 0 already released,,y-yagi,2017-02-27 22:57:54,2017-02-27 23:29:21
PR,Oracle database also does not allow aliases in the having clause,Follow up 28183 Summary This pull request addresses following error ORA 00904 MIN CREDIT LIMIT invalid identifier Oracle database also does not allow aliases in the having clause as PostgreSQL does not Database SQL Language Reference SQLRF01702 The alias can be used in the order by clause but not other clauses in the query This test needs skipped for Oracle database adapter,,"yahonda,pixeltrix,pixeltrix,pixeltrix,yahonda,pixeltrix",2017-02-27 21:13:52,2017-02-28 13:43:53
PR,Fix http https ci skip,Now it is,,kenta-s,2017-02-28 13:53:43,2017-02-28 13:54:39
IS,upgrade from 5 0 to 5 1 beta throws StandardError,Steps to reproduce I tried to upgrade a rails 5 0 1 app to latest 5 1 0 beta1 and found all old migration are failing adding 4 2 on each old migration resolved the issue Is this the expected behaviour for Rails 5 1 System configuration Rails 5 1 0 beta1 ruby 2 4 0,,pixeltrix,2017-02-28 13:27:24,2017-02-28 14:25:10
PR,Fix indent,,,"mtsmfm,mtsmfm",2017-02-28 15:10:19,2017-02-28 15:27:16
PR,Improve documentation for Testing Your Mailers ci skip,The current Basic Test Case example has the following assertion email body to s returns an empty string if both HTML and text templates exist for a given mailer This commit adds a note to section 11 2 2 explaining this and also suggests using email text part body to s and email html part body to s as alternatives,,kirs,2017-02-27 15:55:17,2017-02-28 16:54:50
PR,Take failed screenshot before reset driver,Now reset the driver before take failed screenshot since 28144 However I think that failed screenshot should be take with the driver actually used in the test So fixed to take screenshot before reset driver,,y-yagi,2017-02-28 01:07:24,2017-02-28 16:55:52
PR,Use tables instead of data sources views,tables returns only tables now,,kamipo,2017-02-27 23:48:07,2017-02-28 16:56:12
PR,Backport fix for Rails generator help,Summary This closes by backporting to the 5 0 2 branch I could not figure out a better way to test other than making screenshots with 5 0 2 and my branch Before After img width 1546 alt screen shot 2017 02 26 at 14 49 44 src img width 1546 alt screen shot 2017 02 26 at 14 50 37 src Please let me know if there is a better way to do this or if there is a test I should add to avoid this regression again Thanks,,,2017-02-26 19:57:37,2017-02-28 20:07:59
PR,Do not evaluate if arguments when on is not satisfied for transaction callbacks,Summary This addresses 28019 by prepending the on action check before the supplied if argument The previous behavior appended on at the end of the list when setting up a callback allowing if conditions to be evaluated even if the on transaction scope is not satisfied,,"Erol,Erol,rafaelfranca,matthewd,rafaelfranca",2017-02-18 08:12:19,2017-02-28 20:23:46
IS,if option in after commit on create processed during destroy,In short an after commit if option is still triggered after the destroy lifecycle even if the after commit is limited to say create update This does not seem like it should be expected behavior Steps to reproduce Here is a gist Expected behavior Since the after commit is limited to being triggered on the create and update events and therefore never be triggered on destroy events it seems counter intuitive for ActiveRecord to bother processing the if option and can cause errors if the code within the if option assumes that it will only be run when the model is valid and existing Actual behavior The after commit if option is triggered on destroy System configuration Rails version Gist reproduces this in 5 0 1 I discovered this issue in 4 2 7 Ruby version 2 3 1,,"st0012,Erol",2017-02-15 17:25:15,2017-02-28 20:23:55
PR,Backport fix for Rails generator help,Summary This closes by backporting to the 5 0 stable branch I could not figure out a better way to test other than making screenshots with 5 0 stable and my branch Before After img width 1546 alt Screenshot with issue src img width 1546 alt Screenshot without issue src Please let me know if there is a better way to do this or if there is a test I should add to avoid this regression again Thanks Also thank you to for answering my questions about test failures,,deivid-rodriguez,2017-02-28 20:24:18,2017-02-28 20:30:23
IS,Rails Guides Active Record Associations Conflicting Information,In the Active Record Associations page of the Rails Guides section 3 5 Bi directional Associations bi directional associations it appears there is conflicting information First the section states that given two models one with a belongs to and another with a has many ActiveRecord will not know about the connection between the two The example shows an instantiation of each and the two getting out of sync This is resolved by calling inverse of on both sides of the association However a few paragraphs later the section states that For belongs to associations has many inverse associations are ignored If that is true why is inverse of called on both sides of the association in the example Moreover the section further states Every association will attempt to automatically find the inverse association and set the inverse of option heuristically based on the association name Indeed setting up the associations in the example mentioned above yields a single object in memory without the inverse of call required It seems then that ActiveRecord will know about the connection between two well named models without inverse of even though the section states otherwise This seemingly conflict of information within the section will likely lead to confusion amongst readers new to Rails Thanks,,"maclover7,maclover7,alexcameron89",2016-12-30 21:43:35,2017-02-28 20:40:17
IS,Ruby 2 4 0 Update Unify Fixnum and Bignum into Integer,It seems like a mini fix required for ruby 2 4 0 Output 00 08 02 worker 1 home evo rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 51 warning constant Fixnum is deprecated 00 08 02 worker 1 home evo rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 52 warning constant Bignum is deprecated 00 08 02 web 1 home evo rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 51 warning constant Fixnum is deprecated 00 08 02 web 1 home evo rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 52 warning constant Bignum is deprecated 00 08 04 web 1 home evo rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support core ext numeric conversions rb 138 warning constant Fixnum is deprecated 00 08 04 worker 1 home evo rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support core ext numeric conversions rb 138 warning constant Fixnum is deprecated System configuration Rails version 5 0 1 Ruby version 2 4 0,,morgoth,2017-02-28 21:13:28,2017-02-28 21:24:24
PR,create join table should respect references column type,Follow up of 26266 The default type of primary key and references were changed to bigint since 26266 But create join table column type is still integer It should respect references column type,,"kamipo,kamipo",2017-02-28 06:43:10,2017-02-28 22:54:04
PR,Make required by default test for belongs to association clearer,Summary Since 18937 belongs to associations receive a setting to determine if it should be or not treated as required by default While the tests were still passing it was not evident that the default behaviour for required could change in fuction of a setting that is set by default for fresh Rails5 apps but not for upgraded apps Other Information This commit try to relate make it clear what is the behaviour expected when the the setting belongs to required by default is set to true or not set to prevent misunderstandings like the discussed here discussion r103298460,,"rafaelfranca,rafaelfranca",2017-02-27 22:17:50,2017-02-28 23:12:49
PR,Allow skipping of turbolinks for test dummy application for plugin engine,NOTE I think this should be the expected behavior At least that is what I expected Let me know if you think differently Maybe this PR should be dropped altogether When rails new plugin is invoked with skip turbolinks turbolinks should be skipped in the dummy application generated by the plugin generator,,rafaelfranca,2017-02-23 06:08:48,2017-02-28 23:14:47
IS,Ca not get proper arity of scopes,Steps to reproduce Declare a scope in your model let is say scope active where status active try to get an arity of it in some class method def self test self class method active arity always returns 1 end from method i arity 1 is only for C methods I have tried to proc but that have not helped neither Expected behavior It should return 0 when no args and args count when scope accepts args Actual behavior returns 1 System configuration 4 2 7 but I believe it works the same in newest versions also Ruby version 2 3 3,,al2o3cr,2017-02-27 14:18:55,2017-02-28 23:23:27
PR,HOST must be all capital letters,Ref L194,,y-yagi,2017-02-28 23:22:47,2017-02-28 23:41:00
IS,Version Changes,Several files in the stable branch have previously changed with new releases For the most recent change they did not See version rb RAILS VERSION railties lib rails gem version rb rails activemodel lib active model gem version rb Also there is now a branch for the current release 5 0 2 rc1 which seems a little odd as they are normally tagged with all their commits in the stable branch,,"eugeneius,rafaelfranca,rafaelfranca",2017-03-01 00:35:40,2017-03-01 03:42:12
PR,Fix new cipher' uninitialized constant Class Rails Secrets OpenSSL NameError,rails 5 1 0 master ruby head Macbook Pro test app sharevari bundle exec rails secrets setup from bin rails 4 in main ' from bin rails 4 in load' from Users sharevari repository sharevari test app bin spring 16 in top required ' from Users sharevari repository sharevari test app bin spring 16 in require' from Users sharevari rvm gems ruby head test gems spring 2 0 1 lib spring binstub rb 31 in top required ' from Users sharevari rvm gems ruby head test gems spring 2 0 1 lib spring binstub rb 31 in load' from Users sharevari rvm gems ruby head test gems spring 2 0 1 bin spring 49 in top required ' from Users sharevari rvm gems ruby head test gems spring 2 0 1 lib spring client rb 30 in run' from Users sharevari rvm gems ruby head test gems spring 2 0 1 lib spring client command rb 7 in call' from Users sharevari rvm gems ruby head test gems spring 2 0 1 lib spring client rails rb 28 in call' from Users sharevari rvm gems ruby head test gems spring 2 0 1 lib spring client rails rb 28 in load' from Users sharevari repository sharevari test app bin rails 10 in top required ' from Users sharevari repository sharevari test app bin rails 10 in require' from Users sharevari rvm gems ruby head test bundler gems rails 89d5d975e540 railties lib rails commands rb 16 in top required ' from Users sharevari rvm gems ruby head test bundler gems rails 89d5d975e540 railties lib rails command rb 44 in invoke' from Users sharevari rvm gems ruby head test bundler gems rails 89d5d975e540 railties lib rails command base rb 63 in perform' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor rb 369 in dispatch' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor invocation rb 126 in invoke command' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor command rb 27 in run' from Users sharevari rvm gems ruby head test bundler gems rails 89d5d975e540 railties lib rails commands secrets secrets command rb 17 in setup' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor base rb 444 in start' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor group rb 232 in dispatch' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor invocation rb 133 in invoke all' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor invocation rb 133 in map' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor invocation rb 133 in each' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor invocation rb 133 in block in invoke all' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor invocation rb 126 in invoke command' from Users sharevari rvm gems ruby head test gems thor 0 19 4 lib thor command rb 27 in run' from Users sharevari rvm gems ruby head test bundler gems rails 89d5d975e540 railties lib rails generators rails encrypted secrets encrypted secrets generator rb 9 in add secrets key file' from Users sharevari rvm gems ruby head test bundler gems rails 89d5d975e540 railties lib rails secrets rb 33 in generate key' Users sharevari rvm gems ruby head test bundler gems rails 89d5d975e540 railties lib rails secrets rb 101 in new cipher' uninitialized constant Class Rails Secrets OpenSSL NameError,,pixeltrix,2017-03-01 09:23:03,2017-03-01 11:55:18
IS,ArgumentError when attempting to boot rails console,Steps to reproduce Possibly related to Draper No errors when starting the server but when I try to start the console it chokes Expected behavior Rails console should boot without issue Actual behavior Console fails to load System configuration Rails version 5 1 0 beta1 Ruby version 2 3 0,,"y-yagi,pixeltrix",2017-03-01 05:51:02,2017-03-01 12:12:20
IS,Genrating A Migration Give Error,I want to genrate migration and models in Ruby on Rails for this i use command developers developers Lenovo G50 80 Desktop Ror sites simple cms rails generate migration DoNothingYet when i put this command of my home directory of my rails app developers developers Lenovo G50 80 Desktop Ror sites cd simple cms simple cms is the main directory of my rails app I have this type of error seen home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 51 warning constant Fixnum is deprecated home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support xml mini rb 52 warning constant Bignum is deprecated home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support core ext numeric conversions rb 138 warning constant Fixnum is deprecated home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 328 in check part' Missing controller key on routes definition please check your routes ArgumentError from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 308 in check controller and action' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 251 in normalize options ' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 115 in initialize' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 68 in new' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 68 in build' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 1656 in add route' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 1628 in decomposed match' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 1927 in block in map match' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 1910 in each' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 1910 in map match' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 1599 in match' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 719 in map method' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing mapper rb 680 in get' from home developers Desktop Ror sites simple cms config routes rb 5 in block in top required ' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing route set rb 389 in instance exec' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing route set rb 389 in eval block' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems actionpack 5 0 1 lib action dispatch routing route set rb 371 in draw' from home developers Desktop Ror sites simple cms config routes rb 1 in top required ' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in load' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in block in load' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support dependencies rb 259 in load dependency' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support dependencies rb 287 in load' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 40 in block in load paths' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 40 in each' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 40 in load paths' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 16 in reload ' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 26 in block in updater' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems activesupport 5 0 1 lib active support file update checker rb 77 in execute' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 27 in updater' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application routes reloader rb 7 in execute if updated' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application finisher rb 119 in block in module Finisher ' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails initializable rb 30 in instance exec' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails initializable rb 30 in run' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails initializable rb 55 in block in run initializers' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 228 in block in tsort each' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 350 in block 2 levels in each strongly connected component' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 431 in each strongly connected component from' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 349 in block in each strongly connected component' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 347 in each' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 347 in call' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 347 in each strongly connected component' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 226 in tsort each' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 tsort rb 205 in tsort each' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails initializable rb 54 in run initializers' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems railties 5 0 1 lib rails application rb 352 in initialize ' from home developers Desktop Ror sites simple cms config environment rb 5 in top required ' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring application rb 92 in require' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring application rb 92 in preload' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring application rb 143 in serve' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring application rb 131 in block in run' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring application rb 125 in loop' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring application rb 125 in run' from home developers rbenv versions 2 4 0 lib ruby gems 2 4 0 gems spring 2 0 1 lib spring application boot rb 19 in top required ' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 rubygems core ext kernel require rb 55 in require' from home developers rbenv versions 2 4 0 lib ruby 2 4 0 rubygems core ext kernel require rb 55 in require' from e 1 in main ' System configuration Rails version 2 6 8 Ruby version 2 4 0,,"al2o3cr,pixeltrix",2017-03-01 02:58:07,2017-03-01 12:15:14
IS,Rails 5 1 0 beta jQuery error 'Uncaught ReferenceError Invalid left hand side in assignment',Steps to reproduce Launch a Rails 5 1 0 beta app on a production server Include jQuery in your application js file by default Visit the production site get JS error Uncaught ReferenceError Invalid left hand side in assignment The error points to 1 1 in the jQuery code I removed all other javascript as a sanity check and it is indeed actually the jQuery library itself This does not happen on my development machine so the issue might be with sprockets or the asset pipeline If I rollback to Rails 5 0 1 the error is gone System configuration Rails version 5 1 0 beta Ruby version 2 4 0,,,2017-03-01 13:07:45,2017-03-01 13:22:10
PR,Use DEFAULT CIPHER constant in MessageEncryptor,Constant is not re used in this code which could lead to inconsistency between default cipher and default key length This could be serious so it is better to fix it right away,,kaspth,2017-03-01 12:59:53,2017-03-01 13:27:53
PR,Use appropriate type for test framework option,This fixes the following warning,,"y-yagi,y-yagi,kaspth,rafaelfranca",2017-03-01 13:20:42,2017-03-01 13:48:02
PR,Fix inconsistent results when parsing large durations and constructing durations from code,Fixes next comparison ActiveSupport Duration parse 'P3Y' 3 years It should be true Duration parsing made independent from any moment of time Fixed length in seconds is assigned to each duration part during parsing Methods on Numeric like 2 days now use these predefined durations to avoid duplicating of duration constants through the codebase and eliminate creation of intermediate durations Partial backport of except changes in month and year duration lengths r,,"Envek,al2o3cr,pixeltrix,Envek,pixeltrix",2017-01-09 20:27:19,2017-03-01 15:52:08
IS,5 0 2 rc1 deprecation warning,I see Expected string default value for ' test framework' got false boolean when upgrading from 5 0 1 to 5 0 2 rc1,,"rafaelfranca,rafaelfranca",2017-02-28 16:56:12,2017-03-01 16:47:35
IS,Action Cable External App Server,Steps to reproduce I would like to use action cable and send real time notifications via Firebase Cloud Messaging FCM Expected behavior I would like to know if I can use the FCM app server along with action cable for sending notifications Actual behavior The documentation mostly mentions about using a proprietary rack server for web socket connections But it does not mention about integration with third party app servers Eg Pusher FCM Onesignal System configuration Rails version,,matthewd,2017-03-01 18:10:53,2017-03-01 18:26:22
IS,rails secrets edit secrets yml enc Permission denied,Steps to reproduce System configuration Rails version 5 1 0 beta1 Ruby version 2 3 3p222,,"maclover7,matthewd,kaspth,kaspth,kaspth,kaspth,kaspth",2017-02-24 00:34:51,2017-03-01 19:47:39
IS,Warnings in rails g help,Reporting this following is advice in issuecomment 279270777 Steps to reproduce System configuration Rails version Rails 5 0 2 rc1 Ruby version Ruby 2 4 0p0 It seems that backporting a36ef6ee3ed44e6ce1636f12da59c473dddd94bb would fix it,,"deivid-rodriguez,rafaelfranca",2017-02-25 13:45:00,2017-03-01 20:05:38
PR,valid type should accept only supported types,valid type is used in schema dumper to determine if a type is supported So if valid type foobar is true it means that schema dumper is allowed to create t foobar But it does not work I think that valid type should accept only supported types L135 L142,,"kamipo,rafaelfranca,kamipo",2017-02-28 10:59:44,2017-03-01 21:19:41
IS,after callback is not called on nested resources,I'm using rails 4 2 5 and I have noticed that after callback is not called on nested resources When a user is created passing posts attributes it only puts top level but not nested In my opinion it should also call the nested rollback since it could be do something important,,"pixeltrix,pixeltrix,pixeltrix",2016-01-06 16:02:22,2017-03-01 23:53:00
PR,Update DateTime change to support usec and nsec,Adding support for these options now allows us to update the DateTime end of methods to match the equivalent Time end of methods e g datetime DateTime now end of day datetime nsec 999999999 true Fixes 21424,,pixeltrix,2017-03-01 18:15:40,2017-03-02 07:57:11
IS,Why includes use LEFT JOIN,I discovered that when I use User includes posts includes may create 2 sql sometimes may use LEFT JOIN sometimes what is the condition that includes use LEFT JOIN instead of creating 2 sql I need some help thanks,,pixeltrix,2017-03-02 07:49:49,2017-03-02 08:05:40
IS,json column sometimes saves modified data,Hi Ok this is a really weird one I'm not sure what the most helpful way to describe this is but here we go I have a model with json columns that I update with the same hash object BUT when I read the data one column inserts colons in some places See the screenshot below I have tried a few things to figure out what could be causing this but I genuinely have no clue what could be going on here 2017 03 01 at 12 39 Here is the hash I'm saving hash is claimed true rating 4 0 url location state NY address1 100 Kenmare St zip code 10012 cross streets Mott St Mulberry St display address 100 Kenmare St New York NY 10012 address3 country US address2 city New York review count 164 phone 16469645012 categories alias salad title Salad alias vegetarian title Vegetarian image url price is closed false coordinates longitude 73 9972511652099 latitude 40 7210635428336 display phone 646 964 5012 id sweetgreen new york 4 name sweetgreen hours is open now false hours type REGULAR open day 0 is overnight false start 1030 end 2200 day 1 is overnight false start 1030 end 2200 day 2 is overnight false start 1030 end 2200 day 3 is overnight false start 1030 end 2200 day 4 is overnight false start 1030 end 2200 day 5 is overnight false start 1030 end 2200 day 6 is overnight false start 1030 end 2200 transactions photos reviews time created 2017 02 23 15 16 03 text After having Sweetgreens I actually ENJOY eating salads Sg is probably the only salad cafe I would care to go to in NYC and order a salad This particular user name Tiffany M image url url rating 5 time created 2017 01 24 10 28 54 text I have been to a lot of Sweetgreens in my day I think I have given every single one of them four stars They have all been solid They have all been fairly user name Molly T image url url rating 5 time created 2017 01 21 05 22 21 text Wow The salad was amazing nExpect a long line for lunch 10 15 min wait n nRegulars do order online and pickup n nThe new spicy dressing was awesome user name A K image url url rating 5 System configuration Rails version Rails 5 0 1 Ruby version 2 3 3,,"pixeltrix,al2o3cr,pixeltrix",2017-03-01 12:14:28,2017-03-02 08:07:11
PR,Use blank instead of empty,Using empty will get an error if ENV EDITOR is not set Follow up to 82f7dc6178f86e5e2dd82f9e528475a6acee6cd8,,"y-yagi,rafaelfranca,kaspth,y-yagi,kaspth",2017-03-01 23:03:22,2017-03-02 11:54:02
IS,New Secrets feature uses poor cryptography,def new cipher OpenSSL Cipher new aes 256 cbc end def cipher mode data cipher new cipher public send mode cipher key key cipher update data cipher final end Unauthenticated CBC mode with a constant IV This is not up to the minimum standards of how a modern cryptosystem should be designed Please use an authenticated mode GCM or if unavailable derive an authentication key and HMAC the ciphertext and generate an unpredictable random IV each and every time an encryption is performed,,dhh,2017-02-23 22:09:01,2017-03-02 18:12:14
PR,Update secrets to use modern crypto,Fixes 28135 by replacing the default mode with AES 128 GCM allowing the mode to be configured manually correctly generating keys and using a random initialization vector on every encryption,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,matthewd,matthewd,bdewater,matthewd,vipulnsward,kaspth,kaspth,bdewater,kaspth,kaspth,kaspth,matthewd,kaspth,bdewater,jeremy,rafaelfranca,rafaelfranca,bdewater,kaspth,kaspth,bdewater,bdewater,jeremy,kaspth,kaspth,kaspth",2017-02-23 22:56:54,2017-03-02 18:12:14
IS,Broken Links,Steps to reproduce Install Hub Crawl globally and run the following,,fxn,2017-03-02 18:56:47,2017-03-02 19:45:27
IS,ActiveJob around perform is called twice when defined on superclass,Hi Thanks for all of your hard work on Rails Suppose I have the following However that approach has two very serious problems 1 If I create a class MyReallyExtendedJob MyExtendedJob then the double invocation of around perform would just return 2 Now I need documentation that each subclass of MyExtendedJob needs to define its around perform in the way shown above and that is prone to omission and error and adds considerable overhead to and considerably reduces the convenience of subclassing MyExtendedJob I also tried rails concerns but that got Rails stuck in some infinite loop This is definitely a bug it violates the principle of least surprise it is not the expected behavior and it makes it much harder to usefully extend ActiveJob Base What can we do to fix this,,"maclover7,maclover7",2016-01-14 21:28:08,2017-03-03 00:36:30
IS,Setting statement limit databsae config option to 0 results in crashes,This can happen by accident when trying to read from an empty enviroment variable for example PG DuplicatePstatement ERROR prepared statement a1 already exists Ideally this should just disable the statements cache altogether or just fallback to the normal default although that feels less intuitive Happened with rails 4 2 5 on postgresql database,,sgrif,2016-01-15 20:07:00,2017-03-03 00:36:30
IS,Associate new record with existing through has one,let see we have two models with belong to has one association which is pretty much the same thing that I'm trying to get from has one I think good solution for this would be a searching for record if id has been passed and model not preloaded,,,2016-01-06 18:41:22,2017-03-03 00:36:31
IS,CSRF validation is not done server side,For rails version 4 1 2 and jquery rails 2 1 3 setting CSRF header for the ajax requests does not validate the token on the server side Following are the manual tests performed 1 Intercepting request and removing token value no validation done at server 2 Intercepting request and completely removing token and value no validation done at server 3 Changing CSRF token value to a new value no validation done CSRF token is set beforeSend callback in jquery ajax by setting csrf meta tag content attr Only configuration done in rails ApplicationController is protect from forgery,,rafaelfranca,2016-01-08 10:04:03,2017-03-03 00:36:31
IS,When psql is missing rake db structure load should show some error,The problem might be L99 when invoking or passing Kernel system cmd args as param,,"vipulnsward,vipulnsward",2016-01-22 15:44:19,2017-03-03 00:36:32
IS,structure sql does not preserve permissions for schemas,My rails project uses two different schemas Some activerecord models use the default connection and connect to one of the schemas Some other models use a different connection and connect to a different schema using a different user All this works fine except when I run rake spec The reason for that is that rake spec uses the structure sql file to build the database and that file does not preserver the proper ownership rules from the db I have tried doing the permissions by setting ownership of the schema and by granting permissions but both are blown away in structure sql Right now all I can do is turn of rake db prepare as described in I guess the solution would be for whoever writes structure sql to also write in info about the ownership and permissions,,"sgrif,pixeltrix,pixeltrix",2016-01-22 21:29:59,2017-03-03 00:36:32
IS,STI with has one has many through association is broken adding multiple type column conditions in query,I am facing this issue while upgrading my app from rails 3 2 11 to 4 2 5 Since rails 4 has one and has many through association is generating wrong query adding multiple type column condition in query with single table inheritance br In rails 3 it is generating following query,,,2016-01-05 10:22:02,2017-03-03 00:36:34
IS,Model generator template not honoring inheritance,OK I m so not awesome enough to be bothering you guys but I ran into something I though was weird That said I m a noob Call me an idiot at anytime My Rails application connects to two databases mainly for CAS server purposes user model is a separate location To get migrations migration generation and model generation working I wrote very slim generators inheriting from default generators For the model generator the only purpose was to change the migration file location of the second db source and change the default parent from ActiveRecord Base to IdentityDatabaseModel which houses the establish connection so its children share the connection pool The default model generator template calls parent class name classify to add the default parent class parent class name method is defined in ActiveRecord Generators ModelGenerator and calls determine default parent class I overrode the determine default parent class replacing ActiveRecord Base with IdentityDatabaseModel but I did not override the parent class name method because with inheritance the parent s parent class name method should call my overridden determine default parent class The erb template is call to parent class name calls ActiveRecord Generators ModelGenerator is determind default parent class method unless I also overrode the parent class name method as well Am I missing something without overriding parent class name it should work just from inheritance right,,,2016-01-27 04:29:44,2017-03-03 00:36:35
IS,Numercality validator only integer is not reliable with decimal storage,For example look in this gist Background I have a field and depending on some other situations the input needs to be an integer or a floating number So I use the only integer option with a proc checking for this condition Saving this once to the database works as the raw input is validated Opening the form again and saving a second time fails It seem that the input is then read from the database as 15 0 for example and validated against the regex Working around the problem is relatively simple but I feel this needs to be mentioned in the guides and documentation Note that when the form is being displayed the actual value shown is 15 This can also be reproduced with current 4 2 5 and seems database independant as behaviour was discovered with a postgresql database,,"vipulnsward,rafaelfranca",2016-01-24 18:30:14,2017-03-03 00:36:37
IS,Rails 5 ActionCable does not work with Cygwin,Hello I post this issue in order to help me investigate on why ActionCable does not work with Cygwin I created a very simple project with only a RoomChannel which work on linux Only Registered connection notification is called on Cygwin The websocket or backend seem to fail at some point I will run a couple of tests in order to find which dependencies are involved It can be websocket driver ruby concurrency nio4r or puma I'm starting tests with websocket driver Maybe it is related to the fact that Cygwin can not handle multiple threads forks Rails v5 0 0 beta2 Ruby tested versions 2 2 x 2 3 0,,maclover7,2016-02-14 23:50:24,2017-03-03 00:36:37
IS,has many through a self referential join on single table inheritance does not produce correct SQL,I'm attempting to create a has many through on a self referential single table inheritance When active record creates the query it aliases the tables on the INNER JOIN but does not alias the table on the AND statement This leads the query to not return anything Heres a git to reproduce Using activerecord 4 2 The issue can be seen below in the 2 IN clause The first IN should be aliased to user challenge enrollments team challenge enrollments join type instead of challenge enrollments type,,maclover7,2016-02-22 18:26:14,2017-03-03 00:36:38
IS,ActionCable painfully slow with 100KB sized messages,Hi there I have this in my template Otherwise my setup is stock I ran the above with e production with logging switched off and it is taking 94 cpu on my 2014 Macbook Pro to send 13 messages per second I also tried running the Base64 encoding separately and that only takes 8 cpu or so so that is not the culprit The CPU jumps from 8 to 94 when I add the ActionCable server broadcast line The images are also pretty small at around 100KB each Any ideas why ActionCable is performing so slowly Any advice how to speed it up Note The browser Safari is only taking 10 cpu to receive and render the images and Redis is only taking 0 6 cpu to process this data Edit I tried the async redis and evented redis adapters and they all seem to perform about the same,,"dmitry,jeremy",2016-02-12 01:31:06,2017-03-03 00:36:39
IS,Wrong statement regarding CSRF protection for APIs in ActionController documentation,The documentation present for protect from forgery both here and here states that a json API should be protected by disallowing any request with an invalid csrf token for which the request format is not json My understanding is that request format parses the Accept header or the format inferred from the route declaration the later takes priority In this situation though what we care about is not the Accept header but the request is Content Type that if coming from a form would be application x www form urlencoded or multipart form data Therefore the protection suggested by the documentation is not such for instance even if applied a web form from a different domain pointing to any supposedly protected api endpoint including the json suffix so we force the request format without using headers can be maliciously submitted and the request sent will be accepted by the rails app,,rafaelfranca,2016-02-26 13:15:33,2017-03-03 00:36:39
IS,Routing constraint with hash and instance of class that responds to matches,Steps to reproduce In order to match a character like or in a route I can add a constraint block like so get 'lib id' 'catalog show' constraints id ark d 5 f w 7 9 This will match ' lib ark 99999 fk41234567' controller 'catalog' action ishow' id 'ark 99999 fk41234567' Now I would like to add an additional constraint of an object that responds to matches System configuration Rails version 4 5 1 Ruby version 2 3 0,,sikachu,2016-03-02 22:10:44,2017-03-03 00:36:41
IS,Updating an ActiveRecord datetime attribute using a float is set to nil,Steps to reproduce consider Ticket model with checkin at datetime attribute ticket update attributes checkin at 1456652070 155761 Nothing happens Expected behavior Time at 1456652070 155761 is used to update the attribute Actual behavior Attribute is updated to nil System configuration Rails version 4 2 5 1 Ruby version 2 3 0,,"maclover7,maclover7,pixeltrix",2016-02-28 20:34:41,2017-03-03 00:36:42
IS,nested has one through does not update when parent item is changed,Steps to reproduce Expected behavior nested has one through should update when the parent belongs to changes Actual behavior the nested has one through value is cached System configuration Rails version 4 2 5 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin14,,,2016-02-27 06:14:37,2017-03-03 00:36:49
IS,Inconsistent rounding of sum method,Hi we are doing a Rails upgrade from 4 2 2 to 4 2 5 1 which made several test cases fail In one case it failed because the rounding of the result is not correct After some investigation I found for some reason the following two lines of code return different results on Rails 4 2 5 1 The activities table only have one record with price 3 63 and quantity 16 19 the result should be 58 806 I try to run the generated sql and both return the correct result 58 806 How sum handles rounding Thanks,,"maclover7,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2016-02-24 01:40:50,2017-03-03 00:36:51
PR,fixed suspected typo in sample sql query,Summary While reading one of the guides I noticed client id used in a where clause while the name of the table is clients Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"kamipo,kamipo",2017-03-02 18:56:18,2017-03-03 01:03:37
PR,Fix typo in Upgrading Ruby on Rails Guide,Summary Fix typo in Upgrading Ruby on Rails Guide,,"Erol,arunagw,Erol",2017-03-03 09:03:22,2017-03-03 09:40:58
IS,Adding a manipulated Activesupport Duration to dates gives unexpected result,Bug Adding a manipulated Activesupport Duration to dates gives unexpected result Steps to reproduce Expected behavior I think it is safe to expect that date 2 12 hours gives the same result as date 24 hours Actual behavior This is not equal However this works fine with time time with zone when not around daylight saving else the same bug is present Suspect 2 12 hours is converted to a number of seconds as an integer and then added to the date The date coerce convert the integer into a number of days and then add it System configuration Rails version 5 0 0 Ruby version 2 3 1,,"maclover7,al2o3cr,pixeltrix,al2o3cr",2016-12-26 14:13:33,2017-03-03 10:48:42
PR,Deprecate implicit coercion of ActiveSupport Duration,Currently ActiveSupport Duration implicitly converts to a seconds value when used in a calculation except for the explicit examples of addition and subtraction where the duration is the receiver e g 2 1 day 172800 This results in lots of confusion especially when using durations with dates because adding subtracting a value from a date treats integers as a day and not a second e g Date today Wed 01 Mar 2017 Date today 2 1 day Mon 10 Apr 2490 To fix this we are implementing coerce so that we can provide a deprecation warning with the intent of removing the implicit coercion in Rails 5 2 e g 2 1 day DEPRECATION WARNING Implicit coercion of ActiveSupport Duration to a Numeric is deprecated and will raise a TypeError in Rails 5 2 172800 In Rails 5 2 it will raise TypeError e g 2 1 day TypeError ActiveSupport Duration can not be coerced into Integer This is the same behavior as with other types in Ruby e g 2 foo TypeError String can not be coerced into Integer foo 2 foofoo As part of this deprecation add and methods to AS Duration so that calculations that keep the duration as the receiver work correctly whether the final receiver is a Date or Time e g Date today Wed 01 Mar 2017 Date today 1 day 2 Fri 03 Mar 2017 Fixes 27457,,"pixeltrix,pixeltrix,rafaelfranca,pixeltrix,pixeltrix,pixeltrix,pixeltrix,dhh,dhh",2017-02-27 18:33:48,2017-03-03 10:48:42
PR,Fix random failure on system test with ajax,Summary If application has ajax browser may begin request after rollback It breaks tests randomly is a demo application ajax request L15 system test scaffold L11 L20 build results failed fixed by using this branch Other Information wrote great article about this problem star2 It helped me to notice what happened in system test thanks In the article suggesting solution is wait until ajax finished by evaluate script but I think we can guard from ajax request after teardown by inserting rack middleware call Capybara reset session before rollback,,"mtsmfm,eileencodes,mtsmfm,mtsmfm,eileencodes,mtsmfm,eileencodes,mtsmfm,mtsmfm,eileencodes",2017-02-28 14:52:41,2017-03-03 12:52:56
PR,Remove node parameter to join constraints,I do not think we actually need this parameter anymore Nobody seems to be using it,,tenderlove,2017-03-03 17:57:08,2017-03-03 19:09:57
PR,Fix spelling in docs,ci skip,,robin850,2017-03-03 20:21:04,2017-03-03 20:27:05
IS,Routes Action Methods as the block in place of key and value pairs,Proposed idea of the routes structure Hello everyone I have did lots of research to implement these kind of routes structure those and I found it more relevant as per the developer perspectives I have used get post etc as the block so It is do not required to define the methods every time Basically there is no need to define get post delete put methods every time when we are defining the routes It is providing a great feasibility to define routes separately in there respective blocks like in get post put or delete I got this idea by seeing collection and member so as we are defining member and collection than why can not be use get and post etc in the same way Please everyone provide your points and suggestion over this proposed idea If everyone is fine than I can propose a robust solution for it Idea specification for new routes structure,,al2o3cr,2017-03-03 21:02:38,2017-03-03 22:32:04
PR,Add iso8601 and rfc3339 parsing to timezones,Adds Time rfc3339 ActiveSupport TimeZone rfc3339 and ActiveSupport TimeZone iso8601 plus rfc3339 aliases to xmlschema for consistency when dealing with RFC 3339 timestamps in a Rails application Previous to this you would have to do things like this to get RFC 3339 timestamps into a particular timezone e g Added rfc3339 aliases to xmlschema since DateTime has them and using time format names consistently within an application is better,,"pixeltrix,robin850,robin850,robin850,pixeltrix",2017-03-03 20:27:00,2017-03-03 22:36:58
PR,Various refactoring to association scopes and joins,The two main changes are 1 Introduce join scopes that returns a homogeneous array of Relation objects This means we can skip doing an is a check and building an intermediate array 2 Remove the parameter to join keys This means we can call join keys on a reflection without context so we do not have to pass a klass object everywhere,,tenderlove,2017-03-03 23:17:25,2017-03-04 00:00:28
PR,passing unique parameter to belongs to wrongly,passing unique parameter to belongs to not right Summary the original code can not generate unique index,,kamipo,2017-03-03 14:49:21,2017-03-04 01:34:04
IS,Rails 5 1 erb generator methods got private and break other gems,In this commit several methods including format were changed to private from protected Because of that they are no longer accessible in subclasses callable with receiver and cause troubles in other gems generators that inherit from ERB See,,amatsuda,2017-03-03 21:32:58,2017-03-04 03:11:33
IS,Question about description and code in Active Record Query Interface of RailsGuide,Hello Now I read the Rails Guide for using Rails more effectively and I post about a unclear description which I found in it Steps to reproduce nbsp In the section 17 1 Retrieving filtered data from multiple tables retrieving filtered data from multiple tables of the chapter 17 Understanding The Method Chaining understanding the method chaining of Active Record Query Interface following code and description are written hr 17 1 Retrieving filtered data from multiple tables may be generated How about this issue This post is the first time in which I submit new issue Best regards,,"kamipo,vipulnsward",2017-03-04 05:42:20,2017-03-04 06:20:21
IS,Incorrect SQL coloring,Steps to reproduce Create a custom SQL query which starts with WITH I'm not sure if there is more keywords that trigger this behavior but I do know WITH is one of them Expected behavior It should be colored the same as a custom query which starts with SELECT Actual behavior The entire query remains pink instead of blue System configuration Rails version 5 0 2 Ruby version 4 2 0 Screenshots image image,,"matthewd,matthewd,vipulnsward",2017-03-04 02:09:37,2017-03-04 06:33:48
PR,Escapes and edits to configuring guide,,,vipulnsward,2017-03-04 06:48:49,2017-03-04 06:49:29
PR,ci skip Correcting operator ' ' to ' ' in WHERE condition,I changed the operator to and '2015 01 01' to the date a week ago '2014 12 25' in WHERE condition Regards,,kamipo,2017-03-04 07:43:25,2017-03-04 07:55:54
IS,NotImplementedError views is not implemented mysql2,Steps to reproduce Hello Guys I'm using gem mysql2 and when using it on my database it is raising NotImplementedError views is not implemented when I tried to call any query User all for example I opened a issue on mysql2 gem and the guys told me that it is a rails issue issuecomment 257406152 Expected behavior Works as expected Actual behavior NotImplementedError views is not implemented System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,"rafaelfranca,rafaelfranca,utilum,kamipo,utilum",2016-10-31 20:20:48,2017-03-04 09:15:59
IS,Rails 5 0 0 1 increment does not invoke callbacks where 4 2 7 1 does,Steps to reproduce Reproduction script Expected behavior When the 'increment ' method is called on an model the 'after save' and other callbacks should be invoked Actual behavior No callbacks appear to be invoked System configuration Rails version 5 0 0 1 works correctly on 4 2 7 1 Ruby version 2 2 3 2 3 1 I did not try others I believe that the following commit changed the behavior I am not familiar enough with concurrency concerns to know what patch to propose to resolve the issue,,"maclover7,rafaelfranca,kamipo",2016-09-20 04:12:18,2017-03-04 09:32:03
IS,Ca not create foreign keys with create join table in migration,Steps to reproduce 1 Generate a new migration rails generate migration CreateJoinTableUsersOffers users offers 2 This generates the following migration create join table users offers do t t index users id offer id t index offer id users id end 3 Using the column options to add foreign keys create join table users offers column options foreign key true do t t index user id offer id t index offer id user id end Expected behavior This migration should generate foreign key constraints like this does Actual behavior It does not create any foreign keys It works with indexes though System configuration Rails version 5 0 0 Ruby version 2 3 1p112,,kamipo,2016-07-31 09:40:23,2017-03-04 10:30:56
PR,Fix system test example ci skip,Since test suffix is automatically granted it is not necessary to specify it in generator Also updated the generated file to contents actually generated,,"y-yagi,robin850",2017-03-04 10:13:21,2017-03-04 10:53:52
PR,Do not share options with a reference type column,Sharing options causes some unexpected behavior If limit 2 is specified this means that 2 bytes integer for a reference id column and 2 chars string for a reference type column Another example if unsigned true is specified this means that unsigned integer for a reference id column but a invalid option for a reference type column So options should not be shared with a reference type column,,"kamipo,pixeltrix,pixeltrix",2017-03-04 08:17:11,2017-03-04 11:06:44
PR,Silence puma startup messages in system test,Fixes 28109 Before,,"y-yagi,pixeltrix,eileencodes,pixeltrix,eileencodes,robin850,eileencodes",2017-03-04 09:40:07,2017-03-04 11:32:10
IS,Rails uniqueness validator incorrectly checks previous record,The Rails uniqueness validator performs it is query based on the current value of the id attribute as opposed to the original value of id id was This leads to an error condition when you allow the user to update the id itself Example Migration In the above example you should get a validation error on ID instead you get it on name because Rails generates the query based on the newly assigned id of 2 instead of the original id of 1 SELECT 1 AS one FROM organizations WHERE organizations name 'Org 1' AND organizations id 2 LIMIT 1 Error reproduced successfully in 4 2 5 have not tried 5 0 beta yet,,"maclover7,maclover7,maclover7,kamipo",2016-02-01 17:14:54,2017-03-04 13:18:40
IS,references with table name prefix causes ActiveRecord StatementInvalid,relative to issue 20689 Summary rails v4 2 4 db adapter mysql2 when using t references user index true foreign key true in migration with table name prefix the following fail happened however change to add foreign key method the problem solved,,"maclover7,kamipo",2016-01-09 06:32:57,2017-03-04 14:24:54
PR,Fix rake db schema load with subdirectories,Related 25174 db schema load does not work with subdirectories like previous db migrate status Migrator migration files should be used in assume migrated upto version to fix the issue Could you also review this,,"kamipo,pixeltrix,kamipo",2017-03-04 15:42:47,2017-03-04 16:18:23
PR,ci skip Fix ParameterMissing exception name in docs,Summary Should be ActionController ParameterMissing and not ActionController MissingParameter Other Information Corresponding change was done in guides in,,robin850,2017-03-04 16:01:33,2017-03-04 17:15:38
IS,ActiveModel MissingAttributeError can not write unknown attribute,I has a has and belongs to many and when I try to model relations other model I get the error ActiveModel MissingAttributeError can not write unknown attribute model id It is on Rails 5 1 0 beta1,,robin850,2017-02-26 23:50:32,2017-03-04 21:54:50
PR,Avoid running system tests by default,Hello This is a follow up to 28283 to address Eileen is comment in 28109 system tests are not supposed to run with the whole suite These tests may be expansive so let is only allow users to run them through bin rails test system or by passing a path to the test command Have a nice day,,"robin850,matthewd,robin850,y-yagi,robin850,eileencodes,robin850,kaspth,eileencodes,kaspth",2017-03-04 14:12:45,2017-03-05 13:54:29
IS,Puma startup message breaks the test results,This is probably for As the title says it looks like Puma is started when the first system test is ran which can happen after other tests ran When it is the case the Puma startup message is outputted in the middle of the test results FYI it looks like capybara rails suppresses the Puma startup message hence avoiding this issue Steps to reproduce Add system tests to your application run rails test Expected behavior Tests output is a continuous line of dots System configuration Rails version 5 1 0 from master Ruby version 2 3 3p222,,"eileencodes,eileencodes",2017-02-22 15:53:16,2017-03-05 14:11:21
PR,Do not take screenshot if driver does not support screenshot,Capybara RackTest Driver does not support taking screenshots If call save screenshot on Capybara RackTest Driver will raise the error To prevent errors if driver does not support screenshot do not call it,,"y-yagi,eileencodes,y-yagi,eileencodes",2017-03-03 14:27:33,2017-03-05 14:17:08
PR,ci skip Use return with redirect to,Summary Sometimes redirect to creates a confusion in the minds of developers They thinks that no statement after redirect to can be executed in a function But the statement really executes after it So if a user wants that redirect to should be the last statement then it should be used with return,,"eileencodes,al2o3cr,eileencodes,vipulnsward,simi,robin850,vipulnsward",2017-03-03 07:21:32,2017-03-05 14:23:32
PR,Remove useless Migrator schema migrations table name,Simply use SchemaMigration table name instead,,"kamipo,rafaelfranca",2017-03-05 11:33:18,2017-03-05 14:28:48
PR,Fix CI failure due to contain U 2028,L549,,"kamipo,kamipo,maclover7",2017-03-05 15:27:53,2017-03-05 17:45:24
IS,Rails 4 2 2 vs Rails 5 0 2 JSON Storage with PG,After updating our app from Rails 4 2 2 to Rails 5 we have noticed that JSON strings are being stored as a string rather than a Hash or Array Is there a way we can reproduce the behaviour in Rails 5 Steps to reproduce 1 Create Model bundle exec rails g model OrderItem options json 2 Run migration bundle exec rake db migrate 3 Open Console bundle exec rails c 4 In Console Rails 4 2 2 Expected behavior The options attribute should return a hash Actual behavior The options attribute returns a string System configuration Rails version 5 0 2 Ruby version ruby 2 3 1p112 PostgreSQL 9 4 5,,"Erol,kamipo,maclover7,kamipo,kamipo",2017-03-05 05:07:23,2017-03-05 20:08:04
IS,BUG rails new PLEASE HELP ME,noeblack garyhost rails new sistema home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems specification rb 2278 in check version conflict' can not activate activesupport 5 0 2 already activated activesupport 5 0 1 Gem LoadError from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems specification rb 1404 in activate' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 89 in block in require' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 88 in each' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 88 in require' from home noeblack rvm gems ruby 2 3 0 gems concurrent ruby 1 0 5 lib concurrent rb 15 in top required ' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm gems ruby 2 3 0 gems activesupport 5 0 1 lib active support logger silence rb 3 in top required ' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm gems ruby 2 3 0 gems activesupport 5 0 1 lib active support logger rb 1 in top required ' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm gems ruby 2 3 0 gems activesupport 5 0 1 lib active support rb 27 in top required ' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm gems ruby 2 3 0 gems railties 5 0 1 lib rails generators rb 6 in top required ' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm gems ruby 2 3 0 gems railties 5 0 1 lib rails commands application rb 1 in top required ' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm gems ruby 2 3 0 gems railties 5 0 1 lib rails cli rb 14 in top required ' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm rubies ruby 2 3 0 lib ruby site ruby 2 3 0 rubygems core ext kernel require rb 68 in require' from home noeblack rvm gems ruby 2 3 0 gems railties 5 0 1 exe rails 9 in top required ' from home noeblack rvm gems ruby 2 3 0 bin rails 23 in load' from home noeblack rvm gems ruby 2 3 0 bin rails 23 in main ' from home noeblack rvm gems ruby 2 3 0 bin ruby executable hooks 15 in eval' from home noeblack rvm gems ruby 2 3 0 bin ruby executable hooks 15 in main ',,"kamipo,kamipo",2017-03-05 22:16:20,2017-03-06 02:21:57
PR,Fix direct with params example ci skip,Since ActionController Parameters does not inherit Hash need to explicitly convert it to Hash Also Parameters to h returns Hash whose key is String Therefore if merge as it is the value will not be overwritten as expected,,"y-yagi,maclover7,kaspth,pixeltrix,kaspth",2017-03-05 23:35:34,2017-03-06 02:32:19
IS,Rails 5 0 2 Jsonb attribute has incorrect value after save,After upgrading Rails from v5 0 1 to v5 0 2 one of specs in my app started to fail After further investigation I discovered that a jsonb attribute which stores array of hashes does not behave in the same way as it used to in v5 0 1 and earlier versions After creating a new model and passing an array of hashes to my jsonb attribute I can access the value with no issues The getter returns an array of hashes as expected Right after calling save on the model the getter is no longer returning an array of hashes but an array of stringified JSONs instead The correct behavior is restored after calling reload I looked at the diff in ActiveRecord gem between v5 0 1 and v5 0 2 and discovered that the commit 11cad58 which fixes 27514 is responsible for my problem The issue disappeared after reverting this commit from v5 0 2 tag My database is Postgresql 9 5 2 Steps to reproduce 1 Create a new model Expected behavior The jsonb attribute should contain an array of hashes after the object has been persisted Actual behavior The jsonb attribute contains an array of stringified JSONs after the object has been persisted System configuration Rails version 5 0 2 Ruby version 2 3 3p222,,maclover7,2017-03-04 12:36:39,2017-03-06 11:00:47
PR,Fix deserialize with JSON array,Fixes 28285,,"kamipo,kamipo",2017-03-05 14:20:49,2017-03-06 11:00:47
PR,Extract SchemaMigration all versions,Use SchemaMigration all versions instead of SchemaMigration all map version to avoid to instantiate AR objects,,kamipo,2017-03-06 00:49:24,2017-03-06 12:09:24
PR,Fix malformed asset url in ActionController Renderer,Summary 28151 Fix malformed asset url when rendering a template with ActionController Renderer,,"Erol,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-03-02 10:26:56,2017-03-06 12:12:55
IS,Malformed asset url when rendering a view partial with ActionController Renderer,I am facing an issue with malformed url of assets when rendering a partial template through ActionController Renderer 1 Put an image inside app assets images folder let is name it noavatar jpg 2 Create a test text erb partial under app views shared folder shared is a new folder This partial contains the following code asset url 'noavatar jpg' or it can be path url 'noavatar jpg' Now open a rails console and run the following code ApplicationController render partial ishared test' You will get the following result http 80 assets noavatar 04b48dfebdd9a9ec5971b22b3bfe8144c04e2de8909adbb5a52897a881dea8df jpg Notice that not only the protocol inside the url is malformed but also we are getting and a non relevant 80 port Now lets set the https parameter to true renderer ApplicationController renderer new https true renderer render partial ishared test' Now everything seems to be working perfectly Notice This malfunction is not happening with normal page urls For example if you insert the following code inside 'test' partial url for action 'index' controller 'products' only path false and run in console once again ApplicationController render partial ishared test' you will get the expected result System configuration Rails version 5 1 0 beta1 Ruby version 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"Erol,Erol,Erol,Erol,pixeltrix",2017-02-24 15:18:28,2017-03-06 12:26:09
IS,Rails path helpers generate paths with 2F instead of slashes,Steps to reproduce I have in my routes file In my code check delete project path project Expected behavior It should return the path seperated by slash Actual behavior The path is generated with 2F Then the action fails with 404 System configuration Rails version 4 1 16 Ruby version 2 1 9 Note In Rails 4 1 1 it works fine So it seems like a bug in one of the dependencies of Rails 4 1 16,,pixeltrix,2017-03-02 10:14:31,2017-03-06 14:07:16
IS,redirect to with record creates incorrect URL,Steps to reproduce redirect to with record creates URLs like instead of Here is the reproduction script Expected behavior Correct URLs should be created Actual behavior Incorrect URLs are being created System configuration Rails version master branch Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,"alexcameron89,pixeltrix",2017-03-06 12:40:53,2017-03-06 14:26:15
PR,Update release rb,The guide has been updated Explanation is part of a very important function,,matthewd,2017-03-06 15:09:57,2017-03-06 15:44:27
PR,Update rails dom testing gem to 2 0,Upgrades rails dom testing to 2 0 which will allow dependencies such as Nokogiri to run on 4 2 stable with Ruby 2 4 Backports 24946 to 4 2 stable and fixes 24924,,"pixeltrix,matthewd,pixeltrix,matthewd,pixeltrix",2017-03-06 00:38:47,2017-03-06 16:06:54
PR,Update database yml when rails new new app d oracle specified,Summary This pull requests updates database yml for Oracle enhanced adapter users Install activerecord oracle enhanced adapter Oracle adapter used to be a bundled one Now it is a 3rd party one Also ruby oci8 is a required gem for CRuby not for JRuby Remove oracle entry for JRuby since Oracle enhanced adapter supports both CRuby and JRuby with a single gem Change adapter name from oracle to oracle enhanced in the oracle yml Not changing d oracle Update DATABASE URL entry to use a dash instead of an underscore Refer for the reason,,"yahonda,pixeltrix,yahonda,pixeltrix",2017-03-02 21:15:10,2017-03-06 17:35:44
IS,Titleize does not capitalize first word in sub string,Steps to reproduce str i said 'the first word should be cap' i said 'the first word should be cap' str titleize I Said 'the First Word Should Be Cap' Expected behavior I Said 'The First Word Should Be Cap' Actual behavior I Said 'the First Word Should Be Cap' System configuration Rails version 5 0 1 Ruby version 2 3 3 It seems like this is the commit that introduced this behavior the lookbehind operator added in the PR does not match any character behind a single quotation mark even when there is whitespace before that quotation mark I'm no expert in regex but I can create a PR to revert to the previous behavior and add a test case for this,,"pixeltrix,matthewd,pixeltrix,matthewd",2017-03-06 16:11:51,2017-03-06 17:53:00
PR,better docs for ActiveSupport NumberHelper NumberToHumanSizeConverter convert,Added info for the convert method,,pixeltrix,2017-03-06 16:01:46,2017-03-06 18:46:04
IS,Rails 5 1 0 beta1 Should not be the line config read encrypted secrets true in all environments,Steps to reproduce When I run bin rails secrets setup it puts config read encrypted secrets true in my production environment or it was there before but to use it as desired I need to put config read encrypted secrets true in all my environments Expected behavior I do not expect Rails application secrets to be missing my secrets yml enc in development Actual behavior Well the keys are missing System configuration,,"matthewd,matthewd,kaspth,kaspth",2017-02-27 01:02:41,2017-03-06 19:48:11
PR,5 0 stable,,,,2017-03-06 22:15:31,2017-03-06 22:35:39
PR,Fix typo titlelize titleize ci skip,,,"y-yagi,maclover7",2017-03-06 23:08:56,2017-03-06 23:11:12
IS,has one scoped polymorphic association throwing 'a wrong number of arguments given 1 expected 0 ',Steps to reproduce I have two has one polymorphic association between a Company model and Address model one for main and one for billing I will just outline the steps to reproduce on main address but the error occurs on both Expected behavior company main address line1 should and does in 5 0 2 return 123 Fake St Actual behavior ArgumentError wrong number of arguments given 1 expected 0 System configuration Rails version 5 1 0 beta1 Ruby version 2 4 0,,al2o3cr,2017-03-06 21:53:49,2017-03-07 01:25:12
PR,Remove on option that does ot exist ci skip,That option was removed in 0a683085b1db435b7371350b2799a0f248cd717a,,y-yagi,2017-03-07 06:43:04,2017-03-07 06:46:07
IS,Rails Guides,Hi when I clicked the Rails 4 2 link on the home page of Ruby on Rails Guides it was linked to the Edge Guides please fix it,,"st0012,robin850,fxn,fxn,fxn,fxn",2017-03-02 13:25:20,2017-03-07 08:26:45
IS,secrets yml enc Permission denied,Steps to reproduce After successfully executing bin rails secrets setup invoking bin rails secrets edit ends up with Waiting for secrets file to be saved Abort with Ctrl C sh var folders wp xjsxjtb54td62xx95q3x hk00000gn T secrets yml enc Permission denied New secrets encrypted and saved sudo did not help me either System configuration MacOSX Sierra 10 12 2 16C67 Rails version rails 5 1 0 beta1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,,2017-03-07 09:05:08,2017-03-07 09:28:52
IS,AR 5 0 2 migrations invokes Rails application which breaks for non rails apps,AR 5 0 2 L24 L30 Perhaps it should be,,"pixeltrix,pixeltrix,pixeltrix",2017-03-07 05:34:04,2017-03-07 10:22:11
IS,Erubis deprecation warning with haml rails,Steps to reproduce add to Gemfile haml rails execute bundle exec rake T Expected behavior No deprecation warnings Actual behavior Received the warning DEPRECATION WARNING ActionView Template Handlers Erubis is deprecated and will be removed from Rails 5 2 Switch to ActionView Template Handlers ERB Erubi instead called from top required at Users francesco sviluppo rails moose config application rb 7 System configuration Rails version 5 1 0 beta1 Ruby version 2 4 0,,kaspth,2017-03-07 12:14:19,2017-03-07 12:21:34
PR,3 2 stable,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,eileencodes,2017-03-07 10:51:30,2017-03-07 12:59:39
PR,Improve foreign key description in guides,There is an inaccuracy between description and code example in guides I propose a code example fix,,"Erol,vipulnsward,robin850,robin850,robin850",2017-03-04 16:39:08,2017-03-07 13:15:36
PR,Document delegated public methods on AC Parameters,AC Parameters no longer inherits from Hash 20868 and that PR noted This commit is implementation complete as it guarantees that all the public methods on the hash inherited Parameters are still working based on test case We can decide to follow up later if we want to remove some methods out from Parameters So it seems as though these methods that are delegated to the underlying hash are public and therefore usable if so they should be documented This PR does that See also 23034 which added as json to this list If this is not the intention then something should indicate that these methods should not be publicly used long term making them private a comment a deprecation warning something,,"tjschuck,tjschuck,maclover7,maclover7",2017-03-07 23:19:36,2017-03-07 23:56:12
IS,ERROR Failed to build gem native extension,,,maclover7,2017-03-07 20:12:42,2017-03-08 00:04:50
IS,rails new C generates and then removes actioncable related files,Steps to reproduce rails new myapp C Expected behavior Files directories such as app channels app assets javascript cable js config cable yml should never exist Actual behavior Files directories such as app channels app assets javascript cable js config cable yml are generated and then removed in a later step System configuration Rails version 5 0 1 Ruby version 2 3 1 Other I'm happy to work on this provided someone is not already tackling it,,rafaelfranca,2017-03-05 20:58:49,2017-03-08 05:27:39
PR,Use appropriate type in generators test,This fixes the following thor is warning,,y-yagi,2017-03-08 03:30:43,2017-03-08 09:26:40
PR,Backport Document delegated public methods on AC Parameters,Backport of 28334 to 5 0 stable cc,,"tjschuck,tjschuck",2017-03-08 00:05:07,2017-03-08 21:40:03
PR,Tests for delegated public methods on AC Parameters,This adds tests for all the delegated public methods on AC Parameters newly documented in 28334 as requested by in this comment issuecomment 284900140,,"tjschuck,tjschuck,tjschuck",2017-03-08 00:32:22,2017-03-08 21:40:53
PR,Document using default url options in an ActionMailer class,Summary It is possible to have a default url options method in your mailer classes It will be used instead of the global defaults This is useful if you have your app sitting on many domains and need to have some outgoing e mails link to one domain and others to another domain This works because ActionMailer Base inherits all relevant plumbing from AbstractController Base but is not documented anywhere Is it considered private behavior then This commit adds a single sentence to ActionMailer Base is doc explaining that usage,,"maclover7,maclover7",2017-03-08 12:42:04,2017-03-09 00:10:21
IS,Creating a view in a migration makes problematic schema rb MySQL,Steps to reproduce Create a migration like so details do not really matter as long as you make a view Expected behavior Probably whatever makes schema rb should be smart enough to realize that my view is not a table Actual behavior The schema rb file thinks the view you just created is a table breaking any attempts to set up your db without using migrations System configuration Rails version Rails 4 2 7 1 Ruby version ruby 2 3 3p222 MySQL Version mysql Ver 15 1 Distrib 10 1 3 MariaDB Notes Not sure views are commonly used functionality I tend to use them when data is significantly more complicated than what is needed for display We have been using one as a way of simplifying read only access to what I would term complicated legacy data that is otherwise next to impossible to work with effectively and is only infrequently accessed by a few internal users for near a year now with various workarounds Did not know scenic existed either for whatever that is worth May look into it now that I do know it exists Not sure its existence negates this as an issue or not,,"kamipo,al2o3cr",2017-03-08 22:40:00,2017-03-09 11:39:16
IS,has many through injects unwanted join,Steps to reproduce This should now print Expected behavior The output Patient all to sql should be SELECT patients FROM patients Actual behavior But the output is SELECT patients FROM patients INNER JOIN appointments ON patients id appointments patient id WHERE appointments physician id 1 System configuration Rails version 5 0 0 5 0 1 5 0 2 and 5 1 0 beta1 Ruby version 2 3 0 2 3 3 and 2 4 0,,"al2o3cr,matthewd",2017-03-08 23:06:28,2017-03-09 11:57:12
IS,Regression on numericality validation,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Should get a validation error Actual behavior ArgumentError invalid value for BigDecimal apple System configuration Rails version Rails 5 1 0 beta1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 linux Notes This is a regression from 5 0 2,,"al2o3cr,maclover7",2017-03-08 17:14:37,2017-03-09 14:45:11
PR,Fix an issue where ActiveSupport Reloader reload would cause to prepare callbacks to be called twice,See for details,,"rafaelfranca,matthewd,matthewd",2017-02-22 17:52:50,2017-03-09 15:05:44
IS,ActiveSupport Reloader reload invokes to prepare callbacks twice,Calling reload invokes to prepare callbacks twice This is asserted in the tests L58 L59 but seems undesirable from a consistency and performance standpoint This also differs from the Rails server behavior which calls the to prepare callbacks only once when reloading Steps to reproduce Expected behavior The to prepare callback should be invoked once Actual behavior The to prepare callback is invoked twice System configuration Rails version master also reproduced in 5 0 1 Ruby version 2 4 0,,maclover7,2017-02-22 15:49:01,2017-03-09 15:06:09
IS,has many association select with block given does not return newly built records,Select with block given for has many association is broken in 5 1 0 beta1 and current master It does not include newly built records It looks like the regression is caused by 25877 Steps to reproduce Expected behavior Select with block given should select both newly built and existing items Actual behavior Select returns only saved items System configuration Rails version 5 1 0 beta1 Ruby version 2 4 0,,,2017-03-08 19:01:30,2017-03-09 16:23:33
PR,Fix select with block does not return newly built records in has many association,The select in QueryMethods is also an enumerable method Enumerable methods with block should delegate to records on CollectionProxy not scope Fixes 28348,,kamipo,2017-03-09 05:27:39,2017-03-09 16:23:33
IS,Rails 5 Changes Lookup Order of Virtual SQL Attributes,Steps to reproduce Given an ActiveRecord model WidgetMaker that looks like the following Attempting to call suspended widget maker first publisher will attempt to call the association method not the virtual attribute Under Rails 4 2 7 it calls the virtual attribute first I could not find anything in the release notes relating to this change Expected behavior Calling publisher on an instance returned by this SQL statement will attempt to call the virtual attribute first Actual behavior Calling publisher on an instance returned by this SQL statement attempts to call the association method first This is a regression from Rails 4 2 7 System configuration Rails version 5 0 1 Ruby version 2 2 3,,maclover7,2017-03-06 19:06:06,2017-03-09 17:17:39
PR,Backport Send user supplied options to server,Currently when Puma gets a Port it does not know if it is Rails' default port or if it is one that is specified by a user Because of this it assumes that the port passed in is always a user defined port and therefor 3000 always wins even if you specify port inside of the config puma rb file when booting your server with rails s The fix is to record the options that are explicitly passed in from the user and pass those to the Puma server or all servers really Puma then has enough information to know when Port is the default and when it is user defined I went ahead and did this for all values rails server exposes as server side options for completeness The hardest thing was converting the input say p or port into the appropriate name in this case Port There may be a more straightforward way to do this with Thor but I'm not an expert here Move logic for parsing user options to method Better variable name for iteration Explicitly test port user input Update array if environment variables are used,,schneems,2017-03-06 23:21:09,2017-03-09 18:24:10
IS,Routes constraints defined in a single route is being applied for Rack blocks too,Steps to reproduce Declaring a route pointing to a Rack block and declaring a Rails Route pointing to a controller with a constraint Expected behavior The constraint declared must be applied only for get id route Actual behavior The given constraint is applied for rack action The same does not happen for the second route get another routes System configuration Rails version 4 2 7 1 Ruby version 2 3 3,,"pixeltrix,pixeltrix,pixeltrix",2017-03-07 13:11:53,2017-03-09 18:37:59
PR,Deprecate Migrator schema migrations table name,Follow up of 28293 Since 67fba0cf SchemaMigration model was extracted Use SchemaMigration table name instead r,,kamipo,2017-03-08 23:51:03,2017-03-09 18:55:34
IS,In development RAILS MASTER KEY is not read from the environment variable,Steps to reproduce 1 add config read encrypted secrets true to config environments development rb 2 export RAILS MASTER KEY cat config secrets yml key 3 mv config secrets yml key config secrets yml key bak 4 bundle exec rails g 5 mv config secrets yml key bak config secrets yml key 6 bundle exec rails g Expected behavior Both rails g executions should show the Rails generator help entry Actual behavior The first execution raises the following exception The second execution works as expected System configuration Rails version 5 1 0 beta1 Ruby version 2 3 3,,"pixeltrix,pixeltrix,kaspth",2017-03-06 15:52:05,2017-03-09 19:03:57
PR,Show correct commands in help,Currently rails' help shows only namespace However the secrets command needs to specify command not only namespace Therefore command should be displayed in help Before,,"y-yagi,kaspth,y-yagi,y-yagi,kaspth,maclover7,y-yagi,kaspth",2017-02-26 12:21:50,2017-03-09 19:27:39
IS,Rails 5 1 Action cable breaks when importing lodash,I installed lodash via yarn and when I try to require the file I get the following error For some reason action cable seems to break when importing underscore,,"maclover7,javan,javan,javan,javan",2017-03-03 18:56:01,2017-03-10 12:28:14
IS,Rails 5 1 Cannot require yarn packages,I tried to install vue js like What I think is bin yarn is creating node modules directory in the root instead of vendor This could be the problem Note I have yarn installed globally too,,"maclover7,dhh",2017-03-03 10:26:29,2017-03-10 12:44:39
IS,Allow rake task eager loading to be allowed in production,It seems that class eager loading in rake tasks was disabled in 2013 diff 580e183141be706162224ef696bdb6c7R294 due to an issue with precompilation but as a result I'm seeing thread safety issues when running rake tasks in a production worker Should not Rails users be given a choice configuration option as to whether their classes are eager loaded in rake tasks or not,,eugeneius,2017-03-09 16:29:23,2017-03-10 14:03:30
IS,System testing failure screenshots no longer taken,This is in fact probably linked to 28264 28223 and or 28144 The driver seems to be reset to RackTest before the failure screenshot is taken With Rails when I display the driver name in setup teardown and supports screenshot,,"y-yagi,eileencodes,eileencodes",2017-03-09 11:18:31,2017-03-10 17:34:56
IS,Running system tests stops development Puma server,Steps to reproduce New Rails app from master create a system test launch rails s in a terminal and rake test system in another one Expected behavior System tests run fine and the rails s server is still running Actual behavior When the Puma server from system tests starts it signals the other Puma started by rails s which then tries to restart and fails because it detects the other instance Analysis I havent looked at the details but I think it is because you use the same pid file tmp pids server pid for the system tests Puma Changing it to something else will probably solve this I can submit a PR if you confirm this is the correct fix System configuration Rails version 5 1 0 from master Ruby version 2 3 3p222,,"eileencodes,eileencodes,eileencodes,eileencodes",2017-02-23 11:16:10,2017-03-10 17:36:11
IS,Add adapter method for creating job retries,Today ActiveJob creates retries by creating a brand new job and swallowing the error WDYT,,"mperham,rafaelfranca,dhh,mperham,dhh,mperham",2017-03-08 18:29:41,2017-03-10 18:49:36
PR,Improve readability of testing guide ci skip,Small change to improve the readability in section 2 3 of the testing guide,,,2017-03-10 19:33:15,2017-03-10 19:35:53
PR,Remove conditions parameter from NullRelation delete all,Follow up of e7381d289e4f8751dcec9553dcb4d32153bd922b,,kamipo,2017-03-10 12:14:00,2017-03-10 20:52:49
PR,Make sure local cache cleared even it is throwing,We GitLab hit into an issue that somewhere in the middleware chain was throwing warden which was caught in the wrapping middleware but LocalCache Middleware was not aware of it It should look like Source L35 L37 Using ensure could make sure that we would always do the cleanup and better yet avoid rescue Exception which we all should know that could cause some issues which could be very hard to debug Please check the discussion thread for more context note 25128108 cc,,rafaelfranca,2017-03-10 17:57:21,2017-03-10 23:06:33
IS,ActionController Parameters should implement reverse merge,reverse merge is useful for setting defaults in hashes and also controller parameters Parameters already implements merge so it should likely implement reverse merge as well Steps to reproduce Expected behavior No deprecations Actual behavior DEPRECATION WARNING Method reverse merge is deprecated and will be removed in Rails 5 1 as ActionController Parameters no longer inherits from hash Using this deprecated behavior exposes potential security problems If you continue to use this method you may be creating a security vulnerability in your app that can be exploited Instead consider using one of these documented methods which are not deprecated System configuration Rails version 5 0 0 1 Ruby version 2 3 3,,"derekprior,sikachu,pixeltrix,maclover7,derekprior,rafaelfranca",2017-03-09 02:09:02,2017-03-10 23:10:52
PR,Added reverse merge reverse merge to AC Parameters,Hey guys Added reverse merge reverse merge to AC Parameters This PR adds the reverse merge and reverse merge methods to ActionController Parameters Fixes 28353 Q A Branch Master Fixes 28353 New feature yes Tests pass BC breaks no,,"Edouard-chin,kamipo,Edouard-chin,kirs,Edouard-chin",2017-03-09 06:50:26,2017-03-10 23:11:54
IS,Rails 5 1 Cannot require a file located in app javascript packs,I'm trying to require a javascript file that I created inside app javascript packs I have run bin webpack and the file is correctly loaded and visible inside the JS console But if I try to require it inside my application js like this The app cannot find it Off course I have try many different paths,,rafaelfranca,2017-03-09 18:45:56,2017-03-10 23:13:54
IS,Rails 5 1 iselect' on association proxy does not see new unsaved records,Steps to reproduce Run test in gist here or Set up a blog comment schema where comments have a 'text' Create a post Do post comments build text 'New text' Do post comments select x x text 'New text' Expected behavior I expect this to return an array containing the new unsaved record returned by build as it does in Rails 5 0 2 This is also what happens in 5 1 0 beta1 with post comments to a select x x text 'New text' note the to a Actual behavior It returns an empty array System configuration Rails version 5 1 0 beta1 Ruby version 2 2 4,,kamipo,2017-03-10 19:21:42,2017-03-11 06:07:44
PR,docs remove unnecessary sentence,,,"shime,pixeltrix",2017-03-11 12:31:51,2017-03-11 13:32:36
IS,create association method added by has one throws ArgumentError in some cases,Steps to reproduce 1 Create two models Service and SamlServiceProviderMetadatum 1 metadatum was contrived by the Rails inflector when I used the generator to create the model 1 SamlServiceProviderMetadatum belongs to service 1 Service has one saml service provider metadatum 1 Instantiate a Service i e service Service first 1 Call service create saml service provider metadatum Expected behavior service create saml service provider metadatum should create a SamlServiceProviderMetadatum where service saml service provider metadatum service id service id Actual behavior Rails throws ArgumentError wrong number of arguments given 1 expected 0 Note doing sp service build saml service provider metadatum sp save works fine I'm suspicious that there is something going on with the way inflection works but I'm out of my depth on tracking that down System configuration Rails version 5 0 0 1 Ruby version 2 3 3p222,,"maclover7,maclover7",2017-01-22 22:40:20,2017-03-11 19:48:08
PR,Use correct value in reverse merge test,,,y-yagi,2017-03-11 05:08:44,2017-03-11 21:33:11
IS,Rails Server Will Not Allow Custom Port Number to Run Defaults to 3000,Steps to reproduce Expected behavior Expect when passing p 9002 that Puma local app server will listen on specified port Actual behavior Puma does not listen on 9002 instead defaults to 3000 System configuration Rails 5 0 1 Ruby ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,"maclover7,maclover7",2017-03-11 16:16:54,2017-03-11 23:00:34
IS,Rails 5 1 Primary Key is not a BIGINT,Expected behavior Using rails 5 1 beta1 and mysql2 migrations should use BIGINT as primary key integers by default 26266 Actual behavior Still my primary keys are all 4 bit integers Steps to reproduce db migrate 20170311112129 create receipts rb class CreateReceipts ActiveRecord Migration 5 1 def change create table receipts do t t timestamps null false end end end Trying to set a BIGINT like 5473508900871246157 as id Rails raises the following exception ActiveModel RangeError 5473508900871246157 is out of range for ActiveModel Type Integer with limit 4 bytes System configuration Rails version 5 1 beta1 Ruby version 2 3 3,,"vipulnsward,matthewd,matthewd",2017-03-11 17:57:47,2017-03-12 08:27:01
IS,Feature request Render collection to strings,Hi I have originally posted this in the Rails Core mailing list topic rubyonrails core Cx0GXz k7Dc but it does not seem very active Often it is useful to render a collection not to one string but to a list of strings especially when caching In my app the Thredded forums engine we used to cache the posts on a topic page using collection caching This requires the entire post to be cached due to the current collection caching interface even though only the post content itself is slow to render That is was not a large problem for us until now To get around that I have implemented a render collection to strings with cache method that returns a list of object rendered partial pairs implementation diff 00110786c7c8a611fd05432b7fb15270 We now only cache the post contents and not the chrome around it using multi get and with cache hits instrumentation same as regular the collection caching Do you think a feature like this belongs in ActionView,,vipulnsward,2017-03-08 17:04:36,2017-03-12 08:34:27
PR,Fix typo on edgeguides,Use comparison operator instead of assignment operator,,"maclover7,vipulnsward",2017-03-06 22:31:48,2017-03-12 08:42:33
PR,AS Cache MemoryStore doc fixes ci skip,,,vipulnsward,2017-03-12 09:05:28,2017-03-12 09:05:44
IS,ActiveRecord changes inner join to left outer join with merge,If you merge a scope which has inner join with another relation then the inner join becomes left join It should stay as inner join Below you can find an example test case that demonstrates the issue Steps to reproduce Expected behavior Merging relations should not change inner join to left join Actual behavior Merging relations changes inner join to left join on merged part System configuration Rails version 4 2 x 5 x x master,,"meinac,meinac,pixeltrix",2017-02-28 10:14:48,2017-03-12 09:29:34
PR,Fix typo in the security guide,ci skip,,bogdanvlviv,2017-03-12 10:12:25,2017-03-12 11:31:33
PR,Add link to mentioned API ci skip,,,vipulnsward,2017-03-12 14:07:37,2017-03-12 14:07:49
PR,Introduce ActiveSupport TestCase describe for grouping related tests,We in the Ruby world write lot is of tests And this is awesome Now writing lot is of tests means we do have to manage them somehow See my controller tests taken right from an app I have been working on This is RESTful controller here that is something a bit more specified I know David does not prefer the BDD DSL but I wanna make a case for describe here It does not create hidden test cases or special environments It cannot be nested by design so we do not promote those levels into levels into levels kind of tests It is used purely for organizational work would you be interested in such change,,"gsamokovarov,pixeltrix,dhh",2017-03-11 15:59:02,2017-03-12 16:24:17
PR,Simply delegate as json to records,,,"kamipo,pixeltrix",2017-03-10 14:35:04,2017-03-12 17:00:05
PR,Simply forward Calculations count to Enumerable count,Follow up of 24203 Since b644964b ActiveRecord Relation includes Enumerable so it is enough to call super simply,,"kamipo,pixeltrix",2017-03-10 13:32:47,2017-03-12 18:10:59
PR,Fixes ActionController Rendering with defaults,ActionController Renderer with defaults raises NameError undefined local variable or method Use instance variable instead of local variable,,amatsuda,2017-03-09 01:22:25,2017-03-13 10:22:03
PR,Suppress deprecation warning implementing to yaml is deprecated,Summary Following script will output deprecation warning,,"mtsmfm,mtsmfm,mtsmfm,matthewd",2017-02-15 14:54:23,2017-03-13 11:16:14
IS,ActiveRecord Memory leak in record relation new,Steps to reproduce Complete reproducible test case zip file with Gemfile That is how new is implemented System configuration Rails version 5 0 2 Ruby version 2 2 2 2 3 3,,al2o3cr,2017-03-13 05:04:50,2017-03-13 11:24:32
IS,Screenshots in system testing should not always be displayed,When running system tests using a CI there should be an option to not display the screenshot inline L42 Currently you can set ENV CAPYBARA INLINE SCREENSHOT artifact but this is not documented I would suggest an environment variable to control this behaviour with a simple option to just display the screenshot path artifact to display it using the artifact protocol supported by some CI and inline The default could be inline a terminal platform detection may be better here to avoid big Base64 outputs in basic terminals and I would strongly advise to have simple or artifact defined if ENV CI is set to provide a sane default what do you prefer I can send a PR with the implementation you want,,eileencodes,2017-02-23 21:45:54,2017-03-13 12:01:04
PR,Dont always display inline screenshots in system testing 28133,Fixes 28133 3 output types are supported simple only display the screenshot path artifact display the screenshot in the terminal using the artifact protocol supported by some CI inline default display the screenshot in the terminal inline supported by some terminals You can force the output type by setting the RAILS SYSTEM TESTING SCREENSHOTS OUTPUT environment variable I am not sure if the documentation should be updated Also inline screenshot is only supported by a few terminals On a mac Terminal app displays an empty line and iTerm displays the inline image Some terminals might display the Base64 encoded screenshot instead I dont know if we want to add some kind of detection or this is even possible without having a whitelist of TERM PROGRAM values,,"eileencodes,eileencodes,eileencodes,eileencodes,eileencodes",2017-02-26 15:03:23,2017-03-13 12:01:04
PR,Restore action cable js UMD module support Fixes 28366,Fix for 28366 774be3ea3b9d25ab69daf11c5071deaf053d7d5b bumped Blade from 0 6 1 to 0 7 0 which dropped sprockets export from Gemfile lock Blade 0 7 0 no longer includes sprockets export as a dependency Doing so silently dropped action cable js is UMD module support essentially breaking it as an npm package This change restores sprockets export and adds a new rake task that validates action cable js to help ensure this does not happen again cc,,"javan,matthewd,javan,matthewd,javan",2017-03-11 17:48:57,2017-03-13 15:11:14
IS,Feature Request webpack2 import actioncable,actioncable 5 0 2 not support webpack2 now,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,javan,javan",2017-03-10 02:48:34,2017-03-13 15:13:08
PR,docs fix ActionController docs,,,"shime,vipulnsward,vipulnsward,vipulnsward,vipulnsward,vipulnsward,vipulnsward,kamipo,shime,vipulnsward,shime,vijaydev,vijaydev,shime,vipulnsward,shime,vipulnsward,shime",2017-03-11 13:18:23,2017-03-13 17:30:52
IS,rails secrets edit fails on EDITOR atom,When running rails secrets edit the save watcher abruptly ends during Atom is startup process A file still opens but nothing will be saved as the watcher has already ended Steps to reproduce EDITOR vim rails secrets edit Triggers vim works as expected EDITOR atom rails secrets edit Triggers atom Watcher thinks the file has been saved and immediately ends Expected behavior With Atom the watcher should continue to watch for a user invoked save Actual behavior With Atom the watcher ends during Atom is startup process System configuration Ruby 2 3 1 Rails 5 1 0 beta1 Atom 1 12 7,,"y-yagi,maclover7",2017-03-13 04:47:45,2017-03-13 20:24:47
PR,Fix typo ci skip,Arcticle Article,,,2017-03-13 22:32:33,2017-03-13 22:34:36
PR,Fix Typo ci skip,Arcticle Article,,maclover7,2017-03-13 22:38:26,2017-03-13 22:43:15
PR,Extract data source sql to refactor data source statements,,,"kamipo,maclover7,kamipo",2017-02-19 13:38:09,2017-03-13 23:56:13
IS,active support core ext marshal breaking jRuby Marshal,Steps to reproduce I am trying to upgrade a jRuby Rails app from 5 0 0 to 5 0 2 The following test fails on JRuby 9k I tested 9 1 8 0 9 1 6 0 and passes on MRI 2 4 0 System configuration 5 0 2 also master 5 0 1 works jRuby 9 1 8 0 also 6,,"rafaelfranca,rafaelfranca,rafaelfranca,maclover7",2017-03-08 15:27:02,2017-03-14 01:35:17
PR,Remove non exists method delegation,Summary The ActiveModel Type Registry add modifier has been removed since commit 4590d77 but the delegation still there so I remove it,,rafaelfranca,2017-03-09 10:30:35,2017-03-14 01:41:09
PR,500x memory reduction of 10k schemas for postgresql adapter,Summary What is the improvement on my local database 10k schemas test memory usage 408 838M 884 509k I use benchmark memory gem I put the detail data on other information on our production server 80k schemas save our production real memory usage from about 8GB to 300mb why I do this background Our production structure is multi schema we use apartment gem currently we have about 80000 schemas I found our server will consume a lot of memory about 3G per puma worker while using active record to connect to the database code I modified the SQL statements inside the load additional types method because I found the current SQL statement is loading too much PostgreSQL type data from pg type But there are a lot of redundant types for active record About pg type table A composite type is automatically created for each table in the database to represent the row structure of the table so if there are a lot of tables in the database especially for multi schema structure database PostgreSQL will create a lot of records in the pg type table how to do it I use select distinct to filter them in order to reduce memory bloat I think active record does not need to be mapped to all these records because we do not have the type is name is the same as the table is name I have two solutions use select distinct because in multi schema structure there are a lot of redundant data on pg type use t typname not in select distinct on table name ' ' table name from information schema tables for performance considerations I choose to use select distinct I test this patch on our production environments it reduce a lot of memory usage Before this patch one worker consumed memory about 3GB because 2389860 records selected from the current SQL statement we have about 50000 schemas in our database After this patch one worker just consumed memory about 300MB only 163 records selected from the amended SQL statement Other Information I also use benchmark memory gem to test on my local environments I create two database environments 1 development 408 schemas 2 big 10000 schemas It is about 500 times difference,,matthewd,2017-03-10 10:14:14,2017-03-14 01:46:37
PR,Use current database in MySQL is table exists,This is a minor regression from when we switched from using SHOW TABLES to querying the information schema for table exists SHOW TABLES by default querys the currently selected database but the current implementation defaults to config database if no database name is prepended to the table name This meant that if you issued a USE statement to change database table exists gives spurious results as it is still querying config database The solution is to use the MySQL DATABASE function in place of config database issuecomment 286064885,,"kamipo,rafaelfranca",2017-03-13 12:53:43,2017-03-14 03:01:20
PR,Add CHANGELOG for 26226 ci skip,skip pipeline and poster skip pipeline were added by in 26226,,"claudiob,schneems",2017-03-14 03:05:30,2017-03-14 03:06:45
PR,PostgreSQL Ensure to configurable SET time zone,PostgreSQL does not support SET time zone TO syntax,,"kamipo,matthewd,kamipo,kamipo",2017-03-14 01:49:10,2017-03-14 09:51:39
IS,Ca not decode encrypted text with 2 3 0 with 2 4 0,Steps to reproduce Expected behavior I would like to be able to decode text encoded on Rails 4 2 8 2 3 0 on 4 2 8 2 4 0 I know this issue is related to ruby 2 4 0 but also with the rails implementation I may have miss a simple way of doing it but after hours I can not figure out There is a sort of mix between ruby key validation size needed for cipher key inside MessageEncryptor and what is used inside ActiveSupport MessageVerifier generate digest It needs the encoding key at the right size 32 for ActiveSupport MessageEncryptor new key but the full key used for encryption on 2 3 0 for OpenSSL HMAC hexdigest OpenSSL Digest const get digest new data source L69 System configuration Rails version 4 2 8 Ruby version 2 3 0 then 2 4 0 Thanks in advance for the help,,rafaelfranca,2017-03-13 17:59:06,2017-03-14 10:06:21
PR,Remove obsolete warning about regular expression,This warning became obsolete when the regular expression was changed to use z instead of Z in fce9c4e5e1ecb31cff2ca43a04fbe332816c3c45,,kamipo,2017-03-14 10:23:06,2017-03-14 10:31:05
PR,Add CHANGELOG entry for skip coffee ci skip,Was added in 25248 by,,"claudiob,rafaelfranca",2017-03-15 01:09:56,2017-03-15 01:14:01
PR,Rename test of app update to more appropriate name,rails update was changed to app update in 6fb31638c8b61731103d4963272755b217a2df87 Therefore I think that it is better that the test name is also app update,,y-yagi,2017-03-15 10:13:56,2017-03-15 12:20:01
PR,Make destroy command work within engines,Instead of calling methods of Rails application directly we need to use a method that is considered for the rails engine,,y-yagi,2017-03-14 07:50:34,2017-03-15 13:39:20
PR,Remove unused txn variable,This was added in c24c885209ac2334dc6f798c394a821ee270bec6 removed in b89ffe7f0047eb614e42232a21201b317b880755 and then unintentionally reintroduced in 2d7ae1b08ee2a10b12cbfeef3a6cc6da55b57df6,,"eugeneius,schneems",2017-03-15 12:17:40,2017-03-15 13:44:32
PR,Add documentation about signature key for MessageEncryptor new ci skip,Summary I spent some times trying make a migration from ruby 2 3 to 2 4 with wrong signature key for ActiveSupport MessageVerifier new I think ActiveSupport MessageEncryptor lacks of documentation about the sign secret parameter,,"maclover7,maclover7",2017-03-14 18:21:51,2017-03-15 15:32:24
PR,Remove implicit coercion deprecation of durations,In 28204 we deprecated implicit conversion of durations to a numeric which represented the number of seconds in the duration because of unwanted side effects with calculations on durations and dates This unfortunately had the side effect of forcing a explicit cast when configuring third party libraries like expiration in Redis e g redis expire foo 5 minutes To work around this we have removed the deprecation and added a private class that wraps the numeric and can perform calculation involving durations and ensure that they remain a duration irrespective of the order of operations,,pixeltrix,2017-03-15 14:41:28,2017-03-15 15:46:56
PR,Fix fragile test AssociationProxyTest test save on parent saves children,If we run only following tests test cases scoping default scoping test rb test cases associations test rb In 28083 change self use transactional tests to false but we forget to clean up fixture However we do not have to disable transaction except a few tests,,mtsmfm,2017-03-15 15:17:18,2017-03-15 16:25:19
PR,Revert 27850 following test breakage,Explained the issue in 27848,,dhh,2017-03-15 16:25:46,2017-03-15 16:46:29
IS,ActionDispatch Routing RouteSet recognize path assert recognize leaks parameters,ActionDispatch Routing RouteSet recognize path does not reset parameters between trying different constraints out It only adds L863 L864 parameters Normal matching does not exhibit the same behavior and there is a test to make sure of it L4177 L4195 Steps to reproduce Add the following code to actionpack test controller routing test rb System configuration Rails version 5 0 2 master Ruby version 2 3 3,,"maclover7,pixeltrix",2017-03-13 11:45:48,2017-03-15 16:54:03
PR,Reset path parameters every time a route fails to match,Summary Fixes bug ActionDispatch Routing RouteSet recognize path request path parameters is always merged with defaults even though route is not matched,,"pixeltrix,pixeltrix",2017-03-04 06:23:22,2017-03-15 16:55:56
IS,ActionCable 5 1 0 beta1 throws uncaught referenced error upon import in Webpacker,Steps to reproduce 1 Using rails 5 1 0 beta1 run yarn add actioncable 5 1 0 beta to get actioncable in your application to be 5 1 0 beta1 2 Create a file in frontend javascripts that will be loaded by webpacker that imports actioncable as such import as ActionCable from 'actioncable' this is typescript syntax Expected behavior ActionCable should be loaded normally and no problem should occur as was the case in previous versions of ActionCable Actual behavior An uncaught referenced error is thrown Uncaught ReferenceError ActionCable is not defined on line 61 of node modules actioncable lib assets compiled action cable js The line itself is with further context is System configuration Rails version 5 1 0 beta1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin15,,"matthewd,matthewd,matthewd",2017-03-15 17:09:10,2017-03-15 18:28:42
PR,abstract class ' returns false when instance variable does not defined,Summary abstract class returns nil when abstract class was not defined For example I suppose that User abstract class could be better to return false not nil,,matthewd,2017-03-15 17:50:17,2017-03-15 18:56:56
PR,Add secrets edit test,Summary This add a test that actually executes the secrets command I use the ex command in test to avoid starting the editor Therefore it makes me feel a bit strange What do you think r,,"y-yagi,kaspth,kaspth,y-yagi",2017-03-10 07:53:57,2017-03-15 19:40:58
PR,Allow Time to time on frozen objects Return frozen time rather than RuntimeError can not modify frozen Time,Problem In 29f211f8419e91002feefe82d827875b3a035b55 memoization was added to DateAndTime Compatibility to time for performance reasons Unfortunately since Time can be frozen memozation is not possible Any creating of ivars from inside a frozen object will immediately raise a RuntimeError So any call to to time on a frozen Time raises This affects all stable versions of rails Solution I have reverted the commit that adds this memoization I added regression tests to cover the cases with frozen Time and DateTime objects since the module is included in both In working through this problem and attempting to test it I found that calling to time on a time does not return a frozen time which is inconsistent I have fixed this by returning a frozen time if the original was frozen Next steps This affects 5 0 stable and 4 2 stable so I intend to backport the memoization revert and regression tests to those branches Question question Should I also backport the last commit making freeze to time return a frozen time It is a behaviour change There is actually a more serious regression specifically and exclusively in 4 2 8 that causes a RuntimeError can not modify frozen Time to be raised whenever anything is compared with a frozen Time Details in a follow up PR,,"kmcphillips,kmcphillips,kmcphillips,kmcphillips,kmcphillips,kmcphillips,pixeltrix,pixeltrix,pixeltrix,pixeltrix,kmcphillips,pixeltrix,kmcphillips,pixeltrix,pixeltrix,kmcphillips,kmcphillips,kmcphillips,pixeltrix,kmcphillips",2017-02-24 06:42:43,2017-03-16 08:53:13
IS,Rails 4 2 8 Ruby 2 4 to time does not preserve time zone,Steps to reproduce Expected behavior Time zone parse 2017 03 17 14 40 00 0200 must preserve time zone Actual behavior Time zone is not preserved local used instead System configuration Rails version 4 2 8 Ruby version 2 4 0 OS OS X 10 12 2,,"pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-03-14 11:30:03,2017-03-16 10:49:51
PR,Add documentation to use with options anywhere in the same class ci,skip Add documentation for issue 27897 Specifying an enum and then using with options anywhere in the same class raises an ArgumentError,,"vipulnsward,meinac,meinac,vipulnsward",2017-03-16 11:58:57,2017-03-17 06:50:23
PR,Updates incorrect documentation ci skip,Summary Looking on code for this method L274 it is clear that it is just return response status instead of full response object I wish it would work as documented but it is better to correct docs as probably lots of tests are relying on current behavior Other Information It is easy to check what is actually returned 357,,vipulnsward,2017-03-16 11:13:11,2017-03-17 06:51:55
PR,Fix guide incorrectly refers to public assets images,Fix for asset pipeline guide coding links to assets in this line In regular views you can access images in the public assets images directory like this Relates to issue 28387,,"vipulnsward,vipulnsward",2017-03-15 06:21:42,2017-03-17 06:52:36
PR,28431 Adds time zone mapping with country codes for El Salvador,Summary Under Issue 28431 is was found that time zone rb had a mapping missing for officially assigned country code SV for El Salvador It was also verified that Tzinfo returns the appropriate zone identifier America El Salvador This pull request adds the Mapping for America El Salvador zone identifier,,,2017-03-17 07:16:26,2017-03-17 07:25:45
IS,ActiveSupport InheritableOptions does not work with string keys,Steps to reproduce I would be glad to provide a fix for this if you all think this is something worth fixing System configuration Rails version 4 2 7 1 Ruby version 2 3 1,,pixeltrix,2017-03-16 19:30:42,2017-03-17 07:47:35
IS,Model any uses a SELECT COUNT query rather than a SELECT 1 query,Steps to reproduce Expected behavior Model any should check first for the cache it already does then use SELECT 1 rather than SELECT COUNT Actual behavior Model any checked cache first then uses SELECT COUNT which is less efficient than SELECT 1 System configuration Rails version 5 0 2 Ruby version 2 3 3,,matthewd,2017-03-17 07:15:11,2017-03-17 08:01:32
PR,Backport Freeze and convert to time,Backport of 28147 which also includes 505537082849d912e8e29819655b80a573e93c0c by Summary Properly handles to time calls on date time TWZ objects including memoziation for speed and dealing with frozen objects Fixes the RuntimeError can not modify frozen Time when comparing against a frozen time in some cases,,"kmcphillips,pixeltrix",2017-03-16 15:21:01,2017-03-17 10:57:23
IS,Action Cable Support for subscription from other websocket client,I want to subscription a channel from a android client I think I had connect to the server with websocket android client library I can see response message like following I am not found any document for this purpose is there exist some issue about this Thanks,,,2017-03-16 13:32:59,2017-03-17 11:49:39
PR,Cleanup documentation fixes,,,vipulnsward,2017-03-17 11:59:48,2017-03-17 12:03:36
IS,Running system tests doesn t output the correct number of assertions made,Steps to reproduce Run bin rails test system Expected behavior System tests should run and the output should list the number of runs assertions failures errors and skips Actual behavior The system tests run but the output shows 0 assertions where it should say 11 assertions System configuration Rails version 5 1 0 beta1 Ruby version 2 4 0,,"eileencodes,eileencodes,eileencodes,lucasmazza,eileencodes,eileencodes,eileencodes",2017-03-02 17:38:29,2017-03-17 12:23:59
PR,Add default option to belongs to,In Basecamp we often use before validation callbacks to initialize belongs to associations like so cc,,"georgeclaghorn,simi,dhh,georgeclaghorn,bogdan,dhh",2017-03-16 18:31:58,2017-03-17 14:29:20
IS,Optimistic locking does not work well across web requests,It seems the current change on optimistic locking broken its old behavior when use it across web request I am not sure was it intended to do this way or a bug Steps to reproduce I use a simple rails application only have a user model and controller In the form of edit a user I add lock version as a hidden field to the form as the document recommended System configuration Rails version 5 1 0 beta1 Ruby version 2 4 0,,"pixeltrix,al2o3cr,bogdanvlviv,bogdanvlviv",2017-03-06 11:23:19,2017-03-17 15:28:50
PR,Remove ability update locking column value,Fix 28307,,"bogdanvlviv,rafaelfranca",2017-03-06 22:19:51,2017-03-17 15:28:50
PR,Pass options to driven by,Capybara drivers can handle some options such like url before Other information I tried this change on my example repo and it works well In my case I want to use docker selenium for testing,,"mtsmfm,eileencodes,mtsmfm,mtsmfm,eileencodes,mtsmfm,mtsmfm",2017-03-08 12:42:46,2017-03-17 15:39:14
PR,Add support for calling nested direct routes,Not all requirements can be expressed in terms of polymorphic url options so add a route for method that allows calling another direct route or regular named route which a set of arguments e g,,pixeltrix,2017-03-17 16:27:33,2017-03-17 17:07:09
PR,Add first draft of release notes for Rails 5 1 tada,,,"prathamesh-sonpatki,kaspth,kaspth,prathamesh-sonpatki,kaspth,kaspth,prathamesh-sonpatki,y-yagi,prathamesh-sonpatki,kaspth,prathamesh-sonpatki,prathamesh-sonpatki",2017-02-21 16:56:47,2017-03-17 17:13:37
IS,Remove comments from structure sql for PostgreSQL adapter,When using the postgresql database adapter run rake db structure dump Note that the full version number is included in db structure sql If we check it into git that means that anyone with a different minor version of PostgreSQL server would have differences in the file after running rake db migrate Would you accept a pull request to remove all comments from the resulting structure sql,,"aripollak,rafaelfranca",2017-02-24 15:46:43,2017-03-17 17:19:02
PR,Drop comments from structure sql in postgresql,Fixes 28153,,"aripollak,matthewd,aripollak,matthewd,aripollak,malclocke,matthewd,malclocke",2017-02-24 17:46:41,2017-03-17 17:19:02
PR,Allow order to be given expressions as hash keys,Related to When order is given a hash the keys are currently assumed to be attribute names and are quoted as such in the query which makes it impossible to pass an expression instead If the key is an Arel Nodes SqlLiteral we now use it directly in the query This provides a way to build a relation with a complex order clause that can still be reversed with reverse order or last,,"eugeneius,matthewd,eugeneius",2017-02-26 23:31:13,2017-03-17 17:22:21
IS,ActionDispatch remote ip returns wrong client IP when deployed internally behind a load balancer reverse proxy,Steps to reproduce Create a rails app with a page that outputs request remote ip Set your X Forwarded For header to a private IP ex 10 1 0 1 The IP displayed will not match the X Forwarded For header unless it is a non private IP Expected behavior This should be configurable I'm sure there are many instances of Rails being run internally as a service behind a reverse proxy or load balancer In these instances all client IPs are being reported incorrectly as the IP of the proxy or load balancer Actual behavior The remote ip being reported is from the load balancer or proxy System configuration Rails version 4 x 5 x Ruby version 2 3 x,,"maclover7,pixeltrix,matthewd,matthewd",2017-03-15 21:21:07,2017-03-17 17:31:14
PR,Backport Freeze and convert to time,Backport of 28147 which also includes 505537082849d912e8e29819655b80a573e93c0c by Summary Properly handles to time calls on date time TWZ objects including memoziation for speed and dealing with frozen objects Fixes the RuntimeError can not modify frozen Time when comparing against a frozen time in some cases Also includes the small change to prevent coersion with to time unnecessarily if the object is already a Time It is on master and 5 0 stable but was lost on 4 2 stable due to some reverts that were not backported This specific omission is what makes this time freeze bug so much easier to encounter on 4 2 8 L287 L288,,"kmcphillips,pixeltrix",2017-03-17 19:15:51,2017-03-17 19:56:23
PR,Remove new framework defaults rb from newly generated apps,Summary This try to fix 28291 This fixes the following Remove new framework defaults rb In addition since the config added in Rails 5 1 was only config assets unknown asset fallback it moved to initiazers assets rb Update the defaults to appropriate values for config added in Rails 5 0 Run Active Support tests when not preserving timezones but I'm not sure if this is really necessary,,y-yagi,2017-03-17 14:09:33,2017-03-17 22:38:39
IS,Unexpected values in assert recognizes when multiple routes matches,Steps to reproduce When multiple routes matches given path parameters are being collected from all matched routes See failing test Expected behavior Params from previously matches routes should not be included Suggested fix Actual behavior Params from previously matched routes are included which makes assertion expect unexpected parameters System configuration Rails version 5 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin15,,maclover7,2017-02-16 10:29:26,2017-03-18 02:07:40
IS,guide incorrectly refers to public assets images,The asset pipeline guide coding links to assets has this line In regular views you can access images in the public assets images directory like this To my knowledge the asset pipeline never creates an images directory and puts all images stylesheets and javascripts into the top level assets directory Am I wrong or is the guide wrong When I find out either way I will put in a PR to fix make more clear,,"vipulnsward,maclover7",2017-03-11 21:34:15,2017-03-18 02:15:12
IS,ApplicationRecord alias has many and belongs to has and belongs to many or special error notice,We usually use has many and belongs to When i want to use has and belongs to many i always typo has many and belongs to And i noticed some others people has this problem too Especially for those people whose native language is not English Should we alias has many and belongs to has and belongs to many or given a friendly special error notce not just NoMethodError undefined method has many and belongs to',,pixeltrix,2017-03-18 03:49:03,2017-03-18 11:09:19
IS,ActiveSupport FileUpdateChecker Not worked As expect,I split my config routes rb into some small files which inside config routes directory I still need the fancy autoloads feature in development so I Add following code in my config environments development rb It worked very well Rails version 5 0 1 Ruby version 2 2 4 Thanks,,"maclover7,matthewd",2017-02-28 08:20:44,2017-03-18 17:00:23
IS,validates uniqueness with case sensitive false and scope organization id seems not working,Steps to reproduce I have this model Expected behavior when I call Tag new name 'event' organization id '40f678ee 9f7a 4a51 ba73 bc09b1fa4a1d' save should allow me to save it is not there with the name event and for this organization Actual behavior I get a ActiveRecord RecordInvalid Validation failed Name has already been taken also if I remove the case sensitive flag it works and also make the validation without case System configuration Rails version Rails 5 0 1 ruby 2 3 2p217 2016 11 15 revision 56796 x86 64 linux db postgress psql PostgreSQL 9 6 2,,al2o3cr,2017-03-13 15:04:04,2017-03-18 20:40:43
IS,Remove new framework defaults rb from newly generated apps,Hello I take the liberty to open this ticket to discuss about the future of the new framework defaults rb file We have discussed about that with and came to the conclusion that this file should not be generated as it is done at the moment Actually it would be easier to generate a file on a version basis like new framework defaults 51 rb with only the new defaults for this version An important thing to consider with this approach though is that this file takes precedence over any file stored under config environments and may take precedence over certain initializers since they are alphabetically required AFAIK So if people want to opt out from the default we should maybe require initializers that match new framework default rb first By the way since 5 0 it looks like only this option L38 has been changed and this one has been removed To do No longer generate this file for new 5 1 applications so properly set the configuration settings in the appropriate configuration files During the upgrade process i e running bin rails app upgrade generate a file tied to the current version with the new settings Have a nice day,,"robin850,eugeneius,robin850,matthewd,matthewd",2017-03-04 20:34:50,2017-03-18 23:01:02
PR,Track the version compatible config settings inside railties,Instead of forcing new applications to carry an initializer that just switches things to what their default should be we can handle it internally The initializer is then only used by upgraders it shows what the new default would be commented out while their upgraded application continues to operate as it did before Under this model a multiply upgraded application could accumulate several new framework defaults rb files for each release series it has traversed A given release series only needs to generate the latest though because we do not support rails app upgrade while skipping releases Fixes 28291,,matthewd,2017-03-17 21:07:58,2017-03-18 23:01:02
PR,Improve Caching with Rails Guides ci skip,Adds the Caching in Development section to demonstrate usage of the dev cache task in development mode Also makes a small grammatical correction in section 2 4,,maclover7,2017-03-17 20:22:58,2017-03-19 01:36:42
PR,Move new CHANGELOG entry to the top ci skip,,,"y-yagi,maclover7",2017-03-16 12:37:21,2017-03-19 01:39:51
IS,ActiveRecord Enum enum syntax is not consistent like other Rails model class methods,Example 1 Some Rails provider model class methods thx,,maclover7,2017-02-28 02:50:05,2017-03-19 01:49:17
PR,Minor grammar fixes for Rails 5 1 release notes,,,"maclover7,maclover7",2017-03-19 08:32:31,2017-03-19 14:34:19
PR,Remove stray back end from ActiveJob Basics guide,Summary The hyphenated form back end only appears once in this guide elsewhere the un hyphenated form backend is used consistently,,"maclover7,maclover7",2017-03-19 08:35:08,2017-03-19 14:34:55
PR,Added config for ActionDispatch to return first IP from header issue,28436 Summary This change adds the configuration option to return the first IP from the X Forwarded For header matching the general format This will return the correct client IP in instances where Rails is deployed as an internally available service behind a reverse proxy or load balancer,,matthewd,2017-03-15 21:27:28,2017-03-19 16:42:46
PR,Correctly check whether key is defined in configuration,It can not check correctly with defined Follow up to 28469,,"y-yagi,y-yagi,matthewd",2017-03-19 08:25:39,2017-03-19 18:40:27
PR,Fix changelog entry about transaction error classes ci skip,ActiveRecord TransactionSerializationError was introduces in 25093 However refactored in 25107 TransactionSerializationError is gone,,"y-yagi,schneems",2017-03-19 22:46:46,2017-03-19 23:06:50
PR,Evaluate the default block only when necessary,Follow up of 28453,,"kamipo,kaspth,kamipo,kaspth",2017-03-19 15:23:49,2017-03-20 06:16:29
PR,Fix warning character class has duplicated range,This fixes the following warnings,,"y-yagi,kaspth",2017-03-19 22:33:40,2017-03-20 06:18:20
IS,touch attribute still changes updated at,Steps to reproduce 1 Create a model TestModel with two datetime attributes updated at and something else updated at 2 Open rails console and create a new TestModel object set this object as variable test model 3 In the console call test model touch something else updated at Expected behavior Only something else updated is included in the generated SQL UPDATE query Actual behavior Both updated at and something else updated are included in the generated SQL UPDATE query System configuration Rails version 5 0 2 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux,,,2017-03-20 15:31:08,2017-03-20 15:34:34
IS,connection select all binds regression,Steps to reproduce System configuration Rails version 5 0 1 Ruby version ruby 2 3 1,,"al2o3cr,rafaelfranca,matthewd,rafaelfranca,rafaelfranca,rafaelfranca,kamipo",2017-02-06 13:00:41,2017-03-20 15:47:25
PR,Fix select all with legacy binds,Fixes 27923,,"kamipo,rafaelfranca",2017-02-07 23:59:53,2017-03-20 15:47:25
PR,Delegate uniq to records,This fixes CI failure due to 48f3be8c Enumerable uniq was introduced since Ruby 2 4 We should delegate uniq to records explicitly And since b644964b ActiveRecord Relation includes Enumerable so delegating map is unneeded,,kamipo,2017-03-18 06:22:00,2017-03-20 15:50:18
PR,Backport fix duplicate rails server logging output in Rails 4 2 stable,This is a follow up of PR 25284 which backported' fix in 22933 but only fixed rails console This PR fixes the output when running rails server,,,2017-03-20 15:54:32,2017-03-20 17:16:32
PR,Add app update task to engines,Occasionally we update the file generated by engine Therefore I think that there is a task for updating as well as application in the engine it is convenient for updating,,"y-yagi,simi,rafaelfranca",2017-03-20 04:24:49,2017-03-20 17:25:28
PR,Remove duplicated columns definition,,,kamipo,2017-03-20 11:31:11,2017-03-20 18:21:05
IS,Rails 5 1 wouldetect' in association method does not find unsaved objects,Steps to reproduce Run this test case and observe the failed assertion with 5 1 0 beta1 though not 5 0 2 or Set up a blog comment schema with comments having a text attribute Declare a method on the Blog comments association like so Create a post Do post comments build text a comment Invoke post comments with text a comment Expected behavior post comments with text returns the unsaved comment object as it does in 5 0 2 Actual behavior It returns nil System configuration Rails version 5 1 0 beta1 Ruby version 2 2 4,,,2017-03-15 00:37:38,2017-03-20 18:32:08
PR,Fix extension method with dirty target in has many associations,Extension methods should not delegate to scope to respect dirty target on CollectionProxy Fixes 28419,,"kamipo,kaspth,rafaelfranca",2017-03-18 09:27:36,2017-03-20 18:32:08
PR,user form with instead of form for in scaffold generator,According to this unify form tagform for with form with form tag form for were unified in form with but the scaffold generator is still using form for so I modified the template to use form with,,"y-yagi,kaspth,rafaelfranca",2017-03-14 01:49:44,2017-03-20 18:49:00
IS,has secure password validations can not be conditionally skipped per user,I have a User model where there is a 'guest' flag that is used when creating short lived 'guest' Users that do not have need passwords There does not seem to be a straight forward way to use has secure password for normal users with passwords and to skip ignore password validations for 'guest' users Given a basic user table then manually re setup all password validations with conditions as needed inherit subclass User GuestUser NormalUser Is there a more straight forward way to configure the User model to conditionally skip password validations per user record System configuration Rails version 5 0 1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,,2017-03-15 19:52:16,2017-03-21 01:18:56
PR,Fix typo in Caching with Rails Guide,Summary Fix typo in Caching with Rails Guide,,"Erol,maclover7,Erol",2017-03-21 01:23:13,2017-03-21 01:27:46
IS,Rails 5 1 regression unscope broken with a specific where value,Steps to reproduce Added this spec to test cases relations test rb So the bind intended for the title is now being used on the body Whoops Expected behavior Binds stay attached to the correct attribute Actual behavior Binds become messed up And the resulting query is incorrect System configuration Rails version 5 1 0 rc1 Ruby version 2 3 3,,"maclover7,maclover7,maclover7",2017-03-20 21:51:49,2017-03-21 10:55:11
PR,Fix where clause except with specific where value,Fixes 28496 Fixes a regression introduced in 22ca710f20c3c656811df006cbf1f4dbc359f7a6 where Relation unscope with a specific where value vs unscoping the entire where clause could result in the wrong binds being left on the query This was caused by an index variable not being incremented properly,,"pixeltrix,pixeltrix",2017-03-20 22:49:19,2017-03-21 10:55:11
PR,Fix typo in actionview error message in to form params helper method,When creating a button without sanitized request params you would previously get this error message ArgumentError Attempting to generate a buttom from non sanitized request parameters Whitelist and sanitize passed parameters to be secure now you get this message ArgumentError Attempting to generate a button from non sanitized request parameters Whitelist and sanitize passed parameters to be secure,,vipulnsward,2017-03-16 17:44:56,2017-03-21 16:13:06
PR,Remove duplicate entries for 25430 ci skip,The CHANGELOG for 5 0 stable includes the same change three times L61 L75 Indeed the change was merged into 5 0 as part of e57b9e56 so it belongs to the Rails 5 0 0 section I'm opening a PR because this commit is not against master so I would like another set of eyes to make sure I'm changing the correct file on the correct branch Thanks,,claudiob,2017-03-21 04:57:09,2017-03-21 16:52:11
IS,Merge not working for controller params,Steps to reproduce params merge myKey false Expected behavior params should contain a key myKey with the boolean value false Actual behavior nothing happens params is silently not updated System configuration Rails version Rails 4 2 6 Ruby version Ruby 2 2 2 Ok guys so how do I add a value into the params array I tired of losing time on this issue,,rafaelfranca,2017-03-20 19:26:21,2017-03-21 17:20:59
PR,Check for existence of multiple HashWithIndifferentAccess keys,Summary This pull request adds a method to HashWithIndifferentAccess named keys aliased as has keys It simply checks if every key passed into the method exists in the hash One common use case I have for this is checking the existence of multiple params in a controller Instead of writing,,rafaelfranca,2017-03-21 17:13:35,2017-03-21 17:29:43
IS,Directory activerecord test fixtures all admin is already being watched through errors if spring is started after rails server,1 Start rails s 1a spring stop if spring is running 2 bundle exec rails c Result is error like I assume this issue is already reported as jonleighton spring watcher listen 8 duplicating it here because it can be fixed on rails side cc,,maclover7,2016-02-24 12:19:13,2017-03-21 19:13:55
IS,Rails 4 2 6 has many through undefined method 'name' do nil NilClass ruby 2 3 0 fails only on production,I have prototype model Error link not exactly mine but same active record error Funny thing is that code from my example works on development just fine Production is the problem Some time before development would run on ruby 2 0 0 p195 rails 4 0 4 and everything were fine Then I updated ruby version on production to 2 3 and applications started to fail Situation repeats itself on development when I updated ruby on this environment After that I updated rails on development to 4 2 6 and everything started to run smoothly But nothing changes on production after deploying updated rails line in Gemfile,,"maclover7,al2o3cr",2016-04-09 11:37:01,2017-03-21 19:13:56
IS,Controller variables not visible in json erb file,I do not know if this is a bug I have never had to use json before in Rails But searching for a solution found nothing to fix it Steps to reproduce I am using Fine Uploader to asynchronously upload a file since Remotipart is broken with Rails 5 The file uploads fine but I need to return the id of the uploaded file back with the success json success true image id raw has the correct value in the controller action but is nil in the json erb file Guidelines for creating a bug report are available here creating a bug report Expected behavior should have a value Actual behavior The value sent to the browser is nil for System configuration Rails version 5 0 0beta3 Ruby version 2 3 0p0,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-03-22 21:34:01,2017-03-21 19:13:57
IS,Rails5 beta3 using ActionDispatch Http UploadedFile in tests,Steps to reproduce Some of our test uses ActionDispatch Http UploadedFile for upload In rails 5 we get System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,vipulnsward,2016-04-05 10:56:33,2017-03-21 19:13:59
IS,Assets with mixed line returns get corrupted,Steps to reproduce Include a Javascript file with mixed line returns specifically CRLF at the beginning of the file and just LF later Run rails server and load a page in browser we used Chrome Expected behavior The JS file should be identical to the one in the file system and parse execute properly Actual behavior When looking at the JS file in the dev tools in the browser there are extra random characters added next to the bare LF characters Seems like some file processor somewhere in the stack is expecting two character everywhere there is a line return even if the line return is just an LF Because the file is corrupted it does not parse and or execute properly This happens with config assets debug set to true or false System configuration Rails version rails 4 1 14 2 Ruby version jruby 1 7 22,,vipulnsward,2016-04-08 21:05:25,2017-03-21 19:14:00
IS,counter cache on has many associations is broken in rails 4 1 and 4 2,Finished in 0 026235s 38 1171 runs s 114 3514 assertions s 1 Failure BugTest test association stuff test rb 34 Expected 1 Actual 0 1 runs 3 assertions 1 failures 0 errors 0 skips,,"maclover7,maclover7",2016-02-11 19:12:00,2017-03-21 19:14:05
IS,Getting started guide issue Windows coffee script source 1 9 0 incompatibility,Steps to reproduce Do all steps in until section 4 3 At the end of 4 3 an error is shown instead of the expected 'Hello Rails ' Expected behavior 'Hello Rails ' is shown like described in the 4 3 section Actual behavior error TypeError Object does not support this property or method in c RailsInstaller Ruby2 1 0 lib ruby gems 2 1 0 gems turbolinks 2 5 3 lib assets javascripts turbolinks js coffee System configuration Rails version Rails 4 2 5 2 Ruby version ruby 2 2 4p230 2015 12 16 revision 53155 i386 mingw32 Proposed solution Put a warning in the guide to follow these steps if using Windows put in Gemfile gem 'coffee script source' '1 8 0' then run bundle update coffee script source,,"maclover7,rafaelfranca,guilleiguaran",2016-03-06 05:09:50,2017-03-21 19:14:06
IS,Has many through polymorphic source ignores source type when deletes records,I have the next STI Rails 4 2 stable To reproduce,,"vipulnsward,vipulnsward",2016-03-09 06:45:23,2017-03-21 19:14:07
IS,ActiveRecord StatementInvalid PG IndeterminateDatatype in Rails 5 Upgrade,Steps to reproduce Query records which joins on a belongs to polymorphic definition which joins back to the has many record Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen The query should work and not error Actual behavior Tell us what happens instead The query errors with ActiveRecord StatementInvalid PG IndeterminateDatatype System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0 Replication Note that without the joins interview schedule on the problem query all works fine,,rafaelfranca,2016-03-28 00:39:44,2017-03-21 19:14:08
IS,5 1 0 rc1 Problem on heroku during rake db migrate,Steps to reproduce Just updated my Gemfile with Can it be Opbeat the problem Ruby version 2 4 0 Heroku stack heroku 16,,"kaspth,kaspth,kaspth,kaspth,kaspth",2017-03-21 18:23:10,2017-03-21 20:28:58
PR,Wrap stored accessors in parameters,Summary Attempt to improve wrapped parameters by wrapping Rails 5 Store Accessors referenced in Issue 26708,,"maclover7,kaspth,maclover7,kaspth,rafaelfranca,rafaelfranca,rafaelfranca",2017-02-17 22:11:01,2017-03-21 20:52:47
IS,JSON attributes out of strong parameters,Steps to reproduce My model Expected behavior Access the user params and return the foo and bar params Actual behavior So I can not access the json attributes in my controller unless I call the param directly ex params foo and params bar If I send the parameters inside the user hash it works but it is an API so I send everything in the first level of hash System configuration Rails version 5 0 0 1 API with Postgresql Ruby version 2 3 1,,"maclover7,jmbejar,maclover7,jmbejar",2016-10-05 03:54:00,2017-03-21 20:53:04
PR,5 0 stable changelog new fix,The entry in the CHANGELOG refers to 25351 which was merged into Rails 5 0 The behavior did not change in Rails 5 1 See discussion at commitcomment 21410869,,claudiob,2017-03-21 20:55:39,2017-03-21 20:57:18
PR,5 1 stable changelog fix,The entry in the CHANGELOG refers to 25351 which was merged into Rails 5 0 The behavior did not change in Rails 5 1 See discussion at commitcomment 21410869 Also see,,claudiob,2017-03-21 20:56:16,2017-03-21 20:57:48
IS,Generator logs incorrectly removes all the app from the paths,Steps to reproduce Commands executed from ruby 2 4 0 docker image with docker run it ruby 2 4 0 bash gem install rails v 5 1 0 beta1 cd rails new app skip javascript cd app rails g controller articles Expected behavior The logs should show create app controllers articles controller rb invoke erb create app views articles invoke test unit create test controllers articles controller test rb invoke helper create app helpers articles helper rb invoke test unit invoke assets invoke js create app assets javascripts articles js invoke scss create app assets stylesheets articles scss Actual behavior The logs do show notice the missing 'app' in the paths create controllers articles controller rb invoke erb create views articles invoke test unit create test controllers articles controller test rb invoke helper create helpers articles helper rb invoke test unit invoke assets invoke js create assets javascripts articles js invoke scss create assets stylesheets articles scss NOTE All the files are correctly created e g app app controllers articles controller rb exists as it should System configuration Rails version 5 1 0 beta1 Ruby version 2 4 0p0 2016 12 24 revision 57164 x86 64 linux,,maclover7,2017-03-15 00:00:59,2017-03-21 22:19:36
PR,Update bug report templates for 5 1 stable,Summary Bump for the 5 1 stable branch,,maclover7,2017-03-22 01:24:35,2017-03-22 01:54:40
PR,docs fix ActionDispatch documentation,,,"shime,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix,maclover7,shime,fxn,matthewd,fxn",2017-03-12 16:54:11,2017-03-22 07:51:30
IS,filter params white list array not working as described,Steps to reproduce When I try to white list an array parameter as described in the documentation I get a syntax error strong parameters strong parameters The documentation says params permit id I would expect this to work Rails 5 0 2 ruby 2 4 0p0,,,2017-03-17 10:43:08,2017-03-22 11:14:06
PR,better docs for ActiveRecord PredicateBuilder BaseHandler initialize,Summary Added a Rdoc to ignore the initialize method from seeing,,"pixeltrix,pixeltrix",2017-03-22 09:33:09,2017-03-22 12:22:47
IS,Remove reference with foreign key and index,Steps to reproduce Old migration add reference products feedstock group foreign key on delete nullify index true New migration remove reference products feedstock group foreign key on delete nullify index true Expected behavior Delete the field in the migration and create with the foreign key and index on rollback Actual behavior ActiveRecord StatementInvalid Mysql2 Error Cannot drop index 'index products on feedstock group id' needed in a foreign key constraint ALTER TABLE products DROP feedstock group id System configuration Rails version Rails 5 0 1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 linux,,,2017-03-21 13:24:45,2017-03-22 16:13:08
IS,Unexpected behavior with certain numeric values as conditions in WHERE clause,Steps to reproduce targets Postgres I was able to reproduce using values in 0 6 0 8 2 6 I could not reproduce with 1 8 I did not try more values than that so I'm not sure if there is a pattern Expected behavior In the reproduction script I expect querying for value 2 6 to return the record that matches that condition That is the behavior I get when querying value 1 8 in the same script Querying value '2 6' also returns the record Actual behavior No record is returned System configuration Rails version 5 0 2 Ruby version 2 2 3p173 Postgres version 9 5 4,,,2017-03-16 05:26:52,2017-03-22 16:45:01
PR,PostgreSQL Replace deprecated PG constants,Summary This PR replaces the top level classes PGconn PGresult and PGError with their counterparts within the PG namespace The old top level classes PGconn PGresult and PGError were deprecated since pg 0 13 0 v0130 2012 02 09 michael granger gedfaeriemudorg The old classes will probably be removed in pg 1 0 0 See Possibly we will add another 0 x release cycle which prints deprecation warnings when the old constants are used Other Information Shall I add an entry to the CHANGELOG Shall I open separate PRs for backporting to the stable branches,,"larskanis,larskanis,matthewd",2017-03-22 12:07:25,2017-03-22 17:28:20
IS,rubyonrails org certificate error,Visiting rubyonrails org is currently giving me a certificate error as the certificate is for github com rubyonrails org certificate error,,rafaelfranca,2017-03-22 03:42:51,2017-03-22 17:47:46
PR,Suppress WARNING nonstandard use of in a string literal warning,Summary This pull request suppresses WARNING nonstandard use of in a string literal warning by setting escape string warning off Other Information PostgreSQL 9 6 2 on x86 64 pc linux gnu compiled by gcc GCC 6 3 1 20161221 Red Hat 6 3 1 1 64 bit ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux Rails master branch escape string warning boolean escape string warning boolean When on a warning is issued if a backslash appears in an ordinary string literal ' ' syntax and standard conforming strings is off The default is on Applications that wish to use backslash as escape should be modified to use escape string syntax E' ' because the default behavior of ordinary strings is now to treat backslash as an ordinary character per SQL standard This variable can be enabled to help locate code that needs to be changed,,yahonda,2017-03-22 18:17:23,2017-03-22 19:37:11
PR,Do not comment out config file watcher during Rails upgrade,This is necessary only when updating to Rails 5 0 it is not necessary for updating to 5 1 Related 24243,,"y-yagi,matthewd",2017-03-22 12:56:55,2017-03-22 19:39:04
PR,Fix assert logged failure,' name ' file does not exist so no dependencies was removed in bb04814,,"kamipo,maclover7",2017-03-22 18:00:29,2017-03-22 22:35:01
PR,Do not add a dummy API key to every new Rails app,Every new Rails app is currently generated with Rails application secrets api key set to 123 This comes from a line in config secrets yml that in my opinion should be left commented out to only serve as a syntax example rather than being actually set in every Rails app Additionally we might want to give a better example than 123 since in the same file we are suggesting to Make sure the secret is at least 30 characters and all random no regular words or you will be exposed to dictionary attacks The result of this commit is that config secrets yml will include something like,,"claudiob,rafaelfranca,claudiob,rafaelfranca",2017-03-22 13:06:21,2017-03-22 23:08:39
PR,Fix LogSubscriber to allow legacy binds,Follow up of 27939 r,,"kamipo,rafaelfranca,kamipo,rafaelfranca",2017-03-22 15:26:23,2017-03-22 23:10:50
IS,Rails 5 1 Does not Respect b bind IP address breaks Heroku Puma deployments,Steps to reproduce Deploy Rails 5 1 RC1 app to Heroku Expected behavior Default behavior used to be to bind to localhost which works fine Now appears to want to use HOST as the binding address which does not work Actual behavior Example log output from my app Note that b option is specified but ignored I verified this same configuration works fine in 5 0 1 System configuration Rails version 5 1 0 rc1 Ruby version 2 3 3 p222,,"rafaelfranca,maclover7,maclover7",2017-03-21 03:27:06,2017-03-22 23:17:24
PR,CLI arg host has precedence over ENV var host,Summary This is a regression from when the server command switched to its own argument parser as opposed to Rack is Rack is argument parser when provided with a host argument gives that value precedence over environment variables Other Information Fixes 28500 cc Rack is argument parser option for host L54 L56,,"maclover7,rafaelfranca",2017-03-21 23:12:14,2017-03-22 23:17:24
IS,Rails 5 1 sets ARGV for rails runner code differently from earlier releases,Steps to reproduce Create a Rails 5 1 app tried with 5 1 0 rc1 At the command line run rails runner 'puts ARGV inspect' x Expected behavior I expected this to output x as it does in prior releases Actual behavior It outputs puts ARGV inspect x If the code being run by runner looks at ARGV and does not expect to see a copy of itself in the array this can cause trouble So if this is a deliberate change it probably merits mention in the release notes System configuration Rails version 5 1 0 rc1 Ruby version 2 2 4,,matthewd,2017-03-22 01:17:33,2017-03-22 23:19:17
PR,Correctly reset ARGV for rails runner CODE' arg arg arg,The code itself should not be in the ARGV vector Fixes 28515 Summary This corrects a regression in 5 1 0 beta rc 1 in setting ARGV for the code in rails runner CODE arg arg arg,,rafaelfranca,2017-03-22 16:07:24,2017-03-22 23:19:17
IS,Rescuing ActionDispatch ParamsParser ParseError throws class or module required for rescue clause,Steps to reproduce Use begin rescue ActionDispatch ParamsParser ParseError on Rails 5 1 0 rc1 e g in middleware to catch parse errors and handle them differently Reproducer Expected behavior It should catch ActionDispatch Http Parameters ParseError exceptions Actual behavior TypeError class or module required for rescue clause catch parseerror rb 24 in rescue in test catches parseerror' More information The ActionDispatch ParamsParser ParseError constant was deprecated in b3d41ea but the proxy object that replaced it is not an exception and so Ruby throws the above error when trying to reference the proxy in a rescue clause The deprecation should work transparently possibly through const missing instead of replacing the exception itself System configuration Rails version 5 1 0 rc1 Ruby version 2 4 0,,domcleal,2017-03-22 14:30:25,2017-03-22 23:26:44
PR,Change AD ParamsParser ParseError deprecation so it can be rescued,Summary Adds a new deprecation tool ActiveSupport Deprecation DeprecatedConstantAccessor to help deprecation exceptions in particular and changes the deprecated constant ActionDispatch ParamsParser ParseException to use it This allows the old constant to be used in a begin rescue block without errors Fixes 28525,,"domcleal,rafaelfranca",2017-03-22 16:25:07,2017-03-22 23:26:45
IS,Confusion between asset path and asset url,actionpack When we call user form path we get relative URL users form When we call user form url we get full URL computed from config action controller default url options or current request object ActionDispatch Request actionview with config action controller asset host nil When we call image path 'car png' we get relative URL assets car png When we call image url 'car png' we get full URL computed from current request object ActionDispatch Request actionview with config action controller asset host '' When we call image path 'car png' we get full URL WTF When we call image url 'car png' we get full URL Why image path returns full URL It says path not a URL path URL I think this behaviour is ugly and breaks rails conventions path is relative URL URL is full URL This behaviour is about 3 years old so I probably think many projects are using it To not break them I am ready to submit a pull request with a new config variable which will affect asset path behaviour What do you think about it Steps to reproduce Set Rails application config action controller asset host '' Call image path 'car png' Expected behavior Should return only path assets car png Actual behavior Full URL is returned System configuration Rails version unknown Ruby version does not matter,,"rafaelfranca,rafaelfranca",2017-03-22 11:06:06,2017-03-22 23:35:08
PR,List options for rails new webpack WEBPACK,When you type rails new h the database DATABASE options display this useful message Preconfigure for selected database options mysql postgresql sqlite3 oracle frontbase ibm db sqlserver jdbcmysql jdbcsqlite3 jdbcpostgresql jdbc However the webpack WEBPACK option only displays this Preconfigure for app like JavaScript with Webpack so it is hard to know which values are valid for WEBPACK This commit improves the help message to display Preconfigure for app like JavaScript with Webpack options react vue angular The implication of this commit is that the list needs to be manually updated whenever rails webpacker adds support for a new framework However I do not imagine this list to change very frequently and I think that the benefit of display the list to the users is greater than the hustle of updating the list when needed,,"claudiob,rafaelfranca",2017-03-22 22:55:27,2017-03-22 23:36:49
PR,Document AC Connection Authorization reject unauthorized connection,This method is repeatedly used throughout the docs in the AC Connection docs L28 the AC README a full stack example the AC Guides connection setup but not actually documented itself and seemingly not supported for public use based on its current private status This actually makes the method public and documents it The actual behavior that s documented here is implemented here L213 L219 via this rescuing of the UnauthorizedError L172 The method is already tested here L17 L29,,"tjschuck,rafaelfranca,tjschuck",2017-03-22 23:31:45,2017-03-22 23:39:27
PR,Remove CollectionProxy uniq,Since 28473 uniq is delegated to records so CollectionProxy uniq is unnecessary,,kamipo,2017-03-23 03:23:08,2017-03-23 04:19:52
PR,Move comment to inside the method ci skip,Because this comment is not document for supports ranges ref discussion r107560081,,mtsmfm,2017-03-23 11:30:19,2017-03-23 11:34:22
PR,Fix duplicable for Rational and Complex on ruby master since they are now duplicable,Ref,,"vipulnsward,kaspth",2017-03-23 12:05:31,2017-03-23 12:48:03
IS,Accessing a key from ActiveModel Errors creates it in the messages hash,Steps to reproduce In the rails console of a Rails 4 2 probably the same for Rails 5 project with active model errors details included in the Gemfile Actual behavior Described in the first section System configuration Rails version 4 2 8 Ruby version 2 3 1,,vipulnsward,2017-03-23 15:04:32,2017-03-23 15:13:14
PR,Bump Travis ruby version to 2 4 1,Summary,,"maclover7,rafaelfranca,koic,vipulnsward",2017-03-22 19:07:27,2017-03-23 16:04:56
IS,TestDrives singularization issue,Steps to reproduce Create two models 1 Enquery has many test drives accepts nested attributes for test drives 2 TestDrive belongs to enquery So whenevr we call enquery create with test drives as nested attributes it raises error uninitilise constant Enquery TestDrife Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen test drives or drives should be singularised to TestDrive Drive Actual behavior Tell us what happens instead test drives singularised to TestDrife System configuration Rails version 4 0 0 Ruby version 2 3 0,,"vipulnsward,matthewd",2017-03-23 06:39:25,2017-03-23 16:37:18
PR,Additional explanation about cache implementations,As discussed in Rails uses the file store cache implementation by default when no config is supplied however new Rails projects will initially be configured for the memory store implementation in the dev environment This PR adds some language to the Rails guide to clear up any possible confusion about these two defaults It also makes explicit that commands like Rails cache read and Rails cache clear from the Rails console will not work using memory store which might prevent some gotchas for new Rails users following caching tutorials for instance that emphasize use of the console for debugging purposes,,"brchristian,maclover7,maclover7",2017-03-23 17:01:12,2017-03-23 20:27:18
IS,Default cache store not correctly documented,In a brand new Rails 5 0 2 application the default cache store is memory store as you can see here L19 However there are two problems with this The first is that unless there is something wrong with my setup because the cache memory is not shared across processes you cannot for instance clear the cache by typing Rails cache clear from the Rails console This is unexpected behavior and hard to diagnose The second problem is that the documentation guide for caching says that file store is the default implementation This is incorrect as the default implementation is actually memory store In my opinion file store makes more sense as the default implementation because it allows a server process and a console process to interact in what to me seems like the expected manner But there may be other considerations So in conclusion it seems to me that we would need a PR that either a Reverts the default to file store OR b Updates the documentation to correctly indicate that memory store is the default implementation I would be happy to submit either PR based on the preferred direction of those who might know more about this than I,,"brchristian,rafaelfranca,matthewd,dhh,brchristian,maclover7",2017-03-22 23:18:57,2017-03-23 20:27:55
PR,Update guide to reflect browser compatibility for HTTP verbs,Summary This updates the security guide to reflect how most browsers now do support all restful HTTP verbs Other Information I was reading up on CSRF because I have an API controller that did not pass brakeman validation for not having protect from forgery I ended up on Rails Guides for how to handle CSRF and it says this my emphasis The HTTP protocol basically provides two main types of requests GET and POST and more but they are not supported by most browsers Which I thought weird because it seemed to me that most browsers do currently support all RESTful methods And MDN confirmed Browser compatibility what I thought So I decided to update the text to say that Some legacy web browsers do not support the other methods I appreciate any improvements on the wording especially because I'm not a native English speaker,,maclover7,2017-03-23 20:26:50,2017-03-23 20:30:02
PR,Remove unnecessary ruby version comments,,,vipulnsward,2017-03-24 12:30:35,2017-03-24 12:30:50
PR,Doc cleanup for caching guide ci skip,,,vipulnsward,2017-03-24 12:40:52,2017-03-24 12:44:02
PR,Include FormErrorsHelper in FormHelper,Summary Using error span with twitter bootstrap rails can cause an undefined method error span error See and 36120983 This patch includes the module which contains the error span code so that this error wo not happen Thanks for contributing to Rails,,,2017-03-24 15:11:32,2017-03-24 15:30:51
PR,test to delete,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-03-24 16:11:34,2017-03-24 16:12:21
IS,Rails 5 1 breaks gem activerecord postgis adapter,With no version specified for gem activerecord postgis adapter bundle update resulted in Installing activerecord postgis adapter 3 1 2 was 4 0 2 but then rails server error gem ruby 2 4 0 gems bundler 1 14 6 lib bundler runtime rb 94 in rescue in block 2 levels in require' There was an error while trying to load the gem 'activerecord postgis adapter' Bundler GemRequireError Gem Load Error is uninitialized constant ActiveRecord ConnectionAdapters PostgreSQL ColumnDefinition Did you mean ActiveRecord ConnectionAdapters ColumnDefinition ActiveRecord ConnectionAdapters AddColumnDefinition Backtrace for gem load error is gem ruby 2 4 0 gems activerecord postgis adapter 3 1 2 lib active record connection adapters postgis spatial table definition rb 46 in module PostGIS ' Put version 4 0 2 in Gemfile and got this bundle update error Bundler could not find compatible versions for gem activerecord In Gemfile activerecord postgis adapter 4 0 2 was resolved to 4 0 2 which depends on activerecord 5 0 0 rails 5 1 0 rc1 was resolved to 5 1 0 rc1 which depends on activerecord 5 1 0 rc1 System configuration Rails version 5 1 0 rc1 Ruby version 2 4 0p0 Posted to the gem also I'm a Rails newbie and am developing an app I am getting into the JavaScript aspects and seemed as if I may as well get on 5 1 and use the asset manager changes in 5 1 rather than fighting Rails 4 I too much of a newbie to know if this is my problem the gem is problem or Rails 5 1 but thought it better to report it now rather than later,,"rafaelfranca,rafaelfranca",2017-03-24 00:59:47,2017-03-24 17:40:20
PR,Fix decimal typecaster ArgumentError safe 4 2 stable,Summary In ruby 2 4 BigDecimal raise ArgumentError when it is given invalid String argument and in previous version it returns BigDecimal 0 In current master branch this probrem is fixed But in rails 4 2 8 this probrem still exists I think that it is better to fix this probrem because rails 4 2 8 supports ruby 2 4,,rafaelfranca,2017-03-24 08:30:10,2017-03-24 17:46:56
PR,Fix doc format for duplicable ci skip,before before after after,,"y-yagi,kamipo",2017-03-25 10:56:32,2017-03-25 11:02:06
PR,Update Action Cable README md typo fix,Fixing a typo in the Action Cable ReadMe md file,,"kamipo,y-yagi,kaspth,kamipo,kaspth,kamipo",2017-03-25 11:00:59,2017-03-25 11:11:52
PR,Rename local variable name current user to verified user ci skip,Assigning local variable named current user in the condition is confusing,,"kamipo,kaspth,kaspth",2017-03-25 11:51:01,2017-03-25 11:54:04
PR,Rename local variable name current user to verified user ci skip,Related 28570 Or would we consider removing duplicate code in guide and README,,"y-yagi,kaspth,y-yagi",2017-03-25 12:05:54,2017-03-25 12:32:53
IS,Rails 5 1 0 rc1 rake webpack install vue task not available,It seems to be an issue with webpacker gem version In the Gemfile created there is gem 'webpacker' which installs 1 0 version which ships without the vue task If I replace it with gem 'webpacker' github 'rails webpacker' the task is available Steps to reproduce Create a new Rails 5 1 0 rc1 application running rails new rails vue webpack vue Expected behavior The step which executes rails webpacker install vue does not abort due to rake task not found Actual behavior The step which executes rails webpacker install vue aborts due to rake task not found Error Full output Fix In the Gemfile replace gem 'webpacker' with gem 'webpacker' github 'rails webpacker' System configuration Ruby 2 4 0 Rails 5 1 0 rc1,,maclover7,2017-03-25 15:01:20,2017-03-25 15:20:40
IS,Provide form with as a new alternative to form for form tag,form tag and form for provide two very similiar interfaces to much of the same thing We should unify that usage and subsequent calls to field tags Additionally there are several deficiencies with the current helpers that I would like to solve at the same time now that we will have a new form method to change defaults with 1 Do not set DOM id or classes on the form or the fields any more It frequently created duplicate ids and its not used often enough to warrant being a default behavior You can easily add the id or class if need be 2 Do not require HTML tags like class and id to be wrapped in a html key There are not a high likelihood of conflict and it complicates the default cases 3 Allow form fields that do not correspond to model attributes This makes it easier to mix and match a form with some fields that correspond to a model and others that will trigger other behaviors like sending a welcome email 4 Make remote true the default Full page changes after submissions are rough When using Turbolinks a normal redirect will generate a Turbolinks visit call and otherwise there is SJR We could consider having config action view forms remote by default that you could set to false for people going old school Examples There is still a fair amount of design work to deal with especially around the FormOptionsHelper We should move away from positional parameters entirely and replace them with named ones But we should also try to cut down on needless options and pick better defaults And finally we should simply drop a lot of the overly specialized select option methods Note For 5 x form for and form tag should just be soft deprecations no warnings Then we can deprecate with a warning perhaps in Rails 6 x,,"dhh,vipulnsward,sgrif,dhh,kaspth,dhh,dhh,kaspth,claudiob,kaspth,dhh,kaspth,dhh,kaspth,kaspth,kaspth,kaspth,kaspth",2016-05-30 15:32:51,2017-03-25 16:10:18
IS,Preloading associations with string foreign keys fails,Steps to reproduce See diff b1215e38a98827a4b1b61271a6bf1ba8 Expected behavior Including an association with a string foreign key should not raise an exception My association is Appears to be related to 14734 System configuration Rails version 4 2 5 Ruby version 2 3 1p112 2016 04 26 revision 54768 x64 mingw32,,,2017-03-26 03:50:36,2017-03-26 04:17:01
PR,Add useful links to the welcome page,When someone opens rails welcome page now she he can see useful links from community on the page Blog Guides API Ask for help Contibute on GitHub img width 1275 alt screen shot 2017 03 26 at 15 55 41 src,,"dixpac,vipulnsward,matthewd,fxn,dixpac",2017-03-25 12:48:19,2017-03-27 06:05:09
PR,ignore system test gems on Gemfile when execute with skip test option,Summary rails new app name T generate rails application without test But generated Gemfile include capybara and selenium webdriver So I fix do not generate these gems when test skip option add,,"rafaelfranca,eileencodes,eileencodes,eileencodes,eileencodes",2017-03-23 05:05:24,2017-03-27 12:25:54
PR,Prevent ujs event propagation if element disabled when event chain begins,Summary The existing ujs event behavior relies on browsers not triggering various events when an element is disabled For example imagine the following button type submit disabled disabled data confirm Confirm Click me button The above button is disabled so browsers will not trigger a click event and all ujs behavior is prevented However imagine a button like this button type submit disabled disabled data confirm Confirm strong Click me strong button The above is treated differently by browsers such as Chrome Safari These browsers do not consider the strong tag to be disabled and will trigger click events ex the data confirm prompt will be shown with the second button example ujs has logic to walk up the DOM to find an associated element subject to ujs behavior But this logic does not take into account the disabled status of the element I originally thought we could simply change the selectors L9 L10 used to match elements to ignore disabled elements However ujs disables some elements L54 as part of the event chain So an element might match early in the chain and then fail to match later Instead of changing the selectors I added a callback to the chain that calls stopEverything if an element is disabled when the event chain begins Other Information I'm guessing that based on the changes I have made this could use some additional tests I'm pretty unfamiliar with this bit of the codebase and would appreciate some guidance,,rafaelfranca,2017-03-10 06:19:10,2017-03-27 16:12:16
IS,Actioncable latency client side ping feature,I have been looking at the actioncable stuff and it appears that the connection monitor relies on ping which is server client I am wondering if any thought has been made to have a client ping variation which is generated on the client periodically and hits the ac service with a immediate rebroadcast to that client It seems like this could not only provide an active check on the client side as to connection status but also if the ping payload is made to be time data would allow for a round trip latency estimation current timestamp returned ping timestamp I am building this functionality for a new app and it seems like this could make sense to be generalized on the client server I can imagine that many if not most apps built on actioncable would either want to display connection status latency or at least take actions on it I don t want to spend the time to generalize this if it is not wanted or already being planned somewhere,,"maclover7,jeremy,jeremy,jeremy,rafaelfranca",2016-05-07 20:32:26,2017-03-27 19:13:47
IS,Asking permission for docrails,Hi I'm shia who is maintainer of Korean version contributor of Japanese Rails Guides I'm sorry to open this here but I can not find proper place if someone who read thinks it is not proper please let me know where I could ask about this so here is my main topic Please give me the permission for docrails It is really hard to maintain translation with rails repository It is heavy to work with as well as sometime upstream break deploy process for translation furthermore I find some fix of railsguides during updating translation please let me contribute easier Here is somethings I did Thanks to read,,"riseshia,maclover7,rafaelfranca,riseshia",2016-12-25 10:47:18,2017-03-27 19:17:08
PR,Use oracle enhanced 1 8 branch for Rails 5 1 stable branch,Summary The currently master branch of activerecord oracle enhanced adapter is for AR 5 2 0 alpha L88 The version of activerecord oracle enhanced adapter for AR 5 1 x is 1 8 x Similar issue,,koic,2017-03-27 03:52:23,2017-03-27 19:47:22
PR,Do not show hidden namespaces in destroy commnad help,before,,"y-yagi,eileencodes,y-yagi,rafaelfranca",2017-03-26 23:34:44,2017-03-27 21:03:32
IS,Unexpected behavior with empty VERSION parameter,Steps to reproduce With pending migration files run RAILS ENV production bundle exec rake db migrate VERSION This was the result of mistakenly copy pasting an empty line that contained a whitespace It may also have contained a newline character Expected behavior The migration should not be executed or should report a malformed version Actual behavior Migration was rollbacked and then executed as expected by looking at this code L63 System configuration Rails version 4 2 3 Ruby version 2 1 5 Possible explanations I am by no means a rake expert but it seems like the check at this line L86 fails when we pass in an empty string Namely to i 0,,"maclover7,maclover7",2017-03-09 16:42:22,2017-03-27 21:07:57
PR,fix migrate with empty version,Fixes 28359 Add stronger assertions to rake migration tasks to make sure the user is providing a numeric VERSION An empty string was getting converted to version 0 This would in turn pass the presence check,,"maclover7,maclover7,maclover7,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,kaspth,maclover7,maclover7,kaspth,kaspth,rafaelfranca,kaspth,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-03-20 02:48:34,2017-03-27 21:07:57
IS,Rails 5 1 bigint column recognized as integer with limit 4 bytes,Expected behavior Using rails 5 1 0 rc1 and mysql2 migrations should use BIGINT as primary key integers by default 26266 Actual behavior I cannot set a BIGINT as id Steps to reproduce db migrate 20170311112129 create receipts rb class CreateReceipts ActiveRecord Migration 5 1 def change create table receipts do t t timestamps null false end end end Trying to set a BIGINT like 773187872333227144 as id System configuration Rails version 5 1 0 rc1 Ruby version 2 3 3 related to 28386,,"vipulnsward,rafaelfranca,kamipo",2017-03-26 08:52:45,2017-03-27 21:11:41
IS,Add indefinite article to to sentence,Sometimes it is necessary to produce a sentence like I have an apple and a banana or The phone has 3G and an FM radio It would be nice to add indefinite articles in front of each word in the array or optionally before the final array item I'm assuming this is not currently possible,,rafaelfranca,2017-03-26 15:10:48,2017-03-27 21:23:05
PR,Use SET CONSTRAINTS for disable referential integrity without superuser privileges take 2,Re create eeac6151a5 was reverted 127509c071b4 because it breaks tests ref 72c1557254 context 5523 Other Information We must use authors fixture with author addresses because of its foreign key constraint Tests require PostgreSQL 9 4 2 because it had a bug about ALTER CONSTRAINTS and fixed in 9 4 2,,"mtsmfm,rafaelfranca,mtsmfm,yahonda,mtsmfm,mtsmfm,mtsmfm,mtsmfm,mtsmfm,rafaelfranca,rafaelfranca,rafaelfranca",2017-01-10 17:32:58,2017-03-27 21:24:28
PR,Preprocess association query handling in predicate builder,Currently association query is handled as a postprocess This has two problems 1 When value is a Hash we need to skip the postprocess using next 2 can be bound should return false if table associated with column name is true pass to the postprocess These are unneeded if preprocessing association query handling,,"kamipo,matthewd,kamipo",2017-03-20 12:21:00,2017-03-27 22:21:42
PR,Avoid converting integer as a string into float,Summary If the number of digits increases so that exponential notation has to be done correct comparison wo not be done at present Thus this makes the validator convert integer string into integer not float,,"maclover7,maclover7,rafaelfranca",2017-02-17 13:19:10,2017-03-27 22:25:32
IS,Missing default values from default scope on ActiveRecord model initialization,Summary ActiveRecord models using default scope with where conditions defined in array format do not get initialized with the expected default scope attribute values Steps to reproduce Expected behavior Above I would expect Circle new to be initialized with its number attribute set to 1 same as the Square new example The difference between the two models is the format of the where conditions Actual behavior Circle new gets initialized with its number attribute set to nil unlike Sqaure new which gets its number attribute set to 1 System configuration Rails version Occurs in 4 1 4 2 5 0 Ruby version 2 3 1,,"maclover7,rafaelfranca,maclover7",2017-03-24 16:27:01,2017-03-27 22:36:30
IS,rails new webpack option does not consider javascript option,Steps to reproduce rails new reproduce js wp javascript typescript webpack Expected behavior package json should add typescript as a development dependency and optionally not include the coffee script one Actual behavior It ignores javascript option and includes coffee script as a dependency instead Contents of package json here System configuration Rails 5 1 0 rc1 ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux,,"maclover7,rafaelfranca",2017-03-21 22:56:59,2017-03-27 22:42:06
PR,Remove j javascript option from rails new,The j option was added 5 years ago when we wanted to support prototype rails and jquery rails Prototype is not as popular and jQuery is not a requirement anymore Still the j option can be used to install any gem that ends in rails This might open security issues and does not bring great benefits anymore If you know which rails ending gem you want to install you can manually add it to the Gemfile just like any other gem,,"claudiob,claudiob,kaspth,rafaelfranca,rafaelfranca,rafaelfranca",2017-03-23 15:10:48,2017-03-27 23:22:49
IS,Deprecation was never carried out,Rails 4 2 apps used to log that the default log level was going to change to debug for all environments c2e865849beadd99866e521a93d733da7d1b5255 removed the warning but the old behavior is still there L156 Did the rails core team change their plans I could not find any issues with a discussion about this,,vipulnsward,2017-03-24 13:56:09,2017-03-27 23:22:50
IS,NullSessionHash fetch behaves differently than Session fetch,Steps to reproduce Try to fetch something from session without a session id with System configuration Rails version actionpack 4 2 6 rack 1 6 4 But the error is there in the master branches as well Ruby version Ruby 2 3 0,,"maclover7,rafaelfranca",2016-06-23 14:43:55,2017-03-27 23:24:16
PR,Remove unnecessary files to API only Applications when app task task executed,,,"y-yagi,rafaelfranca",2017-03-24 13:55:23,2017-03-27 23:36:48
IS,hepler all or helper SomeHelper not worked in ActionController API,Following is sample code BTW ActionController Base is worked Just ActionController API not work,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-03-24 08:49:38,2017-03-27 23:53:20
IS,Ca not serve assets with numbers in the filename,It seems assets in the format letters 7 digits or more jpg can not be served in development I have tried it with variations of this format i 0000000 jpg abc i 0000000 jpg abc i 1234567 jpg abc defghi 1234567 jpg abc image 123456789 jpg abc def image 123456789 jpg and so on Steps to reproduce Start with a Rails app in v4 2 6 Make sure that config serve static files true in development mode Run its development server Create an image file app assets images i 123456789 jpg Run curl 3000 assets i 123456789 jpg Expected behavior It should serve the image Actual behavior I get a No route matches assets i 123456789 jpg error I made sure public assets is not present I have also tried using image tag asset path and asset url helpers but they do not seem to help I have tried using underscores instead abc 123456789 jpg that works image System configuration Rails version observed on 4 2 5 4 2 6 and 5 0 0 rc1 Ruby version 2 3 0,,prathamesh-sonpatki,2016-05-11 09:26:56,2017-03-27 23:57:50
IS,Actioncable closes automatically Process pid 19895 group the grid api websocket no longer exists Detaching it from the pool,Steps to reproduce Rails 5 0 0 1 Ruby 2 3 1 Rails API Deploy on Ubuntu 16 04 using Guidelines for creating a bug report are available here creating a bug report Expected behavior consumer should subscribe and connected Actual behavior System configuration Rails version 2 3 1 Ruby version 5 0 0 1,,maclover7,2016-10-17 13:00:13,2017-03-28 06:48:29
IS,Unscoped messing up SQL query params in PostgreSQL adapter,Steps to reproduce 1 Access a model relation Where the default scope is where archived nil deleted false and I needed to remove the archived part of the scope System configuration Rails version 4 2 6 Ruby version 2 2 3 Database type PostgreSQL,,"rafaelfranca,rafaelfranca",2016-07-06 12:29:14,2017-03-28 08:40:37
PR,28431 Adds mapping for TzInfo zone Identifier America El Salvador,Summary Under Issue 28431 is was found that time zone rb had a mapping missing for officially assigned country code SV for El Salvador It was also verified that Tzinfo returns the appropriate zone identifier America El Salvador This pull request adds the Mapping for America El Salvador zone identifier,,pixeltrix,2017-03-17 07:35:18,2017-03-28 12:01:54
IS,ActiveSupport TimeZone country zones country code fails to find valid Alpha2,Steps to reproduce Cause The underlying reason seems to be that ActiveSupport TimeZone MAPPING is only a partial mapping of TZinfo identifiers Keys are Rails TimeZone names values are TZInfo identifiers As a result country zones will return the correct response only if a Rails TimeZone name is not shared by multiple countries Version ruby 2 3 3p222 activesupport 5 0 2 tzinfo 1 2 2,,"rafaelfranca,pixeltrix,pixeltrix",2017-03-15 19:03:43,2017-03-28 12:35:33
PR,Add verification for column type for enum,Summary Added error if you try to use enum on column which is not integer type This PR is not completed yet I'm just trying to understand if we need this kind of improvement And if so I will add tests and update docs and codestyle It looks like Or need to update docs with undocumented behavior if your column in db is string then you can have following enum enum status 'active' 'ActiveStatus',,maclover7,2017-01-13 11:20:14,2017-03-28 13:46:30
IS,4 2 8 throws error when doing time1 time2 max on frozen times,Steps to reproduce calling time1 time2 max where both times are frozen throws RuntimeError can not modify frozen Time from home dog rbenv versions 2 3 3 lib ruby gems 2 3 0 gems activesupport 4 2 8 lib active support core ext date and time compatibility rb 23 in to time' Expected behavior There should be no error Actual behavior RuntimeError is thrown System configuration Rails version none Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux,,eugeneius,2017-03-28 09:20:10,2017-03-28 15:26:26
PR,make it clear how to enable caching,since this is a new change many will be coming here to toggle the true false config and not find it This will allow them to quickly implement the change,,maclover7,2017-03-23 18:32:27,2017-03-28 15:39:43
PR,Fix store accessors in parameters test,The method name must be stored attributes not stores attributes attribute names must return a non empty value Because stored attributes is not checked if attribute names is empty Follow up to 28056,,"y-yagi,pixeltrix,pixeltrix",2017-03-21 23:23:50,2017-03-28 16:27:11
PR,Fix ActiveModel Errors keys values,Before Related to 23468,,"bogdanvlviv,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-03-28 09:11:56,2017-03-28 17:44:35
IS,ActiveModel Errors creates key in messages hash if there are any errors for that given key,If you want to access an error for an attribute with model errors foo if there are any error on that attribute it creates an entry on messages hash with this attribute name So after try to access errors of an attribute if you want to get all error keys from the ActiveModel Errors instance it will return wrong keys Lets look at the example I think this is intended behaviour but it is weird and error prone Is there any reason to create a key on messages hash for given attribute name if there are any errors on that attribute,,"meinac,vipulnsward,meinac,vipulnsward,maclover7,maclover7,meinac,maclover7,rafaelfranca,rafaelfranca,meinac,rafaelfranca,meinac,maclover7",2016-02-04 04:59:31,2017-03-28 17:44:42
IS,listen should not listen on paths loaded from gems,I stumbled across this when I tracked the reason why I have so many fsevent watch processes running after starting a rails server in development mode I see a lot of fsevent watch processes watching directories that are in gems Since these are not supposed to change anyways they should not be watched The culprit here seems to be in railsties' lib rails application rb file which loads all the ActiveSupport Dependencies autoload paths as paths to watch In my case config watchable files and config watchable dirs is empty API def watchable args nodoc files dirs config watchable files dup config watchable dirs dup ActiveSupport Dependencies autoload paths each do path dirs path to s rb end files dirs end I guess for the reason that also autoload paths should not include paths from inside gems but maybe I am wrong there In any case fixing this could also help with and Expected behavior Watchers should only start for the app directories itself Actual behavior Watchers start for a number of directories outside of the app directory itself System configuration Rails version 5 0 0 1 Ruby version 2 3 1 OS Mac OS 10 11,,"maclover7,rafaelfranca,rafaelfranca,matthewd,fxn,fxn,matthewd,matthewd,fxn,fxn,matthewd,fxn,matthewd,rafaelfranca,rafaelfranca",2016-11-02 17:28:47,2017-03-28 20:32:48
PR,Added deep compact behavior for hashes and arrays,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,rafaelfranca,2017-03-28 21:27:31,2017-03-28 21:32:42
PR,Add keep id suffix option to humanize new,Refer Issue 26011 also refer PR 26078 Note The previous PR 26078 had got a lot dirty and resolving conflicts was taking me ages The following changes were made based on the discussion Changes 1 Added keep id suffix check to humanize L129 2 Added options hash to titleize L162 to utilize keep id suffix flag and keep the trailing ' id' in a string 3 Added additional tests for both humanize and titleize with the keep id suffix set to true,,"rafaelfranca,kaspth,rafaelfranca,prathamesh-sonpatki,rafaelfranca",2017-03-19 22:01:00,2017-03-28 22:04:16
PR,Make internal methods to private,,,"kamipo,rafaelfranca,kamipo",2017-02-17 14:14:53,2017-03-28 22:12:52
IS,Question about description and code in the chapter Action View Overview of RailsGuide,Steps to reproduce nbsp Hello Now I read RailsGuide for using Rails more effectively and I found an unclear point in which sample codes might be an error in writing So I post this issue nbsp Following codes and descriptions between two lines are sited from the section b 3 2 4 The as and object options b in 3 2 Partials of the chapter Action View Overview partials hr 3 2 4 The as and object options By default is correct How about it Regards System configuration Rails version 5 0 2 Ruby version 2 2 6p396,,"st0012,st0012",2017-03-15 20:17:10,2017-03-28 22:44:43
PR,Remove unnecessary javascript option check,Follow up to 28546,,"y-yagi,pixeltrix,pixeltrix",2017-03-28 22:59:47,2017-03-29 08:17:28
IS,Form input helpers do not generate well formatted JSON Upgrade from 4 2 0 to 4 2 8,Form input helpers do not handle JSON results Steps to reproduce The input field is populated with midi instead of midi And similarly in the case of dictionaries it will return instead of proper JSON Expected behavior Should return well formatted JSON in the input field Actual behavior Returns string spaced elements and for JSON dicts System configuration Ruby version Upgraded to 4 2 8 from 4 2 0,,"pixeltrix,pixeltrix",2017-03-28 23:13:36,2017-03-29 09:41:59
PR,Make driven by overridable,Sometimes we want to use rack test partially instead of selenium for test speed In the abobe case WithoutJavascriptTest uses selenium because SystemTestCase calls superclass' driver on initialize self class superclass driver use Using class attribute can handle inherited driven by,,"mtsmfm,eileencodes,mtsmfm,eileencodes",2017-03-28 15:29:04,2017-03-29 11:53:11
IS,Determining primary keys across multiple schemas,Summary If two tables with the same name exist in different schemas ActiveRecord Base connection primary keys returns an array 'id' 'id' instead of just 'id' When calling find Rails mistakes this as a composite primary key and subsequently prevents loading any model instances from any one of the tables This behaviour was introduced by 27961 Steps to reproduce Ruby script Runnable demo with failing tests Needs PostgreSQL and a database named bugreport Manual 1 Use Rails 5 1 beta and PostgreSQL 1 Create two schemas for example public and tenant1 1 Create two tables named versions one in public and one in tenant1 1 Create a model Version 1 Set the schema search path ActiveRecord Base connection schema search path 'public tenant1' Then 1 Call ActiveRecord Base connection primary keys haversions' 1 Call Version find 1 no record needs to exist Expected behavior primary keys haversions' should return 'id' Version find 1 should raise ActiveRecord RecordNotFound Works in Rails 5 0 1 Actual behavior primary keys haversions' returns 'id' 'id' Version find 1 raises ActiveRecord UnknownPrimaryKey Additional information The SQL query from 27961 determines the table purely by string comparison which cannot uniquely identify the correct table when there are multiple matches across all current schemas The original query performed a regclass cast and compared oids That automatically determined the right table by taking the current search path into account,,,2017-03-17 22:48:31,2017-03-29 13:39:03
PR,Fix primary keys across multiple schemas,Fixes 28470,,"kamipo,pixeltrix,pixeltrix",2017-03-19 10:13:56,2017-03-29 13:39:03
IS,Getting attribute changed deprecation warning in a place that is not deprecated in Rails 5 1 0 rc1,Steps to reproduce In a model call attribute changed from the condition of a validate callback Expected behavior I expect this to work without deprecation warnings Actual behavior I'm getting a deprecation warning that suggest the behavior of attribute changed changed from inside after callbacks but this is not inside one I could of course not use the deprecation warning is suggested fix of changing to saved change to attribute since it is not saved yet DEPRECATION WARNING The behavior of attribute changed inside of after callbacks will be changing in the next version of Rails The new return value will reflect the behavior of calling the method after save returned e g the opposite of what it returns now To maintain the current behavior use saved change to attribute instead called from block in class MyModel at Users magnus Code rails test api app models my model rb 2 System configuration Rails version 5 1 0 rc1 Ruby version 2 4 1,,,2017-03-29 08:53:23,2017-03-29 15:00:28
PR,Fix link to rails ujs,Summary is merged into actionview in favor of,,tricknotes,2017-03-29 16:12:22,2017-03-29 16:23:08
PR,FinderMethods fourty two docs cite proper source,Silly method gets a silly doc fix or I'm missing an even sillier joke and I'm about to get schooled BUT I'm pretty sure this is some serious Beaudrillard simulacrum though I'm just doing my part to spread the gospel of Douglas Adams Note I dug back as far as it seemed reasonable to make sure I was not missing something here but it seems an innocuous but still somewhat important misunderstanding to correct,,"fxn,fxn,fxn",2017-03-29 14:37:56,2017-03-29 16:31:23
PR,Make Getting Started for ActiveRecord README rdoc,Background Although there is a sample file for ActiveRecord there is no procedure for executing sample file If there is a procedure it is beneficial for beginner Existing sample file is below What I did Append a description for executing sample file with ActiveRecord Please check,,"eileencodes,eileencodes,eileencodes,rafaelfranca,rafaelfranca",2017-03-25 06:49:27,2017-03-29 16:35:30
PR,CI against Ruby 2 2 7,Summary,,tricknotes,2017-03-29 16:01:26,2017-03-29 16:43:08
PR,Fix the example code for Rails groups ci skip,Summary Rails groups contains Rails env that is inspected as String,,tricknotes,2017-03-29 16:14:18,2017-03-29 16:47:14
IS,A bug Query the whole table when using find in batches and find each,Steps to reproduce Supposing we use MySQL and we have a model named User like this Any help will be appreciated Thanks,,"sgrif,htanata",2016-06-27 14:58:39,2017-03-29 16:59:48
PR,Load only needed records on ActiveRecord Relation inspect,Instead of loading all records and returning only a subset of those just load the records as needed The original behavior could be bad when someone types User where on console and accidentally presses enter before they finish causing a lot of records to be queried and loaded although only 10 is shown To query and inspect all we can use to a instead e g User all to a inspect Fixes 25537,,"htanata,rafaelfranca,htanata,matthewd",2017-03-29 02:46:05,2017-03-29 16:59:48
IS,Statement invalid pg through joins with order 5 1,Steps to reproduce System configuration Rails version 5 1 0 rc1 Ruby version 2 4 1 Postgres version 9 4,,,2017-03-29 06:10:28,2017-03-29 17:04:09
IS,Rails 5 NoMethodError undefined method default scope override',Steps to reproduce Unable to provide steps to reproduce as this exception was logged in staging environment after upgrading to Rails 5 Has been logged 6 times Expected behavior Exception should not happen Actual behavior Received the following exception System configuration Rails version Rails 5 0 0 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin14,,"maclover7,prathamesh-sonpatki",2016-07-14 22:23:55,2017-03-29 17:05:01
PR,add hint on after action filters,Adds a hint that after action callbacks are not executed when an exception was raised in the rest of the request cycle The before action section mentions If there are additional filters scheduled to run after that filter they are also cancelled but this is IMO not sufficient,,,2017-03-29 13:53:57,2017-03-29 17:08:03
IS,Clickable linkable headers in rails guides,Hello Rails team One of the features I love about viewing markdown on GitHub is I'm able to easily link to headers On rubyonrails org you are able to link to headers also For example this a link a section about dealing with basic forms dealing with basic forms However it is only possible to link to these sections by scrolling up to the right bar and clicking on the relevant section you can not just click on the header link when viewing a markdown file on GitHub Reading through the documentation contribution headings section and it looks markdown is used for the guides Does the clickable functionality come from the type of renderer used What does rubyonrails org use to render markdown What should I start learning reading doing if I would like to eventually have clickable headers for the rails guides I looked through the documentation contributing guidelines contributing to the rails documentation but nothing jumped out at me immediately,,maclover7,2017-02-10 04:43:04,2017-03-29 20:25:14
PR,Add an alias for reverse merge to with defaults,In the context of controller parameters reverse merge is commonly used to provide defaults for user input Having an alias to reverse merge called with defaults feels more idiomatic for Rails Should we add documentation to reverse merge referencing these new aliases,,"rafaelfranca,sgrif",2017-03-29 17:40:13,2017-03-29 21:23:47
IS,The Learn More links on the ActiveRecord readme page are broken,Steps to reproduce Open this link in Chrome I'm on a Mac Notice that clicking on any of the Learn More links for instance this one takes you to a github 404 screen Thanks,,rafaelfranca,2017-03-30 01:03:04,2017-03-30 01:44:49
PR,Raise when using a bad symlink,There was a case where a dev made a symlink that worked on some machines and not on others The issue manifested itself on a machine with RAILS ENV staging as the had their config environments staging rb symlinked to another config file The behavior was very hard to track down Current behavior If you use a bad symlink in a file you get no warnings or failures or anything If you have a bad symlink it just ignores the file as if it did not exist File exist returns false for a bad symlink Patch behavior With this patch when a file is not present we check if a symlink exists If it does that indicates there is a bad symlink and we should raise,,"schneems,pixeltrix,schneems,pixeltrix",2017-03-14 22:19:03,2017-03-30 05:26:25
IS,field observe method,I am trying to update a project in rails2 to rails4 but I found the ' field observe ' please tell me how to deal this thank you,,matthewd,2017-03-30 07:10:39,2017-03-30 08:08:14
IS,Date cweek does not support Date beginning of week,Steps to reproduce Expected behavior When the start of the week has been configured it should modify the cweek calculation to correctly return the week number strftime behaves in the same way Actual behavior Date cweek behaves as though the beginning of week has not been set System configuration Rails version 4 2 8 Ruby version 2 4 0,,pixeltrix,2017-03-30 04:20:51,2017-03-30 09:07:11
PR,Update comment in sanitizer helper test skip ci,Summary Small documentation change to the sanitizer helper test The previously referenced file appears to pre date the extraction of sanitization logic to the rails html sanitizer gem,,,2017-03-30 01:28:52,2017-03-30 09:09:03
IS,ActionController Metal response includes the default headers,Creating a controller that inherits from ActionController Metal adds the default headers from ActionDispatch to the response when it should not be adding anything ActionController Metal should be opt in for these headers instead of having them added by default This commit e16afe61abd78c55f80752ca020b90d59ae1940f appears to be where it originated and in particular changing ActionDispatch Response new to ActionDispatch Response create here L137 I have created a gist with a minimal test showing the issue Expected behavior The response headers should not include the default headers Actual behavior X Frame Options X XSS Protection and X Content Type Options headers are added to the response System configuration Rails version 5 0 0 Ruby version 2 3 0,,"maclover7,maclover7",2016-07-13 21:47:03,2017-03-30 09:29:34
PR,Do not include default response headers for AC Metal,Summary In Rails 4 2 ActionController Metal controllers did not include the default headers from ActionDispatch Response However through e16afe6 and a general shift towards having ActionController Metal objects contain ActionDispatch Response objects instead of just returning an array of status headers and body this behavior was lost This PR helps to restore the original behavior by having ActionController Metal controllers generate Response objects without the default headers while ActionController Base now overrides the factory method to make sure its version does have the default headers Other Information Fixes regression introduced by e16afe6 Fixes 25820,,"maclover7,pixeltrix",2017-03-29 21:41:06,2017-03-30 09:29:34
IS,Polymorphic belongs to returns nil instead of record,Steps to reproduce Expected behavior belongs to association should return record Actual behavior belongs to association returns nil System configuration Rails version 5 0 2 Ruby version 2 4 0,,,2017-03-30 12:59:56,2017-03-30 13:08:54
PR,Let assets precompile fail if yarn install fails,Summary When I deploy Rails app I want to abort the deployment if any process inside assets precompile fails But rake assets precompile exits successfully even if bin yarn fails So I changed yarn install to exit with failure if it fails Also I changed it to skip yarn install if bin yarn does not exist for the case that skip yarn is specified,,"k0kubun,maclover7,dhh,k0kubun,dhh",2017-03-30 12:29:56,2017-03-30 14:03:51
PR,Move HashWithIndifferentAccess tests to separate file,In a recent PR 28603 I noticed that the HashWithIndifferentAccess tests were mixed in with the hash extension tests This PR simply moves all HashWithIndifferentAccess to a separate file,,rafaelfranca,2017-03-29 23:17:43,2017-03-30 19:10:22
IS,5 1 0 rc1 webpack problem with rails ujs,Steps to reproduce I'm using rails 5 1 0 rc1 with webpack option So in this vein I would like to avoid to use assets pipelines to load the dependencies and use only webpack for this I would configured the system and is working fine but after I integrated with devise I could not get the route users sign out working After doing a research looks like I should add rails ujs and maybe turbolinks But because I not working with assets pipelines anymore and not getting rails ujs and turbolinks from the gems I added this two packages with yarn yarn add rails ujs turbolinks The problem is when I require this libraries should not thrown an error and the dependencies should be loaded Actual behavior Tell us what happens instead require 'rails ujs' throw an error like explained above System configuration Rails version 5 1 0 rc1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,"rafaelfranca,rafaelfranca",2017-03-29 14:24:36,2017-03-30 19:19:07
PR,Restore rails ujs js UMD module support,Fixes Same problem and fix as cc,,"javan,rafaelfranca",2017-03-30 18:44:14,2017-03-30 19:19:07
PR,Fix example usage of ActiveRecord Base establish connection ci skip,Summary ActiveRecord Base establish connection accepts a single symbol argument to specify a named connection a single string argument appears to be interpreted as a connection URI,,"maclover7,maclover7",2017-03-30 16:54:33,2017-03-30 20:02:22
PR,Add missing backtick to deprecation message,,,y-yagi,2017-03-30 23:22:21,2017-03-31 06:11:08
PR,CI against Ruby 2 3 4,Summary,,"tricknotes,tricknotes,pixeltrix,tricknotes,pixeltrix",2017-03-30 11:25:27,2017-03-31 08:58:50
PR,Fix a failed AR test when running with OracleAdapter,Summary This PR fixes the following failure when using Oracle 11g It matched the SQL string returned by OracleAdapter,,"koic,eileencodes,koic,eileencodes,koic",2017-03-31 06:44:11,2017-03-31 12:13:46
IS,rails 5 1 0 rc1 webpack import action cable from webpack,Steps to reproduce At the cable js file inside of a new rails appliction we find the following But if we would like use webpack instead of assets pipelines to import the needed files we need convert the sentences appropriately require self is resolved using import ' path to cable js' from somewhere require tree channels is resolved using import ' channels' for example But the problem is with action cable because action cable looks like is inside of a gem for example rvm gems ruby 2 4 1 gems actioncable 5 1 0 rc1 lib assets compiled action cable js I did not find any npm repository so we can not load it from node modules as usual How could we import it Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen import 'action cable' should be resolved correctly Actual behavior Tell us what happens instead import 'action cable' or another variations cannot be resolved correctly because action cable js is inside of a gem System configuration Rails version Rails 5 1 0 rc1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,matthewd,2017-04-01 00:34:16,2017-04-01 01:52:00
IS,DATABASE URL affect database config when play rails test,Following is my config database yml But we expect we use the config which exists in config database yml Rails version 5 0 2 Ruby version 2 3 3 Thanks,,matthewd,2017-04-01 08:52:49,2017-04-01 11:45:34
PR,Add default scope note to ActiveRecord guide,Adds note to explain unexpected behavior described in issue 28561 Developers may be surprised that the internal representation of similar query conditions in Hash and Array formats in default scope will yield different results for model initialization,,maclover7,2017-03-31 22:12:31,2017-04-01 16:28:51
PR,Limit stale checks to issues,rafaelfranca adds support for marking Pull Requests as stale in addition to Issues The default will be to check both Issues and PRs so I updated the config here to limit stale checking to issues Feel free to just close this PR If you want stale checks on PRs as well but I will wait to hear from you either way before I deploy,,"maclover7,matthewd",2017-04-01 16:33:05,2017-04-02 04:38:40
PR,No need to check nil,,,matthewd,2017-04-02 04:45:14,2017-04-02 04:55:48
PR,Add anchor links to all headers,To allow easy linking at all levels and not just from index Summary Updated the markdown renderer for the guides to wrap all headers h3 h6 in an anchor tag to allow easy linking within the guide and not just from the sidebar index Other Information Updated the main css as to maintain existing look and feel making the headings only underline when hovered on,,"matthewd,claudiob,matthewd,claudiob,matthewd",2017-04-02 04:39:54,2017-04-02 08:40:53
PR,Fix double updating of object in a callback,Related to 27442 28599 cc,,"bogdanvlviv,bogdanvlviv",2017-04-01 14:36:50,2017-04-02 11:34:36
PR,Update faraday version to 0 12 0 1,,,"bogdanvlviv,matthewd",2017-04-02 11:55:21,2017-04-02 12:04:02
IS,ActiveRecord 5 has many through and STI does not work with preload,Steps to reproduce I create models with has many through association and STI,,"k0kubun,maclover7",2017-03-24 02:55:10,2017-04-02 17:31:49
PR,CI against Ruby 2 4 1,Related 28532 27636,,y-yagi,2017-04-03 12:34:51,2017-04-03 13:39:41
PR,Add missing requires for depedencies of strong parameters rb,Problem If strong parameters is the first require then it gets the following error The problem is that it is using extensions of Module cattr accessor and delegate without requiring them Solution Add the missing require statements in strong parameters rb for its core extension dependencies,,"matthewd,rafaelfranca",2017-04-03 14:26:51,2017-04-03 15:45:21
PR,Raise NotImplementedError when using empty insert statement value with Oracle,Summary Follow up to This PR fixes the following 2 errors when using Oracle 11g 1 PrimaryKeysTest test create without primary key no extra query empty insert statement value is not implemented by Oracle database When using empty insert statement value method raises NotImplementedError Other Information With 5 0 stable the NotImplementedError exception does not occur So backport to 5 0 stable is unnecessary,,"koic,matthewd,yahonda,matthewd,yahonda,koic",2017-02-16 09:10:31,2017-04-03 17:30:58
PR,Clear active connections after initialization,Any connections that were checked out during initialization should be checked back in before the first request is processed for two reasons Returning the connection to the pool allows it to be health checked before it is used again If the connection dies before the first request arrives the health check will replace it with a new one If the thread that initialized Rails is not the same thread that will be performing work checking in the connection will allow it to be reused instead of being stuck to the initialization thread forever The second use case was the reason I wrote this patch we run a lot of Sidekiq processes at and deploying this reduced the peak open connection count on our database by 13,,eugeneius,2017-02-18 00:37:25,2017-04-03 18:42:56
PR,Update backtrace cleaner to use Regexp match,In a backport for Ruby 2 4 is Regexp match was introduced On Ruby 2 4 this method is about 13 faster than because it does not allocate a MatchData object and sets the value of Since the silencer only cares about a boolean return value we should use match,,"bdewater,matthewd,rafaelfranca,bdewater,rafaelfranca",2017-01-28 04:07:07,2017-04-03 19:09:01
IS,Deprecation of strings or symbols for middleware class names,Steps to reproduce Create a middleware folder under app directory Create file app middleware unicorns rb System configuration Rails version 5 0 0 rc2 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux Using config middleware use Unicorns works but that is deprecated Using config middleware user Unicorns in environments rb works too,,"maclover7,rafaelfranca,rafaelfranca,tenderlove,matthewd,tenderlove,fxn,fxn,arthurnn",2016-06-25 12:37:29,2017-04-03 19:29:00
IS,Rails 5 Rails g migration,gems rb inotify 0 9 7 lib rb inotify watcher rb 74 in initialize' Invalid argument Failed to watch gems activesupport 5 0 0 lib active support locale the given event mask contains no legal events or fd is not an inotify file descriptor Errno EINVAL,,"maclover7,prathamesh-sonpatki",2016-07-01 15:19:53,2017-04-03 19:29:01
IS,Rails new ignores BUNDLE PATH,Ruby 2 3 0 Rails 4 2 5 Bundler 1 11 2 Given When I run rails new my app then bundle install launches automatically This way bundle install for some reason ignores BUNDLE PATH variable and installs all the gems to home app rvm gems ruby 2 3 0 AND When I run rails new B my app then bundle install DOES NOT launch automatically After that I run bundle install explicitly and everything goes fine BUNDLE PATH worked and all the gems has been installed to srv bundle Is it kinda bug or something,,"arthurnn,arthurnn",2016-01-09 18:43:17,2017-04-03 19:29:03
IS,Rails backtrace cleaner add silencer does not work but filters do,Steps to reproduce in initializers backtrace silencers rb Rails backtrace cleaner add silencer line line lib and restart the server Expected behavior I expect to see in log file only ActionController RoutingError No route matches GET admin roles but Actual behaviour In the same time Rails backtrace cleaner add filter line line sub 'lib' '' works exactly as expected It seems I am not alone System configuration Rails version 4 1 8 4 2 6 Ruby version 2 2 1,,"vipulnsward,vipulnsward,vipulnsward,rafaelfranca,arthurnn,vipulnsward",2016-04-05 15:44:47,2017-04-03 19:29:04
IS,db test purge fails when db is set with DATABASE URL only,It is identical to this issue but for Rails 5 Steps to reproduce Create application set database with DATABASE URL only but without config database yml config file Run bundle exec rake db test load Expected behavior Command works successfully without any error with using DB config from DATABASE URL env variable Actual behavior System configuration Rails version 5 0 0 beta3 Ruby version 2 3 0,,"prathamesh-sonpatki,sgrif,vipulnsward,prathamesh-sonpatki,arthurnn,prathamesh-sonpatki,prathamesh-sonpatki",2016-03-24 08:37:58,2017-04-03 19:29:05
IS,PG ConnectionBad PQconsumeInput SELECT,Use Active Record to access postgreSQL DB in our app Then we get a error in prod is like this The reason it happend beacuse the db connection got stopped or killed by database for some reason maybe network problem But the active record connection poll will not repair this connection and keep it in the pool That is bad Steps to reproduce 1 connect your app to postgreSQL DB loop to query something from db table 2 run a sql in db to kill the connection then you got the error Expected behavior the connection could be repaired Actual behavior the broken connection stay there the app keep get the error PG ConnectionBad PQsocket can not get socket descriptor SELECT System configuration Rails version N A Ruby version 2 1 5,,maclover7,2016-03-04 06:39:53,2017-04-03 19:29:06
IS,redirect route is unescaping encoded slashes,Steps to reproduce In config routes rb Now If I request abcd 2F1234 it redirects to other place abcd 1234 rather than the expected other place abcd 2F1234 Expected behavior When I request abcd 2F1234 it should redirect to other place abcd 2F1234 Actual behavior When I request abcd 2F1234 it redirects to other place abcd 1234 System configuration Rails version 4 2 6 Ruby version 2 3 0,,,2016-05-20 15:38:14,2017-04-03 19:29:07
IS,XmlMini REXML throws potentially undefined errors,Steps to reproduce Assume a function looking roughly like this from xml may raise REXML ParseException but if do something also raise an exception then REXML ParseException may be undefined depending on if something potentially a successful earlier run has managed to require rexml document or not Expected behavior I would expect to have all exceptions defined before the method is called the first time so that it is possible to catch the exception Workaround This can be worked around by manually requiring rexml document Suggested resolution Either make certain REXML ParseException is defined or raise some other exception that is defined System configuration Rails version 4 2 6 Ruby version 2 3 1,,"arthurnn,prathamesh-sonpatki",2016-10-18 12:52:43,2017-04-03 19:29:08
IS,to json on Maill Message raises Encoding UndefinedConversionError with jpeg attachment,Steps to reproduce Create a mail Add a JPEG attachment No way to include this into a gist apparantly but any JPG file should work Convert mail to json See file activesupport to json bug rb Expected behavior Should convert to JSON string with UTF8 encoding Actual behavior raises an Encoding UndefinedConversionError This seems to work with just the mail and json gem included but not with the activesupport extension See file json works rb System configuration Rails version 4 2 7 and 5 0 0 Ruby version 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,"utilum,chancancode",2016-10-10 09:34:19,2017-04-03 19:29:09
IS,Stack level too deep when belongs to and foreign key have the same name,Steps to reproduce Expected behavior ActiveRecord Relation should be returned Actual behavior A stack level too deep error is raised System configuration Rails 5 0 0 1 Ruby 2 3 1 Work in Rails 4 2,,utilum,2016-10-13 14:37:14,2017-04-03 19:29:10
IS,ActionCable server configuration examples Issue with running different connection types,Steps to reproduce 1 Create 2 different cables app channels notification cable NotificationCable with its own connection without user auth app channels application cable ApplicationCable with its own connection with user auth How to setup ActionCable server is to run both connections from the same codebase Actual behavior Currently i see solution with creating 2 standalone servers each with it is own ActionCable server config System configuration Rails version 5 Ruby version 2 3 1,,maclover7,2016-10-07 23:54:41,2017-04-03 19:29:11
IS,Appending format to path in routes can break tests,We are allowing email addresses to be used as routes member id in our JSON api To do so we set in our routes but it is being deprecated Any suggestions Thank you r Using rails 5 0 0 1,,,2016-10-18 10:02:25,2017-04-03 19:29:12
IS,parent children build parent is nil if has many has scope,When a parent defines a has many without a scope parent children build parent parent If the has many has a scope parent children build parent is nil Tested on master 5 0 0 1 and 4 2 6 I noticed this when upgrading to 5 0 0 1 as the added required by default behaviour of belongs to makes it so I can not save a new parent with children,,"maclover7,maclover7",2016-10-19 03:25:34,2017-04-03 19:29:13
IS,Inflector issues,I was trying to read the inflector code to understand it and I noticed a few problems smile What started out as a small refactoring idea now turned into more of a grind because I am pretty sure my refactor could fix these issues but I want to make sure we have tests for them etc I want to enumerate the issues here so 1 I do not forget 2 if I did not finish my work someone else could pick it up If it does not look like I have time to tackle them I will come back to write down some more thoughts Please let me know if you noticed something else and or you think any of these are wrong Inflections inflector inflections rb 1 Defining inflections is not threadsafe and racy in general 2 clear all does not clear acronyms 3 clear uncountables and clear acronyms behaves incorrectly 4 Uncountables should be nodoc 5 The attr reader on Inflections should probably be protected 6 The documentation says the Inflections is a singleton which is no longer true because of locale support Also TMI for docs IMO 7 Why do we escape in uncountables but not everywhere else 8 Uncountables Array is probably a bad idea and seems unnecessary since it is completely internal 9 This seems wrong at least very unnecessary inefficient note the dups I will likely want to break those in the refactor If you have strong objections let me know Inflector inflector methods rb inflector transliterate rb 1 Accessing inflections together with runtime re definition of the rules is not threadsafe and racy in general 2 pluralize and singularize should transition to using kwarg for locale 3 camelize underscore humanize titleize tableize classify and foreign key should take a locale kwarg since they all uses the inflections rules for acronyms etc which are locale specific 4 camelize and underscore allocates and compiles a dynamic regex on each call unnecessarily 5 IMO since we have been dropping those freeze s everywhere in the Inflector we should just do it for everything and or move some of the literals into constants within the scope of the inflector not the entire codebase Tests 1 It should not reach into the internals of Inflections to do the cleanup we even do it cross package from Action Controller is tests 2 It only attempts to dup and cleanup the default en locale but we do modify other locales in some tests too 3 There are not enough test coverage for the non default locale in general IMO this really implies defining inflection rules is intended to be a single threaded boot time operation and we did not intentionally support re defining them at runtime My personal perference is to find a way to make that more explicit and remove support for runtime re definition or deprecate it However I agree it is Not That Hard to make it threadsafe Since we use the inflector to load code setup PKs FKs associations etc presumably the timing already matters Also modifying it at runtime has implications also have implications for caching Since this already behaves inconsistently today and no one really thinks it is a good idea anyway and probably not a lot of people relies on it I would rather we figure out a way to enfore the rules rather than relaxing encouraging it I do not have a concrete proposal for now but I am sure we could figure something out Maybe I will make it work and we can figure out how to deprecate it,,chancancode,2016-10-17 15:54:26,2017-04-03 19:29:14
IS,ActiveRecord RecordNotFound message vagueness,Severity cosmetic Steps to reproduce Example Expected behavior The arel where sql is printed here and may be vague sometimes especially when using a bug reporting tool The question marks should be replaced with the correct values in the query AFAIK it was already there pre Rails 5 Actual behavior img width 791 alt record not found src System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,maclover7,2016-09-27 21:16:51,2017-04-03 19:29:15
IS,Empty enum values and validates associated lead to random update call,Steps to reproduce Minimal projects to reproduces the behaviour Rails 4 1 14 sqlite Rails 4 1 14 mysql Rails 5 0 0 1 mysql Given the following models The 3 query runs an update for Foo that changes the status of the column with the enum Removing validates associated from foo fixes that I am pretty sure that the empty string enum value causes this issue as this generates methods simply called and because of the generated methods for enums similiar to the asd and asd methods that are generated Expected behavior No random update Actual behavior Column gets updated System configuration Rails version 4 1 14 Reproduced exactly the same behaviour in rails 5 0 0 1 Ruby version 2 3 0,,,2016-09-30 08:49:41,2017-04-03 19:29:16
IS,Documentation clarification for url for and engines,The routing guide should mention at least briefly how to reference url is directly using controller action etc as is mentioned in the API docs rather than the helper functions controller path etc ie something like link to Update magazine controller magazine action edit id id It is also helpful to know how to access url is that never will have resource ful routing built in ie explicit get post routes Since it is clearly documented how to create an arbitrary route there should be something mentioning how to access that route as well without using the path helpers There is also not enough clarification between the routing guide and the engine guide on how to access an engine is controller is url is for link to or url for It is only mentioned in the API here class Rails Engine label Using Engine 27s routes outside Engine Even then it mentions nothing about how to call url for within a given engine which ought to be like my engine url for controller my controller action 'index' It might also be useful to mention an example url for or link to call link to View engine is widget my engine Regardless the guides that are my first stop and probably the same for most people ought to mention the my engine edit widget path widget syntax It would also be really helpful if the routing debugger at rails info routes would mention the engine is variable name ie instead of listing edit magazine path etc for MyEngine either having it mentioned as my engine edit magazine path or write a small blurb about prefixing with my engine when not in the engine ie different part of app It is confusing why the debugger mentions edit magazine path and yet I get an immediate error when I use that unqualified outside of the engine,,maclover7,2016-09-11 18:40:40,2017-04-03 19:29:17
IS,Differing schema rb under mysql 5 7 and utf8mb4 text columns,Steps to reproduce This situation has similar symptoms to the case described in issue 7252 issuecomment 7487098 In this case it is happening to text columns in utf8mb4 tables in mysql 5 7 this is not happening with mysql 5 6 To reproduce Define a migration to create a column with a kind of text The resulting schema rb file shows a length of 65535 When using mysql 5 7 performing rake db migrate results in a change to the schema rb showing a length of 16777215 Expected behavior I would expect the schema rb file to be t text url limit 65535 Actual behavior The schema rb file shows t text url limit 16777215 System configuration Rails version '4 2 7 1' Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin16 mysql version 5 7 11,,,2016-09-26 03:16:07,2017-04-03 19:29:18
IS,rails route bug,Steps to reproduce Step 1 Add route like this Expected behavior Should told me could not found the controller because the correct controller file should be in app controllers api v1 my follow search keywords controller rb System configuration Rails version 5 0 0 1 Ruby version 2 2 4,,"pixeltrix,Neodelf",2016-09-17 07:12:58,2017-04-03 19:29:19
IS,Nesting of framesets when clicked on API documentation link on welcome page of api rubyonrails org,Steps to reproduce Go to api rubyonrails org Click on API documentation link this will open up same page inside the frameset as a new frame Again click on the API documentation link this will open up same page as a frame in the inner frameset Expected behavior should do nothing when clicked on API documentation link or should reload the page Actual behavior Opens the page inside a frameset over and over as and when clicked on the link in a nested fashion,,claudiob,2016-09-30 11:34:19,2017-04-03 19:29:20
IS,Rails isolated mountable engine helpers are not exposed to application,Steps to reproduce Engine 1 Generate new Rails engine with mountable flag 2 Add isolate namespace engine name to engine rb 3 Create basic view specific helper method within your main helper file in app helpers Application 1 Create new Rails project 1b Follow the steps below in your engine is test dummy application as well 2 Add the engine you have created to the Gemfile by referencing it is path 3 Mount the engine within your routes file 4 Add helper engine name Engine helpers to your application controller 5 Call the engine is helper you have just created from within a view Expected behavior The engine mounts and helpers routes etc work as expected in both your application and the engine is test dummy application Actual behavior The engine is routes controllers etc mount and work as expected Helper methods are exposed to the test dummy application and work as expected In the non dummy application however helper methods are not exposed and instead throw undefined method 'helper name' for Class 0x007fb3627af090 0x007fb3627aab08 In troubleshooting I have tried adding an initializer and adding helper all to my engine both as described here This does not change the behavior described above System configuration Rails version 5 0 0 1 Ruby version 2 3 0 System OSX 10 11 4,,,2016-09-26 17:28:05,2017-04-03 19:29:21
IS,PostgreSQL adapter does not allow spaces in table names if no schema or quotes,Steps to reproduce Create attempt to use or schema dump a PostgreSQL table with a space in the name e g create table 'work orders' Expected behavior It should treat the entire string as the table name Actual behavior It uses the first word or segment before the space as the schema and the rest as the table name This is a bug in the regex used for parsing the schema table name You can work around it by using quotes work orders which is reasonable and necessary when you specify a schema ' my schema work orders It is not necessary for the mysql or sqlite adapters though and causes friction when you do not use schemas System configuration Rails version tested with 4 2 7 and master probably introduced here Ruby version 2 3 1,,maclover7,2016-10-06 17:45:22,2017-04-03 19:29:22
IS,Association scope is ignored when eager loading with includes,After not getting any satisfying answer after multiple bounties on StackOverflow I have concluded it is a bug with Rails The linked Question links an example app with a detailed README explaining the issue I'm using Rails 4 1 4 and Ruby 2 1 10,,"maclover7,mechanicles,maclover7,mechanicles,maclover7,mechanicles",2016-10-03 08:57:39,2017-04-03 19:29:23
IS,Associations with scope should assign scope conditions first,We have the next set up But this does not work in the case of accepts nested attributes for thumbnails where we can not control the order in any non hackish way AFAIK,,"maclover7,maclover7,maclover7",2016-08-27 06:11:14,2017-04-03 19:29:24
IS,ActionDispatch Routing RouteSet url for does not take defaults into consideration,Steps to reproduce Test case Given the following config routes rb,,"sgrif,sgrif,pixeltrix",2016-08-11 17:59:40,2017-04-03 19:29:25
IS,Unstable test suite running minitest 5 8 4,Steps to reproduce The minitest was locket to minitest 5 3 3 more then two years ago but nobody cared so far to fix the instability Since I am trying to package the latest Rails for Fedora where is available just more recent version of minitest the test suite is unstable from time to tim Is not it time to fix the instabilities and move forward to more recent versions of minitest These are the tests which I had to disable to make the AR test suite always pass this is copy paste from Fedora is spec file but I hope it is obvious that the sed just comments out several specific tests Expected behavior The order of test cases execution does not matter and hence the test suite passes with the latest minitest Actual behavior The test cases are order dependent so the test suite executed with the latest minitest which executes the test suite in random order fails from time to time System configuration Rails version 5 0 0 Ruby version 2 3 1 Installed gems activemodel 5 0 0 activesupport 5 0 0 arel 7 0 0 bcrypt 3 1 10 bigdecimal 1 2 8 builder 3 2 2 concurrent ruby 1 0 2 erubis 2 7 0 i18n 0 7 0 json 1 8 3 metaclass 0 0 4 minitest 5 8 4 mocha 1 1 0 psych 2 0 17 rack 2 0 1 rdoc 4 2 2 sqlite3 1 3 11 thread safe 0 3 5 tzinfo 1 2 2,,"rafaelfranca,zenspider,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-07-11 08:56:53,2017-04-03 19:29:26
IS,Action Cable memory leak,Steps to reproduce Next visit 3000 and refresh the app multiple times On our hardware we can watch the memory grow unbounded as seen here This was after an apparent warm up period where Rails appeared to be lazy loading resources but the first several dozen page loads shows oddly high memory growth I was not sure if this was lazy loading or puma workers warming up so it may be benign Either way the memory growth appears to grow unbounded following this high growth period and is never reclaimed Expected behavior The memory is reclaimed following connection cleanup Actual behavior Memory grows with each new connection and is not reclaimed after connections die System configuration Rails version Observed on both Rails 5 0 0 and the 5 0 stable branch containing this patch Ruby version 2 3 1 OS Ubuntu 16 04 1 x64 Let me know If I can provide more information to help diagnose further,,"fxn,tenderlove,tenderlove,tenderlove,tenderlove",2016-08-11 14:21:44,2017-04-03 19:29:27
IS,Non html format rendering html view,Steps to reproduce 1 Create a new rails 5 project rails new bug 2 Generate a scaffold for welcome rails generate scaffold welcome 3 Migrate and run development server rails db migrate rails s 4 Confirm that 3000 welcomes xml raises ActionController UnknownFormat 5 Rename index html erb for the welcomes view to index html mv app views welcomes index html erb app views welcomes index html 6 Run development server rails s 7 Visit 3000 welcomes xml Expected behavior An ActionController UnknownFormat exception should occur which in production mode results in a 406 Actual behavior The index html view is rendered with a 200 status code the browser complains about invalid xml System configuration Rails version 5 0 0 Ruby version 2 3 0 Additional Information With rails 4 2 7 an ActionView MissingTemplate is raised Thus unless this is expected behavior with rails 5 it would seem to be a bug The behavior certainly caught me off guard is not intuitive and took longer than I would like to admit to discover that the lack of the erb suffix was the culprit,,"maclover7,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2016-08-08 19:00:32,2017-04-03 19:29:29
IS,assert enqueued with failure messages could be more helpful,Actual behavior When asserting that a job has been enqueued with assert enqueued with on failure it returns a message such as this Or something similar with a bit more polish If it is something that the core team think should be included in the ActiveJob test helpers I would be happy to work on it,,utilum,2016-07-29 08:53:27,2017-04-03 19:29:30
IS,Docs are wrong about has many inverse of not working with as,From the Rails docs blockquote dl dt inverse of dt dd Specifies the name of the belongs to association on the associated object that is the inverse of this has many association Does not work in combination with through or as options See ActiveRecord Associations ClassMethods is overview on Bi directional associations for more detail dd dl blockquote But has many inverse of does seem to work with the as option I have made a reduced test case that demonstrates this So it seems that the docs are wrong dl dt Rails version dt dd 5 0 0 dd dt Ruby version dt dd 2 3 1 dd dl,,"maclover7,maclover7",2016-07-07 16:24:07,2017-04-03 19:29:31
IS,mounted helper for the same engine can not be defined multiple times,Steps to reproduce Is this intentional System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"k0kubun,maclover7,k0kubun,k0kubun",2016-12-14 09:11:18,2017-04-03 19:29:32
IS,Route scoring ignores options defaults conflicts,Steps to reproduce Create routes Guidelines for creating a bug report are available here creating a bug report Expected behavior I would expect the ' pretty url bar' path to be returned since it would be a better match than the first one Actual behavior The ' pretty url foo' is always returned no matter the id passed System configuration Rails version 4 2 7 1 Ruby version 2 3 0p0 Extra This did not happen in Rails 3 1 It seems that all the ActionDispatch Journey Route score options gives the same results to all of these so it always takes the first declared route,,"utilum,maclover7,pixeltrix",2016-11-21 16:27:00,2017-04-03 19:29:33
IS,autoload vs eager load in docs clarify,It mentions eager load but does not explain how to use it It is explained how to use autoload but autoload does not work reliably in production environment especially with threads I think document should explain autoload should not be used at all and explain how eager loading is to be used e g My understanding is bases on 13142 as well on my personal bad experience with a new app I'm writing But I'm too new to rails to take on actually wording the docs Thus filing an issue,,,2016-12-05 09:48:43,2017-04-03 19:29:34
IS,Rails Rake commands exiting in production environment,Steps to reproduce I'm using Rails 5 0 0 1 have just updated to 5 0 1 rc2 and I have problems with Rails Rake commands while executing them with whenever gem in production Commands are going through as they should but each of those have 4 cron jobs atm finishes with SystemExit Sometimes there is an error message NoMethodError undefined method from' for main Object and sometimes error says that some constants that I'm using are not available depends on the task I'm executing This is an example of that error catched in Sentry As I said task are successfully doing their work but I get this kind of error every time I thought it has something to do with loading lib files in production but I did this proposed changes and that also did not work I also do not experience in development environment and neither when I run those commands manually So it happens just on scheduled jobs cron jobs in production Expected behavior Tasks should finish without exiting and reporting errors Actual behavior Described above System configuration Rails version 5 0 0 1 Ruby version 2 2 2p95,,"maclover7,utilum,utilum",2016-12-18 17:59:37,2017-04-03 19:29:35
IS,Rails tutorial authentication,Hi guys New to Rails I have been using this link to practice building apps For some reason when I plug in the authentication part of the exercise I am continually prompted to input my user information That is a no no Do not know if others have had this problem Hopefully I'm sending this to the right people as this was the link provided Thanks EJ Sorrento,,utilum,2016-11-06 23:02:34,2017-04-03 19:29:36
IS,Reading username from default file,Steps to reproduce I am trying to use the default file option for mysql2 gem and placing all db connections keys such as user password database etc in the conf file So in the YAML file I want to ideally specify ONLY 2 fields default file and default group Essentially trying to mirror L14 If config that does not have username it is assumed as root thereby overriding the setting in the conf file Any reason why this is System configuration Rails version Does not matter Ruby version Does not matter,,"utilum,utilum,pixeltrix",2016-10-27 04:20:33,2017-04-03 19:29:37
IS,rescue responses differ from those in the guides,Steps to reproduce System configuration Rails version 5 0 0 1 4 2 7 1 Ruby version ruby 2 3 1p112 2016 04 26 x86 64 linux gnu,,"prathamesh-sonpatki,prathamesh-sonpatki,yuki24",2016-11-21 10:45:02,2017-04-03 19:29:38
IS,Unexpected behaviour of root route with format false constraint,Steps to reproduce routes rb Expected behavior and something paths should resolve to landing index action Actual behavior only something works returns a 404 System configuration Rails version 5 0 0 1 Ruby version 2 3,,"maclover7,utilum,maclover7",2016-11-09 12:53:41,2017-04-03 19:29:39
IS,Is it really necessary to override the type method for ActiveRecord Polymorphic Association with Single Table Inheritance,The documentation here module ActiveRecord Associations ClassMethods label Polymorphic Associations seems to suggest it is necessary to override attachable type in order to ensure that that the base class Post is the one stored in attachable type rather than GuestPost or MemberPost Is this truly the case A repo I created here to implement the example in the documentation cannot reproduce an issue with straight forward assignment to attachable in all ActiveRecord versions It seems that this line L14 already calls the base class for us If the issue the documentation attempts to point our attention to is direct assignment to attachable type e g when receiving data on form submission then I suggest to specify it so that developers do not feel they need to override type methods for every polymorphic association that can potentially receive an STI model If you can confirm this then I'm happy to update the documentation to something like the following additions in bold Note The attachable type method is being called when assigning an attachable The class name of the attachable is passed as a String By default ActiveRecord sets attachable type to the base class when you assign a model to attachable However in case the attachable type is updated directly for example when receiving data from a form you will need to ensure this behavior manually The code below demonstrates how to allow accepting attachable type from a form by overriding the attachable type method,,"maclover7,vipulnsward",2016-10-20 20:28:33,2017-04-03 19:29:40
IS,rescue from does not handle java exceptions in JRuby,Steps to reproduce Place this line in your rails app in the application controller,,headius,2016-10-06 20:28:42,2017-04-03 19:29:41
IS,request local returns false in tests,Steps to reproduce,,"matthewd,maclover7",2016-10-13 18:21:08,2017-04-03 20:29:00
IS,fail when database prepartion fails in load schema if pending,Just had a nasty error not showing because when this executes a subcommand and ignores when it fails how about raise db test prepare failed unless system 'bin rails db test prepare' or invoking the task directly L581 rails 5 0 0 ruby 2 3 1,,"grosser,maclover7",2016-07-23 18:25:37,2017-04-03 22:29:00
IS,ActiveRecord 4 2 7 1 count method is not threadsafe,We upgraded from Rails 4 1 to Rails 4 2 7 1 and started receiving intermittent errors in our various count calculations The error message is undefined method visit Arel Nodes Casted' for Arel Visitors DepthFirst 0x7dc2a61b and a traceback is located at We are currently working around this issue by changing our count methods to pluck 'count id ' first I'm trying to write a standalone script to reproduce this issue but have not been successful yet System configuration Rails version 4 2 7 1 Ruby version jruby 9 1 5 0,,maclover7,2016-09-21 16:01:04,2017-04-03 22:29:01
IS,Confusing time select with include blank option,Steps to reproduce Create a time select tag with the option include blank 1 Why do the hidden inputs have a value of 1 when I explicitly want include blank values If I save a form without selecting anything from the time select it still gets converted to a DateTime object with a time of 00 00 and persited like this this is not the same as nil 2 Reading the docs If you set the ignore date to true you must have a date select on the same method within the form otherwise an exception will be raised This is not true nothing gets raised looking at the code this is also not true not now and not in Rails 5 0 I can have a form with only a select time and ignore date true and nothing gets raised during rendering or submit it actually works currently my fix System configuration Rails version 4 2 6 Postgres 9 5 Ruby version 2 3 1 Call To Action 1 When using a time select always include the ignore date option since the user requested explicitly a time select and do not care about the date part 2 Remove the wrong documentation since nothing gets raised I traced it back to even in 2011 the code never raised a thing 3 If option 1 is a no go then set the value to nil when using include blank since the user explicitly wants to be able to select nil as time now it is not possible to select nothing,,,2016-07-27 19:31:58,2017-04-03 22:29:02
IS,ActionCable connects in incognito window only after refresh,I know the problem is very hard to diagnose only from the reproduction steps but maybe it will ring a bell for someone Steps to reproduce 1 Open the application in production localhost works fine in a new incognito window tested on Chrome and Firefox 2 Do something that triggers ActionCable message or even broadcast them from production is rails console Expected behavior An ActionCable message should be received in JS Actual behavior The ActionCable message is not received in JS However when you REFRESH the page clicking links on the page does not help and repeat the steps everything works fine What is more if you visit the application is page again not in incognito mode the problem is not present too System configuration The production application is behind incapsula Could that be a problem Rails version 5 0 0 1 Ruby version 2 3 1,,"maclover7,javan",2016-09-14 12:45:08,2017-04-03 22:29:03
IS,Model plurality inconsistent when defining custom human readable names and errors in locale files,Steps to reproduce Create model choice question option with field called text We want to customize the human readable name and error message when taken validation uniqueness fails Setup a simple validation for uniqueness on text Try to add a new model with the same text as an old model Examine error messages produced on the errors field Expected behavior Overriding text in a YAML should only require the singular table name in both cases According to both Rails translations for active record models docs singular model names should be used this is also mirrored in comments in the ActiveRecord code That would mean a yaml file like System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,"maclover7,maclover7",2016-09-19 04:28:45,2017-04-03 22:29:04
IS,put update with String no longer sets RAW POST DATA,Steps to reproduce In Rails 4 2 I could do this in an ActionController TestCase Was this regression intentional,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-08-17 15:08:19,2017-04-03 22:29:05
IS,Eager loading does not respect prior includes call,Using includes to eager load a model that has already been eager loaded in a previous step causes ActiveRecord to unnecessarily fetch the models again This means that eager loading must be done at a single top level place in the code rather than being able to add it to all the specific lower level places where it is required just like transaction calls can be added anywhere a transaction is required and they will all join the parent transaction See the example below Steps to reproduce Consider a simple case with three levels of associations Expected behavior The includes bars baz call should execute a database query to load bars and a query to load bazs The includes baz calls should do nothing since bazs have already been eager loaded Actual behavior Each includes baz call one per iteration in the loop executes separate eager loading queries despite the fact that bazs have already been eager loaded before entering the loop System configuration Rails version 4 2 7 1 Ruby version 2 3 1,,"mechanicles,rafaelfranca,matthewd",2016-09-22 15:02:18,2017-04-03 22:29:06
IS,Postgres AccessShareLock idle transaction on column definitions,Steps to reproduce Open production rails console and call Thing first to ensure definition is loaded Check pg locks on that postgres relation Expected behavior There should be no locks on the table Actual behavior The ActiveRecord connection is keeping a AccessShareLock on the table Running a migration to add a column which requires an AccessExclusive lock will wait indefinitely for this to be release Anything else will queue up behind the AccessExclusive lock and everything goes wrong Closing the rails console will close the connection and the lock will be released System configuration Rails version 4 2 7 1 Ruby version 2 1 8,,,2016-09-21 14:54:07,2017-04-03 22:29:07
IS,Engine routes scope issue,Steps to reproduce I'm in the process of upgrading an old Rails application and when upgrading from Rails 4 1 5 to 4 2 6 a weird issues with engine routing appeared The application is mounted under a subdirectory and we have a scope in config routes rb which wraps everything under ENV 'RAILS RELATIVE URL ROOT' So if you set RAILS RELATIVE URL ROOT app the app is available at We also have an engine mounted at which has it is own routes The full config routes rb is as follows Instead of a redirect to this redirects to which results in a 404 and hours of debugging This fix it seems is easy switch around the the order of root and mount in the routes definition In 4 1 5 it does not matter what order they are in I have created a sample application to demonstrate the issue see the commit messages for example commands commentary Expected behavior The order of entries in config routes rb should not matter Actual behavior The order of entries in config routes rb does matter System configuration Rails version 4 2 6 Ruby version 2 3 0 and 2 2 2,,maclover7,2016-03-22 14:55:46,2017-04-03 22:29:08
IS,ActiveSupport SafeBuffer gsub behaves not like expected,Steps to reproduce I have read an explaination for this behaviour in this issue comment issuecomment 9202215 by But some difference in its gsub method I have not further investigated yet leads to above issue I found this issue after I applied the Style UnneededInterpolation rubocop to our code System configuration Tested with Rails 4 2 0 and 5 0 stable Both with Ruby 2 2 3,,maclover7,2016-07-14 08:45:27,2017-04-03 22:29:09
IS,merged where not query in scope for has many returns no relations in rspec tests,First issue raised excuse me if I do a poor job of this This is the query in question It returns the expected records in rails console and in the rails web app But in rspec tests it always returns an empty ActiveRecord collection Rspec core sent me to rails for this issue I'm not sure if I'm missing something in Rspec Factorygirl that is causing this or if there is an actual bug someplace responsible Rails 4 2 6 Ruby 2 20,,sgrif,2016-08-09 22:18:55,2017-04-03 22:29:10
IS,can not add a new key into hash during iteration active record attribute set builder rb,Hi I'm facing the following issue in production I have seen some similar issues in the rails rails tracker but not for active record attribute set builder rb specifically In any case I have never seen a clear solution being given to these problems so any pointer appreciated Exception ActionView Template Error can not add a new key into hash during iteration Offending line Plain old Rails link to category name category path category Stacktrace Using Rails fragment caching in the problematic view Using puma 2 16 0 workers 2 threads 8 8,,sgrif,2016-07-27 17:11:23,2017-04-03 22:29:11
IS,Unable to prepend appname SCRIPT NAME to url in rspec tests,Steps to reproduce I have a method which creates route url by appending host app name parameters Now I have integration tests to test this functionality In the before block I have the below assignment controller config relative url root Rails application config relative url root This controller config relative url root is assigned to request env SCRIPT NAME on this line L747 Using debugger it is clear that SCRIPT NAME is being set to the desired app name but still it is not returning the url with the SCRIPT NAME included I understood that the tests are doing something different than the actual code to generate urls Any suggestions Am I missing something here Guidelines for creating a bug report are available here creating a bug report Expected behavior The spec should return url with env 'SCRIPT NAME' value included prepended Actual behavior It returns a url without the env 'SCRIPT NAME' value All other parameters are in place System configuration Rails version 4 2 6 actionpack 4 2 6 Ruby version 2 3 0,,"prathamesh-sonpatki,prathamesh-sonpatki",2016-08-15 13:39:38,2017-04-03 22:29:12
IS,actionsupport to query method bug,Rails 5 0 0 Ruby 2 2 5,,maclover7,2016-07-22 10:47:45,2017-04-03 22:29:13
IS,ActiveRecord select fails to assign values on 'AS' columns with the same name,Steps to reproduce Selecting a column named date with an applied mysql function DATE and naming the result the same as the original column fails Payment select DATE date as date first date System configuration Rails version github rails rails branch '5 0 stable' Ruby version 2 3 1 Note This worked before upgrading from 4 2 x to 5 0 stable,,"alexcameron89,sgrif,sgrif",2016-08-22 09:23:30,2017-04-03 22:29:14
IS,Keep JSON data structured,When issuing an AJAX call from a view and passing JSON I should receive in the corresponding controller the exact same JSON However when doing this Which I can not use impossible to use eval params can not use params entry can not use JSON parse params since it is a parameter object I can not seem to find a turnaround for this System configuration Rails version 5 0 0 1 Ruby version 2 3 0,,"maclover7,maclover7,maclover7",2016-09-11 21:01:18,2017-04-03 22:29:15
IS,ActiveRecord Persistance becomes and ActiveRecord Callbacks after initialize interference,Steps to reproduce System configuration Rails version 4 2 6 Ruby version 2 2 0,,maclover7,2016-09-06 08:22:47,2017-04-03 22:29:16
IS,Enable an option for customize ON clause when eager load method is used,Hi i opened this issue from The final solution does not work for me Currently i have The where clause only works when i need a INNER JOIN but not with LEFT OUTER JOIN,,pixeltrix,2016-08-03 17:47:46,2017-04-03 22:29:17
IS,Suddenly getting no route matches for all routes without any changes to code,Have searched extensively without help so posting my issue here Steps to reproduce If I could tell you I would be a lot better off Expected behavior Testing a rails api with Postman makes API requests I know they are valid I can see them in rake routes and no front end views helpers etc are causing this As I have not changed anything in code since the last several successful requests my routes should not holistically be missing Actual behavior Working fine and then suddenly every route in app returns a no route matches error Attempted Solutions Have tried restarting computer no luck Have removed system gems reinstalled and then it works which leads me to believe some dependency or version dependency manager has an issue I can not do this every time this happens as it takes a long time to reinstall via rvm bundler System configuration Rails version 4 2 4 Ruby version 2 3 0 Puma version 3 4 0 Macbook Pro Mid 2014 OSX 10 11 4 Capitan Error Log,,maclover7,2016-08-03 19:57:34,2017-04-03 22:29:18
IS,Documentation should better document compilation of gem engine images,I have several images in a custom engine 'webcore' under app assets images webcore that are not referenced by CSS compiled files so they do not get compiled into my app is public assets webcore The documentation needs some clarification on how to work around this behavior Since the main app is app assets images files automatically get copied over to public assets I would expect my engine is asset images to be copied as well At first I thought my engine is app assets images folder was not included in the paths but I eventually found out after manually adding in engine rb that it already was but did not make any difference I stumbled across the behavior by chance discovering a gem whose images got copied over simply from reference in the CSS files That behavior itself is not documented clearly why some asset images get copied and not others However I have images not mentioned in CSS and those would only get copied once I modified my engine is engine rb file as per separate assets precompiling The documentation mostly references js css files but very little is said about images from assets gems It would be extremely helpful and time saving if the documentation could mention a paragraph on when gem image assets get copied to public and when they do not and have an example as well such as in my case referencing images not just CSS JS,,"maclover7,maclover7",2016-09-11 03:04:31,2017-04-03 22:29:19
IS,ActionView helper sanitize adds extra n characters which affects simple format is output,This a consequence of 22799 and its effect on the simple format helper I added this comment on that issue as well A call to simple format isanitizes' by default and sanitize injects n characters which become br and would mess up the HTML output A bypass of the issue is to not to sanitize when calling simple format sanitize false but then you would need to take care of the security issues on your own System configuration Rails version 4 2 7 probably since around 4 2 when the loofah scrubber and its use of nokogiri was added Ruby version Tested on 1 9 3 p448 and 2 3 1 probably all versions at least since 1 9 3,,,2016-08-29 14:15:52,2017-04-03 22:29:20
IS,ActionCable leaks Connection Base after reloading code,Steps to reproduce Expected behavior Instances of ActionCable Connection Base do not seem to be cleaned up after code changes Specifically methods that are periodically called throughout the lifetime of a connection e g beat should no longer be called Actual behavior Connection Base beat continues to be called even after a connected browser window has closed or a more explicit client side disconnection occurs This affects development only since prod obviously does not reload code and I only noticed it because I was overriding beat to also mark the authenticated user is most recent connectivity timestamp System configuration Rails version 5 0 0 rc2 Ruby version 2 3 0,,matthewd,2016-07-14 22:04:44,2017-04-03 23:29:01
IS,Rails console reload does not eager load when told to,Steps to reproduce Using the following STI class structure with eager loading on Expected behavior The reload command should of reloaded all of the eager loaded content Actual behavior The reload command does not seem to reload all the eager loaded content System configuration Rails version Rails 4 2 6 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15,,"maclover7,maclover7,sgrif,matthewd,fxn",2016-05-02 21:31:49,2017-04-03 23:29:02
IS,Generators not working without Spring starting,Steps to reproduce 1 In the terminal create a new rails 5 0 0 project rails new project name 2 Try to generate a new model or controller with the rails generate command in the terminal rails generate model model name or rails generate controller controller name Guidelines for creating a bug report are available here creating a bug report Expected behavior Your template model and or controller should generate as normal Actual behavior Getting the below error To remedy the issue I had to gem install spring separately and run spring spring start to be able to use the generate commands properly Note there is no mention in the Rails Guides 5 0 0 of needing to spring start in order to generate models and or controllers System configuration Rails version 5 0 0 Ruby version 2 2 2p95,,maclover7,2016-07-02 15:08:21,2017-04-03 23:29:03
IS,ActionDispatch Routing UrlFor does not define default url options reader when included into a module,When including ActionDispatch Routing UrlFor into a module that then gets included into a class the default url options reader is missing only writer is present When including ActionDispatch Routing UrlFor directly into any class everything is ok L95 Steps to reproduce System configuration Rails version 5 0 0 rc1 Ruby version 2 3 1,,"maclover7,maclover7",2016-05-11 07:51:04,2017-04-03 23:29:04
IS,Deprecation warning when comparing equality between ActionController Parameters,Steps to reproduce On my project I have defined the following method to convert the keys of a hash or ActionController Parameters or recursively convert the keys of an array of hashes or ActionController Parameters to snake case This method is called on parameters that are passed from the javascript client System configuration Rails version 5 0 0 Ruby version 2 2 3,,"rafaelfranca,rafaelfranca,matthewd",2016-07-01 02:55:09,2017-04-03 23:29:05
IS,Autosave on belongs to has and belongs to many association,Steps to reproduce Clone my repository Commands bundle install rake db migrate rails s Point browser to the following URLs 3000 action main index This url will execute the following code System configuration Rails version 5 0 0 Ruby version 2 3 1 The first action main index should not have inserted two groups on the table groups users After banging my head on the wall a few times i found out which part of the code is causing this nasty bug If i remove the u duck Duck new name 'quack' from the action main index it does exactly what it should like i demonstrated on action main index2 Thanks in advance Carlos,,sgrif,2016-07-07 14:40:08,2017-04-03 23:29:06
IS,DateTime insertion on rails 5,Hi I have a simple table events on a postgresql database Column Type Modifier id integer not null default nextval 'events id seq' regclass start at timestamp without time zone end at timestamp without time zone and I want to create a new record,,vipulnsward,2016-06-20 21:39:17,2017-04-03 23:29:08
IS,no cache override other cache control keys,According to FAQ I can do the following for private asserts I think it is caused by L195,,matthewd,2016-06-28 22:26:02,2017-04-03 23:29:09
IS,has many through does not initialize the through record with both associations,Given a has many through relationship When trying to add an associated record the record in the through table is not initialized with both records I have seen similar issues reported but I could not find any record of this actual issue The code fails during through record through association build options for through record Without the after initialize hook the through record is built as Appointment id nil patient id nil physician id 1 created on nil updated on nil The next line winds up adding the other association patient to the through record appointment but this happens after the appointment has already been initialized and after the callbacks have finished,,"maclover7,al2o3cr",2016-05-25 16:51:00,2017-04-04 00:29:00
IS,Logging mismatch when Rack Cache activates,Tracked down an issue where responses cached by Rack Cache are being reported wrong in the logs Whereas the server ultimately returns a 304 response code we are seeing a 200 response code in the logs I tried to write a test to prove it out but none of the tests in the rails repo seem to test the entire Rack middleware stack together there actually probably is I'm just not well versed enough to know where it is Anyway I created a reduction instead I hope that is okay From my investigation it looks like ActionController LogSubscriber is where all of these logs are being written Unfortunately at the point the response gets to the log subscriber Rack Cache has not had a chance to inspect and maybe 304 the 200 response Steps to reproduce Reduction of the bug The test is test sh Output Expected behavior The logs should output the correct response information In this case I am expecting a 304 Not Modified but the logs display a 200 OK Actual behavior The logs show a 200 OK System configuration Rails version 4 2 6 Ruby version 2 3 1p112,,maclover7,2016-05-22 11:31:52,2017-04-04 00:29:01
IS,ActionView Template Error Invalid query parameters invalid encoding RkpryQngn vq 3N 13904,Steps to reproduce 1 Start rails server 2 Access url 3000 attr1 RkpryQngn vq 3N 13904 Expected behavior I would expect receiving a request to the root path with params attr1 'RkpryQngn vq 3N 13904' or something similar Pretty much anything that I can handle in the controller would do Actual behavior Instead the exception is raised in the lib rack utils rb 127 in arescue in parse nested query' and the execution never reaches the controller I cannot rescue from this exception in my code User will get white screen no error message nothing System configuration Rails version 4 2 6 Ruby version 2 3 0 Additional information I do not know where these requests are coming but they are consistently pointed to our contact support path Each email that is sent to our users includes a link to support and there is a query string containing the integer id of the email I suspect that some email client is doing something nasty to the query string,,,2016-06-21 10:55:11,2017-04-04 00:29:02
IS,has secure password should check bytesize not length,active model secure password rb L77 BCrypt is length limit is 72 bytes not codepoints This should be a bytesize check not a length check Additionally BCrypt also truncates after null bytes allowing for an easy bypass of minimum blank password checks,,simi,2016-05-17 03:20:14,2017-04-04 00:29:03
IS,validate associated records for does not respect validation order,I'm not sure if this a bug but the behaviour looks weird Tested on both master and rails 4 21 Steps to reproduce Please find this gist that illustrate the problem Expected behavior When accepts nested attributes for gets called the validate associated records for xx validation callbacks gets created The associated model gets correctly validated at the right moment when we call validate validate associated records for xx and the errors are in the good order But this does not work in case your model defines validation before calling accepts nested attributes for The associated model gets validated after all validation on the parent was called even when explicitly calling validate validate associated records for xx The associated comment model will get validated after topic and title System configuration Rails version 4 2 1 Ruby version 2 2 1,,Edouard-chin,2016-06-08 00:26:28,2017-04-04 00:29:04
IS,Enum in concern concern in abstract class scopes of enum not working,Steps to reproduce See here for an example Rails app create a concern that adds enum include that concern in an abstract class let a class inherit from that abstract class try to get a scope defined by enum Expected behavior The scope should work Actual behavior The scope does not work because table name is not found Explanation as I understand it Scopes are evualated when defined and that is why they get evaluated when self is equal to the abstract class Normally a workaround I have seen is to explicitly overwrite the scopes via class methods With ActiveSupport Concern this not possible anymore because the methods from the included block gets evaluated last Possible solutions I can see Unfortunately all solutions I found are kind of ugly Evaluate scopes later would be the cleanest IMHO but probably not possible Option for enum to not define scopes Option for enum to define table name Define the order of execution inside the concern If the preferred solution is in my abilities I would be glad to implement it Workarounds Currently I include the concern in the child class System configuration Rails version 4 2 6 Ruby version 2 2 4,,rafaelfranca,2016-06-19 21:16:41,2017-04-04 00:29:05
IS,ActionCable Is there any option to defer call from client before subscription is finalized,Currently if we do any calls right after we made a subscription call it just being silently ignored and no messages is being passed to websocket DHH have used a timeout call L6 which I believe was used during developement but now we need normal methosd to defer calls and process them ASAP after subscription was finalized,,"maclover7,jeremy",2016-05-10 13:14:51,2017-04-04 00:29:06
IS,Module Constants Inconsistencies 4 2 5,First timer here with opening issues so hopefully this goes well I'm seeing issues with module constants in Rails 4 2 5 which also seem to be causing issues with inherited before action as well The problem is completely erratic sometimes everything works as expected other times it does not work The worst part is the behavior changes without any changes to the source code but rather simply an auto reload see below for more info on this There are two issues I'm seeing One is with before action and the other is with constants look up Inherited before action seems be skipped for subclasses of Api V2 ApiController which result in,,"pixeltrix,pixeltrix",2016-01-15 17:54:54,2017-04-04 00:29:07
IS,Allow using underscore class names for ActionCable channel names,In the current version of ActionCable creating a connection from the browser to the server requires code like this,,"maclover7,jeremy,jeremy,javan",2016-05-30 14:04:47,2017-04-04 00:29:08
IS,Eager loading using 'includes' can mess up polymorphic 'has many through' relationships,In one of my client projects we have a rather complex relationship between a couple of models that always worked fine until we had to introduce a little polymorphism Suddenly accessing relationships of an object returned not only the records we wanted and expected but also records of a different type that were not even associated with our object We tracked this down to eager loading and found a simple workaround Changing the order of relationships passed to includes fixed the problem Still I suspect this might be a bug in ActiveRecord so I wanted to leave this here I created a dumbed down version of our more complex real example Say you want to create menus consisting of one or more longdrinks Every longdrink is a combination of a liquor with a mixer For whatever reason we must distinguish between sodas and juices used as mixers The above test case is for the latest stable version of AR but I confirmed it also fails for 5 0 0 beta1 1 If this behavior really is a bug and not just a misunderstanding on our part I would be happy to collaborate on a PR I would just need some pointers where to look as frankly I have no idea smile Also please let me know if you need anything else from me And thanks for your hard work,,maclover7,2016-01-28 11:34:25,2017-04-04 00:29:09
IS,Cable Separate subscription confirmation from stream confirmation,We have a special case for subscription confirmation Normally we would return the confirmation immediately after calling subscribed and subscribe callbacks but stream from needs to establish a pubsub subscription with e g Redis before it can start streaming AND we do not want the client to think the subscription is REALLY connected yet So we added a workaround where we explicitly defer confirmation before establishing the pubsub subscription then explicitly send confirmation after it succeeds This is awkward and these are separate concerns Whether we have subscribed whether the server has record of the channel and knows that it is open Whether we are streaming for a broadcasting whether the server has successfully initiated pubsub subscription Let is look at decoupling the two and getting rid of the streaming only deferral management We really want a stream confirmation here The client can know that the server subscription went through and can later know that streaming has begun on a broadcasting,,"jeremy,maclover7,maclover7,jeremy",2016-05-06 01:59:23,2017-04-04 01:29:00
IS,Preloader gives undefined method each' for nil NilClass,I'm hitting this error randomly on production but the cause is a bit obscure Below I add a detailed debugging information as to what is failing but can not figure out why Similar issues First I should mention that I looked if this was related but after reading it and going over the code it seems that it is not the same underlying cause In that Github Issue the problem is that the owner field and association field are different data types but in my case the fields are the same type Error Error undefined method each' for nil NilClass Trace In this second context the association record has all the fields nil after it is loaded from the database into memory Any ideas on why does the AR model loads with incorrect data At this point in the code the AR model was loaded from the database so it should have a valid ID not zero Tracing the code it looks like the problem might be inside the records for ids method which returns the incorrect records Expected behavior The preloader should load all the associated record correctly Actual behavior undefined method each' for nil NilClass exception is raised Final notes We have tried to reproduce with no luck we get a lot of requests on the application and this happens 3 to 4 times a day Would appreciate any help on this Thanks System configuration Rails version 4 2 5 2 Ruby version ruby '2 2 3',,vipulnsward,2016-05-04 13:57:53,2017-04-04 01:29:01
IS,has many has one polymorphic associations generate error on join,After upgrading from Ruby 2 2 4 2 3 1 Rails 3 2 22 ActiveQuery joins between polymorphic has one has many associations raise errors Steps to reproduce Expected behavior The ActiveQuery should run a query and return a list of Addresses Actual behavior A vague TypeError is raised System configuration Rails version 3 2 22 3 2 22 2 Ruby version 2 3 1 OSX El Capitan I know Rails 3 2 22 is not certified for Ruby 2 3 yet Here is hoping,,"maclover7,al2o3cr,prathamesh-sonpatki",2016-05-11 23:20:57,2017-04-04 01:29:02
IS,fields for method printing unexpected tag when using nested form,The expected behavior is a renderization partial that contains With an unexpected div div after the last tag Rails version 4 2 6 Ruby version 2 2 3p173 2015 08 18 revision 51636 x86 64 linux,,"sgrif,al2o3cr",2016-03-31 00:01:20,2017-04-04 02:29:00
PR,Backport Delegate to scope rather than merge for collection proxy,Rails 5 0 1 introduced a bug 27582 which was fixed by 25877 However the fix was only merged to master There does not appear to be an easy way for me to workaround this bug so it would be great if it could be merged into 5 0 stable as well,,"pwim,rafaelfranca,rafaelfranca,kamipo,kamipo,kamipo,kamipo,rafaelfranca,rafaelfranca,rafaelfranca,kamipo",2017-03-02 02:48:55,2017-04-04 03:47:44
IS,Accessing records via CollectionProxy has poor performance compared to target,Our team discovered that iterating through a preloaded association has very poor performance compared to accessing the records directly via target Inspection into the issue shows lots of scope building that does not seem to be used as the cause Steps to reproduce Create a simple schema with associations Load the database with a large number of records Then preload all of the associations and iterate over them in two ways 1 with name each and with association name target each Measure the performance in both cases Here is a runnable example Expected behavior Traversing the records of a pre loaded association e g via each should have similar performance to first calling target on the association to access an array of the records before iterating Actual behavior Using each on pre loaded associations is many orders of magnitude slower than calling target to access then iterate the array of records System configuration Rails version 5 0 1 Ruby version 2 3 3,,kamipo,2017-04-04 01:58:24,2017-04-04 03:48:16
IS,ActionMailer Preview uses different execution of mailer for email info bar and email content,Steps to reproduce Create a mailer The object will differ Example Repo 1 Start server 2 Go to rails mailers object mailer event updated 3 boom Expected behavior I would expect the render for the email and email info bar use the same execution Thus the Object id in the subject and within the email would be the same Actual behavior They render with different instances System configuration Rails version 5 0 0 beta1 Ruby version 2 3 0,,"vipulnsward,pixeltrix",2016-04-08 02:06:21,2017-04-04 06:04:45
IS,ActiveRecord RecordInvalid Validation failed when running rake db seed instead of rails db seed,Steps to reproduce Supposedly in Rails 5 you can run either rake or rails to perform db operations For some reason when you do rake db seed it throws the error below However if you do rails db seed it works This seems to only affect nested attributes using rake db drop rake db create or rake db migrate WORKS using rake db seed rake db reset or rake db setup FAILS Assuming the above 3 failing commands also run rake db seed at some point in their execution Expected behavior rake db seed would populate database Actual behavior ActiveRecord RecordInvalid Validation failed Website statistics websites must exist System configuration Rails version rails 5 0 beta 3 Ruby version ruby 2 3 0,,maclover7,2016-04-27 16:47:42,2017-04-04 06:04:46
IS,Multiple increment decrement bugs on counter cache with has many through association,There are multiple bugs affecting at least Rails 4 1 14 1 4 2 5 1 5 0 0 beta2 and master Depending on the version the bugs range from temporarily double incrementing counters fixed by reload to counters incrementing when destroying join records I will try to summarize the behavior and attach a test case that hast multiple test that fail 4 1 14 1 4 2 5 1 master assign 1 1 2 1 1 1 assign reload 2 1 1 1 1 1 clear by re assign 0 1 3 1 1 1 clear by re assign reload 1 1 1 1 1 1 clear by destroy all 0 1 2 1 0 1 clear by destroy all reload 0 1 0 1 0 1 failed 2 4 2 Here is the data model used Also available as self contained test case as a gist test case active record has many through counter cache bugs rb,,"maclover7,maclover7,maclover7,maclover7",2016-02-17 17:50:44,2017-04-04 06:04:47
IS,Nil value in SQL,Steps to reproduce SELECT users FROM users WHERE users name IS NULL Actual behavior Tell us what happens instead When we got value with nil SQL query should exec IS NULL instead of NULL System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin15,,matthewd,2017-04-04 07:34:27,2017-04-04 09:27:16
IS,ugins,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2017-04-04 11:46:10,2017-04-04 12:00:40
PR,Update puma rb generator template to reconcile with Puma documentation,Summary I'm attempting to reconcile some documentation on ActiveRecord connections between Puma is README and the default generated Puma config file in Rails What is recommended in the Puma README clustered mode Other Information The config was originally added by here 23057 Not sure if he had some reasoning behind not using ActiveSupport on load perhaps ActiveRecord will always already be loaded by this point,,"schneems,matthewd",2017-03-31 18:25:07,2017-04-04 15:10:47
PR,Downplay links in Guides headers,ci skip Summary Change color of anchored headings to downplay their importance see issuecomment 291565328,,,2017-04-04 17:56:30,2017-04-04 18:34:09
IS,Strange Rails logger behavior,Hi guys that is not an issue really but I stuck with Rails logger and hope to get some help I was playing with logging in Rails and I have noticed a strange thing A question I initially tried to understand was how ActiveRecord log SQL queries to console I do not see too much difference between Rails logger and custom logger except thread key in formatter as I can see it comes from ActiveSupport TaggedLogging I do not think it has something to do with the problem Does anyone know where is the problem What I am missing The same thing happens with Rails 4 2 8 too I have Rails 4 2 8 application running on MongoDB with mongoid gem and there Rails logger debug 'foo bar' write text only in log file It makes thing that the whole thing is somehow related to ActiveRecord Is it so Thank you,,matthewd,2017-04-04 18:31:06,2017-04-04 18:43:18
PR,Consider y n YES NO aliases to true false for cast,Summary Debatable if this is a bug or an improvement but I was keen to use cast until I discovered that our business specified text input of yes no did not map correctly to booleans via cast This should be an easy hopefully uncontroversial fix but happy to hear other opinions or issues,,rafaelfranca,2017-04-04 18:48:46,2017-04-04 19:10:44
PR,Do not highlight code in anchorlink ci skip,Minor fix to 28662 Before img width 1552 alt before src After img width 1552 alt after src,,"claudiob,matthewd,claudiob",2017-04-04 19:12:49,2017-04-04 19:29:05
PR,Use appropriate type to header option,The header option checks only whether it is specified or not L52 Also if string is used the behavior difference will occur if the following option is specified,,y-yagi,2017-04-05 09:11:05,2017-04-05 11:44:06
PR,Ignore AR tests of index comment when using Oracle,Summary This PR ignores the following some failure tests when using Oracle 11g As far as I know Oracle Database does not seem to support adding COMMENT to INDEX SQLRF01109 Therefore this patch will not run the tests related with it As additional Information I confirmed that there is the same test fails on 5 1 stable branch,,"koic,koic,pixeltrix",2017-04-05 10:45:17,2017-04-05 14:07:30
PR,Add check for nil in parameter sanitization,I will start by appologizing for what will surely be a not super well done job of investigating a bug that I was having So for some reason today a process that had been working stopped working When I attempted to call save or save on a model I got an error No method 'to sym for NilClass even though I'm just trying to do a very simple update of a very simple model no Attributes API stuff or even any aggregate attributes to speak of All I know is that somehow in the attributes being passed into this method a key of nil has snuck in there somehow causing the error when we try and call to sym on that My solution was to just skip that key value pair if the attribute is nil I figured this would be a good thing to do anyway So long story short I do not know how this is possible or why it is happening but I know this patch fixes my code in production and it seems like a reasonable defensive coding thing to do Maybe it will help others as well,,matthewd,2017-04-05 19:01:12,2017-04-05 20:02:55
PR,Remove duplicated test prefix,,,kamipo,2017-04-06 23:43:26,2017-04-06 23:54:44
PR,Fix warning already initialized constant HashWithIndifferentAccessTest HashWithIndifferentAccess,Caused since 28607,,kamipo,2017-04-06 23:20:57,2017-04-06 23:55:06
IS,Idea Add interactive prompt y n prompt before executing 'bin rails db drop',Right now when one executes bin rails db drop the command is executed without warning the user about implications of the action which could result in a loss of important data and a bad UX I think some sort of warning prompt would be helpful for users to prevent these accidental scenarios As a comparison here is what Django prompts when the user attempts to 'flush' wipe the databases There could be a bin rails db drop noprompt flag to override this and go back to the destructive no prompt behavior or maybe bin rails db drop NOPROMPT 1 I would be willing to implement this if this a desired change,,"rafaelfranca,rafaelfranca",2017-04-03 22:36:44,2017-04-07 00:12:47
IS,Websocket error code 1006 in iOS,I'm trying to connect to my actioncable service from my iOS app created with Nativescript I'm using the actioncable js file provided by this project The code works properly connection successful when I do the testing in my Android app and the test works properly on the web browser as well but It does not work in iOS I did a post on this project repo since I'm using that plugin and also in Stackoverflow In the response NathanaelA says it may be related to a compression config happening on the server Any ideas on why this error is happening when trying to do the handshake Thanks,,rafaelfranca,2017-04-07 00:14:55,2017-04-07 00:19:58
PR,Add steps on how to upgrade to Rails 5 1,ci skip This is the resulting output Let me know what you think img width 650 alt 1 src img width 650 alt 2 src img width 649 alt 3 src,,"claudiob,matthewd,matthewd,claudiob,rafaelfranca,rafaelfranca,rafaelfranca,claudiob",2017-04-05 16:00:44,2017-04-07 01:56:29
IS,Rails Security Guide Session Fixation,Given that cookies in Rails are encrypted signed and contain a lot more information than just the session id how would one actually modify session id in a session fixation attack It looks to me that even if we did not reset the session on login the fact that cookies can not be modified on a granular level assuming Rails defaults prevents this attack from being viable Is this right,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-04-06 13:41:04,2017-04-07 06:02:32
PR,Fix warning extra states are no longer copied,messages has default proc so calling reject causes the warning L1335 L1337,,kamipo,2017-04-01 06:56:42,2017-04-07 06:03:25
IS,Guide Active Record Callbacks contradicts with api documentation Rails 5 0 2,Edge Guides halting execution say If any before callback method returns exactly false or raises an exception the execution chain gets halted and a ROLLBACK is issued after callbacks can only accomplish that by raising an exception Whereas ActiveRecord Callback docs say If a before callback throws abort all the later callbacks and the associated action are cancelled with no reference to returning false whatsoever The latter variant seems to be currently true and the former if no longer correct is highly misleading and can cause premature hair loss and other symptoms of a mental illness called developer in despair,,,2017-04-04 22:50:59,2017-04-07 06:05:37
PR,Fix edge guides for Active Record callbacks,Summary Fixes 28669 As a reference I checked what the code in Active Support L597 does which Active Record itself uses The default terminator halts the chain when a callback throws abort AR does not seem to use a custom terminator Other Information I saw some custom terminators used but only in tests L13,,tjschuck,2017-04-04 23:29:46,2017-04-07 06:05:37
IS,Rails Security Guide SafeErb Recommendation,The Rails Security Guide mentions the SafeErb plugin as a recommendation to catch XSS errors From what I can tell this plugin is essentially abandonware this is the repo I found and the guide should be updated to recommend something like brakeman Happy to PR if you agree,,rafaelfranca,2017-04-07 16:27:25,2017-04-07 17:15:37
PR,Calling fixture accessor method with no arguments returns all fixtures rather than empty array,Problem Fixtures provide a convenience method to access fixtures by name So given But the return all solution exposes a nice iteration functionality that could be useful,,"kmcphillips,kmcphillips",2017-04-07 02:59:15,2017-04-07 18:16:30
IS,ActiveSupport TimeZone does not know standard timezones,Steps to reproduce irb main 002 0 Time zone Berlin Berlin irb main 003 0 Time now strftime ' Z' CEST irb main 004 0 ActiveSupport TimeZone CEST nil Expected behavior ActiveSupport TimeZone CEST Berlin Actual behavior ActiveSupport TimeZone CEST nil System configuration 5 0 2 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16,,rafaelfranca,2017-04-07 11:58:32,2017-04-07 20:42:01
IS,Italics block in section 2 6 of security md not terminating properly,Documentation bug The last sentence of section 2 6 Replay Attacks for CookieStore Sessions is displaying improperly due to the italicization of the first sentence The best solution against it is not to store this kind of data in a session but in the database In this case store the credit in the database and the logged in userid in the session When I preview this markdown using Sublime Text 3 it looks ok and that is why I'm not submitting a PR I suspect an escape of the period in at the end of the first sentence might help What it looks like is the second is not being recognized as the end of the italicized block The italics continue until user in logged in userid Steps to reproduce Browse to sessions Go to the last paragraph of section 2 6 and note the italics do not terminate properly Expected behavior Only the first sentence should be italicized Actual behavior Italics continue through the second sentence of the paragraph The terminating in the first sentence is visible System configuration Rails version n a Ruby version n a,,"maclover7,matthewd",2017-04-07 01:37:31,2017-04-08 15:20:25
PR,Extract construct relation for exists in FinderMethods,To ease to customize a relation for exists Example ruby module ExceptingOrderForExists private def construct relation for exists super except order end end ActiveRecord Relation include ExceptingOrderForExists,,"kamipo,rafaelfranca,kamipo",2017-04-08 15:24:02,2017-04-08 18:11:06
PR,use formatted number as schema version,In short this PR turns this line in schema rb This PR does not affect migration naming only schema dumper,,,2017-04-05 19:32:58,2017-04-08 18:40:38
PR,Coerce ActiveModel Type Boolean values on serialization,The activerecord import gem makes use of the Active Record typecaster API to serialize data as it generates the sql insert statement Unfortunately this currently does not cast values like 1 and 0 to boolean values which is causing an issue See I have updated ActiveModel Type Boolean to cast values on serialization If there is a better approach please let me know,,matthewd,2017-03-19 22:54:55,2017-04-08 20:13:23
PR,Remove duplicated delivery method definition,ActionMailer Base delivery method is already defined in L13,,y-yagi,2017-04-07 12:59:24,2017-04-09 09:45:14
PR,Expose queries for AssociationQueryValue and PolymorphicArrayValue,,,kamipo,2017-04-09 10:46:11,2017-04-09 17:32:13
PR,exclude ORDER BY clause for exists,Summary Noticed the following regression when testing our app on 5 1 0rc1 5 0 2 The test originally added by was not specific enough to catch regressions it appears so this PR addresses that going forward as well as fixes the underlying issue,,"kamipo,kamipo,kamipo,matthewd,matthewd,kamipo,matthewd,metaskills,metaskills",2017-04-07 15:43:31,2017-04-09 23:05:13
PR,Implement fetch values for HashWithIndifferentAccess,fetch values was added to Hash in Ruby 2 3 0 This patch adds an implemention for instances of HashWithIndifferentAccess in line with the existing definitions of fetch and values at Current behaviour without patch Thanks Josh,,"matthewd,matthewd",2017-03-06 22:09:15,2017-04-10 00:50:14
IS,ActiveRecord sandbox causes postgres locking,Steps to reproduce related to If you use the ActiveRecord sandbox in a console to create a read only environment it locks tables until you close that console If you try and migrate while a console is open everything gets locked up and your website becomes unresponsive Expected behavior A sandbox should not have any side effects Actual behavior Side effects in the form of long held postgres locks which cause other problems System configuration Rails version Any version that includes which I guess is all Ruby version All,,"maclover7,matthewd",2017-04-07 10:05:49,2017-04-10 01:38:20
PR,Update working with javascript in rails md,Summary text typo from rubyguides about using JS with Rails Other Information Thanks guys 3 Rails ci skip,,"maclover7,matthewd",2017-04-09 02:43:17,2017-04-10 01:44:22
IS,default url options are ignored when GET form is sent,Steps to reproduce Set default url options as explained in the i18n guide setting the locale from url params Create a form having get as the method Submit the form Expected behavior The form should send the browser to a page having all form inputs as query params including the default url options Actual behavior default url options get ignored This breaks i18n setups resetting the locale to the default locale See this gist for an isolated test case System configuration Rails version 5 1 0 rc1 Ruby version 2 2 2p95,,,2017-04-10 06:12:30,2017-04-10 06:19:15
IS,Distinct method called on CollectionProxy returns Array instead of Relation and does not work as expected,Expected behavior Follows code System configuration Rails version 5 0 2 Ruby version 2 3 3p222 RDBMS PostgreSQL 9 6 2,,kamipo,2017-04-10 06:29:37,2017-04-10 06:40:39
PR,Revert Start Rails 5 2 development,This reverts commit 6c08d480f13d3332c878ca8a120a03fcd78f7ba2 Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-04-10 10:13:50,2017-04-10 10:14:11
PR,Documented issue related before destroy with dependent destroy,To address issues 3458 20954 670 It is good to have documented it at,,"maclover7,maclover7,maclover7,maclover7",2017-04-06 07:30:09,2017-04-10 14:28:43
PR,Fix typo in railties test,Summary fix typo in railties test,,matthewd,2017-04-10 17:26:11,2017-04-10 17:57:22
IS,ActionController Parameters fails to merge,Steps to reproduce When I have two set of parameters needed to be merge together before filter them using strong parameters I get failed to merge them A sample can be reproduced using Rails console Expected behavior Tell us what should happen pa should have both a 1 b 2 Actual behavior Tell us what happens instead pa is still a 1 System configuration Rails version 5 0 2 Ruby version ruby 2 3 1p112,,rafaelfranca,2017-04-10 22:35:34,2017-04-10 22:57:39
IS,POST to API Endpoint has Empty Params,Params is set but the request payload is being lost If I set up the same app using Rails 4 2 6 Ruby 2 3 3 this works perfectly with no changes in the payload so it looks like it is something with the way Rails 5 handles requests potentially I should also mention that the source URL is test lvh me 4200 an ember app to the Rails API test lvh me 3000 so CORS may play a role here in stripping the params I'm not receiving any error as the headers appear correct and CORS is set up here to allow any origin via Rack Cors middleware Rails version Rails 5 0 1 Ruby version Ruby 2 3 3,,vipulnsward,2017-03-24 17:58:44,2017-04-10 22:59:17
PR,allow use of Proc in length validations,Summary Various validations in ActiveModel allow the use of Procs a way to generate dynamic validations however length validations seem to be an outlier This PR introduces the ability to use Proc in length validations Thanks a lot for looking at my PR,,"matthewd,rafaelfranca",2017-01-14 16:12:45,2017-04-10 23:43:37
PR,Fix an AR test of relations test when using Oracle,Summary This PR fixes the following failure test when using Oracle 11g Oracle does not support LIMIT clause Oracle Adapter uses ROWNUM instead of that Other Information I confirmed that there is the same test fails on 5 1 stable branch,,"koic,yahonda,koic,yahonda",2017-04-10 10:28:47,2017-04-11 15:30:40
PR,Update routing doc on the get to option ci skip,Summary While following the Rails guides on the routing chapter and having get 'profile' to show controller 'users' in place in a Rails 5 1 0 rc1 application raised an AbstractController ActionNotFound exception with the The action 'profile' could not be found for UsersController message As it turns out this usage of the to option was deprecated 3 years ago So this PR updates the section in question,,,2017-04-11 16:26:47,2017-04-11 16:37:46
PR,WIP Clone attributes passed to new,Summary Note I am opening this to get feedback on it for being a potential solution to issue 28718 Say we have a model Car and a car object car 1 When Car is passed car 1 is attributes in new car 2 Car new car 1 attributes car 2 will save car 1 is attributes as its value before type cast values for FromUser A method like car 2 inspect can affect value before type cast values for car 2 which can in turn affect car 1 is attributes See issue 28718 and its reproducable script for an example This commit starts an attempt to clone values allocate a separate object for a new object My reasoning behind this is that each object should have its own allocated values even if the contents of the value are the same for the two objects While car 1 and car 2 may share the same name they should not share the same String object for name This is a crude attempt at solving the issue by showing that the attributes passed in could be cloned before they are saved to the new object It is minimal to allow for feedback before moving forward,,"alexcameron89,rafaelfranca,alexcameron89,alexcameron89",2017-04-11 02:18:08,2017-04-11 19:14:25
PR,rails ujs missing default url for ajax requests,Steps to reproduce Hi I'm using rails 5 1 0 rc1 and faced with next unexpected behaviour According to documentation I can set remote true on select element like next System configuration Rails version 5 1 0 rc1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin15 Other Information Maybe you had reasons not to do this Thanks,,"maclover7,rafaelfranca",2017-04-10 11:58:39,2017-04-11 21:36:14
IS,ActiveModel Type ImmutableString ActiveModel Type String cast value value freeze string value in place,Steps to reproduce not frozen string '' not frozen string frozen false cast value not frozen string not frozen string frozen true Expected behavior ActiveModel Type String cast value value does not freeze string value in place ActiveModel Type ImmutableString cast value value does not freeze string value in place Actual behavior ActiveModel Type String cast value value freezes string value in place ActiveModel Type ImmutableString cast value value freezes string value in place System configuration Rails master My monkey patch,,"sgrif,sgrif,matthewd,kaspth",2016-03-14 12:03:07,2017-04-11 22:03:12
IS,Freeze attributes when I create new Active record object with them,I faced one unexpected behavior when I have one new active record object and build second with first is attributes attributes of first object will be frozen For example I have ActiveRecord model 'User' with 2 attributes 'first name' and 'last name' Steps to reproduce Expected behavior user attributes are not frozen System configuration Rails version 5 0 2 Ruby version 2 3 3,,"alexcameron89,alexcameron89,rafaelfranca,alexcameron89,rafaelfranca,rafaelfranca,alexcameron89,rafaelfranca,alexcameron89,kaspth,alexcameron89",2017-04-10 06:59:43,2017-04-11 22:03:12
PR,Do not freeze input strings,See 34321e4a433bb7eef48fd743286601403f8f7d82 for background on ImmutableString vs String Our String type cannot delegate typecasting to ImmutableString because the latter freezes its input duplicating the value after that gives us an unfrozen result but still mutates the originally passed object Fixes 24185 Fixes 28718,,"matthewd,rafaelfranca,kaspth,matthewd",2017-04-11 17:51:50,2017-04-11 22:03:12
IS,ActiveSupport on load action controller triggered twice in API mode,During updating one of our apps to Rails 5 we tried to enable api mode and hit a stack level too deep error inside tests which was caused by some gems using ActiveSupport on load action controller to redefine methods via alias method See L80 L94 for an example During investigation we found out that the on load was triggered twice if we used ActionController API as base class Here are some smaller steps to reproduce it Steps to reproduce rails new my api api rails g controller Users show Put the following code into Users controller bundle exec rake test Expected behavior ActiveSupport on load action controller should only be triggered once Actual behavior The INSIDE ON LOAD output is printed twice If I replace ActionController API with ActionController Base it is only printed once System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"rafaelfranca,rafaelfranca",2016-11-11 11:07:36,2017-04-11 22:24:32
PR,Add action controller base and action controller api hooks to mitigate differences between them Also document Active Support on load hooks,Summary Active Support allows specific hooks to be called to mitigate loading code from boot time These hooks include action controller however this is not specific enough As evidenced by these issues action controller is called if the controller is an instance of ActionController Base or ActionController API The issue occurs due to the latter having differing implementation and not including methods such as helper method The Fix To mitigate this implement 2 new hooks action controller base and action controller api that can be hooked into instead of one overarching hook I also noticed the lack of documentation for this topic so I added a page on it and included the use cases examples and list of all available hooks Fixes cc,,"maclover7,maclover7,rafaelfranca,maclover7,maclover7,maclover7,maclover7,maclover7,maclover7,fxn,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-03-13 21:47:40,2017-04-11 22:24:32
PR,Fix rubocop violations,,,y-yagi,2017-04-11 22:42:43,2017-04-11 22:45:33
IS,Use ancora in render,Hi I would like to know if there is any support for anchoring any method to do in a controller action Steps to reproduce Render action index slug params slug anchor new participant Expected behavior Render a view with the link of the activated ring Actual behavior Rendered the page without activating the anchor System configuration Rails version Rails 5 0 2 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 linux,,"rafaelfranca,rafaelfranca",2017-04-11 23:15:14,2017-04-11 23:27:12
PR,Fix rubocop violations for some template files,Not a big deal Just fix some rubocop violations for some template files,,rafaelfranca,2017-04-12 03:11:48,2017-04-12 03:50:01
IS,String to BigDecimal for empty string throws exception,Steps to reproduce When tried to convert empty string to bigdecimal if throws exception' This is more related to ruby I checked ruby code This issue is fixed with ruby trunk branch not backported to any stable versions Here is script to reproduce Expected behavior It should return 0 for empty string as to f to i returns Actual behavior Throwing an exception System configuration Rails version master branch Ruby version 2 4 0 and 2 4 1,,pixeltrix,2017-04-12 13:10:01,2017-04-12 15:04:03
PR,String to bigdecimal conversion,Resolved 28738 Introduced new method to string conversions to d which handles exception This fixed might be introduced in future ruby versions as this code is in ruby trunk branch,,pixeltrix,2017-04-12 13:10:59,2017-04-12 15:05:02
PR,Use a query that is compatible with PostgreSQL 9 2,Also explicitly apply the order generate subscripts is unlikely to start returning values out of order but we should still be clear about what we want I have changed the Travis config to run against 9 2 instead of specifically testing the 9 4 0 special case And unified the special DB config tests to use ruby 2 3 which does less work because of 22deb92216d83f64fa8e948abe305309b327b33a,,"matthewd,matthewd",2017-04-12 13:16:10,2017-04-12 16:21:55
IS,routes rb is not strictly followed in tests,Steps to reproduce test routing zip I have attached a sample of a simple Rails 5 0 2 app with a simple controller with two actions in my sample it is home controller rb Each has a route defined in routes rb one responding to GET and the other one responding to POST If I try to GET the post action in the browser I'm getting an error which is correct if I try to POST to the get action I get an error which is correct But if I POST to the get action from inside my controller test which in my sample is home controller test rb I do not get any error and also if I GET The post action from inside my controller test I do not get any error I have not investigated more inside the Rails stack but it looks like routes rb is not followed strictly inside the testing environment Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Inside tests when I POST to an action which only has a GET route defined I should get an error Inside tests when I GET an action which only has a POST route defined I should get an error Actual behavior Inside tests when I POST to an action which only has a GET route defined it works Inside tests when I GET an action which only has a POST route defined it works System configuration Rails version 5 0 2 Ruby version 2 2 2 p95,,"maclover7,pixeltrix",2017-04-03 13:20:52,2017-04-12 16:30:58
PR,Tweaks 28678,Fix the comment on formatted version Extract define params Remove duplicated guard clause for version,,"kamipo,pixeltrix",2017-04-09 06:02:53,2017-04-12 16:54:37
IS,ActiveRecord Migration id 'bigint' behavior is not consistent with ' int',If we change migrate to this,,kamipo,2017-04-12 11:00:18,2017-04-12 18:29:09
IS,Rails 5 1 0 beta1 PG SEInvalidSpecification ERROR no such savepoint,This now happens during a full test run against a Postgres DB Could it be related to PR 28083 Steps to reproduce Run full suite of tests after updating Rails 5 0 1 to 5 1 0 beta1 Expected behavior 1 Rspec tests should continue to succeed after upgrade 2 We should get the same result running the tests locally and on the build server codeship Actual behavior On git push we get 3 test failures out of 1400 on the build server but on running a failed test locally it succeeds And when we run the full suite of tests locally with later ruby version 2 3 it sometimes succeeds sometimes fails sometimes fails to complete and outputs System configuration Rails version 5 1 0 beta1 Ruby version ruby 2 2 0,,"maclover7,matthewd,eileencodes,eileencodes,eileencodes,eileencodes",2017-02-27 12:08:09,2017-04-12 20:07:39
PR,Add comprehensive locking around DB transactions,Transactional fixture using tests with racing threads and inter thread synchronisation inside transaction blocks will now deadlock but without this they would just crash In 5 0 the threads did not share a connection at all so it would have worked but with the main thread inside the fixture transaction they would not have been able to see each other So as far as I can tell the set of operations this breaks never had a compelling use case Meanwhile it provides an increased level of coherency to the operational feel of transactional fixtures If this does cause anyone problems they are probably best off disabling transactional fixtures on the affected tests and managing transactions themselves Fixes 28197,,"matthewd,matthewd,matthewd",2017-04-10 22:50:28,2017-04-12 20:07:39
PR,5 0 stable,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-04-13 04:08:39,2017-04-13 04:20:48
IS,pluck disregards preloaded data,Steps to reproduce In the controller users User includes posts In the view users each user user posts pluck title Expected behaviour pluck should not issue a database query to get the post title since posts have been preloaded by includes It should behave in the same way as users each user user posts map title Actual behaviour pluck issues a new query for each user retrieving posts System configuration Rails version 4 2 6 Ruby version 2 3 0p0,,kamipo,2017-04-13 07:20:41,2017-04-13 07:38:37
PR,Fix ConnectionPool active connection to return boolean values,Starting from 5 0 actually from it returns nil or actual active connection object It is harmless but astonishing as it is have question mark in name This PR returns to 4 x behaviour,,"Envek,kaspth",2017-04-13 07:06:01,2017-04-13 08:07:23
IS,Should test environment default to have eager load as true,System configuration Rails version Rails 5 0 2 Ruby version ruby 2 3 3p222 The current default config environments test rb Even when I run the whole test with rake test it still does not load the whole application And then after I release the tested version to production I see that it crashes because of uninitialized constant NameError It makes sense not to load the whole application when running a single test but it is NOT when running the whole test,,pixeltrix,2017-04-12 06:47:35,2017-04-13 08:12:42
PR,Close form for tag in FormHelper API docs,The form for tag is not closed on these 2 examples,,,2017-04-13 16:45:16,2017-04-13 17:38:31
IS,Filed in error please delete,Please delete,,,2017-04-13 16:42:57,2017-04-13 18:25:02
PR,Make code statistics task handle system tests properly,If it is not added to TEST TYPES it is not regarded as a test when counting the total count before,,"y-yagi,rafaelfranca",2017-04-12 23:03:14,2017-04-13 20:58:36
PR,Fix mistake in JS response parser,Summary Restore ability to accept ecmascript JS response should not modify DOM Steps to reproduce Expected behavior When we use jquery and jquery ujs we actually perform string via globalEval L27 and DOMeval after execution that string is removed Actual behavior Actually after evaluating string we can see it at the end of the body tag As a side effect of that behavior we can see that body tag is updated every time when we click submit screen shot System configuration Rails version 5 1 0 rc1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin15,,rafaelfranca,2017-04-13 14:59:05,2017-04-13 21:02:15
PR,Add a test case for 20802,The issue 20802 has been fixed in cc0b566 Closes 20802,,kamipo,2017-04-12 23:00:11,2017-04-14 14:37:11
PR,Convert association queries to PORO queries,This is a second part of 28713 This change makes preparable association queries by handling queries as PORO,,kamipo,2017-04-09 17:37:05,2017-04-14 14:41:14
IS,Rails Server sometimes did not save my data correctly to the database,Steps to reproduce Our system will store each profile item of the user profile into as a new item in profile table due to the design which means I need to do save action in a for loop It seems like when more and more users are connected to the server some data did not get stored Guidelines for creating a bug report are available here creating a bug report Expected behavior All data should be saved correctly into database without any missing one The system should perform correctly and return a correct response Actual behavior Some data went missing and this affected the system eg the 'visibility' data went missing and the system needs to check this data when it wants to return the result This renders a 500 issue since it can not find the data and not returning a correct response to the frontend System configuration Rails version 4 2 6 Ruby version 2 3 1p112,,"st0012,pixeltrix",2017-04-14 02:55:45,2017-04-14 14:57:52
IS,after find after initialize execute on wrong object when calling model reload,Hello In encountered this issue when trying to clear some instance variables var on the model when the model is reloaded via the reload method I tried both after find and after initialize with the same result Here is a sample class along with the output of the object id is showing what object the callback is executed on when calling reload Thanks,,maclover7,2017-03-20 14:12:23,2017-04-14 16:59:51
IS,Time change does not allow to change offset,Steps to reproduce Time now change offset 0 2017 04 10 17 35 53 0300 DateTime now change offset 0 Mon 10 Apr 2017 17 35 57 0000 Expected behavior Time change should have offset option just like DateTime Time now change offset 0 2017 04 10 17 35 53 0000 Actual behavior Time change does not have offset option System configuration Rails version 4 2 Ruby version 2 2,,maclover7,2017-04-10 14:38:56,2017-04-14 17:08:58
IS,ActiveRecord AttributeMethods Dirty changes is inconsistent when overriding AR accessors,When model is accessor is overridden model changes method returns old value as the value taken from database and new value as a result of calling accessor method This seems very inconsistent Here is the test case showing this problem It seems to be the same both on 4 x and 5 x rails versions have not checked 3,,,2017-04-04 15:14:05,2017-04-14 17:27:48
PR,Fix inconsistency with changed attributes when overriding AR attribute reader,Fixes 28660,,"bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,matthewd",2017-04-04 17:25:57,2017-04-14 17:27:48
IS,Rails 5 1 0 rc1 rails ujs cancel request when returning to edit page,Steps to reproduce Brand new project pulled from 5 1 0 rc1 can be find here Just added an edit and show page and home controller rb show html erb h1 Show h1 link to 'Edit' edit path edit html erb form tag ' test' remote true do h1 Submit h1 submit tag isubmit' end home controller rb def update redirect to action ishow' end Expected behavior 1 Click on Edit link redirected to edit page 2 Click on Submit form redirected to show page 3 Click on edit link redirected to edit page Actual behavior 1 Click on Edit link redirected to edit page 2 Click on Submit form redirected to show page 3 Click on edit link request is cancelled staying on show page If I replace rails ujs with jquery rails gem it then works correctly System configuration Rails version 5 1 0 rc1 Ruby version 2 4 0,,maclover7,2017-03-28 01:21:23,2017-04-14 19:21:52
PR,Move around AR Dirty and fix attribute method,We already have a read attribute method that can get the value we need from the model Lets define that method in AM Dirty and use the existing one from AR Dirty rather than introducing a new method,,tenderlove,2017-04-14 17:46:29,2017-04-14 20:06:27
PR,Clarify Strong Parameters documentation,Summary The Rails Guides contain some misleading statements with regard to the way strong parameters are handled in the case where a required parameter is missing This has caused confusion This change aims to clarify the Rails Guides specifically the Action Controller Overview and Configuring Rails Application guides Hopefully as a result Rails users will understand that the ActionController MissingParameter exception is not actually rescued so that a 400 Bad Request response can be sent The rescue responses hash is actually used by ActionDispatch ExceptionWrapper to map exceptions to status codes for ActionController LogSubscriber As a result the mapped status codes appear in the log,,"matthewd,matthewd",2017-04-14 12:18:22,2017-04-14 22:45:33
PR,Fix module name ci skip,Replace FormOptionHelper to FormOptionsHelper,,"y-yagi,kamipo",2017-04-15 08:06:30,2017-04-15 08:10:31
IS,Unable to turn remote false when using form with tag,I am not sure if this is possible or not but I want to turn off remote when using form with Here is how my form looks like Even after this the form is submitted via ajax When I inspect the dom I can see data remote true on the form tag,,y-yagi,2017-04-15 07:53:07,2017-04-15 08:34:23
PR,Early return in PredicateBuilder ArrayHandler,Partitioning to values and nils is unneeded before early return,,"kamipo,kaspth,kamipo,kaspth",2017-04-15 09:42:50,2017-04-15 10:37:42
IS,If the noun as an adjective the noun should be singular,Steps to reproduce cd path to rails guides source association basics md Look at line 948 This pointing out about guides source association basics md at line 948 is incorrect English Expected behavior book count Actual behavior If the noun as an adjective the noun should be singular The actual name is books count is should be book count because when We are using the noun as an adjective the noun should be singular FYI System configuration Rails version Rails 5 0 2 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,pixeltrix,2017-04-15 10:16:56,2017-04-15 11:52:53
PR,Rename association query handler rb to association query value rb,Since AssociationQueryHandler and PolymorphicArrayHandler has removed in 28715 only exists AssociationQueryValue and PolymorphicArrayValue in these files,,kamipo,2017-04-15 09:27:11,2017-04-15 11:54:48
PR,Started adding release notes for Rails 5 1 ci skip,r Working on Action Pack next but this can be merged,,"prathamesh-sonpatki,kaspth,kaspth,kaspth,kaspth,kaspth,matthewd,kaspth,prathamesh-sonpatki,prathamesh-sonpatki,kaspth",2017-04-09 02:19:00,2017-04-15 14:07:22
PR,Prevent aliases Array append and Array prepend,,,bogdanvlviv,2017-04-01 18:57:35,2017-04-15 14:13:05
IS,Inconsistent method names in ActiveSupport NumberHelper and ActionView Helpers NumberHelper,Steps to reproduce Try to create a number with delimiters with two different two different modules ActiveSupport NumberHelper and ActionView Helpers NumberHelper System configuration Rails version 5 0 2 Ruby version 2 4 1,,pixeltrix,2017-04-15 12:08:32,2017-04-15 14:16:55
PR,Keyword arguments to class attributes mattr accessor is args,Summary Separating determined args from variable length args ex instance accessor instance reader instance writer args from syms Other Information This is related to,,kaspth,2017-04-16 13:21:28,2017-04-16 14:13:32
IS,Secrets not being read because of issue with production rb,Steps to reproduce I am trying to add paperclip s3 config to my production rb e g Let me know if there is anything else you need for this,,"rafaelfranca,y-yagi,y-yagi,kaspth",2017-03-30 21:21:09,2017-04-16 14:17:07
PR,Use the config value directly when call secrets,Currently read encrypted secrets is set with initializer Therefore if refer to secrets in config read encrypted secrets is false so can not get the value of secrets yml enc In order to be able to refer to secrets in config modified to refer to config read encrypted secrets when calling secrets Fixes 28618 r,,"y-yagi,kaspth,y-yagi,kaspth,kaspth,rafaelfranca,maclover7",2017-04-01 05:00:50,2017-04-16 14:17:07
PR,Support Descending Indexes for MySQL,MySQL 8 0 1 and higher supports descending indexes DESC in an index definition is no longer ignored See,,"kamipo,maclover7,maclover7,kamipo,kamipo,maclover7,maclover7,kamipo",2017-04-15 20:44:26,2017-04-16 17:28:53
PR,Smooth form with upgrading,Default config action view embed authenticity token in remote forms to nil so we can start embedding tokens in form with by default but have a past assignment of either false or true mean the same thing Add config action view form with generates remote forms to keep the past remote default Default to false in new framework defaults 5 1 rb,,"kaspth,rafaelfranca,rafaelfranca,kaspth,rafaelfranca,kaspth,y-yagi,kaspth,rafaelfranca",2017-04-06 18:45:33,2017-04-17 10:24:15
PR,Add missing word 'to' ci skip,While the original sentence is easy to understand adding the 'to' is imho a bit more correct Sources,,kaspth,2017-04-17 10:08:27,2017-04-17 10:26:54
IS,db migrate throwing exception after upgrading to Rails4,We are finally migrating from Rails 3 2 to Rails 4 and we are having an issue similar to however that issue is 7 years old so do not think it is relevant anymore We get the following error when we run db migrate Any ideas on what may be happening thanks Ben,,,2017-04-17 11:49:24,2017-04-17 12:25:03
PR,Add Puerto Rico support to ActiveSupport TimeZone,Summary This adds Puerto Rico support to ActiveSupport TimeZone Other Information Currently there are no time zones in ActiveSupport that can properly represent Puerto Rico from what I can understand Puerto Rico uses Atlantic Standard Time all year round with no Daylight Savings Time This change surfaces TZInfo is America Puerto Rico which conforms to AST with no DST Also I updated the documentation to reflect the actual number of unique zones represented here 146 is not accurate by either count right now,,"pixeltrix,pixeltrix",2017-04-16 22:08:55,2017-04-17 15:24:29
IS,accepts nested attributes for cause has many relation failed to save,Steps to reproduce System configuration Rails version 5 0 2 Ruby version 2 3 3,,"st0012,maclover7",2017-04-14 18:16:33,2017-04-18 01:48:52
PR,Add more explanation to to time about timezones,There is a difference in the results between Date to time local and Date in time zone but it is subtle and can confuse users like me Date to time local will convert the date to Ruby is process timezone i e ENV 'TZ' but when working in a Rails application you generally want to use the application is timezone i e Time zone There is a method for that Date in time zone but it is off in another file,,maclover7,2017-04-17 18:58:30,2017-04-18 01:56:14
IS,ActiveRecord Migration version support for engines,When I copy migrations from an engine to a Rails 5 1 0 rc1 app via rake ENGINE install migrations and migrate the DB I'm now seeing the following error The issue This make it impossible to have an engine support Rails 4 2 and 5 1 without writing your own method to copy and conditionally munge the migrations Possible Solution It seems like the Rails release should be omitted when created within an engine Then ActiveRecord Migration copy called from rake ENGINE install migrations can be responsible for adding the Rails release This would allow the release to be based on the parent app and not the engine thanks,,"maclover7,matthewd,derekprior",2017-04-15 08:25:50,2017-04-18 02:36:17
IS,Routing strip off optional format when nesting resources under a parent resource named formats,Steps to reproduce Considering the following routes There might be an easier fix for this but I'm not familiar enough with the Rails codebase to know if a more generic match would not affect other stuff I can submit a fix if you consider it is good enough System configuration Rails version 4 2 7 1 also reproduced against master Ruby version 2 3 1,,"maclover7,maclover7,pixeltrix",2017-03-22 02:13:11,2017-04-18 10:13:21
PR,Improve Active Record Enum,ActiveRecord Enum Translation Natively our enums Why The community needs to be translated natively to your enums without using other gems For this reason I make this Pull Request requesting that this method be dynamically created when there is a definite enum in a Model All the tests have been done and I have been working with this code for some time I hope I can help you more Kind Regards Thadeu Esteves Jr tadeuu gmail com,,pixeltrix,2017-04-18 12:21:02,2017-04-18 13:04:39
IS,Invoking rake task from bin rails results in uninitialised constant rake task,Steps to reproduce System configuration Rails version 5 0 2 Ruby version ruby 2 3 1p112,,"pixeltrix,pixeltrix,pixeltrix",2017-04-18 10:44:46,2017-04-18 15:13:34
IS,polymorphic url pluralization is incorrect,Ruby 2 4 0 p0 and 2 3 0p112 Rails 5 0 2 I have a polymorphic form that is setup and working correctly I have a form for and am attempting to make use of a polymorphic object with an f submit button Details are below My polymorphic object is Misconducts A Visitor has many misconducts and A ActiveCountry has many misconducts I am able to create a new misconduct for a visitor without any issues however when I attempt to create one for active country the route is being improperly translated The rails routes command does show the correct routes The f submit button is producing the incorrect route for countries Its producing activecountrys instead of active countries,,"maclover7,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-04-17 20:43:06,2017-04-18 15:30:02
IS,Postgres does not work with column default values,Added migration as when I do rails db scheme load it gives following error ActiveRecord StatementInvalid PG UndefinedTable ERROR relation screen number seq does not exist System configuration Rails 5 0 1 Ruby 2 4 0 p0 Looks like this issue is similar to 21627,,"kamipo,pixeltrix,pixeltrix",2017-04-18 05:57:43,2017-04-18 15:33:58
PR,Explicitly require AS Notifications in AS Cache,Right now if you install the current release version of Active Support 5 0 2 and try to use its cache implementation standalone by requiring active support cache it crashes with NameError uninitialized constant ActiveSupport Notifications AS Notifications is used in cache rb down around line 555 L555 Here is a quick repro script 5 1 0 beta1 also fails However any version newer than 5 1 0 beta1 passes including master This is because this commit inadvertently included AS Notifications into AS Cache thus fixing the issue by mixing AS Deprecation into AS Duration L4 giving you a nice require chain of Cache including Time 1 including Duration 2 including Deprecation 3 including Behaviors 4 including Notifications 5 Phew Aside from being not very explicit the fact that the fixing is specifically done by AS Deprecation means that this fix is probably only temporary until the deprecation is removed This PR just makes the inclusion explicit to future proof against this breakage Ideally this would also be backported to 5 0 stable to get picked up in any subsequent point release See also 1 L6 2 L2 3 L4 4 L16 5 L1,,"tjschuck,pixeltrix,pixeltrix,tjschuck,rafaelfranca,rafaelfranca,tjschuck",2017-04-18 16:07:23,2017-04-18 16:40:08
PR,Fix Enumerable sum redefined warning,The purpose of this PR is to remove redefining warning not speed up Enumerable sum asked me to fix this warning We I and know 25202 already addressed this warning but there is no action for a while We think Rails 5 1 should be released with no warning If we require 'active support core ext enumerable' on Ruby 2 4 we will see following warn because Enumerable sum and Array sum are added in Ruby 2 4 But this behavior is not intended amatsuda was told by So we should use alias as a meaningful way Ruby 2 4 is sum orig sum assumes an identity is 0 when we omit identity so we can delegate to orig sum with explicit identity only In a strict sense we can detect identity by check instance is class but we do not care at this time about that because calling Enumerable sum is rare In many cases we will call Array sum,,"mtsmfm,mtsmfm,matthewd,mtsmfm,kamipo,mtsmfm,kamipo,pixeltrix,kamipo,pixeltrix,mtsmfm,mtsmfm,rafaelfranca",2017-04-17 15:11:02,2017-04-18 19:52:54
PR,Explicitly require AS Time in AS Testing TimeHelpers,If you just try to use ActiveSupport Testing TimeHelpers standalone by requiring active support testing time helpers you currently get an error NoMethodError undefined method change' for 2017 12 14 01 04 44 0500 Time 9f6e82ee4783e491c20f5244a613fdeb4024beb5 added a dependency on AS Time by using AS Time change Here is a script to reproduce the error It currently fails for all 5 x x versions and master Ideally this would be backported to 5 0 stable and 5 1 stable as well Thanks,,"tjschuck,rafaelfranca,tjschuck,tjschuck,tjschuck,rafaelfranca,rafaelfranca",2017-04-18 18:30:25,2017-04-18 21:25:19
PR,Add test for method attributes,ActiveRecord AttributeMethods attributes Extracted from cc,,"bogdanvlviv,bogdanvlviv",2017-02-25 10:45:22,2017-04-18 21:28:19
PR,Remove datetime fields from helper list ci skip,The datetime field is an alias of the datetime local field there isno helper to generate datetime fields Ref 25469,,"y-yagi,rafaelfranca",2017-04-18 23:06:16,2017-04-18 23:09:55
IS,rails commands server not found,this is not working anymore and i can not figure out how i can fix this require,,"rafaelfranca,rafaelfranca",2017-04-19 02:21:01,2017-04-19 03:56:31
IS,form with url url remote false authenticity token true wo not generate tokens,form with url remote false authenticity token true do f f submit Boom Expected behavior according pullrequestreview 8448693 and also the comments i expect that there will be a token because it is not remote AND authenticity token is set to true Actual behavior remote is set to true and no tokens included System configuration 5 1 rc1 Ruby version 2 3,,pixeltrix,2017-04-19 08:07:16,2017-04-19 11:35:06
PR,Use quoted scope rather than config database to respect current database,Related 28399,,"kamipo,kamipo,pixeltrix",2017-04-19 03:13:59,2017-04-19 12:16:20
PR,ci skip Changed plain text to NOTE,Addressed 28785 To highlight db schema rb limitations this block should be highlighted as NOTE,,,2017-04-19 06:02:15,2017-04-19 17:19:19
PR,Support for URI objects in link to method,Summary Adds URI object support to link to view method For example I have a lot of helpers in my application that use the URI object to ensure well formed URLs like Which feels more intuitive and looks better Other Information N A,,"pixeltrix,rafaelfranca,rafaelfranca,rafaelfranca,kaspth,kaspth",2017-04-19 07:02:54,2017-04-19 17:23:41
IS,Error while trying to deserialize arguments uninitialized constant GlobalID Locator,I do not get this error often but sometimes I get,,"rafaelfranca,maclover7",2017-04-19 19:16:32,2017-04-19 20:30:25
PR,Improve the upgrade path of Strong Parameters,Some changes were made in this PR to improve the upgrade path of Strong Parameters not inheriting from hash anymore Raise exception when calling to h in an unpermitted Parameters Before we returned either an empty hash or only the always permitted parameters controller and action by default The previous behavior was dangerous because in order to get the attributes users usually fallback to use to unsafe h that could potentially introduce security issues The to unsafe h API is also not good since Parameters is a object that quacks like a Hash but not in all cases since to h would return an empty hash and users were forced to check if to unsafe h is defined or if the instance is a ActionController Parameters in order to work with it This end up coupling a lot of libraries and parts of the application with something that is from the controller layer Add ActionController Parameters to hash to implicit conversion Now methods that implicit convert objects to a hash will be able to work without requiring the users to change their implementation This method will return a Hash instead of a HashWithIndefirentAccess to mimic the same implementation of HashWithIndefirentAccess to hash Implement ActionController Parameters to query and to param Previously it was raising an error because it may be unsafe to use those methods in a unpermitted parameter Now we delegate to to h that already raise an error when the Parameters instance is not permitted This also fix a bug when using to query in a hash that contains a ActionController Parameters instance and was returning the name of the class in the string Backport The plan is to backport this to 5 1 and part of it to 5 0 Backport to 5 0 The plan is to backport the first and the last change fully The to hash change I want to just undeprecate it for now since it is already calling to hash in the internal array and the result includes all the parameters in the case were they are not permitted Also implement respond to missing since we have a method missing cc,,"rafaelfranca,matthewd,matthewd,matthewd,rafaelfranca,matthewd,maclover7,maclover7,maclover7,kirs,rafaelfranca,matthewd,kaspth,kaspth,kaspth,kaspth,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,kaspth,kirs,rafaelfranca,trevorturk,kirs,matthewd,rafaelfranca,trevorturk,rafaelfranca,rafaelfranca,matthewd,rafaelfranca,rafaelfranca",2017-04-12 02:39:31,2017-04-19 20:57:24
PR,Load rake tasks before run test,This makes it possible to test rake tasks using rails test command just like rake test Fixes 28506 r,,"y-yagi,kaspth,y-yagi,kaspth,y-yagi,kaspth,y-yagi",2017-03-30 23:07:59,2017-04-19 23:03:01
PR,Include gem name and deprecation horizon when calling the deprecation behaviors,Summary We are planning to use ActiveSupport Deprecation in our own code base to mark deprecated behavior We have some tooling subscribing to the ActiveSupport Notifications that are generated by the deprecations However for our tooling we would like to be able to make sure we can differentiate between the source of the deprecation ActiveSupport Deprecation already has useful context for this gem name and deprecation horizon Unfortunately these pieces of metadata are not made available to the behavior lambdas This PR exposes them as extra arguments and makes sure those arguments are passed on to the ActiveSupport Notification we create As part of this we also dynamically generate the notification name based on the gem name It was hardcoded to deprecations rails before All the other predefined behaviors are unaffected by this cc,,"wvanbergen,kaspth,kaspth,kaspth,rafaelfranca,rafaelfranca,rafaelfranca,wvanbergen,wvanbergen,wvanbergen,rafaelfranca",2017-04-19 18:55:59,2017-04-19 23:20:55
PR,Fix migration tasks,1 Fix bin rails db forward first migration When rails db rollback all migrations and then run bin rails db forward it does not work because we search current migration by version Migration with 0 version does not exist because of that we can not to know current migration index When current version migration is 0 we should start from 0 2 Add additional raise UnknownMigrationVersionError Raise error on the movement of migrations when the current migration does not exist This situation happens often in development when to use git checkout branch name After deleted last migration is file with git for example bin rails db rollback is confusing It does not logs anything and effect on db schema rb by change version of current migration 3 Show description rake db forward on rake T I decided to show the description because rake db forward is useful with rake db rollback Currently rake T is showing the description for rake db rollback Should be consistency,,"bogdanvlviv,rafaelfranca,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv,bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-02-25 18:28:12,2017-04-19 23:33:38
PR,Log any write errors originating from the socket,In Rails 5 0 1 changes were made to ActionCable to call a non blocking write method on the socket Most sockets used in combination with Rails support this method but Puma does not implement it This leads to ActionCable being unusable on Rails 5 0 1 or later In is own words source issuecomment 285903720 Starting with this commit on this line Action Cable calls write nonblock to write data out to the socket However this code depends on the 99 case where is a TCPSocket IO When using Puma is actually an instance of Puma MiniSSL Socket which does not implement the write nonblock method it does implement the read nonblock method My take on how to fix this would be for Puma to conform to TCPSocket is API and to implement the write nonblock method In addition ActionCable is connection stream event loop also calls read nonblock on the socket L108 another method Puma does not implement The folks at Puma have now devised a workaround for this issue by stubbing out these methods and calling the blocking equivalents in turn While this is not a proper fix this can be used to fix this issue for a lot of people using Rails 5 0 1 or later in combination with Puma What made this issue troublesome to diagnose is the fact that any errors inside ActionCable Connection Stream write may be silently swallowed because any socket write errors are emitted over a non working socket This PR addresses this and logs any such socket write errors In this specific issue the following would have been logged had this been implemented An NoMethodError error occurred while writing to the ActionCable socket undefined method write nonblock for Puma MiniSSL Socket 0x007fe441e7ddd0 Related issues 28362,,"maclover7,matthewd,matthewd,matthewd,maclover7,maclover7,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-04-14 14:07:20,2017-04-19 23:35:08
PR,Bumped rubocop to 0 48,Bumped rubocop from 0 47 to 0 48,,eileencodes,2017-04-03 13:50:51,2017-04-20 00:15:43
PR,Fix rubocop,This pull request fixes some Rubocop issues I encountered when running from the root directory,,"shime,matthewd,shime,shime,kaspth,shime,rafaelfranca,matthewd,kaspth,matthewd,kaspth,rafaelfranca,kaspth,shime,shime",2017-03-11 13:41:28,2017-04-20 00:15:43
PR,Do not generate system test files if skip system test option is specified,,,"y-yagi,rafaelfranca,rafaelfranca,y-yagi,y-yagi,maclover7,y-yagi,maclover7,y-yagi,rafaelfranca,y-yagi,kaspth,eileencodes,rafaelfranca,rafaelfranca",2017-04-09 02:00:53,2017-04-20 00:35:05
PR,cache key respects the limit in a relation even if a relation is not loaded,cache key includes the size of a relation But if a relation is not loadded the size is not respected even if a relation has a limit It should be respected for consistency,,"kamipo,pixeltrix,kamipo,kamipo",2017-04-17 00:09:17,2017-04-20 01:02:08
IS,Rails 5 0 2 5 0 1 Puma ActionCable connection issue,Steps to reproduce Open puma rb and add SSL certificates Expected behavior The connection using ActionCable works seamlessly with SSL just as it does for non SSL connections Actual behavior If I try to use SSL this warning message is shown in the client is browser console WebSocket connection to 'wss 3000 cable' failed WebSocket is closed before the connection is established System configuration Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux Rails version Rails 5 0 2 also confirmed to be not working on 5 0 1 but did work fine in 5 0 0 1 Borrowed from seeing same issue as user there Related issues 27625 27421,,"rafaelfranca,rafaelfranca,maclover7,maclover7,matthewd,nateberkopec",2017-03-09 20:19:33,2017-04-20 02:41:32
IS,MySQL 8 0 1 DMR ActiveRecord StatementInvalid Mysql2 Error Unknown collation 'utf8 0900 ai ci',Since MySQL 8 0 1 DMR is released two of unit tests are getting errors ActiveRecord StatementInvalid Mysql2 Error Unknown collation 'utf8 0900 ai ci' Steps to reproduce,,"yahonda,yahonda,rafaelfranca,kamipo,kamipo,yahonda",2017-04-11 19:36:48,2017-04-20 02:43:39
PR,Do not fallback to utf8mb3 after MySQL 8 0 0,internal string options for primary key is used for creating internal tables in newly apps But it is no longer needed after MySQL 8 0 0 MySQL 5 7 has introduced innodb default row format default DYNAMIC and has deprecated innodb large prefix and innodb file format The purpose of the deprecated options was for compatibility with earlier versions of InnoDB sysvar innodb large prefix innodb large prefix is deprecated and will be removed in a future release innodb large prefix was introduced in MySQL 5 5 to disable large index key prefixes for compatibility with earlier versions of InnoDB that do not support large index key prefixes sysvar innodb file format The innodb file format option is deprecated and will be removed in a future release The purpose of the innodb file format option was to allow users to downgrade to the built in version of InnoDB in MySQL 5 1 Now that MySQL 5 1 has reached the end of its product lifecycle downgrade support provided by this option is no longer necessary The deprecated options has removed in MySQL 8 0 0 It is no longer needed to take care newly created internal tables as a legacy format after MySQL 8 0 0 Fixes 28730 cc,,"kamipo,matthewd,kamipo,yahonda,kamipo,yahonda,rafaelfranca",2017-04-11 23:57:05,2017-04-20 02:43:39
PR,Reduce travis yml duplication,Summary We already have 2 of the 3 required services loaded on every build so may as well have the third required one also be loaded Because of this we can add aj integration to the main matrix list,,"maclover7,kaspth,matthewd,kaspth,matthewd,maclover7",2017-04-15 19:19:59,2017-04-20 03:49:42
IS,to param method being deprecated gives warnings when params passed in a path helper,Steps to reproduce Create params object and pass it to a path helper Gives a deprecation warning and will break in Rails 5 1 System configuration Rails version From 5 0 stable branch Ruby version 2 3 1p112,,y-yagi,2016-11-03 08:27:48,2017-04-20 08:57:10
PR,make path helper work with ActionController Parameters,Summary The path helper calls to param inside But ActionController Parameters does not have to param so NoMethodError error will raise To avoid this convert to hash if argument is ActionController Parameters Fixes 26958,,"y-yagi,rafaelfranca,y-yagi,rafaelfranca,y-yagi,bquorning,y-yagi,y-yagi,y-yagi",2016-11-25 05:55:10,2017-04-20 09:07:50
PR,Remove outdated comment,Since 3aee9126aa6309538ee64064dcabcd34d7cc7d26 this class has not inherited from Array,,kaspth,2017-04-20 07:38:29,2017-04-20 09:23:35
IS,Adding an error with a symbol as message is not possible if attribute is not defined on the model,Steps to reproduce When trying to add an error on a non existent attribute of a model it works with string but not with symbol Expected behavior I think the behavior should be consistent it should either work with both string foo errors add bar can not be blank or symbol foo errors add bar blank or it should throw a NoMethodError in both cases Actual behavior It works with string but not with a symbol System configuration Rails version 4 2 8 Ruby version 2 3 1,,"pixeltrix,pixeltrix,pixeltrix",2017-04-20 15:06:47,2017-04-20 16:43:52
IS,Detach fixture loading order from model name filename,Steps to reproduce 1 Create a rails app with a Postgres database and two or more tables connected via foreign keys Let is say the models are Car and Driveway where a car belongs to a driveway 2 Create fixtures for these models a couple cars that point to one or more driveways 3 Run your tests Expected behavior Loading the Car fixture first will result in a referential integrity error because of the foreign key constraint See for background And I'm not saying that error is wrong One current solution to this is to allow tests to run with a Postgres superuser who can disable referential integrity altogether And I'm not saying that option should go away But that solution is much broader than the problem It might be very useful to enforce referential integrity within the test suite just as it is in the application itself A better solution would be to provide a standard option to define the logical order for fixtures to be loaded rather than the default alphabetical behavior Controlling the order of individual records within a model to account for referential integrity within a table is already a standard option mentioned in the Rails Guides If that is allowed for records within the same table it seems unfair not to allow it across tables Here are a couple forms this could take An optional higher level YML file to define the order of the models Allow model name to be specified in the content structure of the individual YML files Then the filename would not need to correspond to the model name This would allow for the files to be alphabetized intentionally It could also allow a single fixture file to contain more than one model and for those models to be listed in an intentional order within a file Actual behavior Currently the only options are to create a Postgres superuser to run the tests which will disable foreign key constraints within the tests Or some folks have overwritten ActiveRecord FixtureSet create fixtures which is not ideal Maybe others even alphabetize their model names to deal with this System configuration Rails version 5 0 Ruby version 2 2 5,,rafaelfranca,2017-04-20 15:31:21,2017-04-20 18:02:53
IS,Default error pages' CSS selectors bleed into application pages when back button is used,Steps to reproduce Generate new app with default error pages raise error such as 404 in prod environment e g Heroku click back button Expected behavior Error pages' styles should not bleed into app pages when going backwards from error pages Actual behavior Styles such as body text align center bleed into app pages when using the back button from an error page Full repro visibile at Source for Repro at System configuration Rails version 5 1 0 rc1 Ruby version irrelevant but tested with 2 3 4 on Heroku Pull Request I have a pull request ready that fixes this issue by simply namespacing all selectors in the error pages,,,2017-04-20 16:53:14,2017-04-20 18:03:15
PR,Namespace CSS selectors on error pages,Summary The css selectors on the generated error pages are too broad for example text align center on body and thus bleed out to the following pages say by pressing the back button when using Turbolinks The commit namespaces all the selectors This would fix 28813,,rafaelfranca,2017-04-20 16:53:54,2017-04-20 18:03:15
IS,When I run ENV development rake db create I do not expect it to try and create the test db too,Steps to reproduce According to the following code L286 L288 When running something like this It also tries to create test I think this is violating the principle of least surprise At a cursory glance this also applies to drop current which might be even more surprising Expected behavior Only development environment is created Actual behavior It tries to create test database too System configuration Latest,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2016-12-07 22:48:19,2017-04-20 18:50:58
PR,Fixes Hash from xml with frozen strings for all engines,Using frozen strings with Hash from xml results in an error due to use of IO ungetc which is a mutating function This issue was discovered in this PR ports that fix to other engines,,rafaelfranca,2017-04-20 20:35:33,2017-04-20 21:15:52
IS,cache key not include timestamp and size when using offset,Steps to reproduce When we use offset in query cache key is not calculated correctly Here is gist without offset posts query 322bc402789ebcd22fbdb7b4ea9dec2f 10 20160621080044729910 with offset posts query 88260ab1dd3cd2484198b0102cbbc25f 0 Expected behavior cache key should include size and timestamp even if we use offset in other case cache will not expire Actual behavior Currenlty because we are doing SELECT COUNT AS size MAX posts updated at AS timestamp FROM posts LIMIT OFFSET LIMIT 5 OFFSET 5 There is no record returned and cache key do not include size timestamp information System configuration Rails version master 5 0 also affected Ruby version 2 3 0,,"maclover7,kamipo",2016-06-21 08:06:50,2017-04-20 21:48:57
IS,ActiveJob AsyncAdapter swallows exceptions does not log by default,On Rails 5 0 0 1 Using the default AsyncAdapter in development I was disappointed that I did not see errors from my jobs even though I knew they were throwing exceptions undefined methods etc I would see the following messages in my log I get the errors printed on my terminal not in log development log I believe this is due to the logic in Concurrent RubyThreadPoolExecutor Worker run task It seems like with AsyncAdapter being the new development default there should be something that notifies developers of job errors in the default setup At least perhaps an initializer that sets the Concurrent logger according to other Rails logger settings But it might also be ideal for ActiveJob not to record Performed MyJob and instead say something like Failed MyJob,,maclover7,2016-10-20 20:03:49,2017-04-20 22:01:57
PR,Add error logging to Active Job,Active Job logging instrumentation is changed to log errors with backtrace when a job raises an exception in perform This improves debugging during development and test with the default configuration Prior to Rails 5 the default development configuration ran jobs with InlineAdapter which would raise exceptions to the caller and be shown in the development log In Rails 5 the default adapter was changed to AsyncAdapter which would silently swallow exceptions and log a Performed SomeJob from Async info message This could be confusing to a developer as it would seem that the job was performed successfully This patch removes the Performed info message from the log and adds an error level Error performing SomeJob log message which includes the exception backtrace for jobs that raise an exception within the perform method It provides this behavior for all adapters Fixes,,"maclover7,rafaelfranca",2017-03-27 23:56:20,2017-04-20 22:01:58
PR,Fix quoting in db create grant all statement,The database name used in the test would have actually shown this if it had tried to execute on a real Mysql instead of being stubbed out dashes in database names needs quotes Other Information Which CHANGELOG should I update The activerecord CHANGELOG md in master is almost empty,,"maclover7,rafaelfranca",2017-04-06 12:27:10,2017-04-20 22:09:59
IS,Using hash of the key for enumaration in ActiveRecord Enum instead of array index,I was adding an enum field to a Model when I noticed that the ActiveRecord Enum implementation uses the array index value when storing the enum in the database I know that this solutions is fast but comes with the rather annoying problem that the order of items is important and new values should only be added to the end of the array to preserve existing values We could make a dummy proof implementation using a hash of the enum keys If you are OK with the idea I would be willing to implement it I realise that for backwards compatibility it will only be added to the next major Rails version but the framework has to evolve,,rafaelfranca,2017-04-20 22:05:09,2017-04-20 22:13:36
IS,Double save plus attribute changed deprecation warning if save called from before save,Steps to reproduce I have the following app Expected behavior I expect this to work without deprecation warnings Actual behavior I'm getting a deprecation warning that suggest the behavior of attribute changed changed from inside after callbacks but this is not inside one I could of course not use the deprecation warning is suggested fix of changing to saved change to attribute since it is not saved yet DEPRECATION WARNING The behavior of attribute changed inside of after callbacks will be changing in the next version of Rails The new return value will reflect the behavior of calling the method after save returned e g the opposite of what it returns now To maintain the current behavior use saved change to attribute instead called from block in class MyModel at Users magnus Code rails test api app models my model rb 2 System configuration Rails version 5 1 0 rc1 and master Ruby version 2 4 1,,"alexcameron89,rafaelfranca,alexcameron89,alexcameron89,alexcameron89",2017-03-29 15:00:03,2017-04-20 23:33:48
PR,Prevent double firing the before save callback of new object when the parent association saved in the callback,Related 18155 26661 268a5bb 27434 27442 and 28599 Originally 18155 was introduced for preventing double insertion caused by the after save callback But it was caused the before save issue 26661 268a5bb fixed 26661 but it was caused the performance regression 27434 27442 added new record to target before calling callbacks for fixing 27434 But it was caused double firing before save callback 28599 We cannot add new object to target before saving the object This is improving 18155 to only track callbacks after save Fixes 28599,,"kamipo,rafaelfranca,rafaelfranca,rafaelfranca,kamipo,matthewd,kamipo,kamipo,rafaelfranca,kamipo,rafaelfranca,kamipo",2017-04-02 00:12:08,2017-04-20 23:33:48
PR,Fix 24032,,,"rafaelfranca,rafaelfranca",2017-03-29 13:56:43,2017-04-20 23:47:05
IS,Duplicate insert on autosave for specific HABTM has one combo,Steps to reproduce,,"meinac,meinac,rafaelfranca,rafaelfranca",2016-03-03 18:05:58,2017-04-20 23:48:01
PR,Add missing require,Without this unit test fails,,"y-yagi,y-yagi,rafaelfranca",2017-04-20 23:05:10,2017-04-20 23:51:07
IS,Attribute type class not used for column value serialization in has one through association,Steps to reproduce System configuration Rails version 5 0 2 rails rails ef0b05e78fb0 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,maclover7,2017-04-20 20:59:10,2017-04-20 23:54:58
PR,Update 'Building Complex Forms' with inverse of,Documentation only update Summary If the example for complex forms is implemented ActiveRecord will prevent saving unless inverse of person is added to the has many addresses association,,,2017-03-15 19:41:47,2017-04-20 23:58:27
PR,Improve the upgrade path of Strong Parameters in 5 0 stable,Similar to The differences are to h and to hash only raises when config action controller raise on unpermitted parameters is true default to false in existing application and true in new applications The places where it was already raising are not reusing the to h implementation,,"rafaelfranca,matthewd,matthewd,matthewd,matthewd,matthewd,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,matthewd,matthewd,kaspth,kaspth,kaspth,kaspth,kaspth,matthewd,matthewd,rafaelfranca,rafaelfranca,rafaelfranca",2017-04-19 22:03:54,2017-04-21 00:50:43
PR,5 0 stable Fix select all with legacy binds,Backport 27939 r,,"kamipo,rafaelfranca,kamipo,kamipo,rafaelfranca,rafaelfranca,kamipo,kamipo,kamipo",2017-03-20 20:12:06,2017-04-21 00:57:39
PR,5 0 stable Prevent double firing the before save callback of new object when the parent association saved in the callback,Backport 28640,,"kamipo,rafaelfranca",2017-04-21 00:39:56,2017-04-21 01:15:31
IS,Docs incorrectly refer to uniqueness being a default rails validator,Docs In multiple places throughout the Rails docs ActiveModel Validations refers to uniqueness being a default rails validator This does not appear to be the case understandably because ActiveModel has no database in which to ensure uniqueness Examples api rubyonrails org method i validates in 3 places Rails GitHub master branch and others lines 21 37 and 97 Code Related it would be nice to be able to specify an ActiveRecord class to which we would like to claim uniqueness Something like seems to make sense,,maclover7,2017-03-15 23:08:28,2017-04-21 01:36:32
IS,undefined method form with generates remote forms ' when upgrading to 5 1 0 rc2,The rake app update task creates config initializers new framework defaults 5 1 rb with this line System configuration Rails version 5 1 0 rc2 Ruby version ruby 2 2 2,,"pixeltrix,rafaelfranca,kaspth",2017-04-21 15:10:07,2017-04-21 16:27:05
IS,Migrations not running on test database postgres,Steps to reproduce 1 Create a new rails app using rails 5 1 0 rc2 and postgres database 2 run bundle exec rake db create 3 Create a new migration 4 run bundle exec rake db migrate 5 Check the test database to verify migration did not run I have ran several other commands including using the RAILS ENV test and still cannot get it to populate Here is a link to the repo where I first discovered the bug Just to make sure I did not break something in the config I created a separate app with rails new defaults Not sure if this is related but I did find this issue in my research Expected behavior Should populate the test database on rake db migrate especially on RAILS ENV test rake db migrate Actual behavior Only runs migration on development database System configuration Rails version 5 1 0 rc2 Ruby version 2 4 1 Postgres Version 9 6 Thanks,,rafaelfranca,2017-04-21 17:11:36,2017-04-21 17:25:33
PR,extract function to slice keys as symbol or string for Hash,Summary Adding method to slice keys from a Hash irrespective of what the actual key is i e a symbol or a string GitHub issue 28822 slice already does something similar but you have to provide the keys in their actual format in the Hash i e if the hash has keys as symbols you can slice keys as symbol only Usage a 1 b 2 c 3 d 4 extract 'a' 'b' will return a 1 b 2 in comparison with slice which will return,,rafaelfranca,2017-04-21 13:31:43,2017-04-21 17:41:25
IS,slice keys from hash with indifferent access,Steps to reproduce If you have a Hash which is not HashWithIndifferentAccess and you do not know what kind of keys it have e g symbol or string and you want to slice some keys from the hash i e even if the keys in the hash are symbol you should be able to extract it with symbol or string as keys Try a 1 b 2 c 3 d 4 slice 'a' 'b' Expected behavior It should return a 1 b 2 Actual behavior It returns System configuration Rails version 5 0 1 Ruby version 2 2 4,,rafaelfranca,2017-04-21 13:22:16,2017-04-21 17:41:31
IS,Migrations adding multiple columns with foreign keys to the same table can not be reversed,Steps to reproduce I I was not sure how to fit this into the bug report template I 1 Create a migration like this 2 Run the migration 3 Attempt to roll the migration back Expected behavior The migration should be rolled back successfully Actual behavior Rails successfully reverses the new path reference but in doing so deletes both foreign keys on the patches table This means that when it comes to reverse the old path reference it fails because it can not find the foreign key to delete I think this happens because ActiveRecord ConnectionAdapters SchemaStatements remove reference does not L861 L870 take into account the column the foreign key constraint is on System configuration Rails version 5 0 2 Ruby version 2 4 0,,kamipo,2017-04-14 20:35:00,2017-04-21 18:51:41
IS,sass statements being ignored in application scss,Steps to reproduce Summary sass statements in application scss appear to be ignored instead scss files are loaded in alphabetic order See demo in this repo with 7 commits Details how repo linked above was created 1 generate a new rails app using Ruby 2 4 1 and Rails 5 1 0 rc1 This works fine 4 change name of colors scss to z colors scss placing it after welcome scss alphabetically and update statement in application scss error generated Undefined variable backgroundcolor Expected behavior Should be able to a file defining sass variables before other sass files are processed Actual behavior statements in application scss appear to be ignored Instead the scss files appear to be processed alphabetically System configuration Rails 5 1 0 rc1 Ruby 2 4 1,,rafaelfranca,2017-03-31 19:20:11,2017-04-21 20:10:56
IS,Feature request make i18n infer translated name of association attributes,When working with translations I am adding locale files for the application is models including the name of the model like so leading to this translation being duplicated in a lot of different places System configuration Rails version Rails 5 1 0 rc1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,rafaelfranca,2017-04-21 04:08:55,2017-04-21 20:17:12
PR,Remove unused protected accessor,This method was added in 3aee912 but never used so far,,"kamipo,kamipo",2017-04-22 09:52:46,2017-04-22 13:24:40
PR,Set to form with generates remote forms only when config is explicitly specified,Without this check even if config is not specified ActionView Helpers FormHelper form with generates remote forms always be set to nil and remote form not be generated Follow up to 128b804c6ce40fcbde744f294f8cb98654f6efec,,"y-yagi,maclover7,y-yagi,rafaelfranca",2017-04-22 03:38:51,2017-04-22 14:19:25
PR,ci skip Fix typo in Rails 5 1 upgrade notes,Change laded to loaded in the Rails 5 1 upgrade section,,"maclover7,maclover7",2017-04-23 12:33:17,2017-04-23 14:17:56
IS,Template is required when doing render text ' ' layout false,Rails version 5 1 0 rc2 Ruby version ruby 2 2 2 When you try to just render text it also renders the template This did not happen in rails 5 0,,,2017-04-23 21:51:08,2017-04-23 22:02:25
PR,collection cache key now respects limit,As recently discussed in and previously discussed in the implementation of collection cache key that was merged with would ignore limit relations This had the effect of many scenarios where the collection cache key query was slower than the actual ActiveRecord query it was supposed to be avoiding For example in a publishing CMS that has 100 000 Articles the front page might say something like Article last 5 but the collection cache key would grind away to find the COUNT and MAX of all 100 000 timestamps In our company s application the SQL for the cache key queries was about 8x slower than just loading the AR objects directly even after making custom database indices to make the cache key as fast as possible This branch includes a failing test illustrating this issue and a patch that fixes it cc,,"brchristian,sgrif,sgrif,sgrif,sgrif,brchristian,brchristian,brchristian,sgrif,matthewd,kamipo",2016-12-11 18:26:03,2017-04-24 13:23:04
IS,safe constantize raises LoadError when it should not,Steps to reproduce safe constantize raises LoadError in case it should just return nil Notice that file that is expected to define Pipeline constant is located within Ci module That means there is no Pipeline constant only Ci Pipeline exists Expected behavior safe constantize should return nil in that case Actual behavior safe constantize raises LoadError System configuration Rails version 4 2 8 Ruby version 2 3 3 Code of safe constantize looks exactly the same on master in this repository but it might be solved elsewhere sorry for creating issue in that case Thanks for looking into this in advance purple heart,,"Edouard-chin,matthewd,matthewd",2017-04-24 14:18:41,2017-04-24 16:41:51
PR,Add form with generates remote forms to configuring guide ci skip,,,"y-yagi,maclover7,y-yagi,rafaelfranca",2017-04-24 22:38:15,2017-04-24 22:40:58
PR,Unify the name of GitHub ci skip,Follow up to 26310 As far as I know I think that GitHub become more precise name This PR unifies the name in that way,,"koic,vipulnsward",2017-04-24 22:45:27,2017-04-24 22:46:26
IS,Removing zeros from an array returns an empty array,Steps to reproduce See Stack flow post Expected behavior Returns new array Actual behavior Got empty array System configuration Rails version 5 0 1 Ruby version 2 4 0,,,2017-04-25 12:49:16,2017-04-25 12:58:50
PR,Fix typos ci skip,'lookup' is the noun 'to look up' is the verb Looked it up just to be sure cf,,vipulnsward,2017-04-25 15:04:48,2017-04-25 15:31:54
IS,Move ActionController TestCase to its own gem,I saw this commit talking about moving ActionController TestCase to its own gem but have not seen that happen yet I also found this commit from a few months later so I'm not sure if ActionController TestCase is here to stay or if it has not yet been moved for the upcoming 5 1 release I only realized just now when using 5 1 0 RC2 and the tests still running without adding a separate gem,,rafaelfranca,2017-04-25 14:32:01,2017-04-25 18:49:00
PR,Remove checks for Enumerator size method,The Enumerator size method i size method was introduced in Ruby 2 0 These tests were added when Rails 4 1 was current and Ruby 1 9 3 was still supported Since Rails 5 only Ruby 2 2 2 is supported so the checks are no longer necessary,,eugeneius,2017-04-25 14:45:21,2017-04-25 18:59:24
PR,Do not use nonexistent handleDisabledElement,handleDisabledElement was added to master in 28367 The 28367 was not backported to 5 1 stable but when backporting 154c879e097ba088a8eee1d55f4d9703b70680b7 only a part of it was mistakenly included The test is an error but it seems that it could not be detected,,"y-yagi,y-yagi,rafaelfranca",2017-04-23 00:59:53,2017-04-25 18:59:38
IS,rails ujs TypeError Handler is undefined,Using Rails 5 1 0 rc2 When I load my page on firefox 52 0 2 I get this error img width 1434 alt screen shot 2017 04 25 at 1 08 44 pm src It runs through this method about 5 times with a handler and then it is invoked without one img width 1119 alt screen shot 2017 04 25 at 1 09 59 pm src Called from here img width 737 alt screen shot 2017 04 25 at 1 11 32 pm src Moved from It looks to me like was never compiled into rails ujs js,,rafaelfranca,2017-04-25 18:22:37,2017-04-25 18:59:50
PR,5 1 stable cache key respects the limit in a relation even if a relation is not loaded,Backports If this is accepted I would also like to backport it to 5 0 stable,,,2017-04-25 14:41:29,2017-04-25 19:03:40
IS,ActiveJob rescue from not working,I am trying to reproduce this example code but I do not manage to make the rescue from working in an ActiveJob Steps to reproduce I have prepared a test project Expected behavior In this Job I am expecting to see the rescue from message when I perform the Job irb main 005 0 TestJobJob perform now Actual behavior Instead of the message I see the Exception been propagated Same behaviour when I try to reproduce the issue in a test System configuration Rails version 5 0 2 Ruby version 2 3 1p112,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-04-25 15:28:24,2017-04-25 19:08:10
PR,WIP Bump minitest,,,"bogdanvlviv,maclover7,rafaelfranca",2017-04-24 06:04:01,2017-04-25 19:19:22
PR,Replace Z to z,Z was a mistake of z Replace Z to z to prevent newly Z added,,kamipo,2017-04-24 12:30:57,2017-04-25 19:20:49
PR,Ask for a sane version of SDoc,This will allow me to push a release including bug fixes without having to update Rails everytime,,zzak,2017-04-23 07:36:11,2017-04-25 19:24:38
PR,5 0 stable cache key respects the limit in a relation even if a relation is not loaded,Backports 28776 to 5 0 stable as well after backporting it to 5 1 stable in 28871,,,2017-04-25 19:22:27,2017-04-25 20:39:23
PR,Fix MigratorTest test migrator verbosity,Add ActiveRecord Migration verbose true to be sure that verbose is turned on in the test Related to 28865,,bogdanvlviv,2017-04-25 22:06:42,2017-04-25 23:32:09
IS,MigratorTest test migrator verbosity fails when executed after DatabaseTasksMigrateTest test migrate raise error on empty version,Steps to reproduce Revert 28485 System configuration Rails version master branch Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 linux gnu,,"yahonda,bogdanvlviv,yahonda,yahonda,yahonda",2017-04-25 03:08:14,2017-04-25 23:32:34
PR,respond to missing should be private,Follow up of 03d3f036 Some of respond to were replaced to respond to missing in 03d3f036 But the visibility is still public It should be private,,"kamipo,rafaelfranca,rafaelfranca,rafaelfranca,kamipo,kamipo,kamipo",2017-04-22 09:37:49,2017-04-26 00:38:57
PR,Mixin CollectionProxy DelegateExtending after ClassSpecificRelation,ClassSpecificRelation has method missing and the method missing is called first if an associated class has the missing method in a relation never reach to the method missing in the CollectionProxy I extracted DelegateExtending and included it to the delegate class that including ClassSpecificRelation to fix the issue Fixes issuecomment 296033784,,"kamipo,rafaelfranca",2017-04-22 00:53:43,2017-04-26 00:42:44
PR,Rails 28466,Summary The transactional system tests introduced in Rails 5 1 change the way DB connections are managed while running all transactional tests not just system tests As described in 28466 this has the unfortunate effect of breaking e g pre existing transactional model tests This PR provides an alternative approach which allows transactional system tests to work as they do in 5 1 0rc1 while leaving behavior of other tests unchanged In a bit more detail In releases before 5 1 it was possible for transactional tests to start threads which would have their own DB connections as normal In Rails 5 1 rc1 and beta1 all threads share a single connection while running a transactional test including not only system tests but transactional controller model and integration tests as well This breaks tests which for example started up a thread on the side with its own connection to verify that code under test was properly doing a rollback The new behavior was introduced so that Capybara based transactional system tests could have the test runner code and the server share a database connection even though most Capybara drivers put the server on a thread of its own This PR allows those two threads to share the connection more discreetly using a mechanism that does not affect anything else In particular it leaves the behavior of pre existing model and controller tests unchanged Other Information The PR replaces the lock thread machinery introduced for the system tests with a ConnectionPool using connection method which allows one thread to selectively borrow another is It then alters SystemTest to use the new machinery Specifically at the start of every test a setup hook puts references to the currently running test suite and the test runner threads DB connection someplace that the web service thread can find it I used class attributes on SystemTest itself for the purpose It lastly makes Capybara app be a Rack app that wraps a using connection around the invocation of Rails application if the currently running SystemTest is transactional Unfortunately tests for the thread sharing logic in SystemTest itself require support that fits awkwardly within the rest of the ActionDispatch test suite In particular it needs mocks for ActiveRecord Base connection and connection pool to be in place while the setup hook is running so they can not just be stubbed within the test itself The results are not consistent with framework mocks elsewhere in the test suite and I would be happy to replace the result with something a little more stylish It would also be nice to have tests which ensure that with db connection for web service is actually called on the thread that is serving web requests But that requires a Capybara driver which actually does web service on a separate thread The rack test driver does not do that and all the other standard ones require a heavyweight mock browser which is not otherwise needed for running ActionPack tests,,"matthewd,matthewd",2017-03-29 20:39:06,2017-04-26 00:57:07
IS,Rails 5 1 breaks transactional tests that use AR and Threads,In Rails through 5 0 if a transactional ActiveSupport TestCase starts a new Thread that Thread gets its own ActiveRecord Base connection outside the context of the test transaction The same applies if the code under test starts a thread which uses a separate Connection This may be slightly odd but the effects were repeatable and useful in fact default scoping test rb in the ActiveRecord tests did this In 5 1 0 beta1 all threads in a transactional test get the same connection object The effects if they try to use it simultaneously can be very strange and generally are not useful This behavior was introduced in commit d6466beb for acceptance tests so the server and test runner processes can share the same connection and transactional context but it does have the unfortunate effect of breaking pre existing test suites And the quickie work around self use transactional tests false does have a performance penalty The simplest thing for users might be to limit the new behavior to acceptance tests for which it was introduced But if that is too awkward or undesirable for some other reason this may merit prominent mention in the release notes if only because it can otherwise be awfully hard to track down why a test suite that is been working since Rails 3 1 is suddenly hanging while trying to talk to the database Putting this in the usual litany Steps to reproduce In a transaction ActiveSupport TestCase do something like this Expected behavior I expected this test case to pass without throwing exceptions as in Rails 5 0 and earlier releases The template says Tell us what should happen and you may have intended to change the behavior here Nevertheless that is what I expected Actual behavior It throws an uncaught exception System configuration Rails version 5 1 0 beta1 Ruby version 2 2 4,,"maclover7,rafaelfranca,eileencodes,matthewd",2017-03-17 19:24:47,2017-04-26 00:57:24
IS,Rails 5 0 2 raising ExecJS RuntimeError when changing CSS,I created a rails 5 0 2 application importing scss files from app assets stylesheets directory in the application scss file using like this System configuration Rails version 5 0 2 Ruby version 2 4 0 p0,,,2017-04-26 03:03:42,2017-04-26 03:45:09
PR,Add example to Routing guides on generating non resourceful links ci skip,Summary Added some documentation to clarify how to use link to for non resourceful routes as requested in,,maclover7,2017-03-30 16:13:19,2017-04-26 05:13:32
PR,Ensure bin yarn matches the one generated by webpacker,Import from Fixes,,"y-yagi,rafaelfranca",2017-04-23 06:37:41,2017-04-26 05:53:30
PR,5 0 stable Fix extension method with dirty target in has many associations,Backport 28474 Extension methods should not delegate to scope to respect dirty target on CollectionProxy Fixes 28419,,"kamipo,kamipo",2017-04-04 04:06:34,2017-04-26 10:10:28
IS,5 1 0 rc2 Does not properly handle fixtures on postgres where the tables have a foreign key with on delete restrict or cascade,Steps to reproduce Create two tables like this in a migration create table connections do t t string status null false t timestamps end create table connection members do t t belongs to connection foreign key on delete restrict null false t timestamps end Then create corresponding fixtures When you run your tests you will recieve the following error ActiveRecord InvalidForeignKey PG ForeignKeyViolation ERROR update or delete on table connections violates foreign key constraint fk rails 8b5000f871 on table connection members DETAIL Key id 31264196 is still referenced from table connection members Expected behavior In previous versions of rails these tests would work fine The fixtures would load properly Actual behavior The above error System configuration Rails version 5 1 0 rc2 Ruby version 2 4 1 I believe this issue is tied to the changes from this pull request The code in that request switches the behavior of rails fixtures to rely on deferred constraints in postgres rather than disabling triggers However both the RESTRICT and CASCADE constraints cannot be deferred as called out in the postgres docs here Referential actions other than the NO ACTION check cannot be deferred even if the constraint is declared deferrable Patching the PostgreSQLAdapter to go back to the old behavior resolves the issue Here is an example patch require 'active record connection adapters postgresql adapter' module FixReferentialIntegrityHandling def disable referential integrity block if supports disable referential integrity disable referential integrity with disable trigger block else yield end end end ActiveRecord ConnectionAdapters PostgreSQLAdapter send include FixReferentialIntegrityHandling,,"rafaelfranca,rafaelfranca",2017-04-26 17:56:16,2017-04-26 20:43:59
PR,Some improvements to the 5 1 release notes,Hi This is just a tiny pull request with some fixes and additions to the 5 1 release notes Sorry if there are typos and not fully complete it it is pretty late here Have a nice day,,"robin850,claudiob,rafaelfranca",2017-04-26 22:48:29,2017-04-26 23:46:06
PR,Remove mysql2 database adapter default username root,A mysql2 bug was opened a while back that if a user wants to put all of their mysql config into a separate config file through the default file option it will conflict with Rails supplying a default value of root for the database username I went back and looked at the history of the mysql2 adapter in Rails and found that setting the default username to root has been there for 6 years I do not think that default should be there In particular MySQL 5 7 and 8 0 are much more aggressive about setting a random by default root password and distributions are following suit to make the MySQL root user no longer a default password less account I wonder if it would be possible to get this into the upcoming Rails 5 1 If not then at least a test like config username root if config username nil config default file nil Let me know what we can do to correct this,,rafaelfranca,2017-04-26 20:39:18,2017-04-27 02:47:47
IS,Wrong number of arguments 0 for 1 when passing model to link to unless current,Steps to reproduce Pass a model object as the second argument to link to unless current in Rails 5 1 0 rc2 Full stack trace System configuration Rails version 5 1 0 rc2 Ruby version 2 4 1,,maclover7,2017-04-23 23:00:21,2017-04-27 02:48:50
PR,Fix current page regression,Hey guys check parameters kwargs was added to the current page method the implementation was assuming only hashes responds to delete This was causing issues when current page was called with a Active Model object current page should work with any kind of options that are accepted by url for L77 ref Fixes 28846,,"Edouard-chin,pixeltrix,Edouard-chin,matthewd,Edouard-chin,rafaelfranca,Edouard-chin,matthewd,rafaelfranca",2017-04-24 02:26:38,2017-04-27 02:48:50
IS,form with model parameter,Hi everyone after we get fancy new form with I start thinking about syntax Right now we have this for form for All seems good but form in our case not a model it is a form object Do not you think that it is a little bit confusing,,rafaelfranca,2017-04-26 21:22:30,2017-04-27 02:57:38
PR,Remove useless test case,Cannot call private methods in klass against CollectionProxy inherites Relation because using public send in method missing,,kamipo,2017-04-26 13:46:21,2017-04-27 03:10:26
PR,Pass request params to ActionMailer Preview,Allows passing query params to email previews Second attempt of 25193,,rafaelfranca,2017-03-01 19:42:22,2017-04-27 03:15:31
PR,Set consistent typecast ENV VERBOSE,Refactor DatabaseTasksMigrateTest test migrate receives correct env vars Remove redundant overriding ENV VERBOSE in the test Refactor AR Tasks DatabaseTasks migrate Set consistent type cast ENV VERBOSE ENV VERBOSE is true if it not equal to false This also more consistent with the documentation Refactor DatabaseTasksMigrateTest test migrate receives correct env vars Add cases to ensure that environment variables VERBOSE and VERSION have correct typecast,,"bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-04-26 00:16:28,2017-04-27 03:34:38
IS,Rails 5 1 showing wrong error message when routing error happens,Steps to reproduce rails new blog dev pointing to 5 1 stable edit config routes rb and add resources articles rails s visit localhost 3000 articles new Shows error On Rails 5 0 2 it shows proper routing error Puma version 3 8 2 Stacktrace Looks like it is rendering the FAILSAFE response L18 but not sure why Found this while following the steps from getting started guide on the new app created from 5 1 stable branch cc,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,vipulnsward,tenderlove",2017-04-26 21:13:07,2017-04-27 03:54:13
PR,Do not try to encoding the parameters when the controller is not defined,When you have a route that points to an nonexistent controller we raise an exception This exception was being caught by the DebugExceptions middleware in development but when trying to render the error page we are reading the request format 1 To determine the request format we are reading the format parameters 2 and to be able to read the parameters we need to encode them 3 This was raising another exception because to encode the parameter we try to load the controller to determine if we need to encode the parameters are binary 4 This new exception inside the DebugExceptions middleware makes Rails to render a generic error page To avoid this new exception now we only encode the parameters when the controller can be loaded Fixes 28892 1 L80 2 L63 3 L58 4 L88,,"rafaelfranca,rafaelfranca",2017-04-27 02:46:46,2017-04-27 03:54:13
PR,sort query string params method is no more used,This method was added in this commit The last caller got removed there Found this relic while working on 28847 not too sure if I should have added it directly,,Edouard-chin,2017-04-24 02:34:34,2017-04-27 04:06:25
PR,PostgreSQL 10 does not convert CURRENT DATE into 'now' text date,Summary PostgreSQL 10 allows CURRENT DATE and CURRENT TIMESTAMP as default functions Address 28797 In the previous versions of PostgreSQL CURRENT DATE converted to 'now' text date and CURRENT TIMESTAMP converted to now Refer these discussions and commit at PostgreSQL 5878 1463098164 sss pgh pa us postgres postgres 0bb51aa Other Information This pull request has been tested with these two versions of PostgreSQL,,"yahonda,kamipo,yahonda,rafaelfranca",2017-04-26 05:11:02,2017-04-27 05:25:05
IS,PostgreSQL 10 Default value expression difference for CURRENT DATE and CURRENT TIMESTAMP,Environment System configuration Rails version master branch Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,"yahonda,yahonda,yahonda",2017-04-19 13:01:02,2017-04-27 05:25:11
PR,Added a shared section to config database yml that will be loaded for all envs,Summary I have discovered this commit from to have a shared section for secrets yml today at is talk at RailsConf I really like the idea and since all the database yml that I'm working with have some shenanigans I thought it would be nice to make it available there as well,,"rafaelfranca,rafaelfranca,rafaelfranca,matthewd,claudiob,rafaelfranca,dhh,matthewd",2017-04-27 02:05:03,2017-04-27 06:14:00
PR,Restore fixtures author addresses,This change reverted in eac6f369 but it is needed for data integrity See 25328,,"kamipo,rafaelfranca",2017-04-27 06:48:20,2017-04-27 07:27:19
IS,parameters with dots in routes behave differently in Rails 5,Seems that a bug was introduced in Rails 5 When we want to support dots in routes then the format is also set even if the format is already part of a parameter Steps to reproduce I have the following route And then I introduce urls like 3000 my files ana rb 3000 my files ana json Expected behavior The expected behavior and what actually happens in Rails 4 2 7 1 is that both urls work Both include the file extension as part of the my file attribute and the request format is html This is the expected as behavior as if the extension is part of the parameter it does not make sense that it is used for format too Actual behavior In Rails 5 and Rails 5 0 1 only the first url work The second fails with MyFilesController show is missing a template for this request format and variant request formats application json request variant In this case the request format is json although my file is set to ana json which already includes the extension System configuration Rails version As said it works with Rails 4 2 7 1 and it does not work with Rails 5 and Rails 5 0 1 so seems that the behaviour changed in Rails 5 Ruby version I tested it with ruby 2 4 1 and ruby 2 2 5 I think it is a bug and that should be fixed to keep the behavior of Rails 4 In case that is not it is an important change and should be documented and currently it is not Also another way to address the same behavior should be provided Is there currently another way to do this confounded I set a simple project to test this in the two Rails version that I can share if needed,,pixeltrix,2017-04-27 12:06:12,2017-04-27 15:22:50
PR,Add flag on MySQL adapter to know if the connection is opened,Summary I was working on testing our gems and application on 5 1 0 beta1 and one of our internal gems stopped working following this change by I think that it is a good change but we were relying on the nil ness of connection to know if we had an open connection or not This PR adds a flag to quickly know if the connection to MySQL is opened or not It does not mean that it is necessarily active though We can not use active because in our use case that would mean making a ping before every request Looking at the initial PR we would ideally need to have access to wrapper connected in the mysql gem but that is C code,,"rafaelfranca,rafaelfranca,matthewd",2017-02-27 22:22:38,2017-04-27 15:28:52
PR,Evaluate belongs to default option against the owner not the association,Before cc,,"georgeclaghorn,rafaelfranca",2017-04-27 16:42:44,2017-04-27 17:09:00
IS,5 1 0 rc2 db migrate up and db migrate down no longer give proper errors,db migrate up or db migrate down both require a VERSION ENV arg There is code that seems meant to raise VERSION is required if it is missing However due to 28485 swapping the order of two lines apparently in an attempt to fix a different problem the raise is not triggered on a missing ENV 'VERSION' only on one that is non nil but empty So instead of getting a simple VERSION is required message it passes nil into the depths of ActiveRecord code and you end up with a There is supposed to be a version listed after that colon at the end of the first line but it is nil To reproduce just run bin rails db migrate down without a VERSION arg or up or with rake in any rails 5 1 0 rc2 project The fix in 28485 broke it worse L96 L98 L105 L106,,,2017-04-27 16:37:45,2017-04-27 17:23:20
PR,Update the Working with javascript guide,Hi This is just a tiny pull request that update the Working with JavaScript guide to make sure that it is up to date with the upcoming release of 5 1 A lot of parts have been picked from the jQuery UJS wiki so full credit to people who wrote its documentation It is split into several commits to ease the review process feel free to squash them merging A few notes though The ajax aborted required event does not seem to exist anymore grepping the code base so it is not present in the guide The note about the fact that Opera is inconsistent with Ajax errors on the same page as the previous point has not been ported to the guides as it is an issue that is at least 6 years old so even though I did not checked I hope this is fixed I did not add any mention about Yarn because apart from you can edit package json and require NPM dependencies I do not know what to write This would be awesome to add some documentation on Yarn and Webpack but I do not have enough knowledge here if someone has that would be awesome Have a nice day,,"robin850,rafaelfranca,rafaelfranca,kaspth,robin850",2017-04-27 16:23:34,2017-04-27 18:35:37
PR,Remove unnecessary skip default ids and allow method names outside object attributes of select tag in form with,Currently form with add skip default ids and allow method names outside object attributes to select tag created by f select in form with But it does not add these attributes to the other tags apart from select tag skip default ids and allow method names outside object are internal option for form with So it should not output these as html Related,,rafaelfranca,2017-04-23 16:16:27,2017-04-27 19:08:02
PR,Added some more release notes for Active Record ci skip,,,"prathamesh-sonpatki,rafaelfranca",2017-04-27 21:19:24,2017-04-27 21:21:52
PR,Fix indentation ci skip,rafaelfranca Sorry I messed up indentation earlier,,"prathamesh-sonpatki,rafaelfranca",2017-04-27 21:26:41,2017-04-27 21:33:43
PR,Implement ActiveRecord Result cast values method,Summary Add ActiveRecord Result cast values method to overwrite result rows with their cast values Uses much of the same code as cast values so refactored by implementing a shared method as well Other Information ActiveRecord Result has a cast values instance method which casts row values to implicit or explicit via options types Calling this method returns the cast version of AR Result rows not mutating the parent AR Result object This is sometimes undesirable as other instance methods such as to hash first and last use the uncast row values forcing the developer to re implement the method logic elsewhere in an application Calling cast values replaces the default rows attribute with cast values maintaining caller access to other instance methods Ex using PostgreSQLAdapter,,,2017-04-27 20:12:39,2017-04-27 23:21:26
IS,Rails converted multidimension array to nil when post,Steps to reproduce I posted a 2D array table 1 2 3 4 5 6 to my controller but the controller gives nil nil nil nil nil nil Expected behavior Table should still be a 2D array 1 2 3 4 5 6 Actual behavior Rails flattened my array and changed all values to nil System configuration Rails version Rails 4 2 0 Ruby version ruby 2 2 5 p319 config I have already disabled perform deep munge,,pixeltrix,2017-04-27 08:36:30,2017-04-28 01:55:30
IS,The bundled verison of rails ujs is broken in ActionView 5 1 0 rc2,Steps to reproduce 1 Examine the file actionview 5 1 0 rc2 lib assets compiled rails ujs js 2 Note that sections defining functionality like Rails handleDisableElement L5 do not seem to be present in the compiled bundle Expected behavior The stuff should be in the thing Actual behavior The stuff is not in the thing causing runtime issues with rails ujs when using the actionview bundled copy Note however that the copy of rails ujs in npm appears to be correct as it has this section in lib assets compiled rails ujs js lines 368 374 System configuration Rails version 5 1 0 rc2 Ruby version 2 4 0,,y-yagi,2017-04-28 02:11:18,2017-04-28 02:22:15
IS,Failure when requiring 'active support core ext date time compatibility',Steps to reproduce System configuration Rails version 5 1 0 Ruby version 2 4 0,,"pixeltrix,rafaelfranca,rafaelfranca,rafaelfranca,pixeltrix",2017-04-28 08:58:42,2017-04-28 22:00:21
PR,Add missing require for remove possible method,Fixes added a call to remove possible method but did not require the file that defines it r,,"eugeneius,rafaelfranca",2017-04-28 17:30:15,2017-04-28 22:00:21
PR,Stop creating duplicate Struct instances,Summary Just use one Event class Reduces duplication makes the tests easier to read It might seem like each test needs a different kind of Struct since we make a new one for each test case,,maclover7,2017-04-29 01:33:47,2017-04-29 04:36:37
PR,Remove entries included in 5 0 ci skip,Permit same origin connections by default was backported in db70978 549d732 Deprecated controller and action path parameters was included in 6520ea5 Exception handling use rescue from was included in 6b54316,,"y-yagi,rafaelfranca",2017-04-29 04:43:50,2017-04-29 17:21:27
IS,ActionCable client same use subscribe to same room repeatedly,Expected behavior Not to subscribe again if current client with current user is subscribed I think we should ignore same subscribe request from js clients or js client just not to subscribe Actual behavior can be subscribe repeatly which cause received callback invoke time 2 when user switch out chatroom page and in again in a single page app because not reload page see chrome js log can see received is invoked many times So I think we should introduced a feature to stream for or js clients if one user stream from one chatroom It should not stream again to same user and same chatroom for same channel System configuration Rails version Rails 5 0 2 Ruby version 2 3 3,,"maclover7,maclover7",2017-04-24 16:58:14,2017-04-29 18:15:42
IS,self referential has many through joins does not use table alias on where conditions,Steps to reproduce The default scope conditions do not use the table alias name when joined Working reproduction script from that triggers the same problem on self referential STI Expected behavior The default scope where should use the table alias in the where condition Actual behavior The default scope where uses the table name instead of the join alias which gives invalid SQL if the same table is joined System configuration Rails version Rails 4 2 6 and Rails Edge Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin14,,meinac,2016-03-14 15:21:08,2017-04-30 00:34:59
PR,Fix note about secrets yml ci skip,The secrets method is in Application class not Configuration class,,"y-yagi,kamipo,maclover7",2017-04-30 07:36:40,2017-04-30 08:50:39
PR,5 0 stable Avoid unscope order when limit value is presented for count and exists,Backport 26972 and 26981 Our Rails app encountered lots of slow queries due to except order in production Currently I'm using relation load size instead as a workaround to keep order I would like to backport these fixes to latest stable branch,,"kamipo,kamipo",2016-11-30 21:22:25,2017-04-30 11:06:59
PR,Add docs for Router Utils unescape uri method ci skip,Add docs for ActionDispatch Journey Router Utils unescape uri method,,"dixpac,maclover7,kamipo,maclover7,kamipo,pixeltrix",2017-04-30 13:13:33,2017-04-30 14:42:59
IS,make form with work nicely with params,Usecase I want my search forms to display the values the user just searched form Problem It is tedious to always add selected params dig search foo to every select text field Solution form with picks selected values from params I'm currently using this which makes model and param forms act the same Maybe have a params true option to make it pick values from params automatically,,"grosser,maclover7,kaspth,grosser,kaspth,rafaelfranca,grosser",2017-04-29 05:00:49,2017-04-30 16:53:29
IS,Problem implementing polymorphic behavior with STI,Steps to reproduce Hi I'm dealing with a problem where I have to use polymorphic behavior and STI And despite I have read a lot of docs and search for similar issues I got nothing yet Here is my code,,,2017-04-28 18:34:53,2017-05-01 12:36:33
PR,assert differences for testing mutiple values that change at different rates,Summary This is my first PR to a big project so let me know if I missed anything Several times I have wanted to test that 2 values are changed by an action But what if we expect model 1 to change by 1 while model 2 changes by 1 You can nest calls to assert difference but what if you need to check 3 values That would get ugly fairly quickly That is why I worked on assert differences Influenced heavily by Malcolm at wholemeal you can use it like so I tried my best to emulate the code style of the existing assert difference Furthermore assert difference now calls the new assert differences The API for assert difference has not changed at all and should be 100 back compatible Other Information The name I have tested the waters on StackOverflow and r rails Devs really seem to like the idea of this but some do not love the name stating it is too close the the existing assert difference While I'm not sold on the idea that having a similar name is an issue I'm very open to a name change If there is anything I missed please let me know,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,matthewd,matthewd,rafaelfranca,matthewd,gsamokovarov,gsamokovarov,kaspth",2017-04-19 22:15:41,2017-05-01 16:37:49
PR,Remove unnecessary package json deletion,The package json is created only if skip yarn is not specified L202 L204,,"y-yagi,y-yagi,y-yagi,rafaelfranca",2017-05-01 00:52:13,2017-05-01 17:09:59
IS,undefined method new' for Rack Cors String on rails secrets edit,Steps to reproduce On newly created project with and without config read encrypted secrets true in config application rb System configuration Rails version 5 1 0 Ruby version 2 4 0 Archlinux,,kaspth,2017-05-01 17:28:52,2017-05-01 17:51:48
PR,Update the Gem Bug Report Templates to 5 1 0,Summary 5 1 0 has been released and the gem templates can reflect that now,,"alexcameron89,rafaelfranca",2017-05-01 12:50:11,2017-05-01 17:52:13
PR,Delete needless newlines in upgrading guide ci skip,Newlines added in a sentence make difficult to translate because it breaks segments a k a Translation Memory RailsGuides can be efficiently translated if no such newlines for example translating into Japanese,,"matthewd,rafaelfranca",2017-05-01 05:24:42,2017-05-01 18:01:29
PR,Add ActiveRecord Result cast values method,Summary Add ActiveRecord Result cast values method to overwrite result rows with their cast values Uses much of the same code as cast values so refactored by implementing a shared method as well Other Information ActiveRecord Result has a cast values instance method which casts row values to implicit or explicit via options types Calling this method returns the cast version of AR Result rows not mutating the parent AR Result object This is sometimes undesirable as other instance methods such as to hash first and last use the uncast row values forcing the developer to re implement the method logic elsewhere in an application Calling cast values replaces the default rows attribute with cast values maintaining caller access to other instance methods Ex using PostgreSQLAdapter,,rafaelfranca,2017-04-27 23:25:10,2017-05-01 18:04:35
IS,ActiveRecord Base sanitize removed in 5 1,Steps to reproduce ActiveRecord Base sanitize seems to have been removed in 5 1 without any replacements on the class level Is there a recommended way to sanitize escape raw SQL for use in execute statements Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version 5 1 0 Ruby version 2 4 1,,"rafaelfranca,kaspth,rafaelfranca",2017-05-01 18:39:23,2017-05-01 18:46:11
PR,Friendly maintain schema error in test runner,When you run a test the test helper will raise an error if you have a migration pending This is very helpful check indeed but with the trace it takes a while to scroll up to the top to see the error It takes even longer to scroll up in case of a large app like Shopify where the trace is large My suggestion is to print the error and exit with non zero status In this case the error is visible right away img width 642 alt screen shot 2017 04 30 at 18 04 24 src review,,"kirs,pixeltrix,pixeltrix,kaspth,kirs,kaspth",2017-04-30 22:05:46,2017-05-01 19:15:57
PR,feat ActiveRecord Relation support Sets in where values,Thanks for all your hard work making Rails awesome I'm working with some external services that return arrays of IDs To deduplicate these arrays I join them in a Set I discovered that Sets do not become IN clauses but instead become NULL Is this desirable behavior In fact it was a design flaw in my code it return an Array in some cases and Set in others but I expected both of them to become IN clauses In any case I thought I would try a fix in case you think it is helpful Thanks for your review Summary Previously querying by a Set turned it into NULL Event where id 1 2 3 to set to sql SELECT events FROM events WHERE events id NULL Now it is turned into an IN condition Event where id 1 2 3 to set to sql SELECT events FROM events WHERE events id IN 1 2 3 This way you can use a Set to specify a collection values you want to match I could not find any previous mention of this issue but did I miss it,,"maclover7,kaspth,kaspth",2017-04-24 20:40:12,2017-05-01 19:38:24
PR,Add tests for rendering with variants,I think that render tests in ActionView should also test rendering template partial with variants option,,"st0012,st0012,kaspth,st0012",2017-04-14 09:35:18,2017-05-01 19:44:22
PR,Remove any nil attribute values from CSS JS tag helpers,When options are passed into the javascript include tag and stylesheet link tag the data is stringified and should the value of the options ever be nil it is outputted which is unexpected To fix this I have updated the helpers to drop any nil key value pairs using compact,,rafaelfranca,2017-05-01 22:59:05,2017-05-01 23:15:02
PR,CLI arg port has precedence over env PORT,Summary In Rails 5 0 2 the option p for command rails server has precedence over environment variable PORT But in Rails 5 1 0 environment variable PORT has precedence Is it expected behavior See also CLI arg host has precedence over ENV var host by maclover7 Pull Request 28513 rails rails current behavior Rails 5 1 0,,"maclover7,rafaelfranca",2017-05-01 08:45:17,2017-05-01 23:24:21
IS,ActiveSupport MessageEncryptor fails in 5 0 2 with undefined method call' for nil NilClass Did you mean caller org jruby RubyMarshal java 145 in load',Steps to reproduce ActiveSupport MessageEncryptor decrypt and verify fails always in 5 0 2 with undefined method call' for nil NilClass Did you mean caller org jruby RubyMarshal java 145 in load' also the example from fails this way Expected behavior return decrypted value instead of exception Actual behavior Exception undefined method call' for nil NilClass Did you mean caller org jruby RubyMarshal java 145 in load' System configuration Rails version 5 0 2 Ruby version jruby 9 1 8 0,,"pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-04-25 16:50:39,2017-05-01 23:39:22
PR,Use flat map rather than map flatten,,,kamipo,2017-04-29 14:32:24,2017-05-02 00:22:15
PR,Deprecate supports statement cache,supports statement cache was introduced in 3 1 0 beta1 104d0b2 for bind parameter substitution but it is no longer used in 3 1 0 rc1 73ff679 Originally it should respect prepared statements rather than supports statement cache fd39847 One more thing named supports statement cache is pretty misreading We have StatementCache and StatementPool However supports statement cache does not mean StatementCache but StatementPool unlike its name,,kamipo,2017-04-30 17:05:08,2017-05-02 00:24:46
PR,Rails secrets is not built on but inspired by Sekrets,Put wording in line with,,"bdewater,kaspth",2017-05-02 14:17:38,2017-05-02 14:25:33
PR,Use assert nil instead of assert equal nil,Warning,,"bogdanvlviv,kaspth",2017-05-02 12:47:53,2017-05-02 14:33:00
IS,IndexDefinition SchemaStatements do not return index length,I was digging through schema statements particularly for PostgreSQL and I noticed that when we go to fetch indexes off a table we do not include encode the length information about the index This makes it difficult of have a full picture of the table and its indexes for example inheritance which I understand rails does not natively support Is there a specific reason for this or was this an oversight Here are a couple starting points L143 System configuration Rails version 4 2 Ruby version 2 2 0,,rafaelfranca,2017-05-02 15:57:52,2017-05-02 18:12:57
PR,Add missing require in ActionMailer Base,Without this Action Mailer does not work like it used to on version 4 The following snippet fails since version 5 require 'action mailer' ActionMailer Base NameError uninitialized constant ActiveSupport Rescuable,,rafaelfranca,2017-04-22 17:55:59,2017-05-02 18:16:54
PR,Eager load code on CI systems,detects unloadable code which is not covered by tests test coverage calculation is more accurate because it also loads code which might not be loaded otherwise,,rafaelfranca,2017-05-02 19:04:08,2017-05-02 19:20:37
IS,Unnecessary second query for an EXISTS in Rails ActiveRecord,Steps to reproduce Running an EXISTS subquery in ActiveRecord produces 2 SQL queries I am not sure if this is by design but it does add an overheard especially in large databases System configuration Ruby 2 3 3 Rails 5 0 2 Postgres 9 5 6 Side notes I did try to use find by sql to achieve this but it returns an Array rather than an ActiveRecord object Also logged at StackOverflow,,"matthewd,alexcameron89",2017-04-30 07:41:30,2017-05-02 19:49:11
PR,Support PostgreSQL 10 whose sequences do not know increment by,Summary Addresses 28780 Each sequence does not know increment by or min value since PostgreSQL 10 A new system catalog pg sequences knows both Since pg sequences does not exist PostgreSQL 9 6 or earlier version This commit addresses by removing increment by or min value setval 3rd argument needs to set to false only when the table has no rows to avoid nextval sequence name returns 2 where 1 is expected Replaced min value with 1 since it is necessary only when the table has no rows If someone wants to reset sequence to non 1 when table has no rows new pull requests commits required,,"yahonda,pixeltrix,yahonda,pixeltrix,yahonda,yahonda,pixeltrix,yahonda,rafaelfranca,pixeltrix,yahonda,pixeltrix,yahonda,pixeltrix,yahonda,yahonda",2017-04-18 17:03:07,2017-05-02 20:20:43
IS,Using webpack react and css,The popular create react app uses a default config where you would create a complementary css file with every component e g What is the best way to configure this in Rails 5 1 with webpack react It looks like style loader and css loader are bundled by default and I'm not getting an error when I import ' Whatever css' but it is not outputting the style tag to the DOM,,"rafaelfranca,maclover7,maclover7",2017-05-02 20:54:00,2017-05-02 21:02:16
IS,5 1 Scoped associations generate SQL with enum strings instead of integers,Apologies if this has been reported or closed before I searched the issues but was not able to find something similar I'm also not certain what the correct behavior should be so if this is actually my own fault and not a bug I would be happy to hear that too Steps to reproduce Create an scoped association that includes an array of enum values in the where clause See the warm comments association below,,"maclover7,maclover7",2017-05-02 16:01:16,2017-05-02 21:55:55
PR,Add type caster to RuntimeReflection alias name,Summary Since we have been using this Arel Table since 111ccc832bc977b15af12c14e7ca078dad2d4373 in order to properly handle queries it is important that we properly type cast arguments Other Information Should fix 28959,,"maclover7,rafaelfranca,maclover7,rafaelfranca,maclover7,maclover7,rafaelfranca",2017-05-02 19:54:29,2017-05-02 21:55:55
PR,Set proper assertion to be sure the test failed,,,"bogdanvlviv,rafaelfranca,bogdanvlviv",2017-05-02 13:13:28,2017-05-02 21:58:16
PR,Remove sorted test order for isolated tests,,,"bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-05-02 13:21:19,2017-05-02 22:07:11
PR,Return boolean from ConnectionHandler connected,Summary If the connection is disconnected this method will now return false instead of nil,,matthewd,2017-05-03 00:42:44,2017-05-03 00:59:49
IS,LoadError cannot load such file coffee script on a new project created using skip coffee,Steps to reproduce Create a new Rails project using skip coffee and access any page that loads application html erb layout Example Run rails new example app skip coffee edge and create a new scaffold rails g scaffold posts title string body string and access posts route System configuration Rails version 5 2 0 alpha Ruby version 2 4 1p111,,"matthewd,stevenharman,matthewd,stevenharman",2017-05-03 01:44:48,2017-05-03 01:53:06
PR,remove uniqueness validators from ActiveModel examples,Summary While implementing a class that utilizes ActiveModel Validations I noticed that the documentation includes a number of examples that reference uniqueness validations which are not implemented in ActiveModel since there is no persistence layer Other Information Where possible I replaced the example with a comparable one that is supported by ActiveModel I also noticed that the examples for the Validator kind will raise an exception since they require an attributes argument so instead of I did not update these examples as part of this initial change but would be happy to do so either as part of this PR or a separate one,,,2017-05-03 02:37:34,2017-05-03 02:44:37
PR,fix ActiveModel Validator kind code examples,Summary This is a follow up to 28966 which was previously merged The code examples for ActiveModel Validators kind raise exceptions in their current state as they use validators that inherit from EachValidator and require an attributes argument Other Information Alternatively would it make sense for the default attributes to be an empty array,,kamipo,2017-05-03 02:56:35,2017-05-03 04:47:47
IS,does not throw exception when migration file and schema rb have a typo,For example I have following string in my schema rb t boolean is admin null false defalut false Where instead of default I wrote defalut but there is no exception,,"rafaelfranca,rafaelfranca",2017-05-02 22:18:17,2017-05-03 18:09:12
PR,Remove duplicated test merging reorders bind params,The same test exists in test cases relation merging test rb L94 L101,,kamipo,2017-05-03 18:37:39,2017-05-03 19:02:14
PR,Extract bind param and bind attribute into ActiveRecord TestCase,These are used in tests from anywhere,,kamipo,2017-05-03 18:26:39,2017-05-03 19:02:58
IS,Rails server starts on wrong port when passed b,Steps to reproduce This is the same issue described in the closed ticket 28971 With Ruby 2 4 1 and Rails 5 1 0 create a new app then start the server with b 0 0 0 0 Expected behavior Server should bind to port 3000 Actual behavior Server binds to port 9292 If port 3000 is specified explicitly with p the server binds to the correct port System configuration Rails 5 1 0 Ruby 2 4 1 Fedora Server 25 with RVM,,rafaelfranca,2017-05-03 16:58:15,2017-05-03 19:17:24
PR,Should test against Relation bound attributes,Since legacy Relation bind values was removed in b06f64c,,kamipo,2017-05-03 20:20:11,2017-05-03 20:52:50
IS,Inconsistent pluralize behaviour,Steps to reproduce Using latest Ruby 2 4 1 Rails 5 1 0 I'm encountering the following problem I know I can write a custom inflection but unlike secretary of state secretaries of state this seems to be normal behaviour that is not being handled correctly System configuration Rails version 5 1 0 Ruby version 2 4 1,,"rafaelfranca,matthewd",2017-05-04 02:57:15,2017-05-04 03:19:09
PR,Use target language is document yaml ci skip,Ref generator code L24 this bug force to use origin documents yaml although we specify LANGUAGE option Let me build guide with ko language It try to use Before guides source documents yaml After guides source ko documents yaml r could you check this Related 28337,,"riseshia,rafaelfranca",2017-05-04 03:50:12,2017-05-04 04:03:13
PR,Fix to use correct path with language on guide,Summary i e let language ko Before source dir source ko ko output dir output After source dir source ko output dir output ko,,"riseshia,rafaelfranca,riseshia",2017-03-08 01:57:20,2017-05-04 04:04:04
PR,Move package json creation to create root files,Since package json is created in root directory it is appropriate to create it in create root files,,y-yagi,2017-05-04 05:47:14,2017-05-04 06:00:32
IS,Rails 5 1 0 I18n not support write independent part in seperate files,Before update 5 1 from 5 0 2 I exists followings i18n settings Seem like Rails 5 1 not load all I18n files in my test I have no test this in my production but i think it should not worked too,,,2017-05-04 08:04:10,2017-05-04 09:21:48
PR,Use mysql2 0 4 6 to suport MySQL 8 0 1,Summary This pull request locks mysql2 gem version to 0 4 6 which supports MySQL 8 0 1 bool type Follow up 28733 and brianmario mysql2 840 mysql2 0 4 6 has been released which includes brianmario mysql2 840 Other Information This pull request does not change Gemfile itself Just updating Gemfile lock file to use mysql2 0 4 6 when bundle install executed,,"yahonda,rafaelfranca,yahonda",2017-05-04 13:39:14,2017-05-04 19:43:18
PR,Closed,,,rafaelfranca,2017-05-04 20:43:40,2017-05-04 20:49:54
PR,Remove useless target records from association,Since through association is always loaded by preloader preload,,"kamipo,bogdan,rafaelfranca,bogdan",2017-05-04 11:45:29,2017-05-04 20:58:28
PR,Assorted delegate missing to doc fixes,Probably easier to consider commit by commit but all pretty simple Rdoc code formatting mistake tt instead of backticks Grammar tweak should at least just be and the like not likes but this is just general tightening up Extra documentation that the delegated methods must be public tested here L359 L365 The hardest to see in the diff but the example code was needlessly complex This just removes a bunch of extraneous code that was unneeded for actually demonstrating the feature itself and made the example less obvious The test names were using the wrong name for the method delegate to missing instead of delegate missing to,,"tjschuck,tjschuck,tjschuck",2017-05-04 20:13:09,2017-05-04 21:01:33
IS,Migration Run db migrate failed with pgbouncer session mode,Please see followings links Thanks,,"rafaelfranca,rafaelfranca",2017-05-04 17:49:41,2017-05-05 02:30:32
PR,Do not pass arel engine to Arel SelectManager new,The argument of Arel SelectManager new is table not engine L10,,"kamipo,maclover7,rafaelfranca,kamipo",2017-05-04 08:27:33,2017-05-05 07:37:35
IS,assert routing fails expected missing path,Steps to reproduce Create a route Should not the expected above include the path key System configuration Rails version 5 0 1 Ruby version 2 3 3p222 Link to code and documentation L40,,,2017-05-05 14:52:24,2017-05-05 15:10:58
PR,Remove unused DelegationTest call method,DelegationTest call method is no longer used since 9d79334a,,kamipo,2017-05-05 19:58:08,2017-05-05 20:45:53
PR,add deep fetch method to Hash,Summary Using Hash fetch instead of a bracket notation is a common way to avoid unwanted nil is When working with deeply nested json api is I find myself writing a lot of code like this,,"bogdanvlviv,rafaelfranca",2017-05-05 10:58:21,2017-05-05 21:19:25
IS,Rails 4 0 13 How to rake routes namespaced controller,If i have a controller such as Dealer CompaniesController and i want to get all the routes defined for that controller what should i do instead of rake routes CONTROLLER companies,,,2017-05-06 04:57:08,2017-05-06 05:28:34
PR,Clarify deprecation message for quoted id,In this case it is the method definition that is more at fault rather than the current caller Addresses issuecomment 298492481 cc I have only checked this within our tests are you able to confirm that this better indicates what is up when it encounters your ActiveHash example,,"matthewd,grosser,matthewd",2017-05-05 08:59:42,2017-05-06 11:05:15
PR,Fix warning ambiguous first argument,,,"kamipo,matthewd,matthewd",2017-05-06 12:27:22,2017-05-06 17:33:53
IS,Rails Migration enum with t cloumn or t integer Which is the correct way,Sometimes in a migration file I see t column model type integer default 0 null false and sometimes t integer model type default 0 null false for enum types Which is the correct way,,alexcameron89,2017-05-06 21:57:57,2017-05-07 02:58:34
IS,Issue with limit and merge methods,Hi First of all a big thanks for the awesome framework that all of you have build I came with a question about a maybe my bad or maybe something that does not behave as I would expect Is related to limit and merge behaviour looks like the combination is generating an sql that does not retrieve the right records with pg gem Steps to reproduce Let is imagine this models Expected behaviour I would expect the limit applied on the Post model instal the whole combination on Post Comment Actual behaviour By look the generated sql looks like the IN had always the same id this comes from the previous query since the DISTINCT is done by post id and comments id we get always the same post identification By this the test wont pass getting count as 1 instead System configuration Rails version 5 0 2 Ruby version ruby 2 3 1p112 File Gemfile lock,,,2017-03-25 08:57:50,2017-05-07 09:45:09
PR,Should escape meta characters in regexp,,,kamipo,2017-05-06 19:16:48,2017-05-07 18:16:43
IS,rails webpacker install and rails new webpack does nothing,Steps to reproduce Run the following command inside an existing directory this method is used with setting up an environment in docker Expected behavior Command rails webpacker install should do something Actual behavior gem 'webpacker' is added to Gemfile nothing else happens No error output no files generated or modified System configuration Rails version 5 1 Ruby version 2 4 1 Node version 4 8 3 Yarn version 0 23 4,,maclover7,2017-05-07 16:52:07,2017-05-07 20:07:05
PR,Remove any nil attribute values from CSS JS tag helpers,When options are passed into the javascript include tag and stylesheet link tag the data is stringified and should the value of the options ever be nil it is outputted which is unexpected To fix this I have updated the helpers to drop any nil key value pairs using compact correctly denied this in 28950 because it was against 4 2 stable I have double checked this in master and found that the issue is still present so opening here instead,,"matthewd,rafaelfranca,rafaelfranca,rafaelfranca",2017-05-02 05:26:09,2017-05-07 21:16:21
PR,Fix link to assert nothing raised doc ci skip,The assert nothing raised was moved to ActiveSupport Testing Assertions in 3cece0b6574c496605df055a2ebf77177f5b6e7f,,"y-yagi,robin850",2017-05-08 13:00:40,2017-05-08 13:03:34
PR,Correct Autoloading and STI guide issue 26994,See the issue 26994 for more information,,"matthewd,matthewd,fxn,matthewd",2017-03-01 16:12:54,2017-05-08 15:40:43
PR,Allow capybara minor releases,Capybara 2 14 0 was released Loosen the tight constraint in the generated Gemfile so that Rails applications can take advantage of the new version,,"jeremy,jeremy,matthewd,eileencodes,rafaelfranca",2017-05-05 15:28:02,2017-05-08 15:42:59
IS,require dependency fix for autoloading and STI causes circular dependency error,Rails' autoloading does not work correctly in combination with Single Table Inheritance when having subclasses more than one level deep This is a known problem described in the Rails guides here autoloading and sti There is a fix mentioned but applying this leads to a circular dependency RuntimeError Steps to reproduce To ease reproduction I have created a demo application following the example from the guides Checkout the branch guides fix of the demo application Run bundler migrations etc Execute Rectangle all in a Rails console Expected behavior I expected the command to return all Rectangles i e Actual behavior An error is raised RuntimeError Circular dependency detected while autoloading constant Rectangle System configuration Rails version 5 0 0 1 Ruby version ruby 2 3 0p0 Possible fix I have managed to create an alternative fix that does work namely by requiring all direct sub classes for all intermediate classes I am happy to update the guides with this new fix but I am wondering if this is the way to go It could also be possible there is an underlying problem with the autoloading feature but I am not sure Any suggestions on how to proceed would be appreciated An example of the working fix can be found in the working fix branch,,"maclover7,pixeltrix,fxn,fxn,matthewd,rafaelfranca",2016-11-08 11:41:54,2017-05-08 16:04:48
IS,Join table cannot update or destroy throw error of no primary key,Steps to reproduce Have models as follow System configuration Rails version Rails 5 0 0 rc1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15 Reference,,"maclover7,sgrif,sgrif,matthewd",2016-06-10 11:35:50,2017-05-09 05:44:25
IS,ActiveRecord 5 1 container operator behavior not consistant,Postgres version 9 5 5 ActiveRecord version 5 1 In SearchKeyword table exists a groups field,,matthewd,2017-05-09 07:02:25,2017-05-09 07:12:01
IS,active support json does not handle RSpec Core Example properly,Steps to reproduce Setup a simple test and run RSpec current example to json inside it when active support json is required Expected behavior to json should not fail Actual behavior SystemStackError is being raised System configuration Rails version 5 0 2 Ruby version 2 4 0,,"robin850,maclover7,myronmarston,matthewd",2017-05-05 16:04:56,2017-05-09 16:00:49
PR,Allow to receive arbitrary arguments in aggregated results,When run rails test runner with minitest 5 10 2 the following error occurred This is because minitest added an argument to aggregated results in minitest 5 10 2 Therefore fix to aggregated results so that argument can be specified,,"y-yagi,matthewd",2017-05-09 22:55:54,2017-05-09 23:24:34
PR,ci skip Added defaults to information for on delete and on update of foreign keys,,,"mohitnatoo,kamipo",2017-05-10 08:52:02,2017-05-10 09:52:14
IS,wrong schema rb for foreign key,Steps to reproduce For postgresql working with different schemas Having the migration System configuration Rails version 5 1 Ruby version 2 4 1,,alexcameron89,2017-05-09 23:39:06,2017-05-10 13:32:40
IS,minitest 5 10 2 breaks rails test,Steps to reproduce,,,2017-05-10 15:50:26,2017-05-10 16:39:07
PR,Fix typo in deprecation message Errors add on blank,,,"bogdanvlviv,eileencodes,bogdanvlviv",2017-03-31 08:59:25,2017-05-10 21:49:21
PR,Raising an ArgumentError when rendering with invalid option,render text '' was deprecated a while ago and rails 5 1 removed the ability to call render with the text option While people were able to see the deprecation message when rendering a view from the controller the deprecation did not show up for mailers The reason for that is because the deprecation message was added in the AC Metal Rendering module which ActionMailer does not include The current behaviour on master if someone tries to render text '' will throw an error and say the template was not found Although a check was added when removing the ability to call render text '' L41 it was never called because when TemplateRenderer render gets called the options contains a template key and will try to resolve the template L34,,"Edouard-chin,Edouard-chin,Edouard-chin",2017-05-11 00:10:31,2017-05-11 00:23:43
IS,Migrations Why is the default reference type hardcoded,Why is the default reference type hardcoded to bigint Seems like it should fetch the type of the column it is referring to and use that by default,,"matthewd,guilleiguaran,guilleiguaran,matthewd",2017-05-10 21:48:33,2017-05-11 05:04:48
IS,The behavior of attribute changed inside of after callbacks will be changing,I just upgraded a project to Rails 5 1 0 and I'm seeing this deprecation warning DEPRECATION WARNING The behavior of attribute changed inside of after callbacks will be changing in the next version of Rails The new return value will reflect the behavior of calling the method after save returned e g the opposite of what it returns now To maintain the current behavior use saved change to attribute instead My code looks like this class MyClass before valiadtion my method def my method if name changed end end end I do not understand exactly the deprecation warning If I use saved change to name instead it will check it after it is saved but this is before validation callback I also noticed that if I change the name changed to saved change to name my specs are not passing I'm having a hard time understanding what the appropriate way to this should be It seems to me that how it was before it was doing the job okay not fully understand the reason behind this change and how I should avoid these deprecation warnings,,matthewd,2017-05-10 18:21:01,2017-05-11 05:26:31
PR,Fix a typo in guide ci skip,,,"koic,vipulnsward",2017-05-11 04:36:14,2017-05-11 05:52:51
IS,Research project on OSS motivation would appreciate help for my master thesis,Dear OSS developer I am a student at the Technical University Munich and I am currently collecting data for my master thesis to understand the motivations of OSS developer I am interested in finding out what encourages you to give others feedback to ask questions to the community or even to produce high quality software I would be really happy if you share your experiences with me and participate in my little survey It will take you less than 10 minutes You can find it under the following link To say thank you I will raffle three Amazon gift cards All information will be treated strictly confidentially and anonymously If you have any questions or comments please feel free to contact me corinna schmidt tum de Many thanks in advance and all the best Corinna,,pixeltrix,2017-05-11 15:53:16,2017-05-11 17:12:20
IS,Eager loading on empty,Since Rails 5 1 this followed line make an eager loading for empty comments SupplierComment where DATE created at Date yesterday includes supplier comments empty For the first line the SQL generated is SELECT supplier comments FROM supplier comments WHERE DATE created at '2017 05 09' ORDER BY supplier comments created at DESC LIMIT 11 For the second the SQL is SELECT supplier comments FROM supplier comments LEFT OUTER JOIN suppliers ON suppliers id supplier comments supplier id WHERE DATE created at '2017 05 09' ORDER BY supplier comments created at DESC In my code this cause an ambiguous request because of created at on the two table In Rails 5 0 not LEFT OUTER JOIN was made I suspect this commit The empty method was redefine with support of no eager loading but seems to not work fine I use Rails 5 1 0 and Ruby 2 4 0,,"alexcameron89,alexcameron89",2017-05-10 06:52:51,2017-05-11 20:41:10
PR,Do not eager loading if unneeded for FinderMethods exists,Fixes 29025,,"kamipo,maclover7",2017-05-11 03:56:34,2017-05-11 20:41:10
IS,ActionController Parameters delete does use default value,method i delete Deletes and returns a key value pair from Parameters whose key is equal to key If the key is not found returns the default value If the optional code block is given and the key is not found pass in the key and return the result of block Rails 4 2 8 I found this commit not sure if this is an intentional change If so the comment should be updated,,eugeneius,2017-05-10 20:16:39,2017-05-11 20:43:02
PR,Pass block in ActionController Parameters delete,Fixes In order to fully support the same interface as Hash delete we need to pass the block through to the underlying method not just the key This used to work correctly but it regressed when ActionController Parameters stopped inheriting from Hash in,,eugeneius,2017-05-10 22:54:47,2017-05-11 20:43:02
PR,Handle loops in the cause chain in Rescuable rescue with handler,Summary This fixes a SystemStackError that can be caused in the unlikely but possible scenario there is a loop in the exception cause chain Other Information Note that the test I have included does produce a loop in the exception cause chain in Ruby 2 3 4 but does not in Ruby 2 4 1 I have not found another way to create an exception loop in Ruby 2 4 1,,"rafaelfranca,rafaelfranca",2017-05-10 17:46:24,2017-05-12 00:45:04
PR,rake T should load development env by default not test,Summary rake T loads test env by default This is quite unexpected and not good because maybe you installed some gems that provide rake tasks just for development env because you do not need them in tests Now these wo not be shown Or maybe you have a nasty gem that need some envs to work and crashes rake T because you have not set up test env Other Information See issue,,rafaelfranca,2017-05-10 13:47:35,2017-05-12 00:51:34
IS,rake T loads test environment,Steps to reproduce Create a Rakefile like this Then run rake T Expected behavior It should not set test env when running rake T just like it does not set it for lol task Actual behavior It loads test env This is not good because maybe you installed some gems that provide rake tasks just for development env because you do not need them in tests Now these wo not be shown Or maybe you have a nasty gem that need some envs to work and crashes rake T because you have not set up test env System configuration Rails version Tested with 5 1 0 and 4 2 7 1 and looking at the source it is there for every version of rails Ruby version Should not matter tested with 2 3 3,,,2017-05-10 13:17:16,2017-05-12 00:52:53
IS,use rails engine and ApplicationController inherit engine is ApplicationController then helpers not all include,Steps to reproduce does this is a bug or design Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior rails project is helpers expect application helper all can not use in views System configuration Rails version 5 0 0 Ruby version 2 3 1,,maclover7,2016-12-17 07:37:28,2017-05-12 01:51:08
IS,form for with nested resource cannot generate proper action,Steps to reproduce 1 Define routes using nested resource Expected behavior form for can accept polymorphic url parameter same as redirect to and link to Actual behavior form for with polymorphic url using parameter raise error System configuration Rails version 4 2 6 Ruby version 2 3 1 Note Maybe root cause is here L472 See also link to uses url for L196 url for uses polymorphic url L104 redirect to uses url for L118,,,2016-06-22 14:59:02,2017-05-12 01:51:09
IS,rails console wont work with remote postgresql database,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior My rails application are on vagrant box and the postgresql db on the Windows machine my database yml file I created a demo API application using the command rails new api demo api d postgresql The aplication is working fine I can create a database with the command rails db create and run migrations with rails db migrate run rails console expect to run the console without any error Actual behavior but when I try to run the console rails console I am getting this error home ubuntu rvm gems ruby 2 3 2 demos gems activerecord 5 0 0 1 lib active record connection adapters postgresql adapter rb 671 in initialize' could not connect to server No such file or directory Is the server running locally and accepting connections on Unix domain socket var run postgresql s PGSQL 5432 PG ConnectionBad Why I am getting this error if I am using a remote database and why other commands works even when I perform a query to the database it is works only when run rails console gives me the error System configuration Rails version 5 0 0 1 Ruby version 2 3 2p217,,"utilum,utilum,al2o3cr",2016-11-20 12:57:26,2017-05-12 01:51:10
IS,why not run destroy callbacks when updating assoication ids,Steps to reproduce System configuration Rails version 5 0 1 Ruby version 2 3 1,,"utilum,utilum",2017-01-04 08:27:28,2017-05-12 01:51:12
IS,Deprecation message for ActiveRecord Base raise in transactional callbacks does not include the correct location in 5 0 1 rc2,Steps to reproduce I ran our full test run locally and while spring was warming up it printed a few deprecation warnings popped up All of them showed the correct location except for raise in transactional callbacks raise in transactional callbacks indeed exists in my application it was added when migrating from Rails 4 to 5 and after reading this in the upgrade guide error handling in transaction callbacks I know I can just use ag or grep but since other deprecation warnings show the correct location I thought I would report it cc since the blog post about RC2 told me to Expected behavior System configuration Rails version 5 0 1 rc2 Ruby version 2 3 1,,"maclover7,matthewd,matthewd,utilum",2016-12-13 14:54:31,2017-05-12 01:51:13
IS,Upgrading from Rails 5 0 0 1 to Rails 5 0 1 breaks MySQL 5 0 compatibility,Steps to reproduce I have upgraded my rails version from 5 0 0 1 to 5 0 1 and tried to deploy it The db migrate command failed and stopped deployment I have rolled back to 5 0 0 1 for now Expected behavior db migrate should pass Actual behavior It tries to access a table that does not exists in mysql 5 0 named areferential constraints' in information schema db It happens when trying to dump the schema The error it produces when running db migrate System configuration Rails version 5 0 1 Ruby version 2 3 3 OS Ubuntu 14 04 MySQL Server 5 0 95,,,2016-12-21 11:25:39,2017-05-12 01:51:14
IS,Problem with enhancing database tasks in Rails 5 0 1 PostgreSQL,Steps to reproduce We are enhancing db create and db test purge tasks with a custom task to create a schema and enable postgis uuid ossp and 'hstore extensions as follows rails db test purge should create the shared extensions schema after purging the database Actual behavior When rails db create is run the db extensions task creates the shared extensions schema in development database but not in the test database On the other hand if rails db create RAILS ENV test is run before running rails db create shared extensions schema is created for test database As noted above the custom task worked fine in Rails 4 2 5 System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 linux PostgreSQL version PostgreSQL 9 5 5,,"rafaelfranca,rafaelfranca",2017-01-09 01:42:44,2017-05-12 01:51:15
IS,Testing fails if scaffolded model is named App,Steps to reproduce 1 Roll a new rails 5 app rails new myapp and cd in cd myapp 2 Generate a scaffold for a model named App rails g scaffold app 3 Migrate to create the new model rake db migrate 4 Run tests rails test Expected behavior Default scaffold should pass with 7 assertions Actual behavior All 7 assertions throw errors HOWEVER if you change the variable ' app' to anything else such as ' my app' in the scaffolded test controller test controllers apps controller test rb then it works great Commentary As it is very likely to build a Rails application to manage apps and App is likely a popular model name I recommend keeping the variable used internally in tests as something which could not be generated from the model name such as app System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,rafaelfranca,2016-10-20 00:33:26,2017-05-12 01:51:16
IS,number to currency returns incorrect results,Summary number to currency uses Float to s which causes a loss of precision In general the docs seem to encourage using floats for representing monetary amounts which is incorrect dangerous and should be avoided The correct approach is to use either integers or decimals I think that in the short term we should fix the issue with lack of precision but in the long term we should make the helper issue a warning or even raise an exception if someone passes a float I'm happy to provide a fix but I wanted to discuss the issue with the community first Steps to reproduce 1 Fire up a Rails console 2 Type,,,2017-01-11 10:41:23,2017-05-12 01:51:18
IS,EOFError instead of SMTP error,Steps to reproduce We are getting EOFError out of ActionMailer with no stack trace or useful error message It appears to be bubbling out of deliver now The code below requires a real email account so I have excluded the details here you will need to provide them to get the script to work I believe the code below reproduces the symptom but not necessarily the cause System configuration Rails version Rails 4 2 7 1 Ruby version jruby 9 1 6 0 2 3 1 2016 11 09 0150a76 OpenJDK 64 Bit Server VM 25 111 b14 on 1 8 0 111 8u111 b14 2ubuntu0 16 04 2 b14 jit linux x86 64,,"rafaelfranca,matthewd,jeremy,matthewd,pixeltrix,pixeltrix",2016-12-07 21:41:46,2017-05-12 01:51:20
IS,no implicit conversion of ActiveSupport SafeBuffer into Array if render simple fields for in trailblazer cell,Steps to reproduce I use simple form in cells and i want render simple fields for on different cell as main form In code on which error is raised is variable output as array which is maybe not wanted here This is maybe not ActiveSupport SafeBuffer problem but simple form problem Expected behavior Its should render html output Actual behavior Raise error no implicit conversion of ActiveSupport SafeBuffer into Array System configuration Rails version 5 0 1 Ruby version 2 3 1,,al2o3cr,2017-01-18 09:39:47,2017-05-12 01:51:20
IS,ActionCable does not reconnect update after cookies are changed Chrome Firefox only,Steps to reproduce In production mode when a user is logged in and changes the cookies the actioncable identified by does not get updated Here is how the cookies are updated student users are logged in Expected behavior The actioncable should re connect and update where it is streaming from when cookies are changed Actual behavior In production mode and in Chrome Firefox only the connection does not get updated when the cookies are changed thus it is not streaming from the right streams System configuration Rails version 5 0 0 Ruby version 2 3,,maclover7,2016-07-18 21:43:48,2017-05-12 01:51:21
IS,ActionMailer incorrect param value of message attachment part,Mailer code which send message with attachment file language ruby class OutgoingMailer ActionMailer Base include Roadie Rails Automatic layout 'mails outgoing' def send mail mail account id to subject body data attach params nil mail account MailAccount find mail account id delivery options attachments 'my file png' content File read Rails root tmp my file png headers 'Message ID' SecureRandom uuid mail account address gsub ' ' ' ' message mail to to from mail account address body '' subject subject content type multipart mixed delivery method options delivery options html alternative Mail Part new do content type 'text html charset UTF 8' body body data end message add part html alternative end end When I open this message in the mail web client mail yandex ru that it does not show the number of attachments example web client example 1 1 1 Both messages fetched and traced by Net IMAP lib After that compare correct and incorrect message parts correct language ruby struct Net IMAP BodyTypeMultipart media type MULTIPART subtype MIXED parts struct Net IMAP BodyTypeText media type TEXT subtype HTML param CHARSET utf 8 content id nil description nil encoding 7BIT size 32 lines 1 md5 nil disposition nil language nil extension nil struct Net IMAP BodyTypeBasic media type IMAGE subtype PNG param NAME my file png content id 12sdf647 3gh4253ff456 temp mail description nil encoding BASE64 size 367834 md5 nil disposition nil language nil extension nil param nil disposition nil language nil extension nil incorrect language ruby struct Net IMAP BodyTypeMultipart media type MULTIPART subtype MIXED parts struct Net IMAP BodyTypeText media type TEXT subtype HTML param CHARSET UTF 8 content id nil description nil encoding 7BIT size 32 lines 1 md5 nil disposition nil language nil extension nil struct Net IMAP BodyTypeBasic media type IMAGE subtype PNG param nil content id 587b45f51f468 36c67182b4c247a5 temp mail description nil encoding BASE64 size 367834 md5 nil disposition nil language nil extension nil param nil disposition nil language nil extension nil As you can see the incorrect message has param nil for Net IMAP BodyTypeBasic object Why param field is nil Rails 4 2 7 1 Ruby 2 3 0,,maclover7,2017-01-15 15:41:40,2017-05-12 01:51:22
IS,Inconsistent behavior of ActiveRecord AssociationRelation is or method,Steps to reproduce with inverse of rb System configuration Rails version 5 0 1 Ruby version 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin15,,al2o3cr,2017-01-27 06:18:29,2017-05-12 01:51:23
IS,SQLite adapter allows indexes on non existent columns,Steps to reproduce 1 Create a migration on a Rails project that is using SQlite 2 Add an index in the migration on a table column that does not exist Example What probably needs to be done is that SQLite specific code for adding indexes needs to be written I'm happy to take a crack at it and submit a PR System configuration Rails version 4 2 7 Ruby version 2 3 3p222 SQLite version 3 14 0,,maclover7,2017-01-23 22:16:38,2017-05-12 01:51:24
IS,ActiveRecord wrong limit offset bind parameters when scopes are involved,Steps to reproduce I have added a test case using your template here Resulting in a somewhat informative error Description of the problem We have a identified some conditions in which the following code relation limit 25 offset 0 Results in this SQL LIMIT 2 OFFSET 25 It seems that Arel is getting confused at some point re binding of the LIMIT parameters This seems possibly related to also possibly related to this commit We believe that what is at play is a default scope in the models that is causing things to be messed up We have discovered it as part of a Rails 5 migration from 4 2 which was working fine Expected behavior The LIMIT and OFFSET values in the SQL should match the parameters passed by the user Actual behavior Arel seems to be bounding the wrong values for LIMIT and OFFSET System configuration Rails version 5 0 1 Ruby version 2 2 2p95 Verified in mysql2 version 0 4 5 sqlite3 version 1 3 13 Please let me know if there is any additional information I can provide,,,2017-01-25 17:20:53,2017-05-12 01:51:25
IS,has many through records duplication problem,I think this problem is kind of this issue 16791 There are my models But it is not a good solution if we need more straight thinking Anyone have idea about how to face the has many through with duplication,,,2016-12-28 09:26:06,2017-05-12 02:51:09
PR,Fix ambigious error message of select query method ci skip,I saw this while working on different issue the error message for select method is not clear and should be more descriptive like the error message in case passing argument with block case Also I have added ci skip because the test which is checking this case does not look the message of the exception,,"meinac,maclover7,meinac,kaspth",2017-04-28 09:50:03,2017-05-12 12:51:22
PR,Creating a begin initializer,This is a proposal the rails comes with a predefined begin initializer This initializer is intended to put a code to run in the very beginning of the application start An section to have finalizers like initializers have one could be pertinent too Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"matthewd,eileencodes",2017-04-01 10:07:55,2017-05-12 16:19:51
PR,Maintain original encoding from path,When the path info is read from the socket it is encoded as ASCII 8BIT The unescape method changes the encoding to UTF8 but it should maintain the encoding of the string that is passed in This causes parameters to be force encoded to UTF8 when we do not actually know what the encoding of the parameter should be Opening a PR to see if CI breaks cc,,eileencodes,2017-05-12 18:14:46,2017-05-12 18:58:47
IS,Action cable not working in test environent,Steps to reproduce I am trying to figure out why action cable is not working in the test environment I tried this rails server port 5200 e test The error on the client side is WebSocket is closed before the connection is established Guidelines for creating a bug report are available here creating a bug report Actual behavior I see this in the test log WebSocket error occurred undefined method write nonblock' for nil NilClass I added a local stack trace by editing the gem source which shows this mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection stream rb 43 in write' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection client socket rb 73 in write' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems websocket driver 0 6 5 lib websocket driver rb 104 in start' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection client socket rb 64 in start driver' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection client socket rb 68 in rack response' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection web socket rb 32 in rack response' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection base rb 212 in respond to successful request' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection base rb 71 in process' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable server base rb 28 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch routing mapper rb 17 in block in class Constraints ' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch routing mapper rb 46 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch routing mapper rb 46 in serve' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch journey router rb 46 in block in serve' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch journey router rb 33 in each' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch journey router rb 33 in serve' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch routing route set rb 832 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack cors 0 2 8 lib rack cors rb 54 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack etag rb 25 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack conditional get rb 25 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack head rb 12 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack session abstract id rb 232 in context' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack session abstract id rb 226 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware cookies rb 613 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware callbacks rb 26 in block in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support callbacks rb 97 in run callbacks' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware callbacks rb 24 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware debug exceptions rb 59 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware show exceptions rb 31 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems railties 5 1 0 lib rails rack logger rb 36 in call app' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems railties 5 1 0 lib rails rack logger rb 24 in block in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support tagged logging rb 69 in block in tagged' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support tagged logging rb 26 in tagged' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support tagged logging rb 69 in tagged' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems railties 5 1 0 lib rails rack logger rb 24 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware remote ip rb 79 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems request store 1 3 2 lib request store middleware rb 9 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware request id rb 25 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack method override rb 22 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack runtime rb 22 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support cache strategy local cache middleware rb 27 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware executor rb 12 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack lock rb 15 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actionpack 5 1 0 lib action dispatch middleware static rb 125 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems rack 2 0 2 lib rack sendfile rb 111 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems railties 5 1 0 lib rails engine rb 522 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 3 7 0 lib puma configuration rb 226 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 3 7 0 lib puma server rb 578 in handle request' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 3 7 0 lib puma server rb 415 in process client' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 3 7 0 lib puma server rb 275 in block in run' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 3 7 0 lib puma thread pool rb 120 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems puma 3 7 0 lib puma thread pool rb 120 in block in spawn thread' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection stream rb 43 in write' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection client socket rb 73 in write' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems websocket driver 0 6 5 lib websocket driver hybi rb 228 in send frame' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems websocket driver 0 6 5 lib websocket driver hybi rb 191 in frame' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems websocket driver 0 6 5 lib websocket driver rb 111 in text' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection client socket rb 83 in transmit' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection web socket rb 20 in transmit' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection base rb 92 in transmit' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection base rb 193 in send welcome message' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection base rb 170 in handle open' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable server worker rb 58 in block in invoke' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable server worker rb 39 in block in work' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support callbacks rb 108 in block in run callbacks' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable server worker active record connection management rb 14 in block in with database connections' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection tagged logger proxy rb 22 in block in tag' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support tagged logging rb 69 in block in tagged' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support tagged logging rb 26 in tagged' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support tagged logging rb 69 in tagged' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable connection tagged logger proxy rb 22 in tag' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable server worker active record connection management rb 14 in with database connections' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support callbacks rb 117 in block in run callbacks' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable engine rb 60 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable engine rb 60 in block 4 levels in class Engine ' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support execution wrapper rb 85 in wrap' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable engine rb 55 in block 3 levels in class Engine ' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support callbacks rb 117 in instance exec' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support callbacks rb 117 in block in run callbacks' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support callbacks rb 135 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems activesupport 5 1 0 lib active support callbacks rb 135 in run callbacks' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable server worker rb 38 in work' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable server worker rb 56 in invoke' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems actioncable 5 1 0 lib action cable server worker rb 51 in block in async invoke' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems concurrent ruby 1 0 5 lib concurrent executor ruby thread pool executor rb 348 in call' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems concurrent ruby 1 0 5 lib concurrent executor ruby thread pool executor rb 348 in run task' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems concurrent ruby 1 0 5 lib concurrent executor ruby thread pool executor rb 337 in block 3 levels in create worker' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems concurrent ruby 1 0 5 lib concurrent executor ruby thread pool executor rb 320 in loop' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems concurrent ruby 1 0 5 lib concurrent executor ruby thread pool executor rb 320 in block 2 levels in create worker' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems concurrent ruby 1 0 5 lib concurrent executor ruby thread pool executor rb 319 in catch' mydir rbenv versions 2 2 2 lib ruby gems 2 2 0 gems concurrent ruby 1 0 5 lib concurrent executor ruby thread pool executor rb 319 in block in create worker' CExiting System configuration Rails version 5 1 0 Ruby version ruby 2 2 2p95,,matthewd,2017-05-12 16:58:55,2017-05-12 19:17:45
PR,ci skip Mailer fixtures in Testing guide,As per issue 29051 update guide to clarify that mailer fixtures are not created when using the mailer generator,,,2017-05-12 20:24:34,2017-05-12 20:29:16
IS,Update Testing Your Mailers docs to say fixtures are not stubbed,I think the documentation is incorrect based on the behavior shown below and my review of the code but am not sure if this is desired behavior to be included vs just updating the documentation Steps to reproduce rails g mailer User invite Expected behavior Based on the current documentation for Testing Your Mailers testing your mailers stub out test fixtures UserMailer invite html erb Actual behavior No fixtures are stubbed Only test mailers are created in the test directory System configuration Rails version master and 4 2 8 Test case Add the following test to rails railties test generators mailer generator test rb,,rafaelfranca,2017-05-11 20:30:17,2017-05-12 20:33:57
IS,Rails Application appear Errors after upgrade to Rails 5 1 1,Expected behavior After I upgrade my Rails app from 5 0 2 to 5 1 1 errors appear like that No such middleware to insert after ActionDispatch DebugExceptions System configuration Rails 5 1 1 Ruby 2 4 1,,matthewd,2017-05-13 08:28:28,2017-05-13 09:09:10
PR,updated,spacings Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-05-13 02:52:09,2017-05-13 13:55:11
IS,Router resource problem,Hi everyone Have a problem with a testing controller that market as resource In my routes rb file Test passed without a problem,,,2017-05-13 17:07:19,2017-05-13 17:50:47
IS,Rails Console Simple Prompt Option is Broken,Steps to reproduce Open the rails console with simple prompt System configuration Rails version Rails 5 1 0 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin13,,y-yagi,2017-05-05 04:39:59,2017-05-14 00:32:40
PR,Allow irb options to be passed from rails console command,I'm not sure that this behavior is guaranteed However up to Rails 5 0 it was possible to specify the irb option from the rails console This makes it possible to specify irb options as well as Rails 5 0 Fixes 28988,,"y-yagi,maclover7,y-yagi",2017-05-07 23:10:12,2017-05-14 00:32:40
IS,Ambiguous column name when mixing joins and left outer joins on the same association,Steps to reproduce Please see my example app illustrating the bug 1 Create a model e g Post that has an association to another model e g User 2 Construct a query that uses both joins and left outer joins on the same association e g Post joins user left outer joins user 3 Run the query and observe the error Expected behavior I would expect that ActiveRecord would alias the table the second time it is referenced in the LEFT OUTER JOIN The example makes this situation seem kind of contrived but I think it is very reasonable to assumed that in a large application with lots of different scopes that it is possible to want to combine two scopes that reference the same association with different kinds of joins Actual behavior Ambiguous column name error is raised instead System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,al2o3cr,2016-11-06 23:03:31,2017-05-14 03:23:46
IS,Incorrect Join Order for Multiple ActiveRecord Merges,Steps to reproduce When attempting to merge multiple relations together the last one below incorrectly generates joins that are out of order and throw an error in Postgres Not sure if this is related to 25806 There seem to be a few open issues that have not been resolved that are similar to this one Expected behavior It should do the joins in the correct order Actual behavior It joins in the wrong order and throws an error System configuration Rails version 5 0 1 Ruby version 2 3 3,,eileencodes,2017-02-02 18:07:53,2017-05-14 03:23:47
PR,Respect ignore tables in Postgres structure dump,When using sql as the schema format or even just doing rake db structure dump it would be good to respect the list of ignored tables that has been configured Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"eileencodes,eileencodes,maclover7,guilleiguaran",2017-05-12 15:49:03,2017-05-14 09:10:32
IS,Cross schema foreign key,Steps to reproduce I'm working on multitenant rails app using apartment gem and have two tables one in public schema and other in tenant specific schema I'm trying to create cross schema foreign key in migration as below After running migration Expected behavior It should associate state id to public states table schema rb should have add foreign key parties public states column state id Actual behavior It fails to create association to table in public states instead associate with tenant specific schema states table schema rb add foreign key parties states System configuration Rails version 5 0 2 Ruby version 2 4 0 Database PostgreSQL gem v0 20 0 When I manually change the schema rb and add add foreign key parties public states column state id it work perfectly fine To have this effect I have to do rake db schema load which I want to avoid Why does it work from schema rb but does not work as expected from migration,,matthewd,2017-04-03 23:48:36,2017-05-14 12:47:21
IS,UndefinedTable error after interrupted pg pull wo not allow db drop,Steps to reproduce I was pulling my production database using pg pull and the process got interrupted Now my dev database is incomplete Expected behavior Seems like I should be able to just db drop the dev database and start over However I get the following error ActiveRecord StatementInvalid PG UndefinedTable ERROR relation xxxxx does not exist Actual behavior ActiveRecord wont drop the dev database because a table does not exist Why does drop care if a table is missing Furthermore bin rails db drop DISABLE DATABASE ENVIRONMENT CHECK 1 has no affect System configuration Rails version 5 0 2 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16,,"matthewd,matthewd",2017-05-14 21:37:48,2017-05-14 21:44:42
IS,When using adapter inference from URL adapter in config should override,Steps to reproduce In database yml with activerecord postgis adapter in the bundle Expected behavior ActiveRecord should load the PostGIS adapter instead of the Postgres adapter Actual behavior The Postgres adapter is used inferred from the URL scheme This leads to difficulties where the URL is passed in by environment variable Ala Heroku System configuration Rails version 5 0 1 Ruby version 2 3 3,,arthurnn,2017-02-03 23:53:59,2017-05-15 03:26:27
IS,Please release minitest fix,Can you please push a release with 29022 fixed in it to whatever versions are affected by this bug and what are they,,"zenspider,simi,tenderlove,zenspider",2017-05-10 21:35:15,2017-05-15 09:03:44
PR,Do not cache locally if unless exist was passed,Some cache backends support the unless exist option which tells them not to overwrite existing entries The local cache currently always stores the new value even though the backend may have rejected it Since we can not tell which value will end up in the backend cache we should delete the key from the local cache so that the next read for that key will go to the backend and pick up the correct value The DalliStore backend hacked around this problem in,,"eugeneius,eileencodes",2017-05-14 22:48:13,2017-05-15 12:00:40
PR,Message encryptor auth tag check,Summary This PR is meant to introduce a small fix to MessageEncryptor when used in AEAD mode Specifically we need to check if the auth tag is nil This may arise when an AEAD encryptor is used to decrypt a ciphertext generated from a different mode such as CBC HMAC Basically the number of double dashes will differ and auth tag may be nil in this case Other Information This PR is in reference to the discussion here discussion r116388462 It also contains a second commit which fixes an existing AEAD related test I think an incorrect MessageEncryptor was being used in a AEAD test and thus was giving false positives,,"mikeycgto,kaspth,kaspth",2017-05-15 08:59:38,2017-05-15 19:20:13
PR,4 2 stable find sql doc,Summary The documentation for find by sql does not include the format for the parameter,,,2017-05-15 13:07:29,2017-05-15 19:57:52
PR,Respect 'SchemaDumper ignore tables' in databases structure dump,This includes changes from 29060 fix a broken test and adds support for MySQL and SQLite3 as well,,"guilleiguaran,matthewd,matthewd,matthewd,guilleiguaran,matthewd,guilleiguaran,guilleiguaran,guilleiguaran",2017-05-14 04:06:42,2017-05-16 00:39:13
PR,Fix TestInvalidUrls with rack 2 0 3,Currently raise BadRequest if params encoding is invalid L64 L74 L26 L39 However env values are ensure encoded in ASCII 8 BIT at rack 2 0 3 rack rack 68db9aa Therefore even if specify an invalid urls it will not cause an error,,"y-yagi,y-yagi",2017-05-15 23:03:02,2017-05-16 00:40:47
IS,Fake DEPRECATION WARNING Using positional arguments in integration tests has been deprecated in favor of keyword arguments and will be removed in Rails 5 1,Steps to reproduce post user session path session email user email password password remember me remember me Expected behavior No warnings It should work The method signature matches the docs method i get Actual behavior Get lots of deprecation warnings System configuration Rails version 5 0 2 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x64 mingw32,,matthewd,2017-05-16 05:25:58,2017-05-16 10:02:30
IS,Configuration not read properly,Steps to reproduce Fresh setup with rails simple model created using postgres database rails 5 1 0 activerecord 5 1 1 config database yml development default database inventar dev port 5456 Note the different port This works with bin rails server and rake db migrate both commands use the specified port number but commands like rake db reset rake db drop rake db create fail and complain that the connection to port 5432 the default port of postgres is not possible some commands read and some ignore the port clause Expected behavior all commands should use the specified port Actual behavior some commands i e rake db reset rake db drop rake db create ignore the port and thus cannot connect to the configured database while others do work System configuration Rails version 5 1 0 Ruby version 2 3 1,,"robin850,robin850",2017-05-12 23:38:21,2017-05-16 12:07:12
IS,Broken links in Rails Guides ActiveSupport,It looks like currently the Rails Guides ActiveSupport stand alone active support page has broken links which are supposed to link to the methods used in the various examples Ex blank questionmark and present questionmark The link to active support core ext object blank rb returns a 404 from Github My understanding is that it is supposed to link to the ActiveSupport codebase with that method Unless anyone has objections I will submit a PR for this in the coming hours,,rafaelfranca,2017-05-12 04:53:58,2017-05-16 13:23:36
PR,Added fixed links to code for Rails Guides ActiveSupport,Fixed 29055 The links in the Rails Guide for ActiveSupport were fixed to actually lead to the codebase as they were originally linking to a 404 Github page Most were like this markdown active support core ext object blank rb,,"robin850,robin850,robin850,robin850,pixeltrix,robin850,rafaelfranca",2017-05-12 06:17:36,2017-05-16 13:23:36
PR,5 0 stable,I think there is a bug that the console types sql sentence without rendering when update select the model,,robin850,2017-05-16 04:04:21,2017-05-16 15:38:12
IS,Rails looking for node instead of nodejs,Steps to reproduce apt get install y build essential libpq dev nodejs gem install rails ' 5 1 1' rails new database mysql webpack react skip coffee script skip turbolinks bundle install rake webpacker install Expected behavior No Errors Actual behavior Use bundle show gemname to see where a bundled gem is installed rails webpacker install System configuration Rails version 5 1 1 Ruby version 2 4 1p111,,,2017-05-16 21:13:52,2017-05-16 21:20:18
IS,Is there a known performance regression with querying eager loading instantiating AR objects in Rails 4 2 8,Please see my SO question here Or should I repeat the info here,,matthewd,2017-05-16 21:01:33,2017-05-16 22:00:12
PR,Deprecation warning for Comparable,Users danreyoquindo rvm gems ruby 2 2 5 gems activerecord 4 0 13 lib active record fixtures rb 570 warning Comparable will no more rescue exceptions of in the next release Users danreyoquindo rvm gems ruby 2 2 5 gems activerecord 4 0 13 lib active record fixtures rb 570 warning Return nil in if the comparison is inappropriate or avoid such comparison Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,maclover7,2017-05-16 05:41:47,2017-05-16 22:02:49
IS,Joins generated by ActiveRecord are not compatible with Postgres under certain conditions,Steps to reproduce Apparently this is not a limitation for SQLite3 the statement seems valid I do not have much experience with SQLite3 so I could be wrong This seems to be a regression Switching to 5 0 3 ActiveRecord solves the problem System configuration postgresql 9 5 6 pg 0 18 4 activerecord 5 1 0,,alexcameron89,2017-05-16 07:46:42,2017-05-16 22:56:05
IS,ActionCable Postgresql write read disconnects ActionCable connection in development,In my development environment I had a perfectly working app using action cable when I was using the SQLite database adapter in development I switched to Postgres from SQLite in my development environment and all of a sudden am unable to connect to ActionCable it seems from my tests any DB write disconnects the connection Because my app does a database write on connection I get an infinite loop of connections and disconnections the only change that has caused this is using Postgres as the database adapter in development I also have a production app with the exact same code running perfectly in production using the Postgresql database with no problems Steps to reproduce Essentially any read write will create a disconnection so it is fairly easy to reproduce 1 Set PostgresSQL as the database adapter in development 2 Add a simple write operation on the channel subscribed method to trigger a database write on connection 3 Observe the connection issues Expected behavior Postgres write read should not affect ActionScable connection Actual behavior Postgresql write read disconnects ActionCable connection in development System configuration Rails version Rails 5 2 Ruby version Tested in Rails 2 4 0 and 2 4 1,,"maclover7,maclover7",2017-04-23 13:26:34,2017-05-16 23:27:08
PR,add documentation for bind parameters to find by sql ci skip,Summary The change documents the parameter format to use for the when the sql text contains substitution values from a prepared statement 1,,"maclover7,matthewd",2017-05-16 14:56:13,2017-05-16 23:47:54
IS,Foreign keys not requested for removal are being removed when using new FK creation syntax similar to 25169 but with extra FKs being removed,Steps to reproduce Given two tables select collections and people attributes in people reference select collections using migration create table people do t t references gender index true foreign key to table select collections end The foreign keys are created correctly Later when wanting to remove a reference using another migration remove reference people gender foreign key to table select collections the gender foreign key index and attribute are removed from people but so is another foreign key belief id in my tests YMMV The index and field for belief id remain in the DB Expected behavior Only the foreign key index and attributes requested for removal should be removed Actual behavior Foreign keys not requested for removal are being deleted from the DB System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 0 DB PostgreSQL 9 6 1 Test Script begin require 'bundler inline' rescue LoadError e stderr puts 'Bundler version 1 10 or later is required Please update your Bundler' raise e end gemfile true do source '' gem 'rails' ' 5 0 1' gem 'pg' end require 'active record' require 'minitest autorun' require 'logger' DB NAME 'issue 27943' system dropdb DB NAME system createdb DB NAME This connection will do for database independent bug reports ActiveRecord Base establish connection adapter 'postgresql' database DB NAME ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema define do create table select collections force true do t end create table people force true do t t references gender index true foreign key to table select collections t references belief index true foreign key to table select collections t references sexuality index true foreign key to table select collections t references primary language index true foreign key to table select collections t references town index true foreign key to table select collections t references county index true foreign key to table select collections end end class RemoveGenderFromPeople ActiveRecord Migration 5 0 def change reversible do dir dir down do remove reference people gender foreign key to table select collections end end end end class BugTest Minitest Test def test foreign key migration is reversible assert current schema match add foreign key people select collections column gender id assert current schema match add foreign key people select collections column belief id assert current schema match add foreign key people select collections column sexuality id assert current schema match add foreign key people select collections column primary language id assert current schema match add foreign key people select collections column town id assert current schema match add foreign key people select collections column county id this should not raise RemoveGenderFromPeople migrate down assert current schema match add foreign key people select collections column sexuality id assert current schema match add foreign key people select collections column primary language id assert current schema match add foreign key people select collections column belief id assert current schema match add foreign key people select collections column town id assert current schema match add foreign key people select collections column county id end private def current schema output StringIO new ActiveRecord SchemaDumper dump ActiveRecord Base connection output output rewind output read end end,,,2017-02-08 14:57:13,2017-05-17 01:37:55
PR,Address LogSubscriberTest failures to support Rails 2 5 0 dev,Summary This pull request address 29021 Since Ruby 2 5 0 dev does not return decimal value when it is 0 This change has been made at Ruby 2 5 0 dev between 2017 05 05 trunk 58572 and 2017 05 07 trunk 58586 likely Revision 58586 This fix has been tested with these Ruby versions ruby 2 5 0dev 2017 05 15 trunk 58733 x86 64 linux ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux ruby 2 3 4p301 2017 03 30 revision 58214 x86 64 linux ruby 2 2 7p470 2017 03 28 revision 58194 x86 64 linux,,"yahonda,kamipo,yahonda,yahonda,maclover7,rafaelfranca,yahonda",2017-05-15 12:26:03,2017-05-17 02:40:23
PR,Set non 0 value to logger not to be affected by Ruby versions,Summary Addresses 29021 There was another pull request 29089 which intends to handle 0ms and 0 0ms differences using regular expressions This pull request sets non 0 value to logger 0 9ms so that there will be no need to implement regular expressions in tests,,"yahonda,kamipo,yahonda",2017-05-17 02:03:21,2017-05-17 02:42:27
IS,LogSubscriberTest fails with ruby 2 5 0dev,Steps to reproduce LogSubscriberTest fails with ruby 2 5 0dev logger 0 0ms expected but the actual output is 0ms System configuration Rails version master branch Ruby version ruby 2 5 0dev 2017 05 10 trunk 58644 x86 64 linux Based on CI log file these tests were working fine with ruby 2 5 0dev 2017 05 05 trunk 58572 x86 64 linux at then getting failed with ruby 2 5 0dev 2017 05 07 trunk 58586 x86 64 linux at Looks like changed this behavior,,"yahonda,maclover7,yahonda,yahonda",2017-05-09 21:06:07,2017-05-17 03:04:33
PR,Add require active support testing declarative,Add require active support testing declarative because of ActiveSupport Testing Declarative is used in the file activesupport test file update checker shared tests rb,,"bogdanvlviv,maclover7,rafaelfranca,bogdanvlviv,matthewd,bogdanvlviv",2017-05-15 16:42:32,2017-05-17 11:45:56
PR,Rails Application is abstract you cannot instantiate it directly,I upgraded to Rails 5 1 1 and it started throwing me this error message rvm gems ruby 2 3 1 gems railties 5 1 0 lib rails railtie rb 206 in initialize' Rails Application is abstract you cannot instantiate it directly RuntimeError I ended up upgrading to ruby 2 3 2 and that fixed the issue,,eileencodes,2017-05-15 16:41:21,2017-05-17 11:48:24
PR,CI against JRuby 9 1 9 0,JRuby 9 1 9 0 has been released,,koic,2017-05-17 09:17:20,2017-05-17 17:31:27
PR,Remove unneeded association respond to reset scope,Since 86390c3 all associations have reset scope so respond to is unneeded,,kamipo,2017-05-17 03:01:43,2017-05-17 17:50:50
PR,Fixed Frozen string error in actionpack,Fixed string being modified in place during encode causing frozen string errors in Ruby 3 0,,"rafaelfranca,matthewd,matthewd,rafaelfranca",2017-05-12 18:48:10,2017-05-17 19:04:46
IS,Raise on missing events for ActiveSupport Notifications instrument,Typos mistakes are too easy with ActiveSupport Notifications instrument because calling it on any event name even non exisiting ones does not raise an exception Steps to reproduce Expected behavior It should raise an exception Actual behavior It does not raise an exception System configuration Rails version Rails 5 0 2 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,rafaelfranca,2017-05-17 18:46:51,2017-05-17 19:51:32
IS,Rails secrets edit does not work properly when EDITOR gvim,Steps to reproduce GVim will open with an empty file and it should show the comments in the file Modify it and run wq ENTER to save exit Rails will tell you saved secrets Expected behavior Run rails secrets edit and you can see the content of the file Actual behavior Run rails secrets edit again and there is no content in file Exit gvim with q ENTER Now run export EDITOR vim Run rails secrets edit and you can see the content And it will be the original file the commented one The changes done in GVim will not appear System configuration Rails version 5 1 1 Ruby version 2 4 0p0,,matthewd,2017-05-17 07:08:59,2017-05-17 20:23:47
IS,serialize method is not being called in where queries with custom type,When using custom types the serialize method is being called for queries like Image where pHash Image last pHash but not for queries like Image where ' pHash ' Image last pHash Because of this my below similar images method does not work System configuration Rails version Rails 5 1 0 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,matthewd,2017-05-18 02:25:37,2017-05-18 03:02:02
PR,Recyclable cache keys,Key based cache expiration is an incredibly powerful simple way to do away with the error ridden ways of manual cache expiration but it can also be highly wasteful and generate lots of cache trash This happens when you have keys which churn at high velocity leaving the abandoned keys to be garbage collected with no hint to the fact that they will never be used again If you cache write volume is high and you turn over your entire cache allowance frequently enough this results in cache trash crowding out less frequently accessed but still valid keys Which in turn leads to high cache miss rates We can solve this problem by making the keys stable by separating the explicit version So you can keep a stable key like products 1 and an associated version like 20170202145500 instead of the combined projects 1 20170202145500 key we have been using so far This means that no matter how frequently Product 1 is touched it will still only write to the same cache key That is the recycling part here This approach is similar to how HTTP caching works There is a cache key in the form of the URL and then there is a version component in form of the ETAG,,"dhh,kaspth,kaspth,kaspth,kaspth,dhh,dhh,dhh,bogdan,bogdan,bogdan,bogdan,dhh,bogdan,bogdan,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,dhh,dhh,dhh,dhh,dhh,rafaelfranca,rafaelfranca,dhh,dhh,bogdan,dhh,mikeycgto,dhh,kaspth,dhh,kaspth,bogdan,dhh,bogdan,dhh,dhh,bogdan,dhh,kaspth,kaspth,bogdan,dhh,dhh,bogdan,dhh,dhh,bogdan,dhh,dhh,dhh,bogdan,dhh,dhh,bogdan,dhh,bogdan,dhh,dhh,dhh,dhh",2017-05-15 13:59:00,2017-05-18 16:12:33
PR,ci skip explain async queue and rake tasks,ci skip Small update to the guide for ActiveJob to point out a problem that might commonly occur in development when using the Async Queue with rake tasks Includes advice on how to solve it,,"maclover7,maclover7,matthewd,maclover7",2017-05-09 16:43:42,2017-05-18 22:04:46
IS,Nested Resource Generates DELETE PUT Routes Without id Parameters,Steps to reproduce config routes rb System configuration Rails version Rails 5 1 1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,,2017-05-19 01:47:16,2017-05-19 02:17:29
IS,AR 5 1 Polymorphic association failure when a poly attribute shares its table name,Found an issue with AR 5 1 when an attribute in a polymorphic table is the same as the table name eg table notes has a text field also named notes If a user has many notes as 'notable' user notes fails with a TypeError can not cast Hash error Method type cast in activerecord 5 1 1 lib active record connection adapters abstract quoting rb is receiving a hash of 'notable id' which it can not typecast The problem does not appear if the notes attribute is renamed to something other than notes Below is a template to reproduce the issue,,kamipo,2017-05-18 23:10:32,2017-05-19 09:43:13
PR,Suppress warning assigned but unused variable stdout,This PR suppresses the following warning at rails actioncable and rails actionview,,"koic,amatsuda",2017-05-12 06:43:37,2017-05-19 13:06:12
IS,Suggestion for new method 'without callback' in ActiveRecord and ActiveModel,Is not interesting to provide a new method called without callback to wrap the use of skip callback and set callback of the models in a more idiomatic way A draft of implementation that I use in my projects is something like this What do the Rails team think about this suggestion Is interesting to insert this on Rails Core Thanks,,alexcameron89,2017-05-19 01:47:48,2017-05-19 13:23:35
IS,action name is not in the docs,Expected behavior action name should show up in the search box here Actual behavior Not there System configuration Rails version 5 Ruby version,,"al2o3cr,alexcameron89,eugeneius,matthewd,eugeneius,alexcameron89,alexcameron89",2017-05-15 06:17:57,2017-05-19 13:32:20
PR,Add documentation to accessors in AbstractController Base,Summary Adds missing documentation to the three accessors in AbstractController Base Fixes 29084 Other Information This is my first Rails patch,,"rafaelfranca,maclover7,alexcameron89",2017-05-18 15:57:14,2017-05-19 13:32:20
IS,rescue from ActiveRecord RecordNotFound is not rendering js erb,I have a scaffolded Rails Controller that is working fine responding with update js erb when the update is successful But when record is not found server was returning error 500 to the browser and I wanted to return javascript an alert for example Following convention this is what I did Steps to reproduce Expected behavior Following Rails convention it should render record not found js erb content Actual behavior Returns no response to the browser just a status 200 System configuration Rails version rails 5 0 2 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin16,,"meinac,meinac",2017-05-17 12:15:01,2017-05-19 13:36:15
IS,ActiveSupport Dependencies unhook Not working,I was debugging a memory leak more details can be found on To debug further I tried to unhook ActiveSupport Dependencies but its crashing with error System configuration Rails 5 0 2 Ruby 2 3 4p301,,matthewd,2017-05-19 15:13:37,2017-05-19 16:07:22
IS,ActiveSupport Callbacks Memory Leak,I am debugging a memory leak and dig out some interesting things Need input from you guys weather its a memory leak or something else So first here is the script I run to verify blank state When I run above script I usually get 0 or a negative output Which seems obvious and clearly shows no memory leak No if I replace my processing code with some real active record queries and different json processing The output difference of heap slots return a high number In my code normally over 1k objects To dig further I compare both heap dumps and tried to identify which objects are available in heap at the end of script which were not available in start I used the script to compare two heap dumps Most of the retained objects in memory are of type DATA and coming from L382 L385 Can any one help me to further diagnose Does the difference in heap slots can really be considered as memory leaks Why those proc from callbacks retained in memory even after end of script and GC start,,matthewd,2017-05-19 18:06:11,2017-05-19 18:18:38
IS,establish connection breaking foreign key for nested model associations,Steps to reproduce rails new Test d postgresql rails g Model Restaurant rails g Model Section restaurant references add establish connection to the 2 models to use a diferent database Expected behavior I expected that I could create a Restaurant with a nested form Actual behavior PG ForeignKeyViolation ERROR insert or update on table sections violates foreign key constraint fk rails 14e0e2a999 DETAIL Key restaurant id 4 is not present in table restaurants INSERT INTO sections title input id restaurant id created at updated at VALUES 1 2 3 4 RETURNING id System configuration Rails version 4 2 6 Ruby version 2 2 0 More Info,,vipulnsward,2016-05-21 03:57:40,2017-05-20 02:55:55
PR,Fix warning assigned but unused variable timestamp,,,kamipo,2017-05-19 22:00:48,2017-05-20 07:30:37
PR,Add json type to auto discovery link tag,This allows auto discovery link tag to support the JSON Feed standard See for more information Implements the feature requested in 29142,,"ffmike,pixeltrix",2017-05-20 09:04:32,2017-05-20 11:58:17
PR,Fix warning assigned but unused variable new framework defaults 5 2 exist,Related 29092 r,,"bogdanvlviv,bogdanvlviv",2017-05-20 06:41:07,2017-05-20 12:05:35
IS,Add json type to auto discovery link tag,This is a feature request to support the new JSON Feed format in auto discovery link tag See discovery Steps to reproduce Add an auto discovery link tag using the type of json Bummer System configuration Rails version 5 1 0 Ruby version 2 4 0,,"bogdanvlviv,pixeltrix",2017-05-19 01:39:22,2017-05-20 13:32:46
PR,Fix Minitest 5 10 2 test incompatibility,Summary Minitest output has changed in 5 10 2 This commit affects TestRunnerTest test only inline failure output and PluginTestRunnerTest test only inline failure output tests which verified the output Other Information I have just removed one empty line from regexp in two test instances,,"zenspider,robin850,y-yagi,kaspth",2017-05-12 21:00:26,2017-05-20 14:32:38
PR,Update 'Rails on Rack' guide ci skip,Adjust middlewares list to match current defaults application routes runs on application object not Rails Add explanation of Sprockets Rails QuietAssets,,"ffmike,vipulnsward,ffmike",2017-05-20 14:36:58,2017-05-20 14:58:29
PR,Implemented cache version conventional method,Implemented cache version conventional method for the default cache version option value Examples,,"bogdan,bogdan,dhh,dhh,kaspth,bogdan",2017-05-16 10:54:23,2017-05-20 15:35:07
PR,Fix timezone in test implicit coercion,The result of Date depends on timezone Therefore in order to prevent the result depending on the environment fix timezone at test execution Fixes 29160 28970 r,,"y-yagi,pixeltrix,pixeltrix",2017-05-20 11:13:23,2017-05-20 15:37:40
PR,Make VALID DIRECTIONS to Set,,,"kamipo,pixeltrix",2017-05-20 03:41:17,2017-05-20 15:40:53
IS,Rails 5 scaffold halts when server is not running,Using rails 5 and ruby 2 3 1 rails new app 2 cd app 3 Do not start the server yet 4 rails g scaffold Album name string That is it It halts and does not run even after few minutes Work around Remove or comment these gems in the Gemfile gem ispring' gem ispring watcher listen' ' 2 0 0' And then bundle install and it starts working Expected behavior It should generate scaffold with or without the server running Actual behavior Does not create the scaffolding files System configuration Rails version 5 0 0 1 Ruby version 2 3 2,,utilum,2016-12-09 07:01:14,2017-05-21 03:36:56
PR,Fix typo in guides,Fixed a typo in Guides,,kamipo,2017-05-21 09:34:15,2017-05-21 10:19:48
PR,Fix broken external link in security guide,I think this is the originally intended target content Link at namb la is no longer available,,"ffmike,prathamesh-sonpatki",2017-05-21 13:59:08,2017-05-21 14:19:41
PR,Remove obsolete Guides source files ci skip,Nested Model Forms guide is out of date not linked from index and material is covered in the Form Helpers guide Profiling guide was committed as an outline years ago and never actually written,,"ffmike,kaspth",2017-05-21 15:02:45,2017-05-21 15:19:07
PR,Add by parameter to assert changes,Add by parameter to assert changes,,"gsamokovarov,kaspth",2017-05-20 19:24:37,2017-05-21 15:20:53
IS,Date civil 2 1 day duration test is failing,Steps to reproduce Expected behavior Expected Tue 03 Jan 2017 Actual behavior Actual 2017 01 03 00 00 00 0800 System configuration Rails version Rails 5 2 0 alpha Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,bogdanvlviv,2017-05-20 09:49:17,2017-05-21 16:12:55
PR,Fix implicit calculations with scalars and durations,Previously calculations where the scalar is first would be converted to a duration of seconds but this causes issues with dates being converted to times e g Time zone Beijing Asia Shanghai date Date civil 2017 5 20 Mon 20 May 2017 2 1 day 172800 seconds date 2 1 day Mon 22 May 2017 00 00 00 CST 08 00 Now the ActiveSupport Duration Scalar calculation methods will try to maintain the part structure of the duration where possible e g Time zone Beijing Asia Shanghai date Date civil 2017 5 20 Mon 20 May 2017 2 1 day 2 days date 2 1 day Mon 22 May 2017 Fixes 29160 28970,,"pixeltrix,pixeltrix,kaspth,pixeltrix",2017-05-20 15:37:12,2017-05-21 16:12:55
IS,Error DurationTest test implicit coercion,,,,2017-05-03 10:34:43,2017-05-21 16:15:04
IS,Feature Request Port Ruby and Ruby on Rails to the Genode Operating System Framework,My lifetime dream of mine is to run a Diaspora pod on Genode using the seL4 microkernel but there is a lot of work to do There is currently no Ruby port available for Genode but there is a port for Python so I know it can be done I got in contact with one of the Genode developers and while they are too busy working on other parts of the system to devote time to porting Ruby I was encouraged to play a role in it myself and seek help from the community I truly believe that porting Ruby to high assurance and highly secure operating systems can help us build a safer internet and make the world a better place Any thoughts or feedback I'm going to continue seeking help from all over the community and see what can be done,,matthewd,2017-05-21 17:47:40,2017-05-21 18:41:07
PR,Improving docs for callbacks execution order ci skip,When define controller callbacks or ActiveModel Validations validate validators in your class latest definition on the same callback method overwrites previous ones As noted here 29048 this should be documented,,"dixpac,dixpac,pixeltrix,pixeltrix,robin850,robin850,robin850,robin850,robin850,robin850,maclover7,dixpac,robin850,dixpac,pixeltrix,dixpac,meinac,dixpac,dixpac,dixpac,dixpac,robin850",2017-05-13 12:17:06,2017-05-21 19:34:48
PR,ci skip Added documentation for source reflection name method,,,"mohitnatoo,mohitnatoo,robin850",2017-05-19 17:57:22,2017-05-21 19:41:57
IS,Ca not determine whether an environment is suitable for rails development in the first chapter of Rails Guide,Expected behavior I think it will be better if we can notice the matter latter chapter installing rails shows some commands to check an environment in the first chapter guide assumptions Actual behavior In the first chapter guide assumptions of Getting Started with Rails page it describes some prerequisites for installing rails Since this chapter does not describe any commands to check an environment I first thought I have to know them by googling it But it does describes some ways in the third chapter installing rails Once seeing it I noticed that my efforts were needless If this issue is reasonable I can afford to open a pull request Any reviews would be thankful,,maclover7,2017-03-25 06:34:38,2017-05-21 19:58:00
PR,Simplify handling of prerequisites in Getting Started guide ci skip,Telling people about prerequisites and then telling them a page later how to check and install those prerequisites is confusing This commit removes the list and just handles the software installation in one place Fixes 28565,,"ffmike,robin850",2017-05-21 18:09:55,2017-05-21 19:58:00
IS,Find does not work in thread,Steps to reproduce items controller rb def print t Thread new do begin Item find 1 ensure end end t join end Expected behavior Find works and server return respons Actual behavior Thread not terminate Browser was waiting respons for a long time and console do not show the sql It works on rails 4 2 7 but on rails5 not Rails version ruby 2 3 3p222 2016 11 21 revision 56859 i386 mingw32 Ruby version Rails 5 0 1,,"arthurnn,arthurnn",2017-01-20 00:36:48,2017-05-22 03:51:11
PR,Update test link in ActionView javascripts README md,make it clickable on GitHub preview,,"simi,prathamesh-sonpatki",2017-05-22 07:57:25,2017-05-22 08:01:30
IS,rails new d sqlserver 5 1 1 failing to init new app,Trying to install Rails 5 1 1 with SQLServer rails new d sqlserver fails to generate a new app Ubuntu 16 04 rbenv 1 1 0 Ruby 2 3 3 also tried 2 3 1 2 2 3 Steps to reproduce After freshly installing Ruby 2 3 1 in rbenv mkdir and cd to new dir to be new project root rbenv local 2 3 1 gem install rails gem update rails new d sqlserver Expected behavior A successfully initialized application that I can bin rails server to make sure it can run and start writing Actual behavior ON RUBY 2 3 3 2 3 1,,prathamesh-sonpatki,2017-05-22 07:01:19,2017-05-22 08:06:02
PR,Math does not exist on ruby master do not require beyond 2 4,,,"vipulnsward,pixeltrix,eugeneius",2017-04-27 21:13:32,2017-05-22 08:53:39
IS,README Learn more links not working,Pretty straight forward none of the Learn more links in the README seem to be working Were they supposed to link to code or documentation Edit Forgot to mention I'm talking about activerecord is not rails',,alexcameron89,2017-05-22 23:04:34,2017-05-23 01:43:05
IS,ActiveRecord does not automatically reset bad PostgreSQL connections,We recently started noticing that when Postgres PGBouncer dies or otherwise gets restarted queries on ActiveRecord connections will fail indefinitely until the rails app is restarted Presumably this is because ActiveRecord ConnectionAdapters ConnectionPool connection L363 L365 never calls verify on a connection once a thread has a cached connection Steps to reproduce 1 Execute a query 2 Restart postgres 3 Execute a query again details summary Console output from ruby test rb summary details Expected behavior The underlying connection should reset and queries should not fail Actual behavior Queries after the postgres restart fail with PG ConnectionBad PQsocket can not get socket descriptor SELECT 1 System configuration Rails version 5 0 1 Ruby version 2 3 3 but should be able to repro with any Ruby version,,"matthewd,matthewd",2017-05-23 00:31:31,2017-05-23 03:22:59
PR,Use local variables over instance variables,Summary Local variables seem to make more sense for these cases if I'm not missing anything If I do miss something I'm sorry in advance,,kaspth,2017-05-23 03:22:56,2017-05-23 05:39:48
IS,Get NoMethodError undefined method split' for nil NilClass when validating with uniqueness case sensitive false,Steps to reproduce I am trying to save an EndUser model in the create action of my EndUsers controller However when I attempt to save or save the model the save method throws a NoMethodError undefined method split' for nil NilClass exception and save fails I have not had a problem with this until I upgraded to Rails 5 0 3 and Ruby 2 4 1 Expected behavior The model should be saved without error Actual behavior My controller action is straight forward i e def create EndUser new end user params if save My EndUser model has an email attribute and I validate this attribute with uniqueness case sensitive false I tried changing the validation to the simpler uniqueness true and after doing this everything works fine I only discovered this issue with the validator through trial and error I do not see any specific info in the log or stack trace which points at this particular validator being the problem but my knowledge of Rails internals is 0 So the only thing I can think of at this point is that this is either a regression in 5 0 3 or some incompatibility between Rails 5 0 x and Ruby 2 4 1 System configuration Rails version 5 0 3 Also I use the pg gem and Postgres I'm using pg 0 20 0 in case that is useful info Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,matthewd,2017-05-21 17:54:34,2017-05-23 14:10:40
IS,'check version conflict' using 'rails new' with a version when Rails 5 1 X installed,Steps to reproduce Make sure Rails 5 0 3 is installed on the system Uninstall Rails 5 1 0 and Rails 5 1 1 along with all of their component gems Run rails 5 0 3 new foo skip bundle Everything works fine Now install Rails 5 1 1 Run the same command rails 5 0 3 new foo skip bundle Expected behavior rails new should be to create a Rails 5 0 3 application Actual behavior rails new crashes with the following error in the console rvm rubies ruby 2 3 4 lib ruby site ruby 2 3 0 rubygems specification rb 2278 in check version conflict' can not activate activesupport 5 1 1 already activated activesupport 5 0 3 Gem LoadError System configuration Rails version See above Ruby version Tested with Ruby 2 3 4 and 2 3 3,,"deivid-rodriguez,matthewd",2017-05-16 18:47:34,2017-05-24 02:22:47
PR,More friendly exception in nested attributes,For a model with more than one nested attributes accessors Hash or Array expected got String exception does not tell you anything about the attribute that received the wrong input Mentioning the attribute would help a lot to debug things,,kirs,2017-05-22 16:43:26,2017-05-24 03:40:26
PR,Refactor making join constraints,The only difference between make inner joins and make left outer joins is the join type,,kamipo,2017-05-22 16:03:25,2017-05-24 03:45:22
PR,Remove unused left joins values generation,This was added at 22125 but left joins values is never used,,kamipo,2017-05-22 15:26:35,2017-05-24 03:46:11
PR,Remove rubygems version lock,This version lock added by 3d890b6 But original issue is fixed with bundler 1 15 Ref issuecomment 300148516,,y-yagi,2017-05-22 08:57:30,2017-05-24 03:51:58
IS,ActiveRecord DATABASE URL does not support variables hash,Steps to reproduce Given database yml There is no equivalent way to construct a DATABASE URL with variables sql mode Expected behavior Given DATABASE URL mysql2 pass host 3306 db variables sql mode The connection config should config fetch variables isql mode' '' Actual behavior config fetch variables is empty Related Source Code L75 L866 System configuration Rails version 5 0 1 Ruby version 2 4 0,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-02-15 20:11:33,2017-05-24 03:52:19
IS,validates associated causes premature collection proxy loading,Steps to reproduce Say I have a Thing model System configuration Rails version 5 0 1 Ruby version 2 3 1,,"al2o3cr,composerinteralia",2017-01-15 01:41:40,2017-05-24 03:52:20
PR,Remove unused JoinPart name,,,"kamipo,maclover7,kamipo",2017-05-22 00:31:36,2017-05-24 03:56:33
PR,Remove a duplicate test of inverse associations test in AR,I found that the contents of the following two tests are the same L640 L652 L654 L666 Originally there were the following differences in this tests L505 It seems that the contents of these tests have become the same by the following commit diff 826e6f229c4f0c933046ee533b249875L437 I thought about replacing face polymorphic man new man with face association polymorphic man replace new man at test child instance should be shared with replaced via method parent L659 However It has not been tested using AR Associations BelongsToPolymorphicAssociation replace in inverse associations test rb So this PR removes a duplicate tests,,"koic,matthewd,koic",2017-05-21 11:29:42,2017-05-24 04:05:49
PR,Adding Foreing Key Do not worry about building the identifier if name is already present,,,"mohitnatoo,mohitnatoo,matthewd",2017-05-10 09:05:09,2017-05-24 04:18:26
PR,Set Capybara app host through host,visit will visit always even when we call host Because Capybara assumes that host is same as the server if we do not set Capybara app host L239,,"mtsmfm,pixeltrix,matthewd,eileencodes,mtsmfm,mtsmfm,amatsuda,mtsmfm,matthewd,mtsmfm",2017-04-02 12:13:08,2017-05-24 04:23:10
IS,polymorphic true null false should set NOT NULL in the db schema on both type id columns not just the id column,Steps to reproduce 1 generate a migration with a non nullable polymorphic relation e g t references author polymorphic true null false 2 inspect the database schema and notice that the id column e g author id is not nullable while the type column e g author type of the polymorphic relation is still nullable Expected behavior the type column should also be set to NOT NULL in the database when polymorphic true null false is set on a relation in a migration since both columns are needed to identify the relationship and without which the polymorphic relationship could be left in an inconsistent state with an id but not a type Actual behavior only the id column of the polymorphic relationship is set to NOT NULL while the type column has no such constraint System configuration Rails version 5 1 1 Ruby version 2 4 1,,,2017-05-18 19:11:37,2017-05-24 04:27:43
PR,Both reference id and type should be NOT NULL if null false is specified,This is a regression due to 28282 Fixes 29136,,kamipo,2017-05-19 04:34:33,2017-05-24 04:27:43
PR,Make helper methods in tests to private,make model and make no pk hm t in HasManyThroughAssociationsTest are not a test case it should be private,,kamipo,2017-05-18 23:59:57,2017-05-24 04:29:45
PR,Fix select tag helper used with Enumerable choices,Allows a custom object implementing Enumerable to be used as the choices parameter for a select tag which previously was not possible despite the documentation suggesting it was due to the call to empty on the choices which is not implemented on Enumerable,,spohlenz,2017-05-17 03:39:05,2017-05-24 05:05:18
PR,if you set default url options trailing slash url string becomes s,I set Rails application config action controller default url options trailing slash but current page method works wrong So I fixed actionview lib action view helpers url helper rb Please check it Thank you,,,2017-04-09 03:55:02,2017-05-24 06:47:58
IS,Rails cannot bundle with coffee rails,Steps to reproduce Trying to run a bundle on rails 5 2 0 alpha will give a dependency error on railties version This is a resolved issue in coffee rails as of 2 months ago Issue 88 However it has not been released yet Merged on March 23 2017 Last release cut 11 months ago on June 30 2016 Open Questions What is the typical way to handle when alpha development requires unreleased versions of a dependency In general Coffee rails has no need to release the gem for public use since only alpha requires it according to Issue 92 on coffee rails Should alpha versions always use the latest github master version Should we notify coffee rails to push a new release Why has it taken 2 months to release an unbreaking fix Proposed Fix Propose updating gemfile to resolve to coffee rails git repo Expected behavior Rails should be able to bundle Actual behavior Rails was unable to bundle System configuration Rails version 5 2 0 alpha Ruby version 2 4 1p111,,"kaspth,dhh,dhh,rafaelfranca,dhh",2017-05-24 06:20:48,2017-05-24 07:56:55
PR,ci skip fix wrong method name in docs,has one does not have association build but build association,,"willnet,kamipo",2017-05-24 04:10:29,2017-05-24 11:51:52
IS,nil to json throws an error,nil to json throws a nil not allowed error Since per a plain null is valid JSON and JSON parse null successfully returns nil nil to json should not throw an error I tried unsuccessfully to find where this was implemented so I could submit a PR with a fix If anyone can point me in the right direction I would be happy to submit a PR with a fix myself Steps to reproduce System configuration Rails 5 1 1 Ruby 2 3 4,,,2017-05-23 22:37:56,2017-05-24 15:21:15
IS,Migration PG UndefinedTable ERROR relation create roles does not exists Rails 5 Ruby 2 4,Steps to reproduce in Rails migration file remove the following line Migration 5 0 Expected behavior Should throw syntax error or something more clear Actual behavior PG UndefinedTable ERROR relation create roles does not exists System configuration Rails version Rails 5 0 3 Ruby version ruby 2 4 0,,matthewd,2017-05-24 08:04:00,2017-05-24 16:10:32
PR,Update information on using Gmail when 2FA is in use ci skip,When a Gmail account is using 2FA the existing instructions to turn on less secure apps via Gmail settings are incorrect Gmail supplies app passwords to handle the 2FA case,,ffmike,2017-05-24 16:43:00,2017-05-24 17:16:59
PR,Update Rails API Application guide to match current code ci skip,Adjust list of middlewares loaded by default Add routing middleware to list to match the list in the Rack guide Adjust list of Controller modules loaded by default Plus fix one singular plural mistake,,"ffmike,rafaelfranca,ffmike,ffmike,rafaelfranca",2017-05-21 14:28:17,2017-05-24 17:17:41
PR,Issue 29202 cant bundle due to coffee rails gem,Summary Fix for 29202 Fails since using an outdated version of coffee rails plugin We should be able to at least generate new apps on dev and edge and since dev and edge will always be ahead of the released coffee rails version we should just map our edge to their edge Update the generator to only use the coffee rails github in dev or edge mode,,rafaelfranca,2017-05-24 07:39:56,2017-05-24 17:30:09
PR,Bump RuboCop to 0 49 0 and fix offences,RuboCop 0 49 0 has been released This PR will bump RuboCop to 0 49 0 and uses it to fixes offences,,koic,2017-05-24 06:32:20,2017-05-24 18:12:55
IS,Chaining scope containing sub select with order fails with PG InvalidColumnReference,Steps to reproduce Expected behavior Ordering while chaining test scope and order should not matter and the assertion in the test should pass Actual behavior Chaining order before test scope fails with an exception System configuration Rails version 5 2 0 alpha from git at master b6ac50b Ruby version 2 4 1,,sgrif,2017-04-26 20:14:02,2017-05-24 18:53:32
PR,ci skip fix wrong variable name in docs,The return of find 1 is one record not an Array,,kamipo,2017-05-24 19:30:58,2017-05-24 22:52:59
PR,Fix crashing on circular left join references with scoping,Follow up of 25702,,"kamipo,matthewd,kamipo",2017-05-22 15:17:00,2017-05-25 00:24:07
PR,rubocop namespace changes from Style to Layout,Summary This pull request removes these warnings when rubocop executed at rails repository Refer,,yahonda,2017-05-24 18:42:58,2017-05-25 02:30:46
IS,Inconsistent database when saving new object with invalid required relation,Steps to reproduce Expected behavior Should raise a validation error as the invalidity of user makes post invalid too Actual behavior user is not saved post is saved with user id set to NULL resulting in an inconsistent database System configuration Rails version 5 0 1 Ruby version 2 3 3,,,2017-01-24 09:55:32,2017-05-25 03:42:31
IS,ActionCable does not remove connection identifier from pubsub,Rails 5 0 0 Ruby MRI 2 3 1 Redis 3 2 1 I have one ApiChannel and I identify streams by api UUID I have killed mobile application ApiChannel client and I still see the entry in Redis pubsub This way I can not track if ActionCable server broadcast api 9e005d11 6357 4c6c 9007 5c30c86eb23b content returns 0 or 1 success,,,2016-08-01 13:57:52,2017-05-25 03:42:32
IS,cannot connect to server after force ssl,Steps to reproduce In rails 5 0 0 rc1 production mode when de comment the line config force ssl true and try to run with puma server puma e production p 443 w 8 t 4 64 d the browser cannot connect to the server Here is my configuration file Expected behaviour It should serve the website through https protocol Actual behaviour The browser cannot connect to the server System configuration Rails version 5 0 0 rc1 Ruby version 2 4 Could this be a version 5 0 0 rc1 issue or it is conflicting with actioncable,,"maclover7,schneems",2016-06-22 13:24:14,2017-05-25 03:42:33
PR,Extract JSONSharedTestCases,Both mysql2 json test rb and postgresql json test rb have same test cases,,"kamipo,matthewd,kamipo,matthewd",2017-05-22 01:44:07,2017-05-25 04:33:20
IS,undefined method cwyear' for Time when using DateTime utc,The problem is that DateTime utc now returns Time instead of DateTime Tried to upgrade from 4 2 7 1 to 4 2 8 We do use DateTime is cweek and cwyear a lot and now this is broken Should we do DateTime now utc to datetime cweek This does not look good,,"pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-05-25 07:22:37,2017-05-25 08:30:43
PR,Add ActiveRecord Relation or description to guides,Summary In guides I could not find any place where AcitveRecord Relation or is described I prepared a short description with an example to be merged to docs Other information,,"kamipo,kamipo",2017-05-25 12:43:32,2017-05-25 13:25:37
IS,rails secrets edit should have a nicer error message before it is initialized,On a new app if you do rails secrets edit before you have called rails secrets setup you get this rough backtrace Would be nice to catch that and explain the need to run secrets setup or even better interactively ask if you wanted to run that now,,"dhh,kaspth",2017-05-23 16:57:47,2017-05-25 15:11:21
PR,Make secrets edit run secrets setup if it has not already,Fixes 29194 Then also ditch the needless waiting for edits message See if we can not do people a solid and config read encrypted secrets true to their production rb for them in case they have not added it through app update,,"kaspth,kaspth,kaspth,kaspth",2017-05-23 19:56:59,2017-05-25 15:11:21
IS,Rails set global scope for every model,Hi I have a Rails 3 2 application and I want to use one database for many clients and one application So for every model I have created a field called account id now I want to add a global scope for filtering the row in base of the account id of the logging user account id is a session params So in initialize I have created a file and put these code If I logged with user account id 2 all is ok but if in the same moment I logged on another browser or computer with account id 3 I have many errors and on the log I have seen that the application use account id 2 but also account id 3 at the same time Any solution How I can Rewrite default scope scope Other idea,,alexcameron89,2017-05-25 15:01:51,2017-05-25 15:14:05
PR,Remove redundant test method,Relocated one assertion to the method with more recent activity,,,2017-05-25 20:49:11,2017-05-25 22:18:49
IS,load schema is not thread safe,In a threaded environment it is possible that multiple threads may try to load schema for a model concurrently This may lead to concurrency issues like serialize d columns not working correctly example below Steps to reproduce I have created a sample application with steps to reproduce in the README Expected behavior If ExampleModel class has serialize example column I would expect example column to return the Ruby object that was saved to it E g if I saved an Array instance in column example column it should return an Array instance next time I read it from database Actual behavior In certain conditions example column returns the YAML dump stored in database instead of the Ruby object This happens because in threaded environment a race condition may occur which causes type of column example column to be evaluated as ActiveModel Type Text instead of ActiveRecord Type Serialized Possible solution ActiveRecord ModelSchema ClassMethods load schema L435 should be wrapped in a Mutex I'm happy to make a PR if consensus is reached System configuration Rails version 5 0 2 also reproducible on 5 1 0rc1 Ruby version 2 4 1 Possibly related,,"rafaelfranca,rafaelfranca,matthewd,rafaelfranca",2017-03-28 22:23:12,2017-05-25 22:36:17
PR,Add Monitor to ModelSchema load schema,Fixes 28589 This prevents multiple distinct threads from attempting to call load schema On JRuby this bug would result in serialized attributes being deeply recursively nested Note This test will occasionally flake due to 14021 See also 27418 Needs to be backported to 5 0 5 1 Summary See 28589 Duplicates Improves 28756,,,2017-05-24 19:19:48,2017-05-25 22:36:17
PR,Add a Monitor to ModelSchema load schema,Blends 28756 29212 and some extra bits I would hoped we could switch back to a straight Mutex because loads are not actually reentrant but it is not quite that simple This version of the test fails repeatably not every run but most on master with MRI Fixes 28589 Closes 28756 closes 29212,,"matthewd,matthewd,matthewd,matthewd",2017-05-25 00:22:36,2017-05-25 22:36:17
PR,Wrap load schema in a Mutex,This PR wraps ActiveRecord ModelSchema ClassMethods load schema in a Mutex to make it thread safe Closes Regarding tests are there existing tests in Rails that test thread safety from race conditions that I can use as examples to write tests for this PR,,matthewd,2017-04-14 13:24:23,2017-05-25 22:36:17
PR,Remove a duplicate test of mysql rake test,The following test codes are the same test cases tasks mysql rake test rb test structure dump L290 L302 Duplicates were made in PR 29077 This PR removes this duplicate code,,koic,2017-05-25 13:30:40,2017-05-25 23:29:41
PR,ActiveRecord initialization optimizations,Summary ActiveRecord model initialization got a lot slower between Rails 4 2 and Rails 5 2 5x slower or more depending on the specific circumstances This PR includes optimizations that speed up model initialization by approximately 2x for STI models and 1 3x for non STI models as compared to vanilla 5 1 returning performance somewhat closer but by no means entirely to 4 2 levels We have been running these optimizations on our high traffic Rails 5 0 2 app in production for the last few days without issue We are seeing an average response time speedup of just over 4 compared to vanilla Rails 5 0 2 with certain actions showing speedup of 5 15 Our app depends heavily on STI and uses a caching scheme that results in many model initializations even on cache hits YMMV Other Information Benchmarks Highlights Potential future work With these patches in place the remaining ActiveRecord initialization slowness introduced in Rails 5 0 seems to be related to changes in ActiveRecord Core initialize in particular in calls to AttributeSet deep dup and Scoping initialize internals callback I'm no expert in this area of the Rails codebase and I could not find a relevant PR that describes the rationale behind these changes but I think any further optimizations would be much more involved than the straightforward changes made here Credit to and for the investigative and profiling work behind this PR,,"matthewd,matthewd,maclover7,matthewd",2017-05-24 21:34:51,2017-05-25 23:32:49
PR,Remove a duplicate test of schema authorization test in AR,The following are duplicate test codes activerecord test cases adapters postgresql schema authorization test rb test setting auth clears stmt cache L53 L62 activerecord test cases adapters postgresql schema authorization test rb test schema uniqueness L78 L87 The following commits made these codes the same diff 555806966b5334e0ff9799d5447ec802 This PR will remove the duplicate test,,koic,2017-05-25 20:58:49,2017-05-25 23:33:47
IS,Overriding a module method with an association e g has many method,The why behind what I'm trying to do I'm trying to create a module that can be included into any class in order to add additional capabilities to an instance of that class as usual However the difference is that the new methods added in this module depend on the existence of a specific association e g has many Because I do not want the code to look like magic to other people I specifically raise inside the module if the association does not exist Steps to reproduce Here is a reproduction script Expected behavior model other models should return a relation Actual behavior model other models raises exception System configuration Rails version 4 2 5 Ruby version 2 2 0 Notes I know that there is a way to overcome this by executing reflect on all associations has many find assoc assoc name other models before executing the method inside the module or in a included block or for example making the other models method like so I'm just wondering if this should be the expected behaviour I do not know very much about the internals of rails but I do know that methods like has many are dynamically generated Is there a way to make this work as intended That is is there a way to make an association method override a method in an included module Thanks,,matthewd,2017-05-25 11:11:21,2017-05-26 00:00:35
PR,Remove a duplicate test of migration test in AR,I found that the contents of the following 2 tests are the same activerecord test cases migration test rb test internal metadata stores environment L379 L403 activerecord test cases migration test rb test migration sets internal metadata even when fully migrated L405 L430 Originally these codes differed only slightly diff b36b9c41be30b05dc14d09d7f3b192efR402 The following commits made these codes the same This PR removes the duplicate test that was added later,,koic,2017-05-25 09:23:26,2017-05-26 00:00:57
IS,Deprecation message for attribute was is unhelpful for after destroy callbacks,Steps to reproduce define a model with an after destroy callback reference some attribute was Expected behavior Deprecation warning should point you to attribute in database for after destroy callbacks Actual behavior System configuration Rails version 5 1 1 Ruby version 2 4 1 Comments I have to admit I'm not completely confident that my solution or diagnosis here is completely correct I basically just relied on my existing unit tests to figure this one out I was previously was using attribute was for some logic in both after update and after destroy callbacks For the after update callbacks following the deprecation warning is instructions works fine However attribute before last save does not return anything meaningful as far as I can tell from within after destroy I eventually dug up the existence of attribute in database from this comment issuecomment 225166796 It is also worth noting that attribute in database is not a universal replacement for attribute was either namely they are not the same in after update callbacks,,,2017-05-26 00:28:07,2017-05-26 00:35:55
PR,Define path with dir,with dir we can restore order in the Universe by This words inspired me to restore order in Rails and my own projects I read Contributing to Ruby on Rails and know about cosmetic changes but in this case i think it something more Very often new code written under the influence of old code so this PR will inspire to define a path with dir in this case We have some examples of code that includes defining a path in our guide it also important Also with dir code in some cases became more readable Example Feel free to close this PR if something wrong Related to 5b8738c2df003a96f0e490c43559747618d10f5f r,,"bogdanvlviv,matthewd,bogdanvlviv,fxn,fxn,bogdanvlviv,fxn,bogdanvlviv,fxn,bogdanvlviv,bogdanvlviv",2017-05-22 05:29:09,2017-05-26 02:54:44
PR,Remove unused test class,AlsoDoingNothingTest was added in cf9be89 It seems that it added to confirm that the test works in the child class of ActiveSupport TestCase But now basically use ActiveSupport TestCase in test so I think it is unnecessary,,y-yagi,2017-05-26 04:27:56,2017-05-26 06:04:03
PR,bracket missing,The last committer has accidentally deleted the missing bracket,,,2017-05-26 06:17:40,2017-05-26 06:18:44
IS,make activejob logging configurable,There should be a way to scrap the default log subscriber for activejob and provide a custom one Currently ActiveJob Logging LogSubscriber attach to active job is hard coded which requires monkey patching to make custom logging work Thanks,,"alexcameron89,rafaelfranca",2017-05-25 11:47:32,2017-05-26 13:56:06
PR,CI against JRuby 9 1 10 0,JRuby 9 1 10 0 has been released,,"koic,robin850,koic",2017-05-26 02:07:16,2017-05-26 16:56:58
PR,ActiveSupport CurrentAttributes provides a thread isolated attributes singleton,Abstract super class that provides a thread isolated attributes singleton Primary use case is keeping all the per request attributes easily available to the whole system The following full app like example demonstrates how to use a Current class to facilitate easy access to the global per request attributes without passing them deeply around everywhere A word of caution It is easy to overdo a global singleton like Current and tangle your model as a result Current should only be used for a few top level globals like account user and request details The attributes stuck in Current should be used by more or less all actions on all requests If you start sticking controller specific attributes in there you are going to create a mess,,"dhh,kaspth,kaspth,kaspth,kaspth,kaspth,dhh,dhh,dhh,dhh,matthewd,matthewd,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,bogdanvlviv,bogdanvlviv,dhh,bogdanvlviv,dhh,cristianbica,kaspth,matthewd,kaspth,kaspth,maclover7,guilleiguaran,dhh,dhh,cristianbica,cristianbica,dhh,kaspth,dhh,kaspth,kaspth,radar,dhh,dhh,dhh,rafaelfranca,kaspth",2017-05-22 10:20:40,2017-05-26 18:00:27
PR,Remove a redundant test assertion,This PR will remove redundant assertion in the following address L744 L746 L744 and L746 are the same,,koic,2017-05-26 17:00:50,2017-05-26 18:13:44
IS,REQ allow passing initial capacity into ActiveSupport SafeBuffer constructor,Would be useful to be able to pass initial capacity for ActiveSupport SafeBuffer constructor This is based into statistics I collected in app I'm developing Most of the time generated content for tags is not fitting into ruby string is magical 23 char limit thus triggering realloc Specifying capacity could avoid that assuming of course that capacity 55 could be specified as constant to avoid realloc due to extra opt Hash passing System configuration Rails version 5 1 1 Ruby version 2 4 1,,matthewd,2017-05-26 08:38:01,2017-05-26 18:48:44
IS,Executing a pl pgsql function that uses RAISE appears to be executing twice,I have found that when using the pg gem and executing a pl pgsql function that uses a RAISE it appears that the function is being executed twice Steps to reproduce Create a pl pgsql function that contains a raise When I remove the Raise line and only use the RAISE LOG the output shows Spike Foo only once When I execute the function through psql or the PG gem directly I see the Error and the log message only once If it would help to reproduce this error I can put together a rails app that will setup this error to make it easier to reproduce System configuration Rails version 4 1 8 Ruby version 2 2 3,,alexcameron89,2017-05-24 21:31:06,2017-05-26 21:14:51
PR,Do not show webpack option in the plugin help message,29116 Removed webpack option from shared options,,rafaelfranca,2017-05-26 16:43:31,2017-05-26 21:57:50
IS,rails plugin new rails51test mountable webpack react stops after basic directory creation,Steps to reproduce Rails v 5 1 1 Expected behavior 1 Bundle should run 1 rails webpacker install should run 1 yarn should run Actual behavior The setup halts after creating the above folders System configuration Rails version 5 1 1 Ruby version 2 4 1,,"rafaelfranca,rafaelfranca,maclover7",2017-05-17 00:02:21,2017-05-26 21:58:12
PR,ci skip Changed sentence formation for ActiveRecordRelation update,Changed so if to when Used each record update instead of each update as update could be confusing with the self method name using single query to in single query r,,mohitnatoo,2017-05-26 11:35:01,2017-05-26 22:20:50
PR,Update to Rails ujs readme,Summary As Mentioned in 28992 An update to Rails ujs doc for user adding the rails ujs through yarn npm,,"maclover7,maclover7,maclover7,rafaelfranca",2017-05-19 21:24:19,2017-05-26 22:39:50
IS,Enhancement rails ujs node module does not fire without additional code,Steps to reproduce If you add the module via yarn or npm and them run import 'rails ujs' it does not fire the the rails ujs properly After digging around in the source I realised because of the way your running the module exports method you need to do the following Alternatively it might be worth updating the readme for module so if someone wants to use rails ujs through webpack it is clear what you need to do Happy to issue a pull request on the JS updates if you want me too,,"rafaelfranca,maclover7,javan,javan,javan,rafaelfranca",2017-05-05 14:43:50,2017-05-26 22:40:00
PR,Fix broken RDoc formatting,The square brackets and colon were just too much for RDoc is code formatting needed tt,,tjschuck,2017-05-26 22:42:32,2017-05-26 22:43:43
PR,Doc updates for ActiveRecord Batches,Primarily this is to fix the in batches with index example code which does not work It should be in batches each with index The example code then also called relation each relation relation delete all inside the batch block which also failed each on the batch relation yields the records themselves which can not have delete all called on them It should just be relation delete all The last major change is removing the large amount of indentation on the option lists Though that looks better in plaintext it breaks the RDoc formatting turning the second line into a code block,,"tjschuck,tjschuck,rafaelfranca,matthewd,tjschuck,matthewd",2017-05-26 22:19:09,2017-05-26 22:47:51
PR,5 1 Backport Fix edge guides for Active Record callbacks,Originally requested this in a comment on the original PR issuecomment 303534533 but probably easier for someone to just merge a PR Right now the guides for aborting callbacks on 5 1 are incorrect and still publicly accessible,,tjschuck,2017-05-26 22:56:53,2017-05-26 23:04:30
PR,5 0 Backport Fix edge guides for Active Record callbacks,Originally requested this in a comment on the original PR issuecomment 303534533 but probably easier for someone to just merge a PR Right now the guides for aborting callbacks on 5 0 are incorrect and still publicly accessible,,tjschuck,2017-05-26 22:56:50,2017-05-26 23:11:17
PR,ci skip fix wrong variable name in docs,The return of find is an array not one record,,schneems,2017-05-27 02:54:51,2017-05-27 03:05:04
PR,ci skip fix wrong variable name in docs,The return of take 2 and first 3 and last 3 is an array not one record,,,2017-05-27 03:05:18,2017-05-27 03:16:09
IS,Possible bug Minitest could not find js assets installed via gem,Steps to reproduce I am following the Agile Web Development with Rails 5 1 b1 0 On page 160 was asked to update Gemfile to add the following 2 lines and add those 2 lines at app assets javascripts application js require jquery require jquery ujs require jquery ui effects effect blind And testing the page its runs successfully Expected behavior Running the Tests bin rails test I expect the test to pass successfully Actual behavior unfortunately when I run the tests I got this error bin rails test test controllers products controller test rb 19 E Error ProductsControllerTest test should get index ActionView Template Error could not find file 'jquery' with type 'application javascript' Checked in these paths Users psantos Workspace learning programming ruby awdwr51 depot app assets config Users psantos Workspace learning programming ruby awdwr51 depot app assets images Users psantos Workspace learning programming ruby awdwr51 depot app assets javascripts Users psantos Workspace learning programming ruby awdwr51 depot app assets stylesheets Users psantos rbenv versions 2 4 1 lib ruby gems 2 4 0 gems coffee rails 4 2 1 lib assets javascripts Users psantos rbenv versions 2 4 1 lib ruby gems 2 4 0 gems actioncable 5 1 1 lib assets compiled Users psantos rbenv versions 2 4 1 lib ruby gems 2 4 0 gems actionview 5 1 1 lib assets compiled Users psantos rbenv versions 2 4 1 lib ruby gems 2 4 0 gems turbolinks source 5 0 3 lib assets javascripts Users psantos Workspace learning programming ruby awdwr51 depot node modules app assets javascripts application js 14 app views products index html erb 9 in block in app views products index html erb 3914504961955239148 70098856983740' app views products index html erb 6 in app views products index html erb 3914504961955239148 70098856983740' test controllers products controller test rb 15 in block in class ProductsControllerTest ' But if I add jquery using yarn bin yarn add jquery the test will pass As I can understand if I already have jquery rails gem I do not need to add jquery via yarn System configuration Rails version 5 1 1 Ruby version 2 4 1,,"robin850,robin850,robin850,robin850",2017-05-22 17:27:47,2017-05-27 14:01:49
IS,System test generator for namespaced test not going to the correct location,Steps to reproduce Expected behavior I would expect the test to end up in test system admin dashboard Actual behavior The test ends up in test system dashboards The namespace looks right Admin DashboardsTest well apart from the fact that I do not think it should be pluralizing the name but that is a separate issue Apologies if this is intentional it just was not what I expected System configuration Rails version 5 1 1 Ruby version 2 4 1,,y-yagi,2017-05-27 06:40:49,2017-05-28 01:19:44
PR,Includes namespace in system test skelton when namespace is specified,Fixes 29247,,y-yagi,2017-05-28 00:12:57,2017-05-28 01:19:44
PR,Fix regression in Numericality validator,Summary Fixes a regression in Numericality validator where extra decimal places on a user input for a decimal column were ignored by numericality validations Introduced by Solution is taken from a related but different issue issuecomment 300881511 Notes Currently passing a string is working Topic new wibble 97 179 but passing a float or BigDecimal is not,,rafaelfranca,2017-05-27 13:58:14,2017-05-28 01:30:07
PR,Add lazy loading to keys and values methods in Session,This fixes a bug where session keys and session values return an empty array unless one of the other methods that does lazy loading from the underlying store is called first keys and values should also call load for read,,matthewd,2017-04-26 22:58:49,2017-05-28 07:43:24
IS,Migrations generated in a directory with future migrations are also in the future and are not timestamps,When using rails generate migration if the timestamp of the most recent migration is in the future any further generated migrations will have a timestamp that is actually the integer value of the timestamp 1 Steps to reproduce db migrate 20170528053546 past migration rb db migrate 20170528053546 past migration rb 29990528053559 future migration rb 29990528053560 present migration rb 29990528053561 another migration rb Not a valid timestamp System configuration Rails version 5 1 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 i386 mingw32,,matthewd,2017-05-28 07:42:37,2017-05-28 09:44:34
PR,Bring back delayed job to test list,delayed job active record 4 1 2 supports Rails 5 1 Ref collectiveidea delayed job active record 138,,"y-yagi,kaspth",2017-05-28 12:40:56,2017-05-28 13:06:34
PR,Remove unused Association interpolate,Using Association interpolate was removed since 11251,,kamipo,2017-05-27 17:07:38,2017-05-28 13:08:34
PR,Enable extending even if scope returns nil,,,kamipo,2017-05-23 21:31:17,2017-05-28 13:13:10
PR,Fix pluralization of uncountables when given a locale,Fixes 19109 Currently apply inflections would only use the en uncountables rather then the ones for the locale that was passed to pluralize or singularize This changes apply inflections to take a locale which it will use to find the uncountables,,matthewd,2017-05-16 02:59:14,2017-05-28 13:32:20
IS,Model attribute names is empty for PostgreSQL FDW table models,When the model is a PostgreSQL Foreign Data Wrapper table I tried only with postgres fdw but I guess it is the same with other foreign data wrappers Model attribute names does not return the table column names with issues on Rails features that use attribute names Like ActiveRecord Relation etc I tested against Rails 5 1 0 rc2 I guess the issue is present on master too but I can not try since my internet connection is so bad I can not checkout rails master thank you Italy Steps to reproduce Expected behavior Fdw Content attribute names returns the table column names Actual behavior Fdw Content attribute names does not return the table column names System configuration Rails version 5 1 0 rc2 Ruby version 2 4 0 PostgreSQL version 9 6,,"maclover7,matthewd",2017-04-26 15:05:19,2017-05-28 13:47:41
PR,Delegate ast and locked to arel explicitly,Currently ast and locked are used in the internal but delegating to arel is depend on method missing If a model class is defined these methods select all will be broken It should be delegated to arel explicitly,,kamipo,2017-05-06 13:37:04,2017-05-28 14:05:51
PR,Refactor enum to use value instead of label in the scope,,,"kamipo,robin850,matthewd,kamipo,matthewd,kamipo",2017-05-03 09:46:01,2017-05-28 14:08:09
PR,Prevent extra current database query for encoding collation ctype,,,"kamipo,matthewd,kamipo",2017-05-28 04:30:52,2017-05-28 14:37:17
PR,AEAD encrypted cookies and sessions,Summary This PR is the start of migrating from HMAC AES CBC encrypted cookies to AEAD encrypted cookies Commit d4ea18a8 added AES 256 GCM for Authenticated Encryption support I'm hoping this PR could be the start of migrating cookies and sessions to this form of encryption I think it is worth considering to what degree we should be supporting legacy signed and encrypted cookies as well This PR includes a UpgradeLegacyHmacAesCbcCookieJar class which aims to seamlessly upgrade encrypted cookies Should we be looking to deprecate older legacy schemes now Other Information This PR comments out some tests that are now broken Depending on how we move forward with encrypted cookies and to the degree to which legacy cookies are supported I will update fix and add any tests as needed,,"mikeycgto,bdewater,bdewater,mikeycgto,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,mikeycgto,mikeycgto,mikeycgto,mikeycgto,mikeycgto,mikeycgto,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,mikeycgto,mikeycgto,mikeycgto,mikeycgto,mikeycgto,kaspth,kaspth,mikeycgto,rafaelfranca,mikeycgto,rafaelfranca,eugeneius,mikeycgto,eugeneius,mikeycgto,bdewater,mikeycgto,mikeycgto,bdewater,mikeycgto,kaspth,kaspth,mikeycgto,kaspth,kaspth,mikeycgto,kaspth,mikeycgto,mikeycgto,mikeycgto,mikeycgto,mikeycgto,kaspth,mikeycgto,kaspth,kaspth,mikeycgto,kaspth",2017-02-23 19:07:56,2017-05-28 15:02:15
PR,Remove returning true in internal callbacks,display deprecation warning for false terminator was removed since 3a25cdc,,kamipo,2017-05-13 17:48:23,2017-05-28 15:10:22
PR,Explicitly create necessary data for test,DefaultScopingWithThreadTest expects that there are two or more of developers data but have not created data in the test Therefore tests may fail depending on execution order,,"y-yagi,maclover7,kaspth,y-yagi,kaspth",2017-05-13 09:39:51,2017-05-28 15:11:39
PR,Fix server generated JS response processing on IE9,Summary Fix for 29069 IE9 is lack of xhr response With this in place server generated JS responses Turbolinks redirects etc should now be executed by IE9 when given in response to a rails ujs remote true request Other Information This PR is not intended to make the rails ujs test suite pass in IE9 That might be desirable but it is more work than I could justify this week to nurse a dying browser Tested with instead 1 Why not simply xhr response xhr responseText in the call to processResponse Because falsy values other than null are still valid response objects 2 Why not a ternary operation like xhrResponseObject if xhr response then xhr response else xhr responseText I felt this way showed the intent more clearly,,"javan,kaspth",2017-05-16 10:58:56,2017-05-28 15:15:48
IS,Rails Server command p flag became whitespace sensitive in Rails 5 1,Steps to reproduce Specify a non default port using the p flag to rails server Rails recognizes the port but puma ignores it and boots on the default port 3000 Expected behavior Puma listens on the specified port Actual behavior Puma listens on the default port System configuration Rails version 5 1 0 Ruby version 2 3 1,,maclover7,2017-05-18 22:00:48,2017-05-28 15:19:44
PR,Correctly set user supplied options when there is no whitespace in option specification,Current user supplied options method can not set the value correctly if there is no space between option and value e g p9000 This makes it possible to set the value correctly in the case like the above Fixes 29138,,"y-yagi,matthewd,y-yagi",2017-05-19 06:22:57,2017-05-28 15:19:44
PR,Remove mentions of deprecated callbacks on ActionDispatch Callbacks,ActionDispatch Callbacks to prepare was removed in 27587 while set routes reloader hook is now using the app is reloader instance which is of type ActiveSupport Reloader instead of ActionDispatch Reloader,,kaspth,2017-05-28 14:43:58,2017-05-28 15:26:48
PR,Remove a redundant test case of command recorder test,This PR will remove redundant test case in the following address test cases migration command recorder test rb test invert add index L204 L207 test cases migration command recorder test rb test invert add index with no options L214 L217 test invert add index with no options method is a test added with the following commit Though these test cases were different depending on the presence or absence of options true it was removed with the following commit to be the same test case diff 9531a83a96f7d0e6d2611e8494f50c96,,koic,2017-05-28 15:07:06,2017-05-28 16:30:05
PR,Deprecate passing arguments and block at the same time to count and sum in ActiveRecord Calculations,select count and sum in Relation are also Enumerable method that can be passed block select with block already does not take arguments since 4fc3366 This is follow up of that,,kamipo,2017-05-29 00:19:53,2017-05-29 03:05:11
PR,DEFAULT ENV falls back to default env when RAILS ENV or RACK ENV is an empty string,Follow up of 27399,,kamipo,2017-05-24 15:05:25,2017-05-29 04:59:59
PR,Remove a redundant test assertion,This PR will remove redundant assertion in the following address L1090 L1100 L1090 L1094 and L1096 L1100 are the same,,koic,2017-05-29 11:08:56,2017-05-29 12:06:15
PR,List assert no changes in the testing guide,This lists the assert changes and assert no changes methods in the guides,,gsamokovarov,2017-05-29 10:28:57,2017-05-29 12:08:12
IS,Strict CSP policy support on error pages,For more informations and context about CSP I have a quite strict CSP header on my website using the secureheaders gem On Rails error page the CSP header is sent and this breaks the page because of inline script and style I do not want to remove my CSP policy in development as it allows me to catch errors that would occur in production I see multiple ways to fix this scripts and styles are moved to external files served with other Rails assets so they are allowed by the policy does not seem easy to do There is a way to set a nonce and the nonce is added to the inline script style tags all CSS is moved to style tags and on attributes are no longer used This is the cleaner solution but might require quite a lot of work I detailed this approach here issuecomment 304523182 There is a callback called when the error page is displayed allowing a block to be called where you can call append content security policy directives to allow inline styles scripts see This is not ideal as it means the CSP policy is changed for this page and might no longer catch errors that would occur in production but web console should not be a permanent part of this page CSP support is now in all major browsers and a lot of websites are starting to implement it with strict policies I think Rails should support a strict policy in development I know there have been several unfinished efforts to move CSP handling into Rails this is related but not exactly the same,,"matthewd,matthewd,guilleiguaran",2017-05-28 19:08:30,2017-05-29 12:36:56
IS,Flash messages become nil on redirection,This is the problem that I start facing of HTML request Format After redirect to some path notice isome message' UI does not show any alert or notice I have tried flash now flash keep and flash notice nothing helped me Note that Flash messages are working when I request in JS format and reload my flash messages partial in js erb file System configuration Rails 5 1 1 Ruby 2 4 1,,matthewd,2017-05-29 12:20:37,2017-05-29 13:38:51
IS,Migrations removing using btree from indexes,After upgrading to rails 5 1 1 I noticed a different behavior in migrations I'm not sure if this is an intentional change or a bug Let me know if not applicable or if you need more information If I run any migration say for instance create a new table or add a column it removes every occurrence of using btree from my schema is indexes It also changes the indentation a little removes or adds blank spaces everywhere Reverting my rails version back to 5 0 2 fixes this and I'm able to run migrations normally Steps to reproduce Create a migration from indexes Blank spaces are also added or removed pretty much everywhere in the schema System configuration Rails version 5 1 1 Ruby version 2 4 1 OS Ubuntu 16 04,,matthewd,2017-05-29 13:31:10,2017-05-29 13:46:52
PR,ci skip Add elm option of webpack to generator description,Summary Added elm option of webpack to generator description because webpacker supported elm,,"eileencodes,eileencodes",2017-05-29 11:15:34,2017-05-29 14:25:25
IS,number to human tries to use larger units than provided,Steps to reproduce This should return 1000 kilometer as it did in Rails 4 x Instead it returns 1 i e no unit in Rails 5 Runnable gist Expected behavior When number to human receives a list of units it should only use the units given and not larger ones Actual behavior Instead it tries to use the best machting unit even if it was not provided For a hash parameter this results in an empty unit for a I18n scope parameter this results in a lookup exception System configuration Rails version 5 0 Remarks I want to use this to display distances on a map where even large numbers like 6371 km are more favorable than 6 million meter or 6 thousand kilometer I think the cause was PR First calculate exponent units finds the largest exponent matching the given units but then the rounding loop lines 23 26 increases the exponent where it possibly exceeds the given units and their exponents,,"maclover7,maclover7,mrgilman",2016-07-03 10:32:06,2017-05-29 14:43:55
PR,Add option for class attribute default,It is extremely common as evidenced by the commit in this PR of Rails conversions to set a default value for a class attribute So let is provide that directly,,"dhh,matthewd,matthewd,matthewd,dhh,dhh,matthewd,dhh,matthewd,dhh,simi,rafaelfranca,dhh,gsamokovarov,dhh,gsamokovarov,dhh,dhh,gsamokovarov,kaspth,dhh,dhh,kaspth,dhh,gsamokovarov",2017-05-29 14:58:32,2017-05-29 16:01:50
PR,rename table should rename primary key index name,Formerly rename table only renamed primary key index name if the column is data type was sequential serial etc in PostgreSQL The problem with that is tables whose primary keys had other data types e g UUID maintained the old primary key name So for example if the cats table has a UUID primary key and the table is renamed to felines the primary key index will still be called cats pkey instead of felines pkey This PR corrects it,,"guilleiguaran,guilleiguaran",2017-05-27 13:06:28,2017-05-29 18:35:16
PR,Check for jQuery ajax,Summary jQuery slim version does not have ajax so if a person include this version ajaxFilter raises error,,rafaelfranca,2017-05-19 19:42:57,2017-05-29 18:37:54
PR,Pass params FILE and LINE 1 if class eval with,We always provide params filename and lineno as FILE LINE 1 in accordance if class eval with,,"bogdanvlviv,matthewd,matthewd,bogdanvlviv,bogdanvlviv,kaspth,kaspth,bogdanvlviv,bogdanvlviv,kaspth",2017-05-23 06:18:36,2017-05-29 20:11:54
PR,Add lazy loading to keys and values methods in Session backport 34,This is a backport of PR 28895 which has been merged into master This fixes a bug where session keys and session values return an empty array unless one of the other methods that does lazy loading from the underlying store is called first keys and values should also call load for read,,maclover7,2017-05-28 15:56:33,2017-05-30 00:13:26
PR,Bump RuboCop to 0 49 1,RuboCop 0 49 1 has been released This PR will bump RuboCop to 0 49 1 There are no new offences in this change,,koic,2017-05-29 21:21:00,2017-05-30 00:49:29
IS,rename table does not rename primary key index name,When renaming a table via rename table if the primary key column uses a sequential data type e g serial then the name of the primary key index is changed to match the new table name Primary keys that use non sequential data types do not get this benefit I already submitted a PR that fixes it,,,2017-05-28 13:24:55,2017-05-30 01:00:04
IS,Number with get method returning String failed to validate numerically,I wonder if this was ever to suppose to be valid but used to be in Rails 4 If so 19851 caused the regression sorry cold sweat,,"repinel,pixeltrix,repinel,pixeltrix,repinel,matthewd,repinel",2017-05-09 23:46:16,2017-05-30 01:47:18
PR,Do not use UTF8 in test SecretsCommandTest test edit secrets,Summary The test SecretsCommandTest test edit secrets fails in case it gets executed with LC ALL C non UTF 8 system encoding That is because it tries to assert match UTF 8 character triple dot I have removed those dots as they are not relevant for the test nor for the templates config secrets yml enc file AFAIT I am not sure that this is the true solution for the problem because templates config secrets yml enc can contain UTF 8 characters I think these should be properly dealth with independently on current system encoding,,,2017-05-29 23:55:49,2017-05-30 01:48:50
IS,5 1 1 ActiveRecord Postgres UUID breaks migrations when default value is specified on production,Steps to reproduce Create a new migration with UUID and and default value i e System configuration Rails version Rails 5 1 1 Ruby version ruby 2 3 0 Environment production works in dev,,"matthewd,fxn,fxn,fxn,fxn",2017-05-25 09:27:00,2017-05-30 02:08:21
PR,Fix UUID column with null true and default nil,quote default expression can be passed nil value when null true and default nil This addressed in that case Fixes 29222,,"kamipo,rafaelfranca,fxn",2017-05-29 23:41:39,2017-05-30 02:08:21
PR,Deserialize a raw value from the database in changed in place for AbstractJson,Splitted from 28416 Structured type values sometimes caused representation problems keys sort order spaces etc A raw value from the database should be deserialized normalized to prevent the problems,,kamipo,2017-05-29 20:08:27,2017-05-30 02:12:16
PR,Reset time zone to previous value,Since CurrentAttributesTest changed the global time zone it is necessary to restore the original value after changing the test The reproduction step,,y-yagi,2017-05-29 23:07:58,2017-05-30 05:00:01
IS,Puma does not start in ssl mode,I have added this one to my puma rb and rails s does not start puma in ssl mode puma C config puma rb works just fine,,schneems,2016-07-05 14:28:39,2017-05-30 05:44:27
PR,Fix association with extension issues,This fixes the following issues association scope does not include default scope Should use scope instead We can not use method missing for customizing existing method We can not use relation delegate class for sharing extensions Should extend per association,,"kamipo,rafaelfranca,kamipo,rafaelfranca,rafaelfranca,rafaelfranca,kamipo,matthewd,kamipo,matthewd,matthewd,kamipo,kamipo",2017-05-16 03:35:49,2017-05-30 08:54:20
PR,Refactor default scoped to prevent extra relation creation,,,"kamipo,kamipo",2017-05-13 22:45:39,2017-05-30 09:45:50
IS,RuntimeError Digest Base cannot be directly inherited in Ruby,Sometimes I have this error specially the first time I save a child entity when I boot up first time the server System configuration Rails version 5 1 1 Ruby version 2 4 1 What is it,,"rafaelfranca,matthewd",2017-05-29 20:40:17,2017-05-30 10:18:01
PR,Replace therubyracer with mini racer,therubyracer is a relic it depends on an ancient version of v8 that has multiple known security vulnerabilities L20 In particular this is the equivalent of shipping a dependency to Chrome version 31 Chrome 31 was released 2013 11 12 All places that talk about therubyracer or include it in templates should be replaced with mini racer that depends on the most recent version of v8 per issuecomment 304743000,,"SamSaffron,vipulnsward,SamSaffron",2017-05-30 13:15:29,2017-05-30 14:10:03
IS,Security Remove all traces of therubyracer from Rails,therubyracer is a relic it depends on an ancient version of v8 that has multiple known security vulnerabilities L20 In particular this is the equivalent of shipping a dependency to Chrome version 31 Chrome 31 was released 2013 11 12 All places that talk about therubyracer or include it in templates should be replaced with mini racer that depends on the most recent version of v8,,"SamSaffron,SamSaffron,maclover7",2017-05-29 22:51:43,2017-05-30 14:13:51
IS,Contradicting documentation regarding skip before action verify authenticity token,In 5 1 ActionController verify authenticity token has become private hence adding skip before action verify authenticity token in the ApplicationController throws The documentation L103 states otherwise,,matthewd,2017-05-30 13:08:05,2017-05-30 14:19:15
PR,Remove requirement on mathn,Hello This pull request is a follow up to 28910 and The test using mathn was first introduced in f1d9179 to check that the distance of time in words properly does not use the Fixnum method by explicitly requiring this library as it redefines this method Given that mathn has been gemified in Ruby 2 5 and is deprecated since version 2 2 we can certainly safely assume that people will most likely not require this library in their application Thus this pull request removes our requirement on it even though the code is still compatible for people using mathn just that we are no longer asserting that this is the case Have a nice day,,"robin850,robin850,rafaelfranca,robin850",2017-05-22 20:14:51,2017-05-30 15:37:16
PR,Support PostgreSQL 10 pg sequence,Another fix for 28780 based on discussions at 28789 In PostgreSQL 10 each sequence does not know increment by or min value A new system catalog pg sequences knows both pg sequence has schemaname and sequencename columns to identify the sequence When sequence is a ActiveRecord ConnectionAdapters PostgreSQL Name it is easy to find it by using sequence schema and sequence identifier However when sequence is a String it needs to find sequence schema name and sequence name by splitting it by Also it needs to consider when sequence does not have to separate sequence schema name and sequence name setval 3rd argument needs to set to false only when the table has no rows to avoid nextval sequence name returns 2 where 1 is expected min value is only necessary when the table has no rows It used to be necessary since the 3rd argument of setval is always false,,"yahonda,matthewd,yahonda,yahonda,pixeltrix,yahonda",2017-04-25 02:53:17,2017-05-30 17:42:28
IS,PostgreSQL 10 Each sequence does not have increment by column need to use pg sequences,Environment,,"yahonda,pixeltrix,yahonda,yahonda,yahonda,pixeltrix,yahonda,yahonda",2017-04-17 13:25:50,2017-05-30 17:57:32
PR,Do not expose methods and attrs for internal usage,,,"kamipo,matthewd,kaspth,kamipo,kamipo,kamipo,kaspth,kamipo,kaspth",2017-05-28 19:09:14,2017-05-30 18:56:53
PR,Better spacing in environments production rb file,Previously there were a couple of places where double spacing or no spacing was happening depending on skipped options,,greysteil,2017-05-15 11:21:01,2017-05-30 18:59:39
IS,How to track unsubscribe if user has multiple tabs open,Documentation said that it is possible to use unsubscribe event to track if user online or not But this will not work if user has many browser tabs open User will go offline after closing one of tabs when others are still open Steps to reproduce Just open 2 tabs and close one of them ActionCable will fire unsubscribe event and user will go offline disappear Expected behavior There could be a way to track if user has any remaining opened connections I tried to use Redis to watch for action cable user gid pubsub It correctly shows that there is one channel per user even if there are many tabs opened But when I trying to track unsubscribe disappear event it seems that redis channel sometimes disappeared before the event and sometimes after the event making it unreliable way to track connections count for user,,maclover7,2017-05-23 21:07:40,2017-05-30 20:45:44
IS,RAILS RELATIVE URL ROOT is ignored by url helpers outside controllers views,Steps to reproduce When using URL helpers outside a controller view e g in a js erb to give a link to a page the RAILS RELATIVE URL ROOT environment variable is being ignored This looks the same as 9058 to me so not sure what changed I got the same results with SCRIPT NAME allthough not sure the difference the guide uses RAILS RELATIVE URL ROOT deploy to a subdirectory relative url root Paths from a controller view are correct for me using Puma or Passenger It does seem possible for the app to fix this by doing Rails application routes default url options script name ENV RAILS RELATIVE URL ROOT e g an initializer but I did not think that was meant to be required and am not sure if the result of default url options is even intended to be edited All I found on Google API docs was its a attr accessor in route set rb L335 The template test did not work for assets either I guess some start up stuff is missing but does in actual apps Expected behavior All the URL paths to have testing root Actual behavior The URL helper routes ignored RAILS RELATIVE URL ROOT System configuration Rails version tested with same steps as above 4 2 8 5 0 0 5 0 2 5 1 0 Ruby version 2 4 1,,maclover7,2017-05-11 23:11:53,2017-05-30 20:48:49
PR,Docs Fix output representation ci skip,Summary The output of two string attributes is displayed differently in the docs Standardize the output by always showing it as a comment I was reading the docs and the different output was confusing as to whether status attribute was special or not method i assign attributes Turns out it is the same like name attribute but just its output was displayed slightly different,,kamipo,2017-05-31 02:23:36,2017-05-31 02:31:25
PR,Make sure to disable extension after test,If keep the extension can not test properly to make sure that extension can be enabled Also I doubt that this is a random failure of PostgreSQL is test,,"y-yagi,eileencodes",2017-05-31 00:12:30,2017-05-31 06:30:39
PR,Remove a redundant test case of HABTM associations test,This PR will remove a redundant test case in the following address test cases associations has and belongs to many associations test rb test build by new record L345 L356 test cases associations has and belongs to many associations test rb test create by new record L370 L381 These are redundant at the time of the following commit already diff 00b60cfcb7d1660f2461ec7fe80f3f0fR220 In this PR it leave intentional test name test build by new record And test create by new record is removed,,koic,2017-05-30 19:09:50,2017-05-31 06:31:06
IS,Rails 5 0 1 Nested Error field wrapping not applied in case of accepts nested attributes for,If Model1 is not applied on the Model2 field containing the error This could be related to,,"dmitry,dmitry",2017-02-01 14:27:07,2017-05-31 06:58:48
IS,Association Extensions Problem,I have two class such as above When i call User last articles build there is nothing output But if i call User last articles custom method This will output custom method If i call User last articles build after User last articles custom method' I can get custom method and custom build I found this problem with Rails 5 1 1 and Rails 5 0 3,,kamipo,2017-05-31 10:20:36,2017-05-31 10:26:34
IS,Rails 5 1 1 I18n stub locale not worked in Integretion test,Following is files The second test is failed,,vipulnsward,2017-05-23 11:08:00,2017-05-31 15:59:40
PR,Add missing delegate extending to all,,,"kamipo,rafaelfranca,kamipo,rafaelfranca,rafaelfranca",2017-05-31 16:15:52,2017-05-31 17:37:57
PR,Ensure fixtures are loaded for FoxyFixturesTest,NOTE Related to the Unlock minitest for Rails' test suite PR Failing Seed bin test seed 59389 test cases fixtures test rb When tests are randomized sometimes FoxyFixturesTests are failing due to unloaded fixtures Solution I followed along with what many of the other tests are doing in the file to bypass this issue by using self use transactional tests false,,"alexcameron89,matthewd,alexcameron89,matthewd,alexcameron89",2017-05-31 16:29:22,2017-05-31 18:18:23
IS,average sum method do not limit number of activerecord queries,Steps to reproduce Samplemodel where column any value order updated at desc limit any number sum any column Expected behavior This should give sum of any number of matching records in the activerecord query Actual behavior This instead returns sum of all the matching records in the activerecord query It ignores the limit altogether System configuration Rails version 4 2 8 Ruby version 2 3 0,,alexcameron89,2017-05-31 18:58:41,2017-05-31 19:58:40
PR,Add test and fix for blank Rails configuration database configuration,Steps to reproduce System configuration Rails version 5 0 3 Ruby version 2 3 3 It looks like this was broken by and some people have noticed commitcomment 3129485 but it has not been fixed,,matthewd,2017-06-01 02:11:12,2017-06-01 06:12:00
PR,Use File dirname dir where appropriate,It is more direct than File expand path ' ' dir Also use File join in a few appropriate places as of this change tools line statistics is loaded consistently across all rakefiles,,"Empact,matthewd,Empact",2017-05-31 22:14:59,2017-06-01 06:16:37
PR,Fix random minitest error database statements test,Issue ARCONN postgresql bin test test cases test rb seed 48104 With a seed of 48104 in Postgres the following test sequence fails from Duplicate Key issues The fixtures tests creates accounts and the database statements tests insert into the accounts table but they are not getting the correctly incremented primary keys from the connection This causes the DuplicateKey issues Fix The DatabaseStatements tests need to sync the connection to Postgres in order to use the correct next sequence primary keys,,"alexcameron89,maclover7,alexcameron89,rafaelfranca,guilleiguaran,guilleiguaran,rafaelfranca,alexcameron89,matthewd,alexcameron89,matthewd",2017-05-30 14:59:33,2017-06-01 06:18:43
PR,Should use quote for a string literal,Follow up of 29077 Before If a keyword in double quotes ex key or glob is used in a context where it cannot be resolved to an identifier but where a string literal is allowed then the token is understood to be a string literal instead of an identifier,,kamipo,2017-06-01 01:37:49,2017-06-01 06:20:52
PR,Fix default scoped with defined default scope on STI model,This regression is caused by d1249c1 L635 If STI model is defined default scope base rel is not respected I fixed to merge base rel in that case,,"kamipo,kamipo,matthewd,kamipo,kamipo,matthewd,kamipo,matthewd",2017-05-31 07:23:05,2017-06-01 06:27:29
PR,Consolidate database specific JSON types to Type Json,,,"kamipo,matthewd,kamipo",2017-05-25 08:24:33,2017-06-01 06:30:40
IS,rails 4 2 gets stuck when schema migrations table differs from active migrations on disk,we had a sequence when another engineer ran migrations on our staging database and therefore updated the schema migrations table however forgot to check it in We then added new migrations and then attempted to run these migrations on the staging database Rake db migrate gets stuck and doesnt move forward neither does rollback What we expected is an error that the rails migrations are mismatching that would help us instantly figure out what was wrong Instead we spent an hour trying to figure out if our connection pooling was working fine database locks were freed etc,,"rafaelfranca,rafaelfranca",2017-02-23 12:34:17,2017-06-01 06:55:10
PR,Fix assets precompile example ci skip,Fix error in example of executing assets precompile task,,"matthewd,robin850,robin850",2017-06-01 11:46:39,2017-06-01 12:16:55
IS,ActiveRecord Base all method behaves incorrectly in named scope,ActiveRecord Base all do not returns all records in named scope Steps to reproduce I will show you a tiny example below Expected behavior reset scoping do not reset scoping System configuration Rails version 5 0 0 Ruby version 2 3 1,,alexcameron89,2017-06-01 14:09:59,2017-06-01 14:47:21
PR,Simplify assert no match r colname limit regex,In test schema dump includes limit constraint for integer columns unified assert match and assert no match to simple regex,,"kamipo,matthewd,kamipo,matthewd,kamipo,kamipo",2016-12-20 06:27:31,2017-06-01 16:01:59
PR,Correct a has many association test,The changed test test dependent association respects optional hash conditions on delete seems to have been added by the following commit but it looks like it was wrong diff f51660d918ba5921aaae392122026533 Because it is the same as the test dependent association respects optional sanitized conditions on delete L1340 L1350 test case This PR will correct it so that I think it was originally intended,,koic,2017-06-01 09:18:39,2017-06-01 16:07:34
PR,Fix articles layout in guides by eliminating W3C validator warnings ci skip,,,kamipo,2017-06-01 17:58:49,2017-06-01 18:15:32
PR,Replace an outdated mention of jquery ujs with rails ujs,,,kaspth,2017-06-01 19:09:59,2017-06-01 19:17:37
PR,Remove the pathname dependency from bin update and bin setup,We do not get any benefit from it at all,,"Empact,eileencodes,Empact,rafaelfranca",2017-05-31 22:15:26,2017-06-01 21:46:41
PR,Use existing class in PersistenceTest SaveTest,Note This PR is related to This test does not need to create its own class so I changed it to an existing class Creating a new class for widgets was causing failing tests because it clashed with another widget class Failing Test,,alexcameron89,2017-06-01 22:09:47,2017-06-02 00:25:50
PR,enhance Array first method,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-06-02 05:24:09,2017-06-02 06:05:05
PR,Enhance Array first method,Let Array first accept a block return to the first k that satisfies the code block,,kaspth,2017-06-02 08:09:35,2017-06-02 09:01:36
IS,How to show an invalid date format message,Steps to reproduce All I am really looking for is showing an invalid date format message from the model Somehow System configuration Rails version 4 2 7 1 Ruby version ruby 2 3 1p112,,,2017-05-29 19:25:18,2017-06-02 09:33:10
PR,Replace occurrences of 5 0 with 5 1 in migrations in the Getting Started docs,,,"kaspth,schneems",2017-06-01 17:39:50,2017-06-02 14:59:07
IS,Rails 5 render json got stack level too deep because of the action name,Steps to reproduce for demonstration i simplied the code Expected behavior should output status OK in chrome console log Actual behavior without trace txt SystemStackError Stack level too deep with trace txt i got this app controllers wxpay controller rb 3 in config' repeated System configuration Rails version TRIED rails 5 1 1 with ruby 2 3 0 ruby 2 3 3 ruby 2 4 0 but Ok in rails 4 2 5 Conclusion In the end i realized maybe i should not name the action config so i changed it to config2 the SystemStackError gone,,alexcameron89,2017-05-25 03:22:30,2017-06-02 16:02:25
IS,REQ preallocate memory with Ruby 2 4 is String new capacity INT,As is also visible when reading the String new constructor method c new the capacity parameter can be used to improve performance when the string will be concatenated many times and call many realloc Not sure whether the magical limit of 23 characters to avoid heap strings see this article also applies for strings created with a bigger initial capacity but even if the gain is just for concatenation I guess there is still plenty of areas in rails where this can yield benefits String columns with fixed limits and so on I hope that I was not just stating the obvious that is even already on its way or already planned in the heads of a lot of experienced Rails devs as a future thing to do My part here for now is just to spark the idea This also seems to be somewhat related to 29236,,rafaelfranca,2017-06-02 15:39:16,2017-06-02 16:06:00
PR,Create documentation for Erb Generators ScaffoldGenerator create root folder,,,rafaelfranca,2017-06-02 14:17:23,2017-06-02 16:11:23
IS,ActiveRecord Relations in 4 0 x not working when used in subqueries did in 3 2,Steps to reproduce So in 3 2 I have a relation returned by a scope where clause what have you The relation consists of full objects So MyObject my scope returns a relation of MyObjects So let is say I put my relation into a variable my object relation MyObject where '1 1' If I then used that relation as a subquery like MyOtherObject where 'my object id in ' my object relation Rails 3 2 correctly generated the SQL to be like select from my other objects where my object id in select id from my objects But Rails 4 does this select from my other objects where my object id in select from my objects That is an invalid SQL and gives the error Operand should contain 1 column s Notice what I am saying is that in Rails 4 the SQL incorrectly put select in the subquery instead of select id the way Rails 3 2 did Sure I can do MyOtherObject where 'my object id in ' my object relation map id but man that seems like a step backwards I rely on this behavior in many places in the code and I would hate to have to track them all down System configuration Rails version 4 0 13 Ruby version 2 3 3,,rafaelfranca,2017-06-02 16:01:03,2017-06-02 16:18:11
PR,SystemTesting Driver can register capybara webkit and poltergeist,drivers When using driver by with capybara webkit or poltergeist SystemTesting Driver will register the driver while passing screen size and options parameteres options could contain any option supported by the underlying driver This PR is related to issue 29000,,"eileencodes,eileencodes,eileencodes,eileencodes,eileencodes,eileencodes",2017-06-01 20:00:21,2017-06-02 17:31:00
IS,Systems Test driven by do not pass additional options to drivers other than Selenium,Steps to reproduce 1 Create a Rails 5 1 application 2 Add poltergeist gem or capybara webkit 3 Generate a scaffold bin rails g scaffold user name 4 Run migrations bin rails db migrate 5 Create a System Test bin rails g system test sample 6 Add the following test Either one of the approaches will save time for users moving to Rails' System Test I will be happy to work on any of these approaches if the core team decides that is something that needs to happen,,"maclover7,eileencodes,eileencodes,eileencodes",2017-05-05 22:06:10,2017-06-02 17:35:14
PR,Clean up type map at the end of test respond to for non selected element,Summary This pull request addresses 29331 at unlock minitest branch test only reload type map once for every unknown type expects no one already registers unknown OID to type map however test respond to for non selected element registers it and does not clean up it,,yahonda,2017-06-02 17:31:26,2017-06-02 18:22:47
IS,PostgreSQLAdapterTest test only reload type map once for every unknown type fails at unlock minitest,This issue explains one of failure reported in 29271 Summary PostgreSQLAdapterTest test only reload type map once for every unknown type fails when it is executed after ActiveRecord RelationTest test respond to for non selected element Because test only reload type map once for every unknown type expects type map has not registered any unknown OID type but test respond to for non selected element already did and do not clean up it Steps to reproduce Since this failure can reproduce only when specifying the seed 41022 1 Install Vagrant 2 At your host System configuration Rails version unlock minitest branch Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux gnu,,"yahonda,yahonda",2017-06-02 16:46:08,2017-06-02 18:22:51
PR,Remove the redundant test find all with join in AR,The following test cases are the same test cases finder test rb test find all with join L1026 L1034 test cases relations test rb test find all with join L550 L558 This PR leave test cases relations test rb test find all with join where the tests of the near intention are gathered And test cases finder test rb test find all with join is removed,,koic,2017-06-02 10:09:34,2017-06-02 18:50:52
IS,enum scope generates wrong SQL WHERE condition when using nil as an enum value,Context and TL DR I'm trying to put rails on top of a legacy DB This DB stores enumerated status information in the tp Measure Disposal Unit column as Integer Some of these enum values are NULL instead of an int When calling the class scope for the values that are NULL the generated WHERE statement checks equality with NULL instead of IS NULL I am aware that this may be a very rare use case and would like to know if others have had this problem as well or if the enum implementation is not supposed to handle this case Below you will find code to describe the issue in more detail If you think that this might really be a bug I will gladly prepare a test case and or reproduction scenario Steps to reproduce Create a class that has an enum where one enum value is nil instead of an int or string Create some records of this class that have nil as their enum value System configuration Rails version 5 0 2 ActiveRecord version 5 0 2 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,"alexcameron89,maclover7,maclover7",2017-05-01 13:17:53,2017-06-02 18:53:02
PR,Prevent making bind param if casted value is nil,If casted value is nil generated SQL should be IS NULL But currently it is generated as NULL To prevent this behavior avoid making bind param if casted value is nil Fixes 28945,,"kamipo,matthewd,kamipo,kamipo",2017-05-30 11:07:32,2017-06-02 18:53:02
PR,Document support for composite primary keys,Summary This PR documents the possibility of declaring composite primary keys on a migration Should I add a note to the change log,,eileencodes,2017-05-18 17:00:51,2017-06-02 18:54:33
PR,some typos and rephrasing in system test guide ci skip,rephrasing some paragraphs in system test guide to be more understandable,,ccarruitero,2017-05-16 05:27:26,2017-06-02 18:57:48
PR,ci skip Fix scaffold controller generator usage,The credit card debit part of the current usage example is not correct and seems to be copy pasted from the controller generator As the scaffold generator does not mention anything about URLs I thought rewording the usage example to focus on the RESTful actions would make more sense,,"maclover7,kaspth,eileencodes,eileencodes",2017-05-14 14:52:21,2017-06-02 19:08:43
IS,model collection association returns different object on every call in Rails 5 0 3,Steps to reproduce Run this in rails console System configuration Rails version 5 0 3 Ruby version 2 4 1p111,,eileencodes,2017-06-01 21:45:41,2017-06-02 20:29:41
PR,Avoid committing a transaction on a timeout from Timeout timeout,Follow up to which changes the behaviour it deprecates to avoid having a timeout from Timeout timeout commit the transaction Instead the transaction will now be rolled back See that linked PR for a full description of the problem,,matthewd,2017-06-02 19:13:42,2017-06-02 23:05:14
PR,ci skip Show migration from latest version in start up guide,Since latest version is mentioned in the installation step why not show appropriate version in example,,"mohitnatoo,matthewd",2017-06-02 22:26:47,2017-06-02 23:09:27
IS,Array instance methods different for jRuby inside Rails,Steps to reproduce Using Docker System configuration Rails version 5 0 3 or 5 1 1 Ruby version jRuby 9 1 10 0 MRI 2 4 1p111 Other Found because the Axlsx gem uses Array instance methods to delegate methods When used inside Rails 5 0 with jRuby it fails See,,matthewd,2017-06-02 16:24:32,2017-06-02 23:18:30
PR,Make source reflection name a private method,As per this comment issuecomment 302958277 we do not source reflection name method to be used Also there are no tests for the same Why not make it private,,"mohitnatoo,matthewd",2017-06-02 23:18:11,2017-06-02 23:49:08
PR,Ensure fixtures are loaded for CascadedEagerLoadingTest,Summary This pull request addresses these 11 failures 1 errors at unlock minutest branch 29271 when the seed is 28100 Here are the link to Travis CI Other Information I have referred 29298 how to fix these failures and errors Steps to reproduce 1 Install Vagrant 2 At your host,,"yahonda,matthewd,yahonda",2017-06-03 02:55:13,2017-06-03 07:09:53
PR,Make Rails welcome page responsive,Mobile before img width 487 alt iphone before src Mobile after img width 487 alt iphone after src Tablet before img width 688 alt ipad before src Tablet after img width 688 alt ipad after src Desktop Identical,,matthewd,2017-06-03 04:59:23,2017-06-03 08:03:20
PR,Remove a redundant default scope tests,The following test cases are the same test cases scoping default scoping test rb L698 L706 L698 L706 test cases scoping default scoping test rb L52 L60 L52 L60 This PR leave test cases of test cases relations test rb where the tests of the near intention are gathered And redundant test cases of test cases finder test rb are removed,,koic,2017-06-03 09:25:35,2017-06-03 09:31:11
PR,Change default application js included in new Rails app ci skip,This is a document change This PR replaces the contents of app assets javascripts application js with the default content generated by rails new of Rails 5 1,,koic,2017-06-03 08:55:28,2017-06-03 09:33:22
PR,Fix formatting of direct and resolve doc ci skip,,,y-yagi,2017-06-03 10:53:59,2017-06-03 10:54:51
IS,Rails server does not start Puma on the correct port,After upgrading to Rails 5 1 running rails server no longer starts the server on the default port of 3000 on my project Weirdly it prints that it is starting on port 3000 but Puma is booted up on port 9292 If I pass the port number it works correctly I have tried creating a new Rails project but can not reproduce it so it must be something strange with my configuration but I have no idea what it could be it is a private project so I can not share it Steps to reproduce Run bundle exec rails server Expected behavior Server should be started on port 3000 Actual behavior Server is started on port 9292,,"alexcameron89,alexcameron89,maclover7,y-yagi,schneems,schneems,y-yagi,schneems,schneems",2017-05-03 12:08:34,2017-06-03 17:54:45
PR,Fix typo on error message when route definition is ambiguous,Summary Ambiguous was misspelled I noticed that when upgrading an older 4 2 app,,"vipulnsward,matthewd",2017-06-03 16:00:25,2017-06-04 04:04:22
PR,Do not create extra assignment just return,,,vipulnsward,2017-06-04 10:13:15,2017-06-04 10:47:13
PR,Explicitly clear type map before run test only reload type map once for every unknown type,Currently the following test fails This is due to reset connection in test respond to for non selected element postprocessing This reset is added with 29332 for test only reload type map once for every unknown type Since the above test expects the type map to be empty at the time of test run I think that it is better to empty the type map before test run,,"y-yagi,matthewd,y-yagi",2017-06-03 05:07:09,2017-06-04 11:54:16
PR,Introduce mattr accessor default option,Since David introduced a default to the class attribute macro we decided to follow it in the mattr accessor family of methods This PR does not deprecate the current defaulting behaviour I simply do not document it anymore My fear is that it may be too disruptive and force plugin authors to change their code while they can go without that but if you still prefer to properly deprecate it I can issue the warning,,"gsamokovarov,kaspth,gsamokovarov,kaspth,kaspth,kaspth,kaspth,kaspth,gsamokovarov,gsamokovarov,matthewd,gsamokovarov,matthewd,gsamokovarov,gsamokovarov,gsamokovarov,gsamokovarov,gsamokovarov,kaspth",2017-05-31 09:51:48,2017-06-04 14:12:41
PR,Remove assert nothing raised as test is already testing the required concerns,,,"prathamesh-sonpatki,kamipo,eileencodes",2017-06-03 14:28:25,2017-06-04 22:07:59
IS,In Rails 5 controller test nil is converted to string for ActionController TestCase but not for ActionDispatch IntegrationTest,Steps to reproduce The failing test works all fine in Rails 4 2 Expected behavior a Either all tests should pass as ActionController TestCase and ActionDisplatch IntegrationTest should work the same b OR given the conversation in 26075 ActionDisplatch IntegrationTest should also fail the first test Actual behavior The two ActionDisplatch IntegrationTest and ActionController TestCase behave differently with nil passing in test case Ca 26569 also be related System configuration Rails version 5 0 1 Ruby version 2 3 3,,"rafaelfranca,meinac,rafaelfranca,pixeltrix,pixeltrix,pixeltrix,meinac,pixeltrix,meinac",2017-02-23 18:04:23,2017-06-05 15:32:41
IS,Counter cache not updated when using update attributes,There is a bug in activerecord master also tested to be present in 5 0 1 4 2 8 where the callbacks to update the counter cache are not called when update attributes is used instead of assigning a new model to the relevant belongs to relations accessor with the counter cache It appears this bug is fixed already by the following unmerged PR 23357 which can be tested by switching the test case to is issue 23265 branch Here is the failing test case,,,2017-02-27 17:27:39,2017-06-05 15:32:42
PR,Remove deprecated passing of string to if unless,Other examples were removed in 53ff5fc62f9d11b6f60d371df959137f4bf40728,,"matthewd,matthewd",2017-06-05 15:24:54,2017-06-05 16:34:41
PR,Testing ReservedWordTest for all adapters,ReservedWordTest expects that any identifiers are quoted properly It should be tested for all adapters,,kamipo,2017-06-05 11:42:14,2017-06-05 18:46:04
PR,Remove html tag making markdown misrender ci skip,Stray html tag in this file was causing GitHub to not render the next line correctly,,kamipo,2017-06-06 03:14:14,2017-06-06 03:21:25
PR,Fix test pluck without column names when using Oracle,Summary This PR fixes the following failure when using Oracle 11g L202 Oracle does not distinguish empty characters from NULL Therefore the return value is nil not the value of default,,koic,2017-06-06 10:13:49,2017-06-06 12:09:49
PR,Load schema before assertion,Without this test fails because the load schema when pluck is executed Steps to reproduce,,y-yagi,2017-06-05 22:29:10,2017-06-06 12:48:14
PR,Add Array uniq method,This request brings uniq method for Array which is quite useful in real world scenarios,,robin850,2017-06-06 13:13:21,2017-06-06 13:18:21
IS,rake file loading twice in 5 1 x,Steps to reproduce call stacks on rake assets clobber Guidelines for creating a bug report are available here creating a bug report Expected behavior Should only run once Actual behavior Running twice System configuration Rails version 5 1 x Ruby version 2 4 1,,,2017-06-06 10:05:58,2017-06-06 14:05:03
PR,Remove redundant assert nothing raised before another assertions,These assert nothing raised are covered by following assertions,,kamipo,2017-06-06 00:07:18,2017-06-06 14:16:18
IS,HTML dumps in console some times when testing API endpoints,I'm filing this issue to bring to your attention in case no one else has it might have been addressed but I could not find any in a quick search Steps to reproduce I will update with more specific steps when I encounter it again Sorry I'm using Rails 5rc1 to develop a mixed web and API rails app Some times when things go wrong I get html responses some times there is even references to web console during testing the API only endpoints in development Have an API endpoint that returns json normally Send a invalid request using curl in the console and you will receive a rails error html dump to your console Updated with steps Rails 5rc1 app with mixed HTML and API responses All HTML routes go to controllers that inherit from ApplicationController which inherits from ActionController Base All API routes go to controllers that inherit from ApiApplicationController which inherits from ActionController API HTML responses are HTML web pages and API responses are JSON Use curl in a console to visit an invalid route and you will see the HTML error page response in your console Expected behavior I expect a plain text message with the error that is better formatted for the console Actual behavior HTML web page dump response to console System configuration Rails version 5 0 0 rc1 Ruby version 2 3 0,,"maclover7,prathamesh-sonpatki,prathamesh-sonpatki,gsamokovarov,prathamesh-sonpatki",2016-05-31 19:50:57,2017-06-06 16:24:12
IS,Validation associated and RecordInvalid and block render,I do not know if it is a bug or not but when the program tries to validate the presence of records the procedure returns an error that stops the the procedure I put below the reproduction error Steps to reproduce To ease reproduction I have created a demo application following the example from the guides Clone repository run 'ruby validates associated model rb' Actual behavior 1 Error BugTest test context validation stuff ActiveRecord RecordInvalid Validation failed User Role just exist C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record validations rb 78 in raise validation error' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record validations rb 50 in save ' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record attribute methods dirty rb 30 in save ' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record transactions rb 324 in block in save ' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record transactions rb 395 in block in with transaction returning status' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record connection adapters abstract database statements rb 230 in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record transactions rb 211 in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record transactions rb 392 in with transaction returning status' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record transactions rb 324 in save ' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record suppressor rb 45 in save ' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations has many through association rb 89 in save through record' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations has many through association rb 47 in insert record' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 587 in block 2 levels in concat records' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 430 in replace on target' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 423 in add to target' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 586 in block in concat records' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 584 in each' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 584 in concat records' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations has many association rb 129 in concat records' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations has many through association rb 27 in concat records' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 188 in block in concat' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 203 in block in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record connection adapters abstract database statements rb 230 in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record transactions rb 211 in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 202 in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 188 in concat' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations has many through association rb 21 in concat' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 564 in replace records' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 391 in block in replace' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 203 in block in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record connection adapters abstract database statements rb 232 in block in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record connection adapters abstract transaction rb 189 in within new transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record connection adapters abstract database statements rb 232 in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record transactions rb 211 in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 202 in transaction' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 391 in replace' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations collection association rb 78 in ids writer' C Ruby23 x64 lib ruby gems 2 3 0 gems activerecord 5 0 0 1 lib active record associations builder collection association rb 66 in job manager ids ' validates associated rb 85 in test context validation stuff' 1 runs 0 assertions 0 failures 1 errors 0 skips System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x64 mingw32 ruby 2 3 1p112 2016 04 26 revision 54768 x64 mingw32 DB PostgreSQL 9 6 Sqlite3,,,2016-11-07 12:37:24,2017-06-06 16:24:13
PR,PostgreSQL 10 converts unknown type to text type,Summary Address 28799 Refer these discussion and commit Skip 2 specs which expect select all returns unknown type if PostgreSQL 10 or higher There was a suggestion to remove these warning spec but this behavior is true as long as PostgreSQL 9 6 or lower version then just skip them Add 1 spec to validate unknown type is converted to text type if PostgreSQl 10 or higher Other Information This pull request has been tested with these two versions of PostgreSQL,,"yahonda,matthewd,yahonda,matthewd,yahonda,matthewd",2017-04-25 14:28:18,2017-06-06 19:33:27
IS,PostgreSQL 10 test only warn on first encounter of unknown oid fails due to OID changes from 705 to 25,Environment System configuration Rails version master branch Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,"yahonda,yahonda,rafaelfranca,yahonda,yahonda,rafaelfranca,yahonda,rafaelfranca,yahonda",2017-04-19 17:26:08,2017-06-06 19:33:56
PR,Update upgrading guide w r t Parameters to use other example method,See 29376,,rafaelfranca,2017-06-06 21:56:06,2017-06-06 22:27:33
IS,Update Guide for Upgrading from Rails 4 2 to Rails 5 0 regarding ActionController Parameters methods,The Guide for Upgrading Ruby on Rails section 3 11 ActionController Parameters No Longer Inherits from HashWithIndifferentAccess actioncontroller parameters no longer inherits from hashwithindifferentaccess under Upgrading from Rails 4 2 to Rails 5 0 states If you are using slice and other methods that depend on being able to read the hash regardless of permitted you will need to upgrade your application to first permit and then convert to a hash but a slice method has been added to ActionController Parameters method i slice so this is not always necessary I'm unsure how this should be updated exactly but the current version is misleading,,robin850,2017-06-06 19:53:39,2017-06-06 22:27:49
PR,Cache write multi,Plus faster fetch multi with stores that implement write multi entries Keys that are not found may be written to the cache store in one shot instead of separate writes The default implementation simply calls write entry for each entry Stores may override if they are capable of one shot bulk writes like Redis MSET,,"jeremy,robin850",2017-06-06 05:30:03,2017-06-06 23:39:21
IS,When creating new application with mysql it gives me older version of rails,Creating new application but still giving me older version of rails I even tried creating multiple project and still getting the older version of rails I am sharing my Gem file I tried creating project using rails new project d mysql source '' gem 'rails' '4 2 6' gem 'mysql2' ' 0 3 13' ' 0 5' gem isass rails' ' 5 0' gem 'uglifier' ' 1 3 0' gem 'coffee rails' ' 4 1 0' gem 'jquery rails' gem 'turbolinks' gem 'jbuilder' ' 2 0' gem isdoc' ' 0 4 0' group doc group development test do gem 'byebug' end group development do gem 'web console' ' 2 0' gem ispring' end,,,2017-06-07 06:36:30,2017-06-07 07:21:12
IS,generate guides throws exception,Steps to reproduce After that I generate the guides,,"maclover7,fxn,fxn,fxn",2016-10-11 09:39:17,2017-06-07 09:28:28
PR,Remove unreachable code,Time find zone raise ArgumentError if invalid value is specified L97 L99 Therefore the return value never becomes nil,,y-yagi,2017-06-07 23:47:48,2017-06-08 00:36:47
PR,Bundle capybara 2 14 1 that includes fix for Ruby warnings,Ref,,"y-yagi,kaspth",2017-06-08 02:18:25,2017-06-08 05:20:44
PR,Update Dirty docs to match ActiveRecord method reload,ActiveRecord uses bang free reload method to refresh data from persistence layer thus resetting dirty tracking Docs were showing the console reload method that reloads the Rails application,,matthewd,2017-06-07 23:43:38,2017-06-08 09:51:32
IS,where not polymorphic association activerecord relation results in incorrect SQL query,Example models System configuration Rails version 4 2 7 1 Ruby version 2 3 3,,,2017-03-03 04:41:09,2017-06-08 16:42:11
PR,Add Pluck Hash method to Active Record,Summary I recently fixed several memory bloat issues with my production rails app Using pluck helped a bunch but working with 2 d arrays was cumbersome I found a pluck to hash method on Stack Overflow This PR adds a pluck h method that behaves like pluck but returns an array of hashes instead of a 2 d array Other Information Before writing tests and doing benchmarks I was hoping to get some feedback on this feature Would this be a helpful addition to Active Record Would it be added if tests and benchmarks were provided Did I put this in the right place Patience and grace appreciated this is my first open source PR,,rafaelfranca,2017-06-08 14:50:36,2017-06-08 18:12:46
PR,Fix partial cache logging,Summary This should fix 28529 One partial is cache hit result might be changed when rendering other partial e g rendering nested partials if we use a single boolean to track it So I now use a hash to make cache hit status partial specific,,"st0012,st0012,kaspth,st0012",2017-04-01 16:41:08,2017-06-08 19:47:50
IS,IpSpoofAttackError is raised when it is not needed,Steps to reproduce Make request with headers Client IP private ip and 'X Forwarded For public ip' There is an example Expected behavior Rails should use Public IP Actual behavior Rails raises IpSpoofAttackError exception System configuration Rails version 5 Ruby version any,,"eugeneius,rafaelfranca,matthewd,bogdan,eugeneius",2017-06-08 01:22:08,2017-06-08 19:52:17
PR,Allow disabling system test screenshots,Add a disabled option to RAILS SYSTEM TESTING SCREENSHOT e g Which disables screenshots for failed ApplicationSystemTestCase s Motivation Currently it seems that the only way to disable screenshots 44337280 is to override ActionDispatch TestCase take failed screenshot This provides a more accessible way of turning them off if for whatever reason developers would like to do that On my Mac for example the Selenium Chrome driver will usually run in the background but will take screen focus in order to take a screenshot which is not necessarily desirable,,"matthewd,eileencodes,eileencodes",2017-06-03 14:21:31,2017-06-09 10:40:42
PR,remove the extra comma in association basics md,,,"ydakuka,vipulnsward",2017-06-09 11:54:49,2017-06-09 11:57:16
PR,Fix link in active record postgresql md,,,"ydakuka,vipulnsward",2017-06-09 11:56:32,2017-06-09 11:59:23
PR,ci skip being specific of what the initial values for thread mattr accessor are,,,"mohitnatoo,matthewd,mohitnatoo,robin850",2017-06-02 23:41:17,2017-06-09 12:10:45
PR,ci skip Document how to initialize an ActionDispatch Http UploadedFile,This PR Adds information on how to initialize an ActionDispatch Http UploadedFile Why There is a discrepancy between UploadedFile is attribute accessors and the hash keys that it is initialized with making initialization non intuitive at first glance Instances where this was asked on StackOverflow 1 answer 26262081 2 answer 24215061 Preview img width 833 alt screen shot 2017 06 08 at 10 30 34 pm src Note If it would be beneficial to add the ability to initialize an UploadedFile using it is attribute accessors or aliasing the hash keys accordingly I would be more than happy to provide that contribution as well as re update the docs,,eileencodes,2017-06-09 02:25:56,2017-06-09 12:28:09
PR,Remove unnecessary assignment,,,,2017-06-09 12:45:44,2017-06-09 12:46:34
PR,ci skip Fix another link in active record postgresql md,,,"ydakuka,schneems",2017-06-09 12:33:47,2017-06-09 13:07:26
PR,Ensure MSSQL password uses real ENV var,I got 27820 wrong The end result should be that setting up a new application with SQL Server will have the password ENV 'SA PASSWORD' in the resulting YAML not the actual password as is now,,"metaskills,guilleiguaran,metaskills",2017-06-05 23:52:11,2017-06-09 14:31:36
PR,Remove a redundant i18n test in Railties,The following test cases are the same test application initializers i18n test rb L235 L239 L235 L239 test application initializers i18n test rb L247 L251 L247 L251 This PR leaves test L235 L239 with test comment L235 and test implementation L236 matching And L247 L251 is removed,,"koic,guilleiguaran,koic",2017-06-05 10:24:39,2017-06-09 14:55:22
IS,The ActiveRecord table name is in chaos after the inheritance and changing table name,usr local lib ruby gems 2 3 0 gems mysql2 0 4 4 lib mysql2 client rb 107 in query' usr local lib ruby gems 2 3 0 gems mysql2 0 4 4 lib mysql2 client rb 107 in block in query' usr local lib ruby gems 2 3 0 gems mysql2 0 4 4 lib mysql2 client rb 106 in handle interrupt' usr local lib ruby gems 2 3 0 gems mysql2 0 4 4 lib mysql2 client rb 106 in query' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract mysql adapter rb 309 in block in execute' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract adapter rb 484 in block in log' usr local lib ruby gems 2 3 0 gems activesupport 4 2 7 1 lib active support notifications instrumenter rb 20 in instrument' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract adapter rb 478 in log' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract mysql adapter rb 309 in execute' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters mysql2 adapter rb 231 in execute' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract mysql adapter rb 316 in execute and free' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract mysql adapter rb 463 in columns' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters schema cache rb 43 in columns' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attributes rb 93 in columns' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record model schema rb 260 in column names' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attribute methods rb 86 in block in define attribute methods' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attribute methods rb 83 in define attribute methods' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attribute methods rb 85 in block in define attribute methods' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attribute methods rb 83 in define attribute methods' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record core rb 113 in allocate' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record persistence rb 69 in instantiate' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 50 in block 2 levels in find by sql' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record result rb 51 in block in each' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record result rb 51 in each' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record result rb 51 in each' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 50 in map' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 50 in block in find by sql' usr local lib ruby gems 2 3 0 gems activesupport 4 2 7 1 lib active support notifications instrumenter rb 20 in instrument' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 49 in find by sql' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation rb 639 in exec queries' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation rb 515 in load' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation rb 243 in to a' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation finder methods rb 500 in find nth with limit' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation finder methods rb 484 in find nth' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation finder methods rb 127 in first' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 3 in first' Users user Project db Rakefile 82 in block in top required ' usr local lib ruby gems 2 3 0 gems rake 11 2 2 exe rake 27 in top required ' Mysql2 Error Table 'test db keywords' does not exist usr local lib ruby gems 2 3 0 gems mysql2 0 4 4 lib mysql2 client rb 107 in query' usr local lib ruby gems 2 3 0 gems mysql2 0 4 4 lib mysql2 client rb 107 in block in query' usr local lib ruby gems 2 3 0 gems mysql2 0 4 4 lib mysql2 client rb 106 in handle interrupt' usr local lib ruby gems 2 3 0 gems mysql2 0 4 4 lib mysql2 client rb 106 in query' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract mysql adapter rb 309 in block in execute' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract adapter rb 484 in block in log' usr local lib ruby gems 2 3 0 gems activesupport 4 2 7 1 lib active support notifications instrumenter rb 20 in instrument' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract adapter rb 478 in log' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract mysql adapter rb 309 in execute' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters mysql2 adapter rb 231 in execute' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract mysql adapter rb 316 in execute and free' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters abstract mysql adapter rb 463 in columns' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record connection adapters schema cache rb 43 in columns' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attributes rb 93 in columns' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record model schema rb 260 in column names' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attribute methods rb 86 in block in define attribute methods' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attribute methods rb 83 in define attribute methods' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attribute methods rb 85 in block in define attribute methods' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record attribute methods rb 83 in define attribute methods' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record core rb 113 in allocate' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record persistence rb 69 in instantiate' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 50 in block 2 levels in find by sql' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record result rb 51 in block in each' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record result rb 51 in each' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record result rb 51 in each' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 50 in map' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 50 in block in find by sql' usr local lib ruby gems 2 3 0 gems activesupport 4 2 7 1 lib active support notifications instrumenter rb 20 in instrument' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 49 in find by sql' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation rb 639 in exec queries' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation rb 515 in load' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation rb 243 in to a' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation finder methods rb 500 in find nth with limit' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation finder methods rb 484 in find nth' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record relation finder methods rb 127 in first' usr local lib ruby gems 2 3 0 gems activerecord 4 2 7 1 lib active record querying rb 3 in first' Users user Project db Rakefile 82 in block in top required ' usr local lib ruby gems 2 3 0 gems rake 11 2 2 exe rake 27 in top required ' Tasks TOP temp1 The Keyword class is inherited from the DbKeyword and then changing the table name,,"tenderlove,kamipo",2016-09-23 10:54:42,2017-06-09 17:17:45
IS,Use of count vs size when rendering partials with collection,Steps to reproduce If you have a collection built using an Enumerator i e you end up with no list items being rendered Expected behavior There should be a list item rendered for each item in the things Enumerator Actual behavior Nothing gets rendered The reason is that on line L317 the number of items is being identified using size which returns nil on an Enumerator object The partial rendering would work with Enumerators if this was changed to use count instead Is there a particular reason to use size vs count here If so then perhaps the method should at least emit a warning if you try to use an Enumerator it took me longer than it should have to realize that was the reason that nothing was being rendered when I could verify that there were indeed items in the collection Obviously this usage negates some of the advantage of the Enumerator since it will still have to cycle through each item in order to get the count but practically that would not be any different than if I just made the Array explicitly in the controller for this purpose The advantage is that the controller then does not need to know exactly how the collection is going to be used by the view and it eliminates the surprising and invisible bug that I encountered I would be happy to do the PR to make this change but just wanted to get some feedback first as to whether there was already an explicit decision to use size instead of count here System configuration Rails version 5 0 0 1 Ruby version 2 2 4,,"al2o3cr,matthewd",2017-02-22 15:57:09,2017-06-09 17:17:46
PR,ci skip Add backquote to counter cache option,I found a missing backquote of counter cache option when translating RailsGuides into Japanese,,schneems,2017-06-10 02:44:06,2017-06-10 03:03:06
PR,Split up the cache test suite so it is easier to understand and extend,Split up the caching tests as prep for adding a new cache store Slices the mega test caching test rb into behavior modules concrete store tests and cross cutting store tests Considering moving cache store behavior modules into lib so they may be used for acceptance testing by third parties Separate PR,,"jeremy,jeremy",2017-06-10 08:12:52,2017-06-10 08:25:43
PR,Remove null allowed option from doc ci skip,This option was added in b9fa354 But it does not seem to work,,"y-yagi,kamipo",2017-06-10 10:38:54,2017-06-10 10:52:23
IS,local cache cleanup ArgumentError,on 5 1 0 local cache calls clear with options which is clearly ha not supported ok to just remove options or am I missing something,,"grosser,grosser,maclover7,grosser,eugeneius",2017-05-13 00:27:52,2017-06-10 18:08:55
PR,Fix ArgumentError in ActiveSupport Cache Store cleanup when local cache enabled,Fixes The options argument was removed from the clear method in but it was still being passed here causing an ArgumentError,,"eugeneius,jeremy,eugeneius,jeremy,eugeneius,jeremy",2017-05-14 21:17:04,2017-06-10 18:08:56
PR,Remove unnecessary assignments,,,kaspth,2017-06-11 01:59:31,2017-06-11 09:23:23
PR,Document Module delegate missing to in the guides,Added a small section for it in the Active Support Core Extensions guide,,"gsamokovarov,matthewd,gsamokovarov,matthewd,gsamokovarov,matthewd,gsamokovarov,matthewd,gsamokovarov,vipulnsward,gsamokovarov,gsamokovarov,gsamokovarov",2017-05-29 12:53:30,2017-06-11 12:10:29
PR,Missing dots ci skip,,,vipulnsward,2017-06-11 12:19:19,2017-06-11 12:21:09
IS,Missing ids when using collection check boxes or collection radio buttons inside form with,Steps to reproduce Follow the example given in the Rails API Documentation on FormOptionsHelper method i collection check boxes While this is in general the intended behavior as the commit message of a6d065e39f9285119d75a05ee46c659f8b3c0db8 and for example this discussion issuecomment 231830219 show it seems like the cases of collection check boxes and collection radio buttons helpers have not been considered In both helpers Rails generates pairs of labels and input elements and the generated HTML could be considered broken with the unintended side effects of labels that do not toggle its input fields and broken Screenreader support because the id attributes referenced by the labels do not exist This is different from other cases where the developer generates the labels and form fields separately and is responsible for providing the appropriate id attributes I could not find a way to override the skip default ids option only for the collection check boxes and collection radio buttons helpers This issues goes away when one uses the older form for post syntax instead of form with System configuration Rails version 5 1 0 Ruby version 2 4 1,,morgoth,2017-05-08 17:15:24,2017-06-11 13:34:46
PR,Generate field ids in collection check boxes and collection radio buttons,This makes sure that the labels are linked up with the fields Fixes 29014 r,,"y-yagi,kaspth",2017-06-11 07:29:44,2017-06-11 13:34:46
PR,Default Message Encryptor Cipher to AES 256 GCM From AES 256 CBC,kaspth Currently ActiveSupport MessageEncryptor defaults to CBC encryption but it could stand to benefit from defaulting to aes 256 gcm encryption for the same reasons as cookies,,"assain,kaspth,assain,kaspth,kaspth,assain,kaspth,kaspth,assain,kaspth,kaspth,kaspth,kaspth,kaspth,assain,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,assain,kaspth,kaspth,kaspth",2017-05-29 09:05:06,2017-06-11 19:45:36
PR,Fix Message Encryptor default cipher ci skip,Follow up of 29263,,"y-yagi,kamipo",2017-06-11 22:49:09,2017-06-11 23:20:58
IS,'uninitialized constant Mime HTML' was thrown after ActiveRecord RecordNotFound,I'm using Rails 5 1 1 I expected to use find by to throw ActiveRecord RecordNotFound to bring 404 out when user was reaching a unfound record But somehow after the exception ActiveRecord RecordNotFound another error occurs which is uninitialized constant Mime HTML Finally the 500 was thrown instead of 404 Ruby version ruby 2 3 0p0 Rails version Rails 5 1 1,,alexcameron89,2017-06-10 14:07:36,2017-06-12 08:59:47
PR,Add brakeman to guides additional resources Fixes 29383,,,vipulnsward,2017-06-12 13:08:20,2017-06-12 13:10:36
IS,Security Guide should probably mention brakeman,Rails Security Guide should probably mention brakeman gem the static code analysis tool for identifying vulnerabilities or if other projects of similar standing and utility exist those as well My personal understanding is that if a Ruby on Rails practitioner does just one thing for security they should brakeman against the instance but I do not know how others feel about it Personally I would like to see it even in the first paragraphs of the guide I can write up a PR too But would be useful to hear what others think,,vipulnsward,2017-06-07 08:29:13,2017-06-12 13:11:37
PR,Drop IRB out of the web console Gemfile comment,We do not provide exactly the same experience as IRB does so let is not advertize it like that We can say that it is an interactive console without further references I have also followed byebug is comment and changed the calling console part Hopefully this can hint that the invocation is not view specific and you can use it like the debugger statement,,gsamokovarov,2017-06-12 09:43:55,2017-06-12 14:01:59
PR,Add note to Railtie docs to use unique filenames,The fact that the names need to be globally unique was not obvious to me so I thought it would be worth documenting This not being clear was the cause of both ctran annotate models 468 and instructure outrigger 1 ci skip,,vipulnsward,2017-05-30 16:25:48,2017-06-12 14:37:24
IS,Fix ArgumentError when calling localize with nil,It would be more user friendly if localize helper did not throw an exception when calling localize nil For example if I have approved at column than can be null then this code will explode and I have seen 500th error dozen of times in production because some one forgot to add if is,,vipulnsward,2017-06-09 11:23:16,2017-06-12 18:18:17
IS,Rails incorrectly returns 404 instead of 405 status for unsupported HTTP requests,Steps to reproduce Make a POST request to a resource that only only accepts GET The route for example could be resources my resource only index Expected behavior A 405 is returned Actual behavior Rails returns a 404 System configuration Rails version 4 2 7 1 Ruby version 2 2 3 One of the things that specifies a route is the http verb GET POST etc and in this situation rails is unable to find the route which is why it is returning a 404 However according to the RFC sec10 4 6 when the resource exists and is identified correctly but with an unsupported request method then the correct status is a 405 NOT a 404 This is particularly important for APIs where there is limited feedback and the response code is important for a consumer to determine the problem The Rails framework is not adhering to the W3C standard in this case,,"meinac,pixeltrix",2017-02-28 21:24:46,2017-06-12 18:35:59
IS,ActiveRecord 5 x arel queries use NULL instead of record id,ActiveRecord 5 x queries built using arel and a record no longer pull the id of the record instead NULL is used Looks like this may be similar to 29133 but I think this bugtest is a little more clear on the issue Steps to reproduce bugtest Expected behavior to param should be called on passed record Actual behavior NULL is used System configuration Rails version 5 x 5 1 and 5 0 break Ruby version 2 4,,vipulnsward,2017-06-12 17:01:48,2017-06-12 18:41:55
IS,present blank on an ActiveRecord Relation loads all associated records into memory,It looks like this was originally attempted to be fixed in 10539 but that ended up getting reverted and not fixed further This is something that can very easily trip up any Rails developer It is not obvious that present or blank which is very easy to reach for on a relation collection will load all matching records into memory since the other similar methods will run a more optimized query Steps to reproduce Run this file System configuration Rails version master Ruby version 2 3 3,,"aripollak,matthewd,aripollak,rafaelfranca",2017-06-09 14:41:51,2017-06-12 21:24:05
PR,Do not load all results in memory when using present or blank,Fixes 29400,,"vipulnsward,matthewd",2017-06-12 09:09:42,2017-06-12 21:24:08
PR,active record set configs after frameworks initialize,Summary when I add Rails application config active record belongs to required by default false in config initializers new framework defaults 5 1 rb it is not work ActiveRecord Base belongs to required by default is still true I think the reasion is the following In some gems ActiveRecord Base is used will be executed immediately but at this time config initializers new framework defaults 5 1 rb is not executed Rails 5 1 1 Ruby 2 3 1,,"y-yagi,rafaelfranca",2017-06-12 11:15:44,2017-06-12 22:36:24
PR,Fix formatting of AD FileHandler and AD Static doc ci skip,,,"y-yagi,kamipo",2017-06-13 11:45:20,2017-06-13 11:47:38
IS,Help fixing documentation of association scopes,It appears the documentation for association scopes is misleading However it is not clear to me the optimal fix so I'm opting to report the issue for feedback Currently At this time the documentation for the scope option to a has many association features the following example L1279 Unfortunately updating the examples as such also seem to warrant wrapping them in the class definition e g class Author ActiveRecord Base which starts begging for more context Not to mention this example itself does not make a ton of sense Conclusion My first instinct was no Jay you must be wrong because the documentation is consistently incorrect for each type of association So am I wrong about this my tests confirm that I'm not wrong Further does anyone have suggestions about how to clarify the examples to an acceptable point I am happy to make the changes with some help in determining clarity and as always thank you for such a wonderful tool in Rails and all your hard working in making it great,,"iamvery,eugeneius,iamvery,iamvery",2017-02-25 14:46:26,2017-06-13 12:05:04
IS,Ca not use change in migration to remove an index in a revertible manner remove index should accept an options hash like add index,Steps to reproduce I have an index on the email column like this example System configuration Rails version 5 0 3 Ruby version 2 4 1,,"bogdanvlviv,bogdanvlviv",2017-06-13 10:55:55,2017-06-13 12:25:36
PR,Remove the same method in an inherited AR Migration Compatibility,AR Migration Compatibility V4 2 inherits AR Migration Compatibility V5 0 These change table method implementations are the same ActiveRecord Migration Compatibility V5 0 change table L59 L70 ActiveRecord Migration Compatibility V4 2 change table L105 L116 This PR removes change table method of the subclass V4 2,,"koic,kamipo,koic,kamipo,koic,eileencodes,koic",2017-06-13 11:08:49,2017-06-13 12:55:19
IS,Word filter in model name prevents creating it from params,Description If you use the word filter in the model name you will get ActiveModel ForbiddenAttributesError whenever you try to set it from the params update actions work fine just create fails I have tried it with UserFilter and FilterSet models so far Steps to reproduce Expected behavior Object is created properly from valid and permitted params Actual behavior ActiveModel ForbiddenAttributesError is thrown System configuration Rails version 5 0 3 Ruby version 2 2 6 Database PostgreSQL,,"alexcameron89,alexcameron89",2017-06-13 12:27:01,2017-06-13 13:26:23
IS,Infoblox incompatible with Rails 5 1,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report using the Infoblox gem with Rails 5 1 Expected behavior Tell us what should happen Calls to the Infoblox API should return a Cname provided a connection FQDN and view Actual behavior Tell us what happens instead lib infoblox resource rb line 110 connection get resource uri params returns Faraday SSLError Exception SSL connect returned 1 errno 0 state error certificate verify failed with Rails 5 1 where previously this gem worked fine on Rails 5 0 1 I'm still digging into whether or not it is actually a cert SSL issue on our end but nothing seems to be working with valid certs System configuration Rails version 5 1 0 Ruby version 2 4 1,,vipulnsward,2017-06-13 15:08:31,2017-06-13 16:41:43
IS,How do I give Rails money,Is there a donation link I'm having trouble finding it Heroku hosted a giveaway at RailsConf that let people vote for an OSS project to receive a 500 donation and Rails won I have 500 on an AMEX card burning a hole in my pocket somebody help me out,,jeremy,2017-05-11 23:29:02,2017-06-13 17:50:57
PR,Add test for backward compatibility when using change table,Follow up of issuecomment 308128556 This PR adds a test to prepare for unintentional change to AR Migration Compatibility V4 2 change table,,koic,2017-06-13 14:48:53,2017-06-13 19:55:41
PR,Fix id resolution bug by changing id in database method name to id in db,Closes 29436 This was happening because Active Model creates methods with in database suffix for all attributes of the model While saving the model in persistence module Active Record tries to call id in database method which is defined in PrimaryKey module to get the primary key value of the object but this call ends in a method which is defined by Active Model AttributeMethods for id attribute of the object Renaming id in database method fixes the problem,,"meinac,meinac,meinac",2017-06-13 20:11:44,2017-06-14 07:11:53
IS,Rails 5 1 1 update attribute uses wrong column to update record,Steps to reproduce I have made a small test app here to reprodue image I tracked the problem down to the dynamically generated method id in database but could not get any further sorry This behaviour was not there on any other version back to 4 0 Expected behavior update attribute should use the correct db column Actual behavior update attribute seems to use another column as the one defined in the model System configuration Rails version 5 1 1 Ruby version 2 4 1,,"meinac,meinac,eugeneius,meinac",2017-06-13 12:11:56,2017-06-14 09:23:14
IS,destroy link not working,Expected behavior on clicking destroy link confirmation box should have appeared but that did not happen Actual behavior while clicking to destroy link it redirects to show link I tried everything online I have all the required gemfiles and application js also has jquery and jquery ujs javascript is working on my browser i also did this config assets compile true in production rb but still it has got same issue of redirecting to show link I have been stuck in it for long hours already It would be great if anybody can help me Thank you git1 git2 System configuration Rails version 5 1 1 Ruby version ruby 2 2 6p396,,alexcameron89,2017-06-13 11:33:20,2017-06-14 13:16:10
PR,Use require relative instead of require with full path,jeremy suggested converting require with a full path to require relative See pullrequestreview 39581777 After brief discuss with we decided to do it There are four cases i'm not sure about using require relative L8 L45 L11 L14 L14 Related to r,,"bogdanvlviv,rafaelfranca,bogdanvlviv,fxn,bogdanvlviv,fxn,bogdanvlviv",2017-06-11 13:23:11,2017-06-14 17:15:38
IS,Changing a model is primary key breaks generated SQL,Steps to reproduce 1 rails new example database postgresql 2 rails g model Thing uid flag boolean 3 Add self primary key 'uid' to app models thing rb 4 Create a Thing instance w a uid and then attempt to update it Expected behavior After updating I would expect the value to have updated successfully Actual behavior Using rails console I take a Thing I have created and attempt to update it The update appears to be successful but once I reload my Thing instance it becomes clear that the update did not stick The flag property returns to nil after reloading You can see that the call to update is trying to find the record w uid 1 which is the original serial id and not the uid field I specified This worked before I updated to Rails 5 Additionally if I attempt to validate uniqueness on uid then I can not even save existing records ActiveRecord ends up finds the self same record in the database and does not realize they are equal However I believe this stems from the same problem of mixing up the primary key which was set to uid and the default id System configuration Rails version 5 1 1 Ruby version 2 4 0,,eugeneius,2017-06-03 19:28:17,2017-06-14 18:06:34
PR,Avoid overwriting the methods of AttributeMethods PrimaryKey,Currently the methods of AttributeMethods PrimaryKey are overwritten by define attribute methods It will be broken if a table that customized primary key has non primary key id column It should not be overwritten if a table has any primary key Fixes 29350,,"kamipo,rafaelfranca,yahonda,rafaelfranca,yahonda",2017-06-07 01:15:21,2017-06-14 18:06:34
IS,form with is not assigning id is to inputs,Steps to reproduce System configuration Rails version 5 1 1 Ruby version 2 3 3,,"rafaelfranca,morgoth,kaspth",2017-06-14 18:43:43,2017-06-14 18:59:39
IS,ActiveRecord unexpected query generation with polymorphic associations,Steps to reproduce Create a model with multiple polymorphic associations Activity with owner and trackable Try to fetch activities for a user where owner trackable by passing model objects Activity where owner where not trackable Be lazy and use this Expected behavior I would expect a query like this id type to be a grouped statement System configuration Rails version 5 0 1 Ruby version 2 3 0,,al2o3cr,2017-03-08 16:32:08,2017-06-14 19:51:32
IS,AbstractController Translation translate breaks when default option is an array,Steps to reproduce Actual behavior The default option is modified using the operator which results in an array within an array if multiple defaults are given by the caller I18n t cannot handle this kind of defaults See L15 Affected Rails versions 5 x upto current,,vipulnsward,2017-06-13 15:24:25,2017-06-14 20:55:35
PR,Allow translate default option to accept an array similar to i18n t,Fixes 29441,,"vipulnsward,rafaelfranca,vipulnsward,rafaelfranca",2017-06-14 19:38:18,2017-06-14 20:55:35
IS,Ruby on rails,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2017-06-15 02:49:45,2017-06-15 03:26:55
PR,Prevent extra sync with transaction state,sync with transaction state in to key is unneeded because id also does,,kamipo,2017-06-14 20:48:52,2017-06-15 04:18:16
PR,Allow uuid test rb to be loaded on all adapters,Running bin test from the activerecord directory produces this error since test cases adapters postgresql uuid test rb 43 in class PostgresqlUUIDTest ' undefined method supports pgcrypto uuid ' for ActiveRecord ConnectionAdapters SQLite3Adapter 0x007fc405e72a68 NoMethodError The test only actually runs on the PostgreSQL adapter by waiting until then to decide whether to skip it we can avoid triggering the error on other adapters,,"eugeneius,yahonda,eugeneius,yahonda,rafaelfranca,eugeneius,eugeneius",2017-06-10 23:28:29,2017-06-15 04:18:39
PR,Update working with javascript readme to support rails ujs behaviour,Summary Small addition to the Docs about current Rails ujs event handlers As was discussed in the next stories it would be good to have such description Please Note Stoppable event in rails ujs does not work so I did not add documentation about them Stoppable Events stoppable events Thanks,,"vipulnsward,vipulnsward,vipulnsward,vipulnsward,vipulnsward,vipulnsward,vipulnsward,vipulnsward,vipulnsward",2017-06-13 15:47:31,2017-06-15 07:45:55
IS,Removed method association force reload false present in docs,Steps to reproduce Error in documentation Expected behavior N A Actual behavior The documentation for the ActiveRecord Associations auto generated methods still describe other force reload true as a valid way to call that method This behaviour was deprecated in Rails 5 0 per 20888 and removed with Rails 5 1 Have so far found references to this in L345 also lines 355 1190 1410 1542 1704 From what I can tell the method now takes no parameters and an additional method reload association has been added that mirrors the old functionality when called with a truthy parameter System configuration Rails version 5 1 1 Ruby version 2 4 0p0,,,2017-06-15 08:36:38,2017-06-15 10:21:44
PR,Remove deprecated option from docs ci skip,Fixes 29458,,vipulnsward,2017-06-15 10:21:28,2017-06-15 10:21:44
PR,Allow mailers to configure their delivery job,Setting delivery job on a mailer class will cause MessageDelivery to use the specified job instead of ActionMailer DeliveryJob class MyMailer ApplicationMailer self delivery job MyCustomDeliveryJob end Summary In some situations a user may want to configure the delivery job in order to have better control over errors For example retrying the job when deserialization fails due to replica databases not being up to date This adds an option to each mailer class that can be configured to handle such behavior,,,2017-06-15 07:30:40,2017-06-15 12:02:47
IS,Inconsistent behavior between save and save when unsetting object id on a new record,If you make a new model object foo and manually set foo id to a value that is already in use then call foo save or foo save you will get an ActiveRecord RecordNotUnique error as expected However if you then set foo id nil and call foo save you will get another ActiveRecord RecordNotUnique error The SQL statements will show that Rails still uses the id from before On the other hand if you set foo id nil and call foo save the record is saved with an automatically assigned id as expected Test case The first test passes but the second one fails This behavior happens on Rails 5 0 2 and on 5 1 0 beta1,,"eugeneius,eugeneius",2017-03-03 21:20:17,2017-06-15 12:03:42
PR,Add test cases for 28274,object id is correctly restored since 29378 has merged Closes 28274 Closes 28395,,kamipo,2017-06-14 21:44:03,2017-06-15 12:03:42
PR,Sync transaction state when accessing primary key,Fixes If a record is modified inside a transaction it must check the outcome of that transaction before accessing any state which would no longer be valid if it was rolled back For example consider a new record that was saved inside a transaction which was later rolled back it should be restored to its previous state so that saving it again inserts a new row into the database instead of trying to update a row that no longer exists The id L19 and id L26 methods defined on the PrimaryKey module implement this correctly but they are almost always overridden by dynamically defined attribute methods Those attribute methods must also check the transaction state if they are the record is primary key,,"eugeneius,matthewd,eugeneius,eugeneius,kamipo",2017-03-13 02:12:55,2017-06-15 12:03:42
IS,Problem overriding association proxy methods,Rails 5 0 3 wo not override ActiveRecord Associations CollectionProxy methods with the ones that can be defined inside the block of the has many macro The same code works in Rails 5 0 1 and 5 0 2 Steps to reproduce An executable test case Expected behavior Adding the build method to the anonymous module should have overridden the ActiveRecord Associations CollectionProxy build method Actual behavior ActiveRecord Associations CollectionProxy build method does not get overridden System configuration Rails version 5 0 3 Ruby version 2 2 7,,"kamipo,kamipo",2017-06-15 12:06:02,2017-06-15 15:00:12
IS,Assets on the precompile list compiling on first request,Steps to reproduce Our application has quite a few assets on the precompile list that used to be compiled on demand if the current page specifically asked for them As of Rails 4 2 sprockets 3 7 it appears all assets on the precompile list are precompiled on the first request which slows down the first request by an incredible amount We used to be able to make the first request in 30 seconds It now takes 10 minutes Did this behavior intentionally change as of sprockets 3 Expected behavior Assets on the precompile list should not all be compiled on the first request System configuration Rails version 4 2 8 Ruby version 2 4 1,,"henrik,henrik,rafaelfranca,henrik",2017-06-02 00:00:18,2017-06-15 16:04:52
IS,Dumping schema without migrations produced invalid SQL,Doing rails db structure dump with schema migrations when latter has no rows produces invalid insert statement in structure sql at least with PostgreSQL I believe the bug was introduced here Steps to reproduce Create rails app with config active record schema format sql create database kill all records if there are any from schema migrations completely valid situation when working with legacy databases and run rails db structure dump Expected behavior Schema insert statements should be skipped if there are no records to produce Actual behavior SQL produced INSERT INTO schema migrations version VALUES System configuration Rails 5 0 3 Ruby 2 4 1p111,,,2017-06-15 10:34:07,2017-06-15 20:33:40
PR,Fix dump schema information with empty versions,Fixes 29460,,kamipo,2017-06-15 10:51:49,2017-06-15 20:33:40
PR,Do not map id to primary key in raw write attribute,The raw write attribute method is used to update a record is attributes to reflect the new state of the database in update columns The hash provided to update columns is turned into an UPDATE query directly which means passing an id key results in an update to the id column even if the model uses a different attribute as its primary key When updating the record we do not want to apply the id column change to the primary key attribute since that is not what happened in the query Without the code to handle this case write attribute with type cast no longer contains any logic shared between raw write attribute and write attribute so we can inline the code into those two methods,,eugeneius,2017-06-15 12:13:00,2017-06-15 20:44:43
PR,ActiveModel Improve the performance of mass assignments,Summary Improve the performance of ActiveModel initializer with removing duplicated string object generation Other Information simple benchmarks for ActiveModel new 1 2x faster than the current implementation,,"rafaelfranca,kaspth",2017-06-14 01:38:22,2017-06-15 22:12:29
PR,Document setting the delivery job for ActionMailer ci skip,Summary Document functionality added in 29457,,,2017-06-16 01:14:17,2017-06-16 01:17:03
PR,Don t let to use remove column for a FK column,As mentioned by in the Campfire I'm thinking that remove column should catch the exceptions and explain that you should use remove reference And remove reference should do the work of removing the FK as well I agree that instead of crashing with Mysql2 Error we should explain developers that to remove a FK column they should use remove reference,,"kirs,rafaelfranca,rafaelfranca,matthewd,kirs,dhh,kirs,guilleiguaran",2017-06-08 20:14:16,2017-06-16 02:03:56
IS,actioncable can not connect in rails5 1,Steps to reproduce our project want to convert rails5 0 to rails5 1 but meet some problems in actioncable Expected behavior The problem is that the find verified user method can not used Actual behavior The former code System configuration Rails version rails5 1 Ruby version ruby2 3 3,,,2017-06-16 06:40:50,2017-06-16 06:43:22
PR,5 1 stable,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-06-16 04:04:03,2017-06-16 08:04:02
PR,Add teardown to reset connection at MysqlTypeLookupTest,This issue addresses one of random failure at unlock minitest branch Summary Restore emulate booleans value every test at Mysql2BooleanTest to avoid random failures at Mysql2BooleanTest test column type without emulated booleans It is likely due to Mysql2BooleanTest changes emulate booleans value to non default one but does not restore to original value in every tests Steps to reproduce 1 Install Vagrant 2 At your host System configuration Rails version unlock minitest branch Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux gnu,,"yahonda,yahonda,matthewd,yahonda,yahonda",2017-06-07 01:37:16,2017-06-16 13:43:17
IS,Make new Rails apps not generate long lines,Rails itself is one of many gems that now use rubocop to enforce consistent styling We may be approaching a point where it is time to make new rails apps include rubocop in their Gemfile and generate some reasonable default rubocop configuration However that is a conversation for a different time Before we get there as the Ruby community trends towards enforcing consistent styling on individual projects it is becoming more common that one of the first things people do when they generate a Rails app is add Rubocop I can not speak for everyone but the team I work with has definitely been moving in this direction It would save us time if the generated app was more consistent with a default rubocop configuration To be fair while there are a handful of rubocop cops that a new Rails app violates some are a matter of debate Prefer single quoted strings inside interpolations Use nested module class definitions instead of compact style and others can easily be autocorrected so I do not think we need to worry about those However I think one thing most would agree about is a maximum line length Rubocop recommends no more that 80 characters per line and Rails itself follows this default So I think it is fair that the apps that Rails generates should also follow this default Let me know if the Rails core team agrees and I will gladly prepare a PR Steps to reproduce System configuration Rails version 5 1 1 Ruby version 2 3 4,,"rafaelfranca,rafaelfranca",2017-06-16 15:53:33,2017-06-16 16:15:35
PR,Add teardown to reset connection at MysqlTypeLookupTest,Summary This pull request addresses random failures of Mysql2BooleanTest test column type without emulated booleans at unlock minitest branch I have closed 29379 unintentionally by removing the corresponding branch Then reopened this one Steps to reproduce,,yahonda,2017-06-16 13:52:49,2017-06-16 16:23:42
PR,x,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-06-16 17:05:43,2017-06-16 17:10:25
PR,Log subscriber avoid rescuing certain exceptions,Summary I have encountered an issue with ctrl c failing to have the intended interrupt effect due to over broad rescuing and insufficient checking this is the error when I hit ctrl c to address this I have added the check if logger around the logger error call in the rescue it is not quite clear to me how this happens given that if logger is already checked before anything happens but apparently logger is somehow getting unset during that call before the Interrupt is raised that is insufficient however since the Interrupt should not actually be rescued in the first place so I have added a module derived from that is to say identical to one from rspec which avoids rescuing exceptions that should not be rescued I think that this module should probably replace nearly all instances of rescue Exception in the codebase actually the number of rescue Exception instances I see around the code is rather surprising but I will start with this one and see what feedback I get before looking more broadly,,"matthewd,matthewd,josevalim,rafaelfranca",2017-05-18 23:15:47,2017-06-16 17:36:05
PR,Add the app root test dir to the LOAD PATH as a string,Rails 5 0 L6 used to add the app root test as a string this behaviour changed in rails 5 1 and it is now appending a Pathname object Not sure if this requires a test happy to add one if so,,"Edouard-chin,Edouard-chin,rafaelfranca",2017-06-16 17:54:21,2017-06-16 18:47:40
PR,Remove references to deprecared raise runtime errors from documentation,Ref and,,"vipulnsward,rafaelfranca,vipulnsward",2017-06-16 21:33:31,2017-06-16 21:35:38
IS,Documentation still refers to config assets raise runtime errors,I can not seem to find it used anywhere in the source code of rails sprockets or sprockets rails I even grepped all installed gems and could not find it being used anywhere later than sprockets rails 2 3 3 Steps to reproduce System configuration Rails version 5 1 1 Ruby version 2 4 0,,vipulnsward,2017-06-16 20:18:40,2017-06-16 21:36:34
IS,ActiveRecord 'after commit on create' is incorrectly called on update and creates an infinite loop,In Rails ActiveRecord i'm seeing a possibility for infinite loop on 'after commit on create' callback when we try to update the same object inside 'after commit on create' callback method itself On the below script the User creation works fine But on the Admin creation the callback is called again when I trigger an update of the object on the callback method itself Steps to reproduce System configuration AR version activerecord 5 1 1 Ruby version ruby 2 3 1p112 I have tried this also with activerecord 4 2 8,,"eugeneius,vipulnsward",2017-06-15 12:55:57,2017-06-16 22:10:33
PR,Use nullable id column instead of a primary key,id column in subscribers was added as a primary key for ignorable in INSERT But it caused NotNullViolation for oracle enhanced adapter I changed the column to nullable to address the issue Could you test the branch on oracle enhanced adapter,,"kamipo,yahonda,yahonda,rafaelfranca",2017-06-16 01:07:44,2017-06-16 23:25:19
IS,Actioncable not working on production enviroment,Hi I have an actioncable application development and production enviroments locally in my machine works fine but when and deploy to production my app does not call perform action on channels coffee files isend message' message message room id room id Is never executed in production enviroment System configuration Rails version 5 1 1 Ruby version 2 3 1 Puma Version 3 9 1,,"rafaelfranca,rafaelfranca,matthewd",2017-06-12 14:04:23,2017-06-16 23:41:29
PR,Do not require 'unscope' to be the same on both sides of an 'or' relation,When trying to or on top of a scope that had both where and joins I had the grand idea to use the scope on both sides and just unscope the existing where on the side I wanted a different condition this gave me the error Relation passed to or must be structurally compatible Incompatible values unscope which seemed to be a bug I have included tests for allowing unscoping where both ways and ensuring that if I unscope e g order on only one side its becomes structurally incompatible and if I unscope e g order that was only appearing on one side then it would be structurally compatible The actual code change feels almost too easy as it is a one symbol change it does not feel like it justifies a changeling entry,,matthewd,2017-06-15 10:45:20,2017-06-17 00:21:33
PR,Fix create table with query from relation,If a relation has binds connection to sql relation without binds will generate invalid SQL It should use relation to sql in that case,,kamipo,2017-06-13 02:05:44,2017-06-17 00:28:13
PR,Raise on create for singular association when parent is unpersisted,A collection association will raise L350 on create association when the parent is unpersisted A singular association should do the same This addresses issue 29219,,"alexcameron89,alexcameron89",2017-06-08 21:24:32,2017-06-17 00:38:32
IS,create association does not insert foreign key to database,create association method defined by has one insert association to database without foreigh key System configuration Rails version master 5 1 1 Ruby version 2 4 1,,"willnet,alexcameron89,willnet,willnet,alexcameron89",2017-05-25 07:39:22,2017-06-17 00:39:13
PR,Remove FK together with column in MySQL,This is a successor of Unlike other databases MySQL does not let you remove the column if there is a FK on it For better developer experience we should remove the FK together with the column when migration runs remove column,,"kirs,matthewd,kirs,kirs,guilleiguaran,dhh",2017-06-15 02:41:40,2017-06-17 01:54:27
PR,Remove unused defined association,belongs to developer on Comment model was added in 431f8e0 but it is unused,,kamipo,2017-06-11 13:10:56,2017-06-17 01:55:56
PR,ci skip Update fedora SQLite3 package name,Summary This updates the documentation for installing SQLite3 on Fedora Other Information The current documentation suggests running sudo yum install sqlite3 sqlite3 devel but those packages have been renamed Currently,,"utilum,utilum,vipulnsward,vipulnsward,utilum",2017-06-17 10:41:59,2017-06-17 10:52:24
IS,Setting cache store in initializer not working,Steps to reproduce In Rails 4 2 7 I had moved my cache store initialization into an initializer from application rb I was using Expected behavior I would expect that initializing the cache store in an initializer would set the cache store being used since it seems like the guidance is to start using initializers more than putting everything into application rb System configuration Rails 5 1 Ruby 2 4 1p11 Redis Rails 5 0 2,,vipulnsward,2017-06-17 19:07:57,2017-06-17 19:21:16
PR,Fixes FIXME rb inotify 0 99 has been released,Summary,,"utilum,rafaelfranca,utilum,rafaelfranca,matthewd,utilum",2017-06-17 17:01:25,2017-06-17 19:57:07
IS,Creating records with default datetimes creates but does not set the value in the new object,When creating records of a model with a default time migration such as System configuration Rails version 5 0 1 Ruby version 2 4 0 More info Same result on sqlite and postgres,,"rafaelfranca,al2o3cr,rafaelfranca",2017-02-28 22:11:20,2017-06-18 02:10:46
PR,Remove debug print,This debug print was added in 87f5e5e for finding the regression caused by d314646 and the regression has already been fixed in 969339b,,kamipo,2017-06-18 05:21:32,2017-06-18 14:06:25
IS,Possible Rails 5 regression in PostgreSQL jsonb dirty check when key order changes,Possibly due to the same reason as for PostgreSQL is HStore columns Steps to reproduce The test below fails on Rails master and 5 0 2 but passes on 4 2 Note however that it is possible it passes in Rails 4 2 due to other bugs related to in place change detection of jsonb columns not working properly in 4 2 Expected behavior Assigning equal hashes to a jsonb column would not mark the record as changed even if the key order differs between the two hashes Actual behavior The jsonb attribute is marked as dirty when assigning an equal hash but with a different key order than the one stored in the DB The problem is that jsonb in PostgreSQL has an undefined order of object keys but Jsonb changed in place compares hashes in their serialized form L16 L17 and for certain combinations of key ordering Rails will always consider the value as changed This seems to have been fixed for HStore in System configuration Rails version master and 5 0 2 Ruby version 2 3 3 on macOS PostgreSQL version 9 6 2,,maclover7,2017-04-14 11:11:20,2017-06-18 14:14:40
PR,Add a test case for 28754,A part for JSON was splitted from 28416 as 29273 and 29273 has already been merged Closes 28754 Closes 27588,,kamipo,2017-06-18 04:41:14,2017-06-18 14:14:40
PR,PostgreSQL JSONB columns do not preserve the key order of hashes,Summary PostgreSQL JSONB columns do not preserve the key order of hashes Due to this setting a JSONB column to the same hash twice can cause model changed to return false positives,,"maclover7,maclover7,rafaelfranca",2017-01-06 10:19:23,2017-06-18 14:14:40
IS,ActionController HttpAuthentication Token token and options parses the Authorization header unexpectedly,Rails 5 0 0 1 Ruby 2 3 3p222,,pixeltrix,2017-02-24 12:50:04,2017-06-19 02:42:10
IS,update attribute Updating more than one attribute,Steps to reproduce On UserModel for example I have a method Expected behavior When I execute UpdateToken I wish rails update only column A and B Actual behavior But instead Rails updated Column A and on the second update attribute it updates Column B and Column C setting it to nil System configuration Rails version 5 1 1 Ruby version 2 4 0p0,,vipulnsward,2017-06-18 19:26:07,2017-06-19 12:06:19
PR,Fix examples for AC Parameters to query ci skip,Without permit AC Parameters to query raise AC UnfilteredParameters,,"y-yagi,vipulnsward,y-yagi,vipulnsward",2017-06-19 12:52:42,2017-06-19 13:09:50
PR,CI against JRuby 9 1 12 0,JRuby 9 1 12 0 has been released,,koic,2017-06-19 01:55:45,2017-06-19 18:47:07
PR,Deprecate an capify method in generators and templates,The capify command has been removed by Capistrano 3 and became to cap install Therefore the capify method has no meaning in Capistrano 3 I think that should deprecate Ref,,"y-yagi,vipulnsward,y-yagi",2017-06-18 07:22:30,2017-06-19 20:07:11
PR,Fix regression caused by collection singular ids ignoring different,primary key on relationship There was a regression caused by my commit here 27566 Calling model association ids 1 2 if 1 or 2 is already in the association ids caused ActiveRecord RecordNotFound to be raised when it should not be I used what was already on master here L58 An executable gist that shows this is here P S Thanks to for pointing this out,,"rafaelfranca,lukaszx0",2017-04-27 05:41:24,2017-06-19 20:50:54
PR,Refactor insert fixtures to use Arel,This PR refactors insert fixtures to use Arel instead of manually concatenating SQL strings This will be the first step towards inserting all fixtures with a single SQL query with Arel,,"kirs,rafaelfranca,kirs",2017-06-17 01:42:05,2017-06-19 21:05:18
PR,Prevent extra scope construction in find target,Because constructing scope is a little expensive,,kamipo,2017-06-18 11:04:48,2017-06-19 21:43:59
IS,Query Cache is not used in v5 0 x and v5 1 x for Model exists queries,Steps to reproduce,,"vipulnsward,vipulnsward,tjschuck,vipulnsward",2017-06-14 15:54:30,2017-06-19 21:49:35
PR,Fix Relation exists queries with query cache,If a connection adapter overrides select methods query caching will does not work This patch changes select value to select one in Relation exists to ensure query caching Fixes 29449,,"kamipo,matthewd,vipulnsward,kamipo,tjschuck",2017-06-15 02:21:46,2017-06-19 21:49:35
PR,nodoc AC Connection WebSocket,Users should never publicly be interacting with an instance of this The instance that comes along with an AC Connection Base instance the only thing a user should be working with is itself intended to be private L137 L140 ci skip,,tjschuck,2017-06-16 22:36:36,2017-06-19 21:55:12
PR,Use of ParameterFilter no longer forces request filtered parameters' class to be Hash,Tests Summary Fixes issue described on 27944 Use of ParameterFilter changes request filtered parameters class to Hash filtered query string used an Array representation of what semantically is a key value pair better suited for a Hash Without this change filtered params original params class new returns an Array with unintended consequences,,,2017-02-13 23:29:43,2017-06-19 23:53:40
IS,Use of ParameterFilter changes request filtered parameters class to Hash,Steps to reproduce By default all Rails apps are created with an initializer called filter parameter logging rb and its default contents are,,maclover7,2017-02-08 15:10:31,2017-06-19 23:53:47
IS,Passing json params with one param the same name as the controller set as false causes the params object in the contoller to be created in an unexpected way,Steps to reproduce 1 create a new rails project 1 set config routes rb to be as follows System configuration Rails version Rails 5 1 1 Ruby version 2 3 4,,rafaelfranca,2017-06-19 16:06:14,2017-06-20 00:17:35
IS,Etag is not working in Rails 5 anymore always returns 200 OK if query has datetime comparison,Steps to reproduce In model scope active time where active AND expiration date OR expiration date IS NULL true time In controller Also works well in reported method if remove expiration date from the scope So I am assuming it is related to the following change in Rails 5 System configuration Rails version 5 0 0 1 Ruby version 2 2 4p230,,"maclover7,maclover7,lsylvester",2016-11-07 09:04:52,2017-06-20 02:54:54
IS,ActiveSupport TimeZone works incorrectly with DST,Steps to reproduce 3600 Following the online tools the Cassablanca is time is currently ahead of UTC by 1 hour and that explains why the offset is 3600 however why ActiveSupport TimeZone 0 gives me Cassablanca Expected behavior I think it could just set the time to UTC that works right if I do it manually or return any timezone with no offset like Actual behavior It sets the time zone to Casablanca is which ends up with 3600s offset right now System configuration Rails version 4 2 8 Ruby version 2 3 3,,jeremy,2017-05-04 11:10:49,2017-06-20 08:22:39
PR,prepare for Minitest 6,Prevent warning DEPRECATED Use assert nil if expecting nil from home oz code rails activesupport test core ext duration test rb 318 This will fail in Minitest 6,,"utilum,bogdanvlviv,rafaelfranca,bogdanvlviv,utilum,utilum",2017-06-20 04:51:39,2017-06-20 15:19:10
PR,Add test cases for optimistic locking,Add test to ensure that locking column cannot be updated explicitly Add test to prevent regression on creating new object with explicit value locking column Related to 28318 hr Clean up 'Optimistic Locking' implementation hr cc,,"bogdanvlviv,rafaelfranca,rafaelfranca,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,rafaelfranca,bogdanvlviv,bogdanvlviv,rafaelfranca,rafaelfranca,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,rafaelfranca",2017-04-22 11:30:39,2017-06-20 15:27:18
IS,Make sanitize sql for assignment public,Steps to reproduce I want to execute a raw SQL query and pass it user generated parameters I will execute a query with ActiveRecord Base connection execute query But first I will sanitize the parameters Expected behavior To sanitize parameters I would expect to have a convenient method for sanitizing such as ActiveRecord Base sanitize sql for assignment query params Actual behavior Fortunately there is a method for sanitizing sql queries however it is private Even the docs method i sanitize sql for assignment have an example on how to use it and advise to use it with send Post send sanitize sql for assignment name nil group id 4 If it is advised in the docs it should not be private I believe it is a perfectly valid use case to execute raw SQL and to sanitize it first so I do not see a reason to make it private I would do this also for sanitize sql for conditions and sanitize sql for order System configuration Rails version 5 0 3 Ruby version 2 3 1,,"rafaelfranca,alexcameron89",2017-06-20 07:51:26,2017-06-20 15:35:46
PR,Fix current page helper issue with engine root path,Summary Solving for I just figure out that we need to clean request uri as well as url string,,"rafaelfranca,rafaelfranca",2017-06-19 22:07:41,2017-06-20 15:37:49
IS,current page method returns false for engine root path,Say I have mounted an engine in my routes file This would also be a more robust solution should there be other situations where the path returned by request path or request full path ends with a slash I am on Rails version 5 1 1 and Ruby version 2 3 1,,,2017-06-09 15:54:57,2017-06-20 15:45:51
PR,improve readability on important methods base mailer,Just some minor changes to ease the reading of important methods of actionmailer lib base rb file Plus the check on args could be a nil or a value so I added the present method to check it,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-06-20 15:34:43,2017-06-20 16:47:15
PR,Use bulk INSERT to insert fixtures,This patch improves the performance of inserting fixtures from O n to O 1 Previously it would require 50 queries to insert 50 fixtures into one table Now it takes only one query per table Disabled on sqlite which does not support multiple inserts Some benchmarks While 1k fixtures may sound unrealistic at Shopify scale we have hundreds of tables each having up to 100 fixtures In our app this patch dramatically improved the performance of test helper This patch would be especially helpful for those apps who use fixtures all I heard it is the case for Basecamp too Closes,,"kirs,kirs,kirs,kirs,Envek,kirs,kirs",2017-06-20 03:00:16,2017-06-20 18:08:45
PR,Update README md,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-06-20 19:58:37,2017-06-20 19:59:08
PR,Updates README on rails internal dev tools,Summary Adds missing minor doc about tools test rb and minor typo fix regarding the same file Other Information I'm fine if this does not get merged as I'm not sure if the change qualifies more under documentation even for internal Rails dev tools or more of just a cosmetic change I just wanted to save someone the trouble of looking a few files deeper in order to get what the said file is for Other files in the same directory have a brief explanation so I thought it would make sense to write a bit about tools test rb as well I currently just wanted to get this out of the way while resolving another rails issue that is unrelated to this change,,,2017-06-20 20:07:25,2017-06-20 20:12:48
PR,Fix destroy with locking column value null,Fix destroying existing object does not work well when optimistic locking enabled and locking column is null in the database Follow 22a822e5813ef7ea9ab6dbbb670a363899a083af 28914,,"bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv",2017-04-29 08:32:23,2017-06-20 21:41:00
PR,Fix ActiveRecord Persistence touch with locking,ActiveRecord Persistence touch does not work well when optimistic locking enabled and locking column without default value is null in the database Follow 22a822e5813ef7ea9ab6dbbb670a363899a083af 28926,,"bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv",2017-04-27 21:35:23,2017-06-20 22:48:51
IS,api rubyonrails org doc has a typo,Just a typo is need to be but here is link method i 3C 3D 3E img width 524 alt 2017 06 21 10 08 34 src,,kamipo,2017-06-21 02:14:42,2017-06-21 02:55:24
IS,Failure to save PostgreSQL Array Column,Steps to reproduce Setup a migration and migrate the database System configuration Rails version 5 0 3 Ruby version 2 2 3 NOTE I read maybe newer versions of rails had some fixes for pg arrays But when I tried reproducing after upgrading to rails 5 1 0 I ran into private constant User ActiveRecord Associations CollectionProxy referenced,,"alexcameron89,kirs",2017-06-18 21:02:30,2017-06-21 12:46:47
PR,Avoid begin rescue in fixture quoting,Scalar values like arrays and hashes can not be inserted directly into table Previously the way to determine if the value is scalar was to try quoting it If quote raised with an error than the value has to be converted to YAML This flow is not very obvious Ideally we could have a quotable method in the connection but I think that we can avoid begin rescue block by simply checking if the value is Array or Hash related,,"kirs,kirs",2017-06-21 03:31:17,2017-06-21 18:26:45
IS,ActiveRecord StatementInvalid UndefinedTable When Preloading Has Many Through with Scope,Steps to reproduce Note a similar exception is raised when using has and belongs to many Expected behaviour The preload to execute something like System configuration Rails version 5 0 2 Ruby version 2 4 0,,,2017-03-16 00:26:44,2017-06-22 03:33:53
PR,Remove unused variable,This fixes the following warnings,,y-yagi,2017-06-22 00:14:35,2017-06-22 04:21:19
IS,PGconn PGresult and PGError constants are deprecated,I could not find another issue about this sorry if it has already been addressed Using both Rails 5 1 0 and 5 1 2 rc1 I get the following message on boot My pg version is 0 21 0 Downgrading to 0 20 makes the warning go away,,"y-yagi,y-yagi",2017-06-21 19:15:50,2017-06-22 04:25:30
PR,Fix hash conditions documentation,The guides state that symbols cannot be used as hash values which is untrue For example in the Rails enum documentation symbols are being used Conversation where not status active,,kamipo,2017-06-22 04:17:43,2017-06-22 06:35:13
PR,Do not use private API in bug report templates,ActiveRecord Migrator is private API L977 Therefore it is not good to use it in bug report templates Instead should use the public API ActiveRecord Migration migrate,,y-yagi,2017-06-21 23:22:10,2017-06-22 12:48:38
PR,Add a if condition to avoid a NoMethodError,Summary I got an error when I build an API server Other Information The stack traces are as follows My situation is a bit weird actually I'm using ActionController Base instead of ActionController API because a gem depends on it I assume that is why this error happens environment Rails 5 1 1 ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin15,,"eileencodes,eileencodes",2017-06-21 05:02:33,2017-06-22 13:37:09
IS,Unable to start server,i am using rbenv my rails version is 5 1 1 my ruby version is 2 4 1 When i run rails s command i got following one liner error Segmentation fault core dumped i have tried to reinstall ruby try to start server using bundle exec rails s bundle update but still getting error Only rails v command is working fine any other rails command is not working,,"meinac,meinac,eileencodes",2017-06-22 10:52:12,2017-06-22 14:26:37
IS,rails5 1 can not connected actioncable,Steps to reproduce our project want to convert rails5 0 to rails5 1 but meet some problems in actioncable Expected behavior The problem is that the find verified user method can not used Actual behavior The former code System configuration Rails version rails5 1 Ruby version ruby2 3 3,,"palkan,palkan,eileencodes",2017-06-16 06:44:51,2017-06-22 14:29:27
IS,HABTM Association Default Join table naming is not as expected,source code link L14 Steps to reproduce Regex being Used in the source option anytime but we have to be more explicit in the code System configuration Rails version 4 2 8 Ruby version 2 2 2,,"alexcameron89,alexcameron89",2017-06-22 07:32:21,2017-06-22 16:04:47
IS,5 0 4 Cannot delete objects anymore,Steps to reproduce Have an object with relations and try to destroy it Expected behavior The object to be destroyed Actual behavior I'm getting the exception RuntimeError can not modify frozen RiskObject Base ActiveRecord Associations CollectionProxy This did not happen in 5 0 3 We basically offload the destroy of objects to our Sidekiq background workers where we perform some additional checks All these check pass data wise but when calling destroy on the object the Exception is suddenly raised This did not happen before the upgrade If I run our specs on our develop branch they pass On the branch with the upgraded Rails they fail System configuration Rails version 5 0 3 Ruby version 2 3 3,,"alexcameron89,alexcameron89",2017-06-21 14:17:19,2017-06-22 19:35:01
PR,Caching for speed is a tricky misnomer,Summary Folks always shout about Caching is not about speed and they are right it is not It is about stopping your application needing to do slow things multiple times This might not be the right wording but can we do something like this to stop pretending its about unicorns and rainbows,,schneems,2017-06-22 16:52:15,2017-06-22 23:10:12
PR,Fix actionpack CHANGELOG md for v5 1 2 release,Tiny fix for the changelog This feature will be added in Rails 5 2 cc,,"mikeycgto,kamipo",2017-06-23 03:33:05,2017-06-23 05:10:41
PR,Remove unused COMPONENT ROOT in bin test,COMPONENT ROOT is no longer used since 6673cf70,,"kamipo,bogdanvlviv,kamipo,bogdanvlviv",2017-06-23 05:59:10,2017-06-23 06:38:01
PR,Fix typo in AC UnfilteredParameters message ci skip,Ref L52 L56,,"y-yagi,kamipo",2017-06-23 06:37:57,2017-06-23 06:59:44
IS,Rails update from 5 0 0 to 5 1 1 assets in public folder not found,Steps to reproduce I update a project from Rails 5 0 0 to Rails 5 1 1 This project is not using the webpacker gem but puts the assets with it is own webpack procedure into the public folder Expected behavior With Rails 5 0 0 I was displaying images in my views with image path user favicon png localhost 3000 images user favicon png Actual behavior In Rails 5 1 1 when I do the same I get Sprockets Rails Helper AssetNotFound for image path user favicon png Which helpers should I use to access the assets in the public folder with Rails 5 1 1 Thanks Thanks to all maintainers You are doing an amazing job,,y-yagi,2017-06-22 14:34:31,2017-06-23 09:44:44
IS,cruby so cannot be loaded while starting the server,Steps to reproduce Run rails server Expected behavior C Users jianh sistem tugas akhir rails s Booting Puma Rails 5 0 4 application starting in development on 3000 Run rails server h for more startup options Exiting Actual behavior C Users jianh sistem tugas akhir rails s Booting Puma Rails 5 0 4 application starting in development on 3000 Run rails server h for more startup options Exiting C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 5 0 4 lib active support dependencies rb 293 in require' 1114 A dynamic link library DLL initialization routine failed C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 extensions x86 mingw32 2 2 0 bindex 0 5 0 bindex cruby so LoadError from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 5 0 4 lib active support dependencies rb 293 in block in require' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 5 0 4 lib active support dependencies rb 259 in load dependency' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 5 0 4 lib active support dependencies rb 293 in require' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems bindex 0 5 0 lib bindex rb 7 in top required ' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 5 0 4 lib active support dependencies rb 293 in require' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 5 0 4 lib active support dependencies rb 293 in block in require' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 5 0 4 lib active support dependencies rb 259 in load dependency' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems activesupport 5 0 4 lib active support dependencies rb 293 in require' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems web console 3 5 1 lib web console railtie rb 9 in blo ck in class Railtie ' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails initializable rb 30 in insta nce exec' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails initializable rb 30 in run' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails initializable rb 55 in block in run initializers' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 226 in block in tsort each' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 348 in block 2 levels in each strongly connected com ponent' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 429 in each strongly connected component from' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 347 in block in each strongly connected component' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 345 in each' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 345 in call' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 345 in each strongly connected component' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 224 in tsort each' from C RailsInstaller Ruby2 2 0 lib ruby 2 2 0 tsort rb 203 in tsort each' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails initializable rb 54 in run i nitializers' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails application rb 352 in initia lize ' from C Users jianh sistem tugas akhir config environment rb 5 in top required ' from C Users jianh sistem tugas akhir config ru 3 in require relative' from C Users jianh sistem tugas akhir config ru 3 in block in main ' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems rack 2 0 3 lib rack builder rb 55 in instance eval' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems rack 2 0 3 lib rack builder rb 55 in initialize' from C Users jianh sistem tugas akhir config ru in new' from C Users jianh sistem tugas akhir config ru in main ' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems rack 2 0 3 lib rack builder rb 49 in eval' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems rack 2 0 3 lib rack builder rb 49 in new from string' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems rack 2 0 3 lib rack builder rb 40 in parse file' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems rack 2 0 3 lib rack server rb 319 in build app and op tions from config' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems rack 2 0 3 lib rack server rb 219 in app' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails commands server rb 84 in app ' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems rack 2 0 3 lib rack server rb 354 in wrapped app' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails commands server rb 148 in lo g to stdout' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails commands server rb 102 in st art' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails commands commands tasks rb 90 in block in server' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails commands commands tasks rb 85 in tap' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails commands commands tasks rb 85 in server' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails commands commands tasks rb 49 in run command ' from C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 gems railties 5 0 4 lib rails commands rb 18 in top required ' from bin rails 4 in require' from bin rails 4 in main ' System configuration Rails version 5 0 4 Ruby version 2 2 6p396,,"robin850,schneems",2017-06-23 16:06:23,2017-06-23 16:32:32
IS,Rails Application Controller Time zone now not working defaults to year 2000,Steps to reproduce Greetings everyone I am currently on chapter 11 of the Ruby on Rails tutorial At the moment I am trying to get the Time zone now to work On the console everything is working when I enter Time zone now 2 4 0 007 Time zone now Fri 23 Jun 2017 22 34 33 UTC 00 00,,,2017-06-23 22:43:23,2017-06-24 05:31:12
PR,Guides Clarify partial local variable naming,Clarify the partial local variable name as being the same as the name of the partial minus the leading underscore Summary The local variable of a partial foo is foo which is the same name as the partial minus the leading underscore Clarify the documentation since underscores in general can exist within the filename and are not omitted in the local variable name For example partial foo bar has the local variable foo bar Thank you for entertaining my minute pull request and all things Rails ci skip,,kamipo,2017-06-24 05:49:52,2017-06-24 06:37:56
PR,Removed reference to unexisting methods,get post via redirect xhr and his alias xml http request were respectively removed in 092033d59f7e2b248f6c6ab6c0b67339c5e9f2df and eb52e5d42fbdc9288925a402dcb3c5664d1125b7,,"Edouard-chin,kaspth,kaspth,kaspth,Edouard-chin",2017-06-23 19:27:48,2017-06-24 12:33:59
PR,Do not wrap parameters if key already exists,We should not perform parameter wrapping if it would overwrite one of the parameters sent with the request as that would interfere with reading the parameter directly from the top level params hash The current implementation has logic for this case but it does not handle nil false values which means these parameters user nil are transformed into this params hash user user nil and params user no longer returns the original parameter value,,"eugeneius,kaspth,eugeneius",2017-06-24 00:44:01,2017-06-24 12:41:10
IS,Rewrite documentation so it talks about app views application not app views shared,There is quite a bit of documentation in the layout and rendering documentation using the app views shared folder example img width 654 alt screen shot 2017 03 17 at 1 31 51 pm src img width 619 alt screen shot 2017 03 17 at 1 32 02 pm src The problem is there is a much better place to put shared partials app views application It only gets a small bit of the spotlight below shared img width 731 alt screen shot 2017 03 17 at 1 32 22 pm src,,maclover7,2017-03-17 20:35:56,2017-06-24 18:24:00
IS,ActiveRecord Attribute methods are not getting defined on Marshal load,As outlined in the issue If you create your object instance using Marshal load allocate initialize or init with are not called and that results in model not getting defined with attribute methods So things like overriding attribute method breaks This used to work prior to AR 4 2 and broke with this change diff dfe09551f2188457e7e1891d86047c57 I tested this on AR 4 2 but I guess this bug is even present in AR 5 Steps to reproduce According to the issue creation guidelines I am adding the script to reproduce it Expected behaviour If the attribute methods are not defined they should be appropriately defined so things like calling super works in case of overriden methods Actual behaviour Right now due to the attribute not being defined it fails and throws a NoMethodError when method missing from ActiveModel tries to call the original method as the method defined check respond to without attributes method true succeeds in that System configuration Rails version 4 2 7 1 Ruby version 2 1 5,,"maclover7,utilum,utilum,utilum,utilum,utilum,utilum",2016-12-13 19:55:23,2017-06-24 18:24:01
IS,Global vars defined in javascripts folder get lost in production,Steps to reproduce Create a rails app which defines a global var in a javascript file Include javascript in page via a manifest file reference global var in an html page precompile assets run in production and watch for a console error I have created an example app to show the error Expected behavior The global variable should be accessible on the html page Actual behavior A console error occurs Uncaught ReferenceError GlobalVarName is not defined System configuration Rails version 5 1 0 beta1 Ruby version 2 4 0,,,2017-03-14 05:30:12,2017-06-24 18:24:02
IS,last method working weirdly rails,I have an Model named Page and if I try page find 29 details last Detail id 309 followers 785870 follows 0 media count 0 page id 29 created at 2017 03 10 updated at 2017 03 10 23 30 10 why its showing record with id 309 as latest instead of id 379 To clarify I manually updated record with id 309 before this issue I tried to update id '379' but still its showing last record as id 309 moreover I also changed created at type to date from datetime a month ago as I needed it 'm I missing something or its actually weird Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112,,,2017-03-16 20:32:03,2017-06-24 18:24:03
IS,Chained associations do not behave consistently,Steps to reproduce The quick way clone the repo run command rake test Observe that the behavior is different between a persisted model and a none persistent model I have tried to keep the example as basic as possible let me know if you need more information Expected behavior When we are building an ActiveRecord model any associations that are assigned should support the through functionality before being persisted for example the following test should pass Actual behavior What actually happens is the student school returns nil as opposed to the school which is indirectly associated with the teacher System configuration Rails version 4 2 5 2 Ruby version 2 2 3p173,,al2o3cr,2017-02-08 18:31:47,2017-06-24 18:24:04
PR,Add an option to silence puma in system tests,This is motivated by our usage of system test in RSpec Puma lazily boots the first time a system test is used but this causes some unfortunate output to appear in the middle of the user is green dots An example of this can be seen in is comment here issuecomment 309252314 There are alternatives in RSpec where we attempt to intercept the puma boot and prevent the output from being made there but that would involve some monkey patching This seems like a cleaner solution,,"rafaelfranca,eileencodes,matthewd,derekprior,rafaelfranca",2017-06-24 19:51:18,2017-06-24 21:33:08
IS,Default gitignore ignores precompiled packs leading to broken production react apps,Steps to reproduce Create a new rails app with the webpack react flag Create a react component e g sales jsx and mount onto a view Precompile assets rails assets precompile Deploy to production Open in production Expected behavior The app should run fine as in development Actual behavior The app breaks with the following error,,y-yagi,2017-06-24 22:17:47,2017-06-25 10:32:55
IS,Joined table alias filtering unpredictability,Full disclosure I am not sure this is a bug I may just be doing things very wrong but I have never been so frustrated with lack of documentation examples as I am with this I have created a test gist for this here Basically if I have a model that looks like But this will then break the scope when it is used on its own I feel like rails should know which table I am referencing based on the hash that I provide and I should not have to be guessing aliases I have attempted to extract the alias names based on current scope but have been spectacularly unsuccessful probably due to inexperience rails v Rails 5 0 0 1 ruby v ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,,2017-02-19 21:58:11,2017-06-25 19:30:15
PR,Update getting started md ci skip,Update ActiveRecord Migration 5 0 to ActiveRecord Migration 5 1 Summary Update ActiveRecord Migration 5 0 to ActiveRecord Migration 5 1 Other Information Provides consistency If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"eugeneius,schneems,eugeneius",2017-06-26 00:34:51,2017-06-26 01:58:34
IS,rails new with version specified fails if newer version installed,Steps to reproduce Run System configuration Rails version 5 0 2 5 1 1 Ruby version 2 4 0 ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,y-yagi,2017-06-26 04:33:35,2017-06-26 04:49:18
PR,Remove needless gitignore,The dummy application is created under the tmp directory Nothing is created in the test dummy directory L9 I guess that this comment makes it unnecessary r16986711,,y-yagi,2017-06-26 12:40:26,2017-06-26 14:59:51
IS,rollbar rails runner does not work in Rails 5 1 1,Steps to reproduce bundle exec rollbar rails runner puts 'hello' Expected behavior System should output 'hello' Actual behavior bundler failed to load command rollbar rails runner home deployer app shared bundle ruby 2 4 0 bin rollbar rails runner Errno ENOENT No such file or directory rb sysopen home deployer app shared bundle ruby 2 4 0 gems railties 5 1 1 lib rails commands runner rb home deployer app shared bundle ruby 2 4 0 gems rollbar 2 14 1 lib rails rollbar runner rb 39 in read' home deployer app shared bundle ruby 2 4 0 gems rollbar 2 14 1 lib rails rollbar runner rb 39 in eval runner' home deployer app shared bundle ruby 2 4 0 gems rollbar 2 14 1 lib rails rollbar runner rb 30 in block in run' home deployer app shared bundle ruby 2 4 0 gems rollbar 2 14 1 lib rails rollbar runner rb 47 in rollbar managed' home deployer app shared bundle ruby 2 4 0 gems rollbar 2 14 1 lib rails rollbar runner rb 30 in run' home deployer app shared bundle ruby 2 4 0 gems rollbar 2 14 1 bin rollbar rails runner 5 in top required ' home deployer app shared bundle ruby 2 4 0 bin rollbar rails runner 22 in load' home deployer app shared bundle ruby 2 4 0 bin rollbar rails runner 22 in top required ' System configuration Rails version 5 1 1 Ruby version 2 4 0,,,2017-06-26 16:40:11,2017-06-26 16:42:40
PR,Pass structure dump flags structure load flags options before any other,Pass structure dump flags structure load flags options before any other On Mysql some command line options that affect option file handling such as no defaults have to be passed before any other options I believe we should be good passing any options in the structure dump flags and structure load flags config before anything else Ref and Ref 27437 cc,,"Edouard-chin,kirs",2017-06-21 17:58:16,2017-06-26 17:44:23
PR,Rails 5 1 2 rc1 regression Clear offset cache on CollectionProxy reset reload,The offsets cache is used by FinderMethods to cache records found by find nth This cache is cleared in AR Relation reset but not in CollectionProxy reset or CollectionProxy reload Because of this since 29098 calling first find nth etc after calling reload or reset on an association would return a stale record This is an issue both when the full association target is loaded and when the item is loaded in find nth This commit solves the problem by clearing the offsets cache in CollectionProxy reset and CollectionProxy reload The provided two test cases fail without the changes to collection proxy rb Many heart s edit I do not think the CI failure is related,,kamipo,2017-06-21 00:53:37,2017-06-26 18:50:35
PR,Add railtie rb to the plugin generator,Before ref,,,2017-06-26 04:27:41,2017-06-26 18:56:28
IS,association methods do not cache since Rails v5,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report 1 Create a new project with version 5 Expected behavior Tell us what should happen According to this guide controlling caching in Rails console Tag Load ms should only spear once because of caching Actual behavior Tell us what happens instead post tags does not cache and will repeat querying the database every time System configuration Rails version 5 1 1 Ruby version 2 4 1,,"eugeneius,rafaelfranca",2017-06-25 15:02:27,2017-06-26 19:12:49
PR,ci skip Add missing space in security md,,,ydakuka,2017-06-26 19:20:05,2017-06-26 19:31:33
IS,ActiveRecord overridden getter setters not called consistently in FormHelper when validation fails,Steps to reproduce Say we have a model Item for which we want to track a title string and a price integer in cents Writing the price in cents is not logical for the user so we provide override the getter and setter for the price field Expected behavior We expect our overridden methods to always be called and consistently return amounts in dollars while storing an integer value for cents in the database Actual behavior If validation passes this works as expected no problems If validation fails on the other hand say because you forgot to include the title the value gets multiplied by 100 and presented to the user image Now press 'Update Item' image System configuration Rails version 5 0 4 Ruby version 2 3 1,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-06-26 00:55:47,2017-06-26 19:52:01
PR,Remove unnecessary tap call on ActionDispatch MiddlewareStack new,ActionDispatch MiddlewareStack is initialize method is already yields self to block so tap ing on instance is unnecessary,,fatkodima,2017-06-24 16:01:59,2017-06-26 21:08:36
PR,AliasTracker is using the wrong type caster,The AliasTracker seems to be creating Arel Table instances with the wrong type caster While this does not seem to cause any problems that I'm aware of it also does not seem to be correct The behavior seems to have changed in this commit Here is a reproduction case The solution is to pass the type caster of the model you are trying to join to AliasTracker aliased table for,,"rafaelfranca,rafaelfranca,matthewd",2017-02-14 05:24:23,2017-06-26 21:18:37
PR,Ensure that using correct alias tracker,Covering 27994 in tests Closes 27994,,kamipo,2017-06-25 13:05:24,2017-06-26 21:18:37
PR,Extract build scope and predicate builder in Reflection,,,"kamipo,rafaelfranca",2017-06-24 10:28:40,2017-06-26 21:25:18
PR,Fix extracting references via order values to respect quoting,,,kamipo,2017-06-25 17:27:28,2017-06-26 21:25:46
IS,Yarn assets paths are not compiled properly for production,Steps to reproduce Demo Source You can clone the source from above but the steps to recreate are Create a rails app Include a css framework with yarn e g yarn semantic ui css Require it in application css with require semantic ui css semantic min css Add font files in the pipeline but editing assets rb with Rails application config assets precompile svg eot woff ttf Create a view that uses included icon fonts Verify that the app renders as wanted in development Precompile assets Deploy to production Or just use my example app Expected behavior It should display properly as in development img width 125 alt screen shot 2017 06 25 at 3 04 17 am src Actual behavior The icon font did not load and I see a blank square img width 141 alt screen shot 2017 06 25 at 3 04 24 am src Errors on the console show GET warm garden 98956 herokuapp com 1 GET 404 Not Found The path is incorrectly identified as assets themes default assets fonts icons woff Upon browsing through the precompiled assets and checking out for myself I can see that the font is actually at assets semantic ui css themes default assets fonts icons ba0c59deb5450f5cb41b3f93609ee2d0d995415877ddfa223e8a8a7533474f07 woff System configuration,,"rafaelfranca,rafaelfranca",2017-06-24 22:10:48,2017-06-26 21:46:25
IS,after create commit and after update commit alias do not always run when next to each other,Steps to reproduce Create a model X and add this to the model file Expected behavior We would expect the after create commit callback to run and doing stuff should be printed out Actual behavior The after create commit callback does not run and doing stuff is not printed out System configuration Rails version 5 0 4 Ruby version 2 3 1,,"eugeneius,rafaelfranca,rafaelfranca",2017-06-24 01:30:23,2017-06-26 22:32:40
PR,Update redis rb,Add support for passwords to the default redis connector Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"maclover7,rafaelfranca",2017-04-23 15:01:14,2017-06-26 22:43:31
IS,active record calculations error with first or create conditions,if use first or create method for create object with conditions user User where email 'foo bar com' name 'Artemy' first or create and in model User have this code def set num if self num nil max self class maximum 'num' self num max 1 end end executing this query SELECT MAX ms users num FROM ms users WHERE ms users email 1 AND ms users name 2 email foo bar com name Artemy if use simple create user User create email 'foo bar com' name 'Artemy' executing this right query SELECT MAX ms users num FROM ms users first or create conditions adding to calculations query ruby 2 3 0 Rails 5 0 0 1,,,2017-03-15 12:41:13,2017-06-27 03:02:13
PR,Skip instantiating NullPreloader if assoc klass is nil,Simply we can skip instantiating NullPreloader if assoc klass is nil,,kamipo,2017-06-27 09:36:19,2017-06-27 16:22:47
PR,Ignore public assets,Summary This adds public assets to gitignore since this should be compiled in production and the current default configuration ignores public assets but not public packs when webpacker is included in the installation This leads to a scenario where we allow some assets to be compiled but the packs to not be compiled leading to an ambiguous intent As suggested the intent is to gitignore all precompilation in development Other Information This change follows the discussion at with at,,,2017-06-26 23:34:10,2017-06-27 16:26:04
IS,ActiveJob provider job id is not serialized after enqueuing the job,Steps to reproduce Implement job based on ActiveJob Base class with callbacks after enqueue and before perform Callbacks will print out provider job id Expected behavior Both callbacks should print out identical provider job id Actual behavior Only after enqueue callback prints out correct provider job id In before perform provider job id is equal to nil It is probably related to the serialization deserialization code provider job id is not stored in job data In ActiveJob Core deserialize L111 provider job id is mentioned but in ActiveJob Core serialize it is not System configuration Rails version 5 0 0 1 Ruby version 2 3 1p112,,"cristianbica,utilum",2016-09-22 09:48:25,2017-06-27 17:06:41
IS,transform keys returns Hash even if invoked class is an inhertited class,Steps to reproduce class MyHash Hash end obj MyHash new obj obj merge foo bar symbolize keys Expected behavior Class of obj should be MyHash Actual behavior Class of obj is Hash Root Cause Analysis This issue was solved in Rails 4 2 x stable However it has reappeared in 5 x x Fix Line in 4 2 x stable L10 Buggy Line in 5 1 x stable L14 System configuration Rails version 5 1 2 Ruby version 2 4 1,,rafaelfranca,2017-06-27 13:12:09,2017-06-27 17:17:52
PR,transform keys should return self class new,transform keys should return self class new with modifications instead of Hash This enables inherited custom hashes to operate 29590,,rafaelfranca,2017-06-27 13:23:37,2017-06-27 17:18:20
PR,Fix regression with date helper in 5 1 2,It seems that commit was never backported to 5 1 stable and 5 1 2 was released without it causing the issue described in 29582,,rafaelfranca,2017-06-27 16:22:00,2017-06-27 17:20:03
IS,distance of time in hours returns the wrong result,Seems to be a regression in Rails 5 1 2 I have tried reproducing with 5 1 1 and got the expected result Steps to reproduce Easiest to do use the REPL Expected behavior Get 1 hour Actual behavior 12960000 hours System configuration Rails version 5 1 2 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux I can also reproduce it with ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,,2017-06-26 23:19:11,2017-06-27 17:20:10
PR,Allows for other common redis options to be in cable yml by default,Summary Previously the redis adapter for ActionCable accepts only a url as an option While we can follow the redis url scheme it is not documented well enough in the Rails Guides This allows for an alternative setup that is as common as the previous one for the redis gem getting started so people do not occasionally trip up like these Check the commit message for more technical details Other Information There are other options that can be passed to the Redis gem See L8 but did not include them because 1 it might clash with other keys already used in cable config in different context e g driver 2 the problem of how to test them is non trivial at least on top of my head e g path 3 they are uncommon enough that they may warrant changing redis connector on intialization i e ActionCable SubscriptionAdapter Redis redis connector initialization code Also I'm not as familiar with setting up travis yml properly you may want to check if what I did was right I removed instances of the Travis' internal redis service Instead I used redis server using the default settings password in the before script The tests now pass though Let me know if there is anything else I can do,,"rafaelfranca,rafaelfranca",2017-06-22 01:50:54,2017-06-27 17:21:03
PR,Add documentation for ActiveRecord Relation first or create,Summary This adds documentation to the following methods ActiveRecord Relation first or create ActiveRecord Relation first or create ActiveRecord Relation first or initialize Other Information The above methods were added to Rails 3 2 as per release notes,,"Erol,rafaelfranca,Erol",2017-06-27 01:38:03,2017-06-27 17:24:22
PR,Document ActiveRecord is PostgreSQL specific support for JSONB datatype,in RailsGuides Summary Document ActiveRecord is PostgreSQL specific support for JSONB datatype in RailsGuides,,,2017-06-27 09:12:59,2017-06-27 17:24:58
PR,Refactor join dependency to move building constraints to join scope in Reflection,,,kamipo,2017-06-27 11:41:42,2017-06-27 17:31:14
PR,Support password in ActionCable redis configuration,Summary Redis supports being configured to require a password Redis rb supports this parameter All that remains is passing it through Other Information This is one of my first patches so please let me know how I can improve it It looks like there are no Redis specific tests so I'm not sure how you would like me to proceed on that front Thanks,,rafaelfranca,2017-04-07 18:11:27,2017-06-27 18:03:14
PR,Extract ordered relation in FinderMethods,,,kamipo,2017-06-24 10:19:47,2017-06-27 18:29:35
IS,5 1 2 memory leak on production,Expected behavior Upgraded from Rails 5 1 1 to 5 1 2 and no code changes should be required Actual behavior NoMemoryError failed to allocate memory Errno ENOMEM Cannot allocate memory nodejs System configuration Rails version 5 1 2 Ruby version 2 3 1,,rafaelfranca,2017-06-27 20:27:16,2017-06-27 20:29:59
IS,uuid primary key type confusion,Steps to reproduce Setup config application rb System configuration Rails version 5 0 2 Ruby version 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16 Development environment with sqlite3 Btw To be honest the documentation on this is very scarse Am I doing something wrong What is the right approach to have uuid as a primary key then Also this works on postgresql Thanks,,rafaelfranca,2017-03-16 02:50:54,2017-06-27 21:18:54
IS,Minitest assert select causes subsequent assert select after follow redirect to fail,Steps to reproduce Expected behavior Testing for a CSS element should not affect subsequent CSS tests especially ones on another page after the follow redirect The test should pass whether the first few assert select are commented or not Actual behavior The last assert select fails for some reason System configuration Rails version 5 0 2 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x64 mingw32,,"alexcameron89,Edouard-chin",2017-06-06 06:15:22,2017-06-27 21:34:29
PR,Calling follow redirect does not reset the html document,When making a request to a controller that redirects follow redirect would not reset the html document ivar it only resets the html document ivar from the session not the runner If one was doing something like this To fix the issue we can do the same for any other methods get post and define a method in the runner that delegates to the session but clears the html document first Fixes 29367,,"Edouard-chin,Edouard-chin",2017-06-23 19:51:17,2017-06-27 21:34:29
IS,NoMethodError undefined method url for' for ActionController Redirecting Module compute redirect to location,Expected behavior A passing test or a failing test for a reason other than below Actual behavior In running Minitest the following error is received when trying to check assert redirected to System configuration Rails version Rails 5 0 4 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,rafaelfranca,2017-06-27 21:17:59,2017-06-27 21:36:44
PR,Add more explicit guidance on how to fix callback deprecations,This deprecation warning message will be more useful if it indicates what the string was doing being eval would and what the non deprecated options for callback conditionals are Summary After upgrading to Rails 5 1 I noticed this deprecation message in one of the dependencies It was not clear to me how to fix it as I had not used the conditional option for callbacks in my own code before I had to dig into the source of Rails to confirm that the string was being eval would and that to retain the behavior and fix the deprecation warning I needed to replace the string with a symbol for a method that does the same thing Having this extra detail in the deprecation warning would have been helpful,,"rafaelfranca,rafaelfranca",2017-06-21 17:22:31,2017-06-27 21:44:24
IS,bin rails generate test unit helper Users does not do anything,Steps to reproduce Exactly as the title says executing the generator for any helper goes through the motions but generates nothing System configuration Rails version 5 0 1 Ruby version 2 4 0p1,,"zenspider,vipulnsward,rafaelfranca",2017-06-21 22:55:06,2017-06-27 21:46:09
IS,Select form helper handles selected option incorrectly,Steps to reproduce This HTML is invalid as a placeholder value is necessary for required selects with size of 1 and multiple false See If it is not intended to use the selected option like that it should be ignored System configuration Rails version 5 1 1 Ruby version 2 4 1,,"rafaelfranca,rafaelfranca",2017-06-24 21:11:09,2017-06-27 22:41:59
PR,Fix typo in callback deprecation message,,,y-yagi,2017-06-27 22:51:53,2017-06-27 22:55:23
IS,form with is not applying explicit id to select tag,Steps to reproduce rails new testingapp cd testingapp rails g controller post new append the following to app views post new html erb System configuration Rails version 5 1 1 Ruby version 2 4 0,,y-yagi,2017-06-22 00:25:18,2017-06-27 23:21:48
PR,Fix missing formats in route set URLs,Before this change handle positional args would end up mutating segment keys if inner options included path components Subsequent calls would then be missing the implicit path components eg This regression was introduced in 0cbec58ae48279ae5e9fdf6bbdbceb32183215dd cc Specifying a format like that is expected to be supported right WDYT to this fix,,"jdelStrother,schneems,jdelStrother,schneems",2017-06-22 12:43:51,2017-06-28 00:41:12
PR,ActiveRecord do not create has many through records that have been removed,Summary If a record was built on a HasManyThroughAssociation then removed and then the record was saved the removed record would be created anyways Code would look like this This happens because records and not removed from the hidden through association on the join table in the case of unpersisted child records The fix is to remove this records from the through association,,"rafaelfranca,eileencodes,eileencodes",2017-06-27 16:18:57,2017-06-28 12:20:58
PR,Remove useless class checking for ActiveSupport Callbacks s result lambda,No need to check result lambda s class because it is always lambda L177 L196,,fatkodima,2017-06-27 18:39:08,2017-06-28 15:22:33
PR,Add source code and changelog links to gemspecs,Makes it easy to programatically find the source code and changelog for each of the Rails gems using the rubygems API More details on metadata links in gemspecs is here and here My interest in this is so that Dependabot can find a link to the activesupport source code etc when it creates PRs Without that link it generates PRs like this one rather than PRs like this one,,"greysteil,rafaelfranca,greysteil,greysteil",2017-06-27 10:09:26,2017-06-28 15:24:03
PR,Show query cache keys in test exceptional middleware clears and disables cache on error,test exceptional middleware clears and disables cache on error in postgresql adapter sometimes fails recently Show the query cache keys to investigte the cause L490 L493,,kamipo,2017-06-28 08:32:20,2017-06-28 16:05:54
PR,Use reload in test find first after reload,And use assert same instead of assert equal and tiny fix assert message s reload reset Follow up of 29511,,kamipo,2017-06-28 12:27:09,2017-06-28 16:21:26
IS,Broken association preloading with SqlLiteral as a foreign key,Steps to reproduce Use a Arel Nodes SqlLiteral as a foreign key in association Expected behavior Should use the given foreign key as is and build a query like SELECT comments FROM comments WHERE comments properties 'post id' 1 Actual behavior Activerecord quotes the given key SELECT comments FROM comments WHERE comments properties 'post id' 1 Postgresql treats double quotes as a column name and therefore fails ActiveRecord StatementInvalid PG UndefinedColumn ERROR column comments properties 'post id' does not exist Note it is been working on rails 4 2 6 Seems like it is broken here L16 Arel does not quote a column name if it is a SqlLiteral but stringify keys transforms a SqlLiteral into a string System configuration Rails version master Ruby version 2 3 1,,rafaelfranca,2017-06-28 14:32:52,2017-06-28 16:30:38
PR,Fix ids reader to respect case sensitive primary key,,,kamipo,2017-06-28 13:07:06,2017-06-28 16:36:43
PR,Fix grammar for documentation of rails command rb ci skip,Summary Fix a typo in the rails initialization guide,,schneems,2017-06-28 17:08:10,2017-06-28 17:30:30
PR,Enable query cache if set a configurations,ActiveRecord query cache is available when a connection is connected Therefore query cache is unavailable when entering the ActiveRecord Base cache block without being connected Before version 3 1 query cache had been enabled if a configuration was set up In order to solve the DATABASE URL issue 8074 ActiveRecord has checked whether a connection is connected or not Today ActiveRecord configurations respects DATABASE URL L46,,"rafaelfranca,rafaelfranca",2017-06-28 16:09:00,2017-06-28 18:26:57
PR,Add a test case for unscoping default scope in associations,Unscoping default scope in associations has already supported 17360 for preloading c9cf8b8 for eager loading Fixes 20679 Closes 16531,,kamipo,2017-06-28 16:37:29,2017-06-28 18:32:51
PR,Do not passing klass connection to AssociationScope,Passing klass connection is redundant because AssociationScope is passed an association itself and an association has klass,,kamipo,2017-06-28 16:32:52,2017-06-28 18:42:00
PR,Fix eager loading to respect store full sti class setting,,,"kamipo,rafaelfranca,kamipo",2017-06-28 11:46:25,2017-06-28 18:44:12
PR,Show query cache keys in test middleware caches,test middleware caches also failed same as 29600 L487 L489,,kamipo,2017-06-28 18:16:37,2017-06-28 19:55:02
IS,after commit uses incorrect final object when changing same object twice while reloading it from the DB,Steps to reproduce Say you have a simple model User with a name string Additionally say this model looks like the following results in the following user Current user User id 1 username admin name new name 1 Expected behavior I would have expected to see the after commit method called with the final state of the object so in this case 'new name 2' Actual behavior Instead when reloading the object from the database it will send an intermediate version of the object to the after commit method I suspect the state of the object after the first time it is saved System configuration Rails version 4 2 7 1 Ruby version 2 2 2,,eugeneius,2016-12-13 07:13:24,2017-06-28 20:39:12
IS,belongs to required by default applies where scope in belongs to association to wrong table during validation,Steps to reproduce bug rb pre begin require bundler inline rescue LoadError e stderr puts Bundler version 1 10 or later is required Please update your Bundler raise e end gemfile true do source Activate the gem you are reporting the issue against gem activerecord 5 1 0 beta1 gem sqlite3 end require active record require minitest autorun require logger Ensure backward compatibility with Minitest 4 Minitest Test MiniTest Unit TestCase unless defined Minitest Test This connection will do for database independent bug reports ActiveRecord Base establish connection adapter sqlite3 database memory ActiveRecord Base logger Logger new STDOUT NOTE THIS IS THE CAUSE OF FAILURES which is defined in config initializers new framework defaults rb ActiveRecord Base belongs to required by default true ActiveRecord Schema define do create table authors force true do t t string login t timestamps end create table posts force true do t t references author t string status t timestamps end end class ApplicationRecord ActiveRecord Base self abstract class true end class Author ApplicationRecord has many posts end class Post ApplicationRecord belongs to author This is the simplest example I could come up with not a real world case but illustrates the issue The where scope is applied to the wrong table during validation belongs to author with pending posts where posts status 'pending' foreign key author id class name 'Author' end class BugTest Minitest Test def test scope on belongs to is applied to wrong table on new or udpate example 1 a Author new login jshmoe assert a save ActiveRecord Base logger info create and new save fails because 'where' scope is applied to wrong table when the require belongs to associations is validated assert Post create author a status pending this fails when it should work end def test scope on belongs to is applied to wrong table on new or udpate example 2 a Author new login jshmoe assert a save ActiveRecord Base logger info Creating a new post by skipping validation p Post new author a status pending skip validation to save post and illustrate problem assert p save validate false The belongs to scope association with a where scope functions as expected r Post joins author with pending posts first ActiveRecord Base logger info update also fails because 'where' scope is applied to wrong table when the require belongs to associations is validated assert r update attributes status posted this fails when it should work end end pre Expected behavior save and update methods in the code above should not throw a no such column error Workarounds are to define the belongs to association with an optional true flag or to disable belongs to required by default Actual behavior Breaks code and throws a no such column error System configuration Rails version rails 5 0 1 and 5 1 0 beta1 Ruby version ruby 2 3 3,,,2017-03-21 21:02:33,2017-06-28 20:39:13
IS,Improve Docs Readbility,I'm a 30 year old with good eye sight and I always have trouble reading the rails docs The main body copy and code blocks are so small I have to squint to see them How to improve legibility 1 The base font size could be bumped up to at least the default font size 16px 2 The measure line length or character count is currently only limited by viewport width It should be capped at the recommended line length of 80 characters max This would make it much easier to follow the text as you read 3 The base typeface could be upgraded from Helvetica to San Francisco leaving Helvetica as a fallback San Francisco is a much higher quality typeface with greater readability at small sizes 4 The base code typeface could be upgraded to a higher quality font family with fallbacks similar to what you see on Github or StackOverflow 5 The cream background color on code blocks is quite harsh especially with the current syntax highlighting theme A less harsh cream light gray or dark gray would make the code easier to read There are many more optimisations which could be made to improve the readability of the docs For a start though I would love to make the minimum improvements required to make the docs legible Should I go ahead and open a pull request for this Would it get any support,,fxn,2017-03-22 19:28:11,2017-06-28 20:39:14
PR,Relation locked should not build arel,,,"kamipo,rafaelfranca,kamipo",2017-06-10 10:18:23,2017-06-28 20:43:29
PR,Remove HasAndBelongsToManyReflection initialize,It is delegating super only,,kamipo,2017-04-29 13:58:11,2017-06-28 21:18:03
PR,Use timestamp attributes for update in model rather than timestamp attributes for update,,,kamipo,2017-05-13 23:42:10,2017-06-28 21:18:49
PR,Remove unused Subject model in tests,Because subjects table does not exist,,kamipo,2017-06-11 13:18:31,2017-06-28 21:25:13
PR,The receiver in a scope should be a relation,Currently the receiver in a scope is klass not relation L159 I think it is a strange because the receiver in default scope and a scope on association is relation L119 L164 I fixed to the receiver is to be a relation properly for consistency,,"kamipo,matthewd,rafaelfranca,rafaelfranca,kamipo,rafaelfranca",2017-05-31 19:52:40,2017-06-28 21:28:15
PR,Prevent extra through scope,We can reuse through scope for reset association,,kamipo,2017-05-18 01:57:55,2017-06-28 21:36:13
PR,Use quote method rather than single quotes to identifiers in SQL,Because identifiers in SQL could include a single quote Related 24950 26784,,"kamipo,yahonda,kamipo,kamipo,rafaelfranca,kamipo,rafaelfranca,kamipo",2017-06-28 17:06:39,2017-06-28 21:36:40
PR,Remove method missing in Relation Delegation,The method missing is never reached since 64c53d7c,,"kamipo,rafaelfranca,rafaelfranca",2017-04-29 16:45:15,2017-06-28 21:40:04
PR,Fix to scoping is correctly restored,This regression was caused by 23004 If STI subclass is using scoping in parent class scoping current scope in subclass is never restored I fixed to restore current scope to previous value correctly,,"kamipo,rafaelfranca,kamipo,kamipo",2017-06-25 13:33:46,2017-06-29 12:24:59
PR,Remove unused aliased table name in Association,aliased table name in Association was added at a3502c4 aliased table name in JoinDependency added at 55854c4 is used but it looks like that added one in Association is never used from the beginning,,kamipo,2017-06-28 21:03:58,2017-06-29 12:25:46
PR,Fix a problem when re defining has many through associations,This is an attempt to fix this issue When calling a has many through association we check if the source association is defined after the has many through If it is we throw a HasManyThroughOrderError See However this error was being erroneously thrown in cases when the has many through overrides another association of the same name,,"eileencodes,rafaelfranca",2017-06-23 15:24:06,2017-06-29 12:52:50
PR,Deprecate delegating to arel in Relation,Active Record does not rely delegating to arel in the internal since 425f2ca The delegation is a lower priority than delegating to klass so it is pretty unclear which method is delegated to arel For example bind values method was removed at b06f64c a series of changes But a relation still could respond to the method because arel also have the same named method 28976 Removing the delegation will achieve predictable behavior,,"kamipo,kaspth,rafaelfranca,kamipo,matthewd,kamipo,matthewd,kamipo,kaspth,kamipo",2017-06-28 22:52:16,2017-06-29 14:21:27
PR,Fix the next version of Rails from 5 3 to 6 0,,,kamipo,2017-06-29 14:35:04,2017-06-29 15:27:11
PR,Revert Maintain original encoding from path,Reverts rails rails 29062 The following example raises Encoding CompatibilityError and my app is broken by upgrading rails from 5 1 1 to 5 1 2 from 4 2 8 to 4 2 9,,eileencodes,2017-06-29 09:52:30,2017-06-29 15:59:30
PR,Should use the same connection in using query cache,test cache is available when using a not connected connection is always failed if running only the test since 29609 This failure is due to LogSubscriber will use not connected ActiveRecord Base connection even if Task connection is connected I fixed to always pass type casted binds to log subscriber to avoid the issue,,"kamipo,kamipo",2017-06-29 07:45:10,2017-06-29 16:02:56
PR,Specify correct extension for text layouts,When using render plain the extension for the layout needs to be text erb instead of txt erb,,,2017-06-28 22:17:24,2017-06-29 16:35:42
IS,ActiveRecord AssociationTypeMismatch on associations through STI,Steps to reproduce app models sections rb System configuration Rails version 5 1 1 Ruby version 2 4,,,2017-06-25 10:00:00,2017-06-29 17:55:48
IS,Question Does rails support to add one column and set default value the same time with db migration,Steps to reproduce I have one table agencies and it has some data already Action I would like to add a new column test default with default value 0 for it so I add under migration code System configuration Rails version Rails 5 1 0 rc1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin14,,matthewd,2017-06-30 02:57:55,2017-06-30 03:25:45
IS,Getting started mislead,I was following the tutorial Getting Started and found a slight issue in 6 1 Perhaps it was just worded in a strange way First it mentioned about the new addition and one should examine the wouldb scema rb' file and showed an example output I assumed this file would be identical to mine however the 'create table comments ' section did not exist yet Next it said to do wouldb migrate' Only after that did the scema file appear like the example If I were writing this I would say wouldb migrate' first then show the output This was misleading and confusing So I would have put them around the other way Do you agree,,alexcameron89,2017-06-24 14:27:44,2017-06-30 11:20:45
PR,ci skip run migration before looking at schema,This fixes 29558 The main issue was that the docs was telling to look at db schema rb before running the migration The order has been changed had said in the issue that it should be talking about the migration file instead but the next line in the docs explain the contents of the migration file,,vipulnsward,2017-06-30 11:15:50,2017-06-30 11:20:45
PR,Fix system test generator option to be consistent,We use skip system test everywhere else so it does not make sense to use system tests nil in the generator config Otherwise we are passing conflicting options around system tests by default test unit otherwise nil vs skip system test default is false and otherwise pass true It gets confusing Because of this change we then need to apply skip system test to the system test hook In the PR to generate a more complete system test when generating a scaffold this will be changed to be generated with create test files but for now this works to unblock that PR Noticed this was incorrect while trying to figure out the test failures in,,"eileencodes,eileencodes,rafaelfranca,eileencodes,rafaelfranca,eileencodes,eileencodes",2017-06-23 19:29:47,2017-06-30 12:49:30
PR,Add system tests to generate scaffold,generate scaffold currently generates a simple system test This change populates the generated system test with index create update and destroy behaviour Feature request from Sample generated test from bin rails generate scaffold HighScore game string score integer,,"eileencodes,eileencodes,eileencodes,eileencodes,eileencodes,eileencodes,eileencodes,eileencodes",2017-06-11 14:02:41,2017-06-30 15:01:02
IS,FormTagHelper uses ActionController Parameters to s for hashes,Rails 5 1 1 Ruby 2 3 3 When using the methods of ActionView Helpers FormTagHelper like text field tag test params test if the value of test parameter is a Hash e g test foo bar whether through a coding error or a malicious user the text field will display a value like ActionController Parameters 0x007f802f38ae80 which is not very nice In Rails 4 2 the field would display a value of foo bar which is nicer but still not great This can be compared to when the test parameter is an Array test foo test bar which reasonably results in a display of foo bar,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-06-28 21:30:30,2017-06-30 16:44:32
PR,Fallback Parameters to s to Hash to s,Fixes The result would be exposing Ruby internals and the object ID to the website visitors img width 959 alt screen shot 2017 06 29 at 20 27 04 src As mentioned in the issue instead of that we should fall back to Hash to s I agree with Rafael is opinion that normally developers should not rely on Parameters having a Hash like behaviour but at the same time I agree that the framework should not expose Ruby internals to output HTML I think that returning escaped to s of unpermitted Hash is be better anyway,,"kirs,rafaelfranca,rafaelfranca",2017-06-29 17:30:50,2017-06-30 16:44:32
PR,Fix the class name ActionController Parameters ci skip,r,,prathamesh-sonpatki,2017-06-30 20:05:33,2017-06-30 20:11:27
PR,Fix the class name ActionController Parameters ci skip,r,,prathamesh-sonpatki,2017-06-30 20:07:00,2017-06-30 20:11:34
IS,Rails Guides for Version 4 2 redirect to Edge Guides,Steps to reproduce 1 Visit 1 Click on Rails 4 2 under The guides for earlier releases Expected behavior Rails Guides for version 4 2 come up Actual behavior Redirected to edge guides System configuration Rails version N A Ruby version N A,,,2017-06-29 23:54:34,2017-06-30 20:17:49
IS,Rails5 concurrency in action method deadlock docs needed including for executor reloader,I sometimes need want to use some basic threaded concurrency inside a rails action execute some things concurrently wait for them all to complete before returning the response Here is a basic isolated fake example as used in this demo app That made no difference either all observed behavior was the same in above 4 configuration combinations with or without this wrap I do not know if there is a more useful way to use the reloader for this use case or if it is just irrelevant Issues for Rails team 1 Is this a bug I suspect the answer will be no it is no longer supported to use threads like this without turning off development mode class reloading entirely This is a bit annoying as I much preferred having it mostly working with occasional exceptions that made me restart the app instead of needing to turn off dev mode reloading to get it to work at all and always having to restart the app to pick up changes However it may be that is just how it is as sad as it makes me Nevertheless 2 Can failure mode be better The failure mode for doing it wrong of hanging forever deadlocking is pretty annoying and confusing It can take someone quite a while to figure out what is going on and that it is even related to auto loading at all Especially with concurrency getting easier to use for less experienced developers hooray ruby concurrent I can see people getting really stuck here they accidentally do it 'wrong' and get a mysterious deadlock Is there any way to get a better failure mode an actual quick fail with an exception with a useful class message instead of a hang forever deadlock Whether this is considered a 'bug' or a 'new feature' has to do with the intentions of whoever wrote the new autoloading stuff I guess I could not say 3 Documentation All of these things need better documentation which has been true pre Rails5 too but with changes those of us who kind of sort of figured it out in Rails 5 could use it too Save others the several hours I spent debugging my deadlock investigating the issue resulting in this here you are reading I can not submit a doc PR myself because I really do not understand well enough what is actually going on or the intended behavior configuration Some suggested doc needs config eager load config cache classes and config auto load have always been poorly doc would especially their interactions with each other and their defaults which seem to depend on how others of them are set Not only poorly doc would but fairly high 'churn' changing from Rails version to version For my use case I only avoided deadlock with eager load and cache classes both true Is there any reason at all to have one true and the other false In what circumstances might this make sense and what does it do Does config auto load do anything at all in Rails5 or has it become a no op It did not seem to have an effect on my problem case but maybe it does in other cases Or is it gone If it is true that you need to turn off dev mode reloading in order to use threads inside a Rails action method inside the request loop and it is true that you do that with eager loading and cache classes both set to true then some documentation to that effect would be welcome and would save people some confusing debugging time If i havne't actually figured out the right best only way to do this and there are other options I'm prob not the only one who would appreciate some docs Is there anyway to turn off class reloading to be concurrency safe for the auto loader but still have view template erb reloading I remember there was in an old Rails version 3 but the config seems to have disappeared test enviornments Default generated Rails5 test env is cache classes true eager load false Rails 4 had some generated comments in config test rb about eager load If you are using a tool that preloads Rails for running tests you may have to set it to true A bit confusing and in my experience not entirely reliable advice in Rails 4 I believe a tool that preloads rails for running tests basically means Capybara Rails5 no longer generates this hint but still defaults eager load to false Is this going to cause problems with capybara Concurrency problems with capybara are super frustrating to debug and figure out how to deal with them so some instructions here would be much appreciated Especially since the default setting is one that under my use case above still caused deadlocks Rails application reloader The only reason I knew this even existed or anything at all about how to use it is from the sidekiq pr The only reason it is in a sidekiq PR is because someone from Rails core team gave sidekiq hints code it would be unlikely for anyone who does not already know the code to have known that it should be used and the correct way to use it It may be that Rails application reloader is entirely irrelevant to my use case some docs explaining what it is and how it use it could have saved me some time in figuring that out myself by experimenting But clearly there are some appropriate use cases for it in non Rails core code like in sidekiq some docs are needed so people not on Rails core team know when to use it and how Tagging because he suggested in the sidekiq PR that I open a Rails issue on documentation of the executor reloader API and I'm hoping he has some input on the general reloading concurrency issues above since they look pretty intimately related to the executor reloader in Rails5,,"matthewd,matthewd,matthewd,matthewd,matthewd,matthewd,matthewd,matthewd,matthewd",2016-10-20 18:32:08,2017-06-30 20:59:54
PR,Delete stale comment for AR Associations Builder CollectionAssociation ci skip,has and belongs to many for a long time already not inheriting from CollectionAssociation so this comment only true for has many and therefore seems not useful at all,,"fatkodima,kamipo",2017-06-30 21:54:05,2017-07-01 07:21:42
PR,Fix format of ActionController Parameters to s doc ci skip,before before after after,,"y-yagi,kamipo",2017-07-01 00:55:29,2017-07-01 07:25:04
PR,Fix the next version of Rails from 5 3 to 6 0,Follow up of discussion r124785447 and 29628,,koic,2017-06-29 15:58:18,2017-07-01 08:47:26
PR,Ensure false is preserved in attr serialization,Summary Roundtrip YAML serialization would result in false values coming back as nil For example Note about the implementation type and original attribute have the same presence check I did not update these because I wanted to keep the change specific to the problem I encountered but I would be happy to update those lines as well,,matthewd,2017-06-22 14:46:19,2017-07-01 09:56:50
IS,Issues opening log files causes silent infinte loop,I had a silly error between my rails setup and docker Our Dockerfile symlinked development log to proc 1 fd 1 but when I ran it outside of docker in native OSX the symlink pointed to nothing It seems that this condition causes Logger to enter an infinte loop using 100 of the CPU while repeatedly retrying Log repeats ad nauseam while spring is running at 100 CPU Clearly it is a user induced error but failing silently in an infinite loop was not too helpful and required rbtrace to debug,,rafaelfranca,2017-06-15 14:49:37,2017-07-01 10:06:51
PR,Fix automatic inverse for polymorphic interfaces,Summary This is a fix for an issue I encountered 21843 with polymorphic relationships but also solves another issue with touch true not working for polymorphic relationships 16446 This PR solves the same problem as 16448 albeit a bit differently These issues can be solved by manually setting the inverse of option however it is quite confusing that it works for 'normal' relationships but not for polymorphic ones It is also not really documented that you need to set inverse of for these things to work I checked docs guides for the touch option This PR solves these problems by removing polymorphic from the INVALID AUTOMATIC INVERSE OPTIONS array The logic behind this is belongs to polymorhic true will still fail the automatic inverse of lookup because it would fail later when doing the klass or reflection lookup However can find inverse of automatically will not return false for polymorphic relationships thus valid inverse reflection will return true for polymorphic interfaces which leads to a successful automatic inverse of lookup Which will fix the above issues Other Information A drawback is that more exceptions will be raised rescued when trying to do the automatic lookup for polymorphic relationships which is slow But I honestly do not think that this has any measureable effect Also we could cache the value of automatic inverse of for falsey cases if this is a concern Also the name of the method can find inverse of automatically is a bit confusing because it implies that the inverse lookup can be looked up if this returns true while it only means that the inverse lookup will be attempted if it returns true This is now even more true because we removed polymorphic from the list of checks carried out in this method While writing this issue I noticed that for polymorphic interfaces the as option must always be passed and always indicates the reverse relationship if I'm not missing something Maybe it is possible to short circuit automatic inverse of method to return options as early in case it is specified That is maybe an even simpler fix for this problem,,matthewd,2017-04-20 10:47:29,2017-07-01 12:42:54
PR,Properly register custom URL helpers as named helpers,Summary CustomUrlHelpers were introduced in ce7d5fb2e6 closing issue 22512 They currently register themselves in an ivar that is never accessed This change removes the special case and registers them the way named routes are normally handled Without this you can get route defined example url false while still being able to call url helpers example url and example path Various popular gems such as 'rspec rails' make use of route defined,,matthewd,2017-06-30 23:05:58,2017-07-01 12:56:05
PR,Do not cache queries for schema statements,test middleware caches is sometimes failed since 29454 The failure is due to schema statements are affected by query caching Bypassing query caching for schema statements to avoid the issue,,"kamipo,matthewd,kamipo",2017-06-29 22:04:56,2017-07-01 12:59:57
IS,has many collection collection singular ids memoization bug,Steps to reproduce 1 Call collection singular ids method on has many collection 2 Modify collection with collection object 3 Call collection singular ids again the changes on step 2 are not reflected in collection singular ids the value is cached from step 1 Test case file has many bug rb Looks like it was introduced in commit f744d627364a9a98dedda5b30711bf80ebc3451f Relevant code on master L47 Expected behavior call to collection singular ids on step 3 should reflect changes made on step 2 Actual behavior collection singular ids contains invalid values System configuration Rails version 5 1 2 Ruby version 2 4 1,,,2017-06-29 14:09:31,2017-07-01 13:03:28
PR,Should be clear association ids when joined newly associated record,Fixes 29627,,kamipo,2017-06-29 17:34:53,2017-07-01 13:03:28
PR,Add source code and changelog link to railties gemspec,Follow up of 29588 Railties is also a gem with CHANGELOG md I think that it would be unified if there was a metadata link the above address,,koic,2017-07-01 13:44:21,2017-07-01 13:48:17
PR,Clear screenshots files in tmp clear task,If system test fails it creates screenshot under tmp screenshots L45 But currently screenshot files is not cleared by tmp clear task This patch make clears screenshot files in tmp clear task as well as other tmp files,,y-yagi,2017-06-22 13:29:48,2017-07-01 14:15:37
PR,Add srcset option to image tag helper,Summary Adding srcset option to image tag in order to add Responsive Images Usage,,"robertomiranda,robertomiranda,matthewd,robertomiranda,robertomiranda,robertomiranda",2017-06-03 16:36:44,2017-07-01 15:19:20
PR,Make ActiveSupport frozen string literal friendly,As I'm sure many folks are aware MRI 2 3 added the ability to have all string literals frozen by default which has performance memory usage benefits It will become the default behaviour in MRI 3 0 though that is quite some time away This PR covers what is needed to make ActiveSupport play nicely when this feature is enabled The test suite as it currently stands will continue to pass there are no behaviour changes Yes it is for ActiveSupport only but I figure it is a good place to start If this change is appreciated then I can work further on the rest of the Rails gems to ensure they are working with frozen string literals as well And if you want to have Travis run the tests with checks for this behaviour then using pragmater and a test script can help with that such as what I have done in my own gems and suggested for others Running the tests with frozen string literals enabled Of course if you want to run the test suite with frozen string literals enabled you will need the following locally Use the latest commits from dalli rather than the latest gem release Use my PR for Builder rather than the latest gem release Use Nokogiri 1 8 0 Beyond that all external dependencies at least to the extent they re used by ActiveSupport play happily with frozen string literals enabled by default in MRI 2 4 which can be done so by the RUBYOPT environment variable RUBYOPT enable frozen string literal,,"pat,tenderlove,pat,koic,pat,pat,rafaelfranca,pat,matthewd,matthewd,tenderlove,rafaelfranca",2017-06-20 07:45:19,2017-07-01 15:45:37
PR,Enforce frozen string in Rubocop,As discussed in issuecomment 309945640 we should be able to enable Style FrozenStringLiteralComment rule in Rubocop and add the magic comment to all files,,"kirs,pat,kirs,matthewd,kirs",2017-06-23 03:04:51,2017-07-01 15:45:38
PR,Warning http verb method call in SystemTestCase,Summary It show warnings if anyone use http verb method in SystemTestCase SystemTestCase should use visit or any other Capybara API It is useful to show warnings,,"rafaelfranca,eileencodes",2017-06-29 05:17:51,2017-07-01 17:10:05
IS,persisted return true if object saved in nested transaction with requires new and rollback in parent transaction,Steps to reproduce Although there is nested transaction but nested transaction have not been noticed it rollback by RealTransaction System configuration Rails version Rails 5 1 1 Ruby version ruby 2 3 4p301,,"eileencodes,matthewd,eileencodes,eileencodes",2017-06-02 00:46:04,2017-07-01 19:00:18
PR,Move test related to tmp clear task to tmp test rb,,,y-yagi,2017-07-02 00:15:52,2017-07-02 08:51:02
PR,Fix removed version 5 2 to 6 0 in the deprecation message,Because the deprecation message is not yet released,,kamipo,2017-07-01 19:14:06,2017-07-02 08:51:17
PR,Do not wrap parameters if query parameter exists,Followup to We want to avoid overwriting a query parameter with the wrapped parameters hash This was implemented in by merging the wrapped parameters at the root level if the key already existed which was effectively a no op The query parameter was still overwritten in the filtered parameters hash however We can fix that discrepancy with a simpler implementation and less unnecessary work by skipping parameter wrapping entirely if the key was sent as a query parameter r,,"eugeneius,kaspth,eugeneius",2017-06-25 01:22:39,2017-07-02 08:55:47
IS,Bug Custom generator inheriting from Rails Generators NamedBase does not have file name method,Steps to reproduce 1 Generate a new rails 5 1 2 project with rails new test app bundle install 2 Generate a new generator with rails g generator test 3 Edit your TestGenerator in lib generators test test generator rb to add puts file name on the last line like so 4 run the test generator with rails g test MyCustomFileName Expected behavior As described in the docs creating generators with generators running this generator should print MyCustomFileName to the terminal because the file name method is inherited from Rails Generators NamedBase and returns the first argument passed to the TestGenerator i e 'MyCustomFileName' string The method file name is automatically created when we inherit from Rails Generators NamedBase Actual behavior Instead a WARNING Could not load generator generators test test generator Error undefined local variable or method 'file name' for TestGenerator Class exception is raised Inspecting the task with byebug it does not appear that TestGenerator has inherited any of the generator methods described in the docs generator methods System configuration Rails version 5 1 2 Ruby version 2 4 0 Thanks,,y-yagi,2017-07-02 02:34:03,2017-07-02 09:03:01
PR,Remove redundant assert respond to,It is covered by following assertion,,kamipo,2017-07-02 15:19:36,2017-07-02 19:12:12
PR,Using require relative in the Rails codebase,Summary This PR replaces 773 Kernel require calls to Kernel require relative for speed Details Ruby has a faster variation of Kernel require named Kernel require relative since its version 1 9 It is considered faster because it simply directly loads the specified file instead of scanning through all LOAD PATH entries L838 L846 Also require relative is not overridden by any 3rd party libraries such as RubyGems Bundler Polyglot ActiveSupport etc unlike require So we can bypass evil hacks from these gems by calling require relative However this feature is very rarely used in the Rails codebase git grep shows only 79 occurrences in the whole repo and most of them seems to be tests bin version rb etc So there are big room for improvements here And this approach is much easier than adding yet another hack on Kernel require Benchmark This patch reduces 1 010 Ruby level methods calls when starting up a vanilla Rails app In terms of speed reduced time was about 6 7 only 0 1 second in average on a vanilla app on my local machine It may be different if the app has longer LOAD PATH,,"amatsuda,matthewd,amatsuda,bogdanvlviv,fxn,fxn,matthewd,fxn,fxn,fxn,fxn,fxn,matthewd,matthewd,matthewd,fxn,amatsuda,matthewd",2017-06-30 06:42:46,2017-07-02 21:35:13
IS,Overwrite controller namespace in route definition,Steps to reproduce Here is a an Executable Test Case Expected behavior Actual behavior See System configuration Rails version 5 0 0 Ruby version 2 3 1p112,,pixeltrix,2016-10-25 23:21:23,2017-07-02 21:46:49
IS,sequence name value does work on Rails 5 0 PgSQL 9 4 8,Steps I defined a table to store Business Rules objects The migration generated a sequence for Business Rules used as default for the id column business rules id seq But I need an application wide sequence for all objects So in each model I require this sequence objects seq to handle objects ids class BusinessRule ActiveRecord Base id generation self sequence name objects seq behaviour Despite the self sequence name directive ActiveRecord still uses the conventional sequence business rules id seq Deleting the former sequence does not change a thing ActiveRecord then raises an error because id should not be null Can you help,,maclover7,2016-11-15 16:46:07,2017-07-02 21:46:50
IS,fields for used with collection drops data after failed validation,Steps to reproduce Model with several has many relation has a form for with nested fields for some of them are specified with a collection of children More details described on SO question Expected behavior Upon failed validation form should show all nested fields entered by user Actual behavior Upon failed validation form is rendered with edit view but nested children that have a collection specified in fields for object do not show up on edit view even if are still present in model params hash Only child objects that seem to be persisted are shown System configuration Rails version 4 2 7 1 Ruby version 2 2 1,,prathamesh-sonpatki,2016-11-13 21:39:16,2017-07-02 21:46:51
IS,Journey parser should use frozen string literals,At the moment jouney parser does not have the comment at the top This means that lines like this L177 end up causing retention of 4961 objects on boot for Discourse Is there anything stopping us adding frozen string literal true to the parser,,"SamSaffron,SamSaffron,maclover7,SamSaffron,matthewd,SamSaffron,matthewd,SamSaffron,matthewd",2016-12-23 03:00:07,2017-07-02 21:46:52
IS,Explain detail of websocket behavior in documentation,A lot of people uses Rails to create a provider API In some cases we need to establish a websocket connection But this situation was not written in the documentation and it is was a problem for me After establishing the connection on websocket is url I need to send a message to the channel that I want to subscribe like command subscribe identifier channel MessagesChannel In my opinion it is good write this detail in this article,,"maclover7,nateberkopec",2016-11-24 00:53:38,2017-07-02 21:46:54
IS,ActiveRecord reselect would a PR be welcome,Inspired by rewhere and reorder I ve been looking into a similar implementation for reselect I find it a helpful syntax to have especially after getting used to the feel of the other two Is this something the Rails team would be interested in if I prepared a PR,,"brchristian,matthewd,brchristian,brchristian",2016-12-12 21:42:02,2017-07-02 21:46:55
PR,Expressly force encoding the path to UTF 8,This PR depends on 29624 and is related to 29062,,eileencodes,2017-06-29 13:44:15,2017-07-03 06:20:15
PR,Add listen as dependency,Used by ActiveSupport EventedFileUpdateChecker Which is enabled by default in rails e g in config environments development rb config file watcher ActiveSupport EventedFileUpdateChecker Summary I removed the listen gem from my Gemfile and got an error from ActiveSupport,,matthewd,2017-07-03 07:38:37,2017-07-03 11:00:23
IS,Rails 3 2 22 5 Ruby 2 3 3 model saving causes serialize hash to turn to string object,Steps to reproduce Create new rails 3 2 22 5 app create user model with serialize Hash field assign value to said hash save user in DB retrieve hash back retrieved as String class instead of Hash class create new rails 3 2 22 5 app rails 3 2 22 5 new bug123 database postgresql add test unit gem to your Gemfile gem 'test unit' ' 3 0' bundle because added test unit gem create user model rails g scaffold user name comments text logs text logs2 text no test framework migrate rake db create db migrate add serialize to user model add serialize logs to user user rb,,matthewd,2017-07-03 18:46:59,2017-07-03 19:02:16
IS,tsrange precision is off,I'm using a tsrange Postgres column and if I set the start or end of the range using a datetime timestamp like so The precision is off Which affects comparisons equality,,"rafaelfranca,rafaelfranca,pixeltrix",2017-03-27 21:34:57,2017-07-03 23:50:01
IS,ActiveRecord ConnectionAdapters Quoting does not use double quotes for escaped characters,Steps to reproduce 1 Set up connection ActiveRecord model 2 Call ActiveRecord ConnectionAdapters Quoting quote method with characters to escape Expected behavior The quote method should return a properly escaped string with double quotes This causes an issue especially for Arel InsertManager since it accesses connection adapter directly to utilize quote Actual behavior The quote method uses single quotes even when it escapes characters This creates malformed string statements for MySQL adapter System configuration Rails version 4 2 7 1 Ruby version 2 3 1,,"maclover7,maclover7",2017-03-24 16:31:05,2017-07-03 23:50:02
PR,Add missing http status codes ci skip,Ref,,"y-yagi,arunagw",2017-07-04 04:00:47,2017-07-04 04:09:14
PR,Warn developers that some attributes should be defined in config application rb,refs 24748 27920 Some configurations should be defined in config application rb because they are referred before initialization process For example config time zone is assigned before initialization by ActiveSupport See L25 So I think Rails should warn when developer configures it on development WARNED ATTRIBUTES is maybe not enough but I can not cover the all attributes we should warn cc,,,2017-03-06 06:44:40,2017-07-04 06:31:40
IS,DB configuration does not accept symbols anymore,Steps to reproduce Trying to execute rails observers against RoR 5 1 I'm observing following error ruby Ilib test e 'Dir glob ' '' test test rb' '' method require ' usr share gems gems activerecord 5 1 2 lib active record connection adapters connection specification rb 246 in resolve symbol connection' 'test' database is not configured Available ActiveRecord AdapterNotSpecified from usr share gems gems activerecord 5 1 2 lib active record connection adapters connection specification rb 227 in resolve connection' from usr share gems gems activerecord 5 1 2 lib active record connection adapters connection specification rb 141 in resolve' from usr share gems gems activerecord 5 1 2 lib active record connection handling rb 55 in establish connection' from builddir build BUILD rails observers 0 1 4 usr share gems gems rails observers 0 1 4 test helper rb 34 in top required ' from usr share rubygems rubygems core ext kernel require rb 55 in require' from usr share rubygems rubygems core ext kernel require rb 55 in require' from builddir build BUILD rails observers 0 1 4 usr share gems gems rails observers 0 1 4 test transaction callbacks test rb 1 in top required ' from usr share rubygems rubygems core ext kernel require rb 55 in require' from usr share rubygems rubygems core ext kernel require rb 55 in require' from e 1 in glob' from e 1 in main ' It seems this is caused by diff 9220267c89717bc78a987fe6d4439c72R157 This line filters out the configuration if it does not contain adapter string as a key But the thing is that rails observers are using adapter symbol on this place 1 I submitted rails rails observers pull 61 PR fixing this issue on rails observers side but I am not entirely sure that the change on the Rails side was intentional Could you please clarify what is the expected behavior here 1 L33,,rafaelfranca,2017-07-04 12:14:07,2017-07-04 15:18:43
IS,Registered observer on one mailer gets called with every email delivering possible bug,I found what could be a possible bug as this solution is not working Steps to reproduce 1 Create two mailers ex OneMailer and AnotherMailer 2 Create an observer class ex 3 Call OneMailer register observer TestObserver 4 Call OneMailer some mail deliver now 5 Call AnotherMailer some mail deliver now Expected behavior In step 4 Sent gets printed In step 5 nothing gets printed If I register the observer in ActionMailer Base register observer it should apply to all mailers Actual behavior It prints Sent on steps 4 and 5 System configuration Rails version 5 1 1 Ruby version MRI 2 4 0 OS Arch Linux with kernel 4 11 7 1 ARCH,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-07-04 11:27:38,2017-07-04 16:07:47
IS,Ca not override Enumerable methods in ActiveRecord models,I have a class method called sort in my model which worked fine up until upgrading to Rails 5 where when I call the method now on a Relation the method that get is called is Enumerable sort same applies for any method names in Enumerable as far as I have tested it Steps to reproduce Expected behavior Should use the model is sort class method Actual behavior Enumerable sort is called System configuration Rails version Fails on 5 0 passes 5 0 Ruby version 2 3 1,,"sgrif,matthewd",2017-07-04 12:51:04,2017-07-04 16:55:37
PR,Deprecate database specific JSON types,We already have database agnostic Type Json since 29220,,"kamipo,rafaelfranca,kamipo",2017-07-04 00:11:18,2017-07-04 17:17:01
PR,Allow the use of Bundler 2 0,Summary In we introduced a change that placed an upper bound on Bundler at 2 0 Bundler 2 0 is on the near horizon with a release expected later this year Previous reports claimed that there would be major changes and while there are breaking changes like the Gemfile lock being totally rewritten it does not block a Rails app from running Using Bundler master I was able to enable Bundler 2 0 with all major deprecations bundle install and require 'bundler setup' via bin rake environment without any issue whatsoever In preparation for Bundler 2 0 release this PR removes that upper bound It is important to note that Bundler currently will print a warning but continue to run if you use Bundler 2 0 so this is not changing much except that a warning wo not be printed cc,,,2017-07-04 14:28:12,2017-07-04 17:30:29
PR,Fix test copying migrations preserving magic comments,Since 29540 frozen string literal true included original migration files,,"kamipo,kirs",2017-07-01 16:27:24,2017-07-04 18:10:15
PR,Fix raise on unfiltered parameters configuration for 5 0 stable,Set to ActionController Parameters directly config action controller raise on unfiltered parameters is correct instead of config raise on unfiltered parameters But it has no effect due to the order of initializers action controller parameters config is proceed before load config initializers Switch the value by options update for developers updating refs 28803,,"eugeneius,rafaelfranca,rafaelfranca,rafaelfranca",2017-06-22 00:42:23,2017-07-04 19:36:38
IS,attribute before last save always returns nil with a symbol argument,Steps to reproduce In an after save callback Call attribute before last save with the symbol of a changed column name The result will be nil Passing through the string representation of the column name returns the correct result Expected behavior Passing a string or symbol to attribute before last save should return the same thing like it does with saved change to attribute System configuration Rails version 5 1 2 Ruby version 2 3 1,,,2017-07-04 00:00:01,2017-07-04 20:20:52
PR,Add missing attr name to s in AttributeMutationTracker,attributes values in LazyAttributeHash in AttributeSet has string keys not symbols Fixes 29665,,kamipo,2017-07-04 02:45:36,2017-07-04 20:20:52
IS,Cannot Eager Load has many through Relationships Defined by a Scope With Joins,Steps to reproduce Expected behavior The failing areas relationship should be eager loaded Actual behavior An SQL error is raised because the join in the scope is not included in the query This is a variant of the bug fixed by 91e3dab804fffe0b1daebb438091418faa1fa256 System configuration ActiveRecord version 5 0 2 Ruby version 2 3 0p0,,,2017-03-07 04:59:59,2017-07-04 20:26:00
PR,Fix association with scope including joins,Fixes 28324,,"kamipo,rafaelfranca,kamipo,kamipo",2017-06-11 11:23:37,2017-07-04 20:26:00
IS,Rails 4 2 5 StatementInvalid error when using includes on a has many through with a custom scope,Steps to reproduce 1 Have 3 models e g User Group Membership Groups can be fancy or not and have a scope to filter to only fancy groups User has many memberships and also has many groups through memberships User also has many fancy groups fancy through memberships 2 Try to do User includes fancy groups I have uploaded examples demonstrating the error to this Gist Here is the Rails 4 2 version inline System configuration Rails version 4 2 or 5 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin15,,"al2o3cr,maclover7,matthewd,matthewd,rafaelfranca",2017-04-07 20:24:08,2017-07-04 20:26:24
IS,no such column error when eager loading a scoped has many through association,Expected behavior When eager loading via includes a has many through association with a scope applied in the association declaration I would expect references to be unnecessary Actual behavior Without using references I'm getting a SQLException because the scoped column is not referenced in the query System configuration Rails version 5 0 Ruby version 2 3 1 Steps to reproduce,,"mechanicles,maclover7,rafaelfranca",2016-10-13 16:17:16,2017-07-04 20:26:49
PR,Remove unused association key and table methods in Preloader Association,These are no longer used since b98668decb9712f26118de57623fd15d7d28646d,,kamipo,2017-04-29 16:10:18,2017-07-04 20:27:42
IS,Rake Task not including app lib properly,We recently upgrade from Rails 4 x to 5 0 2 During this process we moved our application dependencies from the lib directory to the app lib directory as per this discussion This fixed issues we were having in the application on production But now our tasks are failing because those tasks have the same dependencies and they are not loading properly We have a task file that gives us some helper tasks to rebuild and update our database What do I need to do to get the dependencies to load properly in the rake task without having to write an unmaintainable and huge require dependency chain file,,pixeltrix,2017-03-16 18:04:38,2017-07-04 23:08:14
IS,Server generated JS is not executed by rails ujs on IE9,Not sure of IE9 support status re rails ujs but unfortunately a tiny fraction of our users are still IE9 So Steps to reproduce Using IE9 submit a remote true link that gets a server generated JavaScript response Expected behavior rails ujs should execute the JS received Actual behavior rails ujs does not execute the JS received I think because it is using xhr response which was not in XMLHttpRequest Level 1 Perhaps consider using xhr responseText if xhr response is null System configuration Rails version 5 1 Ruby version 2 3 4p301,,"guilleiguaran,guilleiguaran,y-yagi",2017-05-13 03:47:42,2017-07-05 01:57:41
PR,travis plz build,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-07-05 08:01:57,2017-07-05 08:02:19
IS,Preload association ignores group having in association scope,Steps to reproduce I have the next test case So it ignores both group and having conditions System configuration Rails version 5 0 0 Ruby version 2 3 1p112,,"Mik-die,maclover7,Mik-die,Mik-die,kamipo",2017-03-03 10:07:37,2017-07-05 10:13:51
IS,Forever running ActiveJob halts the application,Steps to reproduce add init demo rb into config initializers Use default Async as ActiveJob backend Start Rails with puma Demo Repo Expected behavior Rails should able to serve request normally Actual behavior Rails can not serve request Browser visiting localhost 3000 result in forever loading If moving DemoJob perform later 'A' outside of Rails application config after initialize the problem resolves If adding another DemoJob perform later 'Tag' outside of Rails application config after initialize the problem resolves If switching to sidekiq as ActiveJob backend the problem resolves System configuration Rails version Rails 5 1 2 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin16,,matthewd,2017-06-29 02:59:59,2017-07-05 11:57:39
PR,Return prefixed method names from Module delegate if using prefixes,Summary There is a somewhat useful pattern for delegate when we want to make the delegated methods private Which works because private can accept any number of symbols and turn existing methods matching these names into private ones Hence the splat because it does not take an array This however breaks when using prefix true or prefix anything because what delegate returns are not the prefixed method names but rather the raw unprefixed ones iterating with each L177 on its args In effect the new delegates are actually public and mysterious NameErrors appear about the unprefixed method names being undefined A raw testcase gist shows what I believe is the desired behavior versus actual behavior The fix Change the each mentioned to map At the end of each iteration we call module eval with the new method text and that conveniently returns a symbol with the possibly prefixed method name Tests added to show test private delegate prefixed fails before changing to map This probably affects all ActiveSupport versions because the each was there from the beginning,,matthewd,2017-07-05 13:52:20,2017-07-05 15:00:31
PR,Fix warning ' interpreted as argument prefix,,,kamipo,2017-07-05 15:18:17,2017-07-05 16:17:10
PR,Fix Parameters configuration integration tests,These tests ensure that ActionController Parameters can be configured from an application initializer which was recently fixed in r,,"eugeneius,eugeneius,eugeneius",2017-07-04 20:28:51,2017-07-05 16:26:01
PR,Mention Time zone parse possibly throwing ArgumentError,Time zone parse 9000 can fail for instance and it is not mentioned in the docs Running the time zone tests bundle exec ruby w I test test time zone test rb in activesupport,,"maclover7,tenderlove",2017-04-04 21:45:21,2017-07-05 17:57:08
IS,Postgres select COUNT AS PG SyntaxError ERROR syntax error at or near AS,Steps to reproduce System configuration Rails version 5 1 Ruby version 2 4 1,,"meinac,meinac,matthewd",2017-07-05 13:18:09,2017-07-05 18:21:23
PR,Fix ActiveModel Type DateTime serialize,Summary ActiveModel Type DateTime serialize should return a Time object so that finding by a datetime column works correctly Both added tests fail without the code change This was discovered in the course of investigating 27800 which correctly points out that ActiveModel Type DateTime serialize behaved differently from ActiveModel Type Date serialize The problem however is not with Date but with DateTime,,"lugray,rafaelfranca,lugray",2017-07-04 18:35:38,2017-07-05 19:37:20
PR,Allow mounting same engine under several locations,Summary Fixes 20204 This allows mounting the same engine under different locations using different as aliases Mounting an engine provides route context resolution via customized find script name method but when mounting the same engine several times this definition would be overwritten and only the last mount would get the correct context resolution The solution I came up with was to move via lambda the customized find script name logic for each mounted engine together with the define mounted helper method which is also specific to each mount Other information First time diving into Rails internals hopefully I'm not doing something terribly bad here,,"deivid-rodriguez,rafaelfranca,deivid-rodriguez,rafaelfranca,deivid-rodriguez,deivid-rodriguez,rafaelfranca",2017-07-03 18:41:09,2017-07-05 19:38:40
IS,tsrange breaks with time zone awareness and infinity,Reproducible test case below 1 Make sure to createdb railstestdb 2 To see this work properly when used with no time zone functionality comment out the two COMMENT OUT TO PASS lines,,"pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-03-27 22:40:53,2017-07-05 23:53:56
IS,No such file or directory rb sysopen,Hi I need upload a file but when I try to copy it to put it in the public folder I get this error No such file or directory rb sysopen I think it is because it does not find the directory from where it is going to be copied and I do not know how to send it Please help me System configuration Rails version 5 0 2 Ruby version 2 4 1,,matthewd,2017-07-05 22:16:18,2017-07-06 06:44:36
IS,ActiveSupport Concern does not recognize Model class,ActiveSupport Concern does not recognize Model class While I am refactoring my models by using model concern I got an issue model can not be passed in concern When I call House model in concern in rails console model class is passed as Concerns House instead House model Here is my code module Concerns Channel Booking extend ActiveSupport Concern module ClassMethods def retrieve xxx api channel id access token channel Channel find by id channel id if channel present account channel account if listing data Api get listings api access token 'xxx' present listing data each do l House skip callback create after after create jobs raise false house House find or create by uid l code account account do h end House set callback create after after create jobs end end end end end end In this function House model was passed Concerns House instead House model Rails Version 5 0 3 Ruby Version 2 3 1p112 I look forward to hear your solution,,"fxn,fxn",2017-07-06 11:18:28,2017-07-06 12:08:14
IS,ActiveModel Type Date new serialize returns nil unless formatted like 2016 01 25,Steps to reproduce ActiveModel Type Date new serialize '10 18 2015' returns nil Similar implementations like ActiveModel Type DateTime new serialize '10 18 2015' will return the original string This seems related to changes made in 5 0 1 to the Date serialize function 10b81fb51acc600926613e Expected behavior Seems like it should return the original string at least not sure why new date is returning nil either as that format '10 18 2015' should be parseable We had a situation where assigning '10 18 2015' would just silently do nothing to update the database Actual behavior It returns nil and the database does not receive an update or any message stating an error System configuration Rails version 5 0 1 Ruby version 2 3 3,,lugray,2017-01-25 15:36:29,2017-07-06 22:09:36
PR,Fix extracting MariaDB version,Currently version method always returns 5 5 5 because the full version is 5 5 5 10 x y MariaDB since MariaDB 10 x It should be ignored if the prefix is 5 5 5,,kamipo,2017-07-06 22:11:07,2017-07-06 23:36:15
IS,parameter to find by cached as has many association on resulting object,Steps to reproduce script to reproduce Create some models It appears that search result comments is getting cached as the array that is passed into the find by query System configuration Rails version 4 2 7 1 also reproduced in 5 1 2 Ruby version 2 3 3,,alexcameron89,2017-07-06 20:21:46,2017-07-07 14:58:43
PR,Add ActiveModel Errors merge,Summary ActiveModel Errors merge allows instances of ActiveModel Errors to append errors from a separate instance of ActiveModel Errors onto its own set of errors The implementation in this PR does a deep merge of the contents within each key so that any keys already containing errors will be merged with the new set rather than overridden This contribution was suggested to me by Example,,"rafaelfranca,rafaelfranca",2017-07-07 17:40:52,2017-07-07 20:21:06
PR,Update default app files in app generator test,I noticed that it does not include files related to Action Cable Yarn and so on in this test case This PR adds missing files to the default app files,,koic,2017-07-05 01:27:24,2017-07-08 14:35:36
IS,Cannot register custom Capybara drivers,Steps to reproduce New 5 1 2 app with some system test written Chromedriver installed The following system test configuration This is obviously not the way to go about things I'm not sure modifying ActionDispatch SystemTesting Driver register with that guard clause is the right solution either After all what makes those 3 options special And if they are special there should be some single source of truth where they are declared with the case statement and other areas in the code referencing them Maybe the clean solution is to just check if the user has already registered a Capybara driver for that name and do nothing in that situation,,eileencodes,2017-07-05 14:03:11,2017-07-08 15:16:21
PR,Clarify i18n guide for how pluralization rules work by default,The guide misleadingly indicates that the I18n gem will apply the CLDR pluralization rules for each language This is not the case only the English algorithm with support for zero one and other is available by default Locale specific pluralization rules require additional configuration and must be supplied by the application or by another gem This explains the English rules default and adds a new subsection that shows how to use locale specific pluralization rules a la CLDR,,schneems,2017-07-08 06:24:29,2017-07-08 16:08:19
IS,Two tests failures with MariaDB 10 2 6,Steps to reproduce These two tests get failures with MariaDB 10 2 6 System configuration Rails version master branch Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux gnu,,"yahonda,yahonda,yahonda",2017-07-06 17:38:01,2017-07-08 17:20:08
PR,Fix default CURRENT TIMESTAMP in schema dumping for MariaDB 10 2,Since MariaDB 10 2 CURRENT TIMESTAMP is shown as a function current timestamp Fix matching column default to address that case Fixes 29698,,kamipo,2017-07-07 01:32:41,2017-07-08 17:20:08
IS,Should a child touch its parent on destroy when the parent initiated the destroy,We have destroyed by association that is used to prevent unnecessary counter cache updating but this could similarly be used to prevent unnecessary touching of parent relations when a parent initiates a destroy of the child I would be keen to work on a PR for this but wanted to gauge whether others thought it was a good idea,,matthewd,2017-07-07 01:01:31,2017-07-08 17:27:33
IS,Migration with virtual column fails to populate 'AS' expression for the virtual column in the schema file,Steps to reproduce Create a migration with a defined virtual column 't virtual' with an appropriate AS expression Expected behavior During migration schema should be updated with an entry for the new virtual column containing its 'AS' expression as previously specified in migration file Actual behavior Schema contains new t virtual column with an empty AS expression instead of the one found in the migration System configuration Rails 5 1 2 ruby 2 4 0p0,,"rafaelfranca,rafaelfranca",2017-07-04 10:09:05,2017-07-08 17:28:57
PR,Use information schema to extract generation expression for MariaDB,Since MariaDB 10 2 5 information schema supports Virtual Columns Fixes 29670,,kamipo,2017-07-07 00:47:57,2017-07-08 17:28:57
PR,Do not update secrets yml enc when secretes do not change,Currently if open a file with secrets edit command secrets yml enc will be changed even if its contents do not change Therefore even if only want to check secrets the difference will come out This is a little inconvenient As a fix to the above problem when content does not change secrets yml ecn is fixed so that it is not changed,,"y-yagi,matthewd,kaspth",2017-07-07 00:25:41,2017-07-08 17:30:57
PR,Add rails secrets show command,When secrets confirmed with the secrets edit command secrets yml enc will change without updating the secrets Therefore even if only want to check secrets the difference will come out This is a little inconvenient In order to solve this problem added the secrets show command If just want to check secrets no difference will occur use this command,,"y-yagi,matthewd,y-yagi",2017-07-06 12:49:58,2017-07-08 17:34:19
PR,Improve the performance of writing attributes,Using a similar approach to 08576b94ad4f19dfc368619d7751e211d23dcad8 this change adds a new internal write attribute method which bypasses the code that checks for attribute aliases and custom primary keys We can use this method instead of write attribute when we know that we have the name of the actual column to be updated and not an alias This makes writing an attribute with attribute about 18 faster Benchmark Before Warming up attribute 25 889k i 100ms Calculating attribute 290 946k 3 1 i s 1 476M in 5 077036s After Warming up attribute 30 056k i 100ms Calculating attribute 345 088k 4 8 i s 1 743M in 5 064264s,,"eugeneius,matthewd,matthewd,matthewd,eugeneius,eugeneius,eugeneius,eugeneius,eugeneius,eugeneius,matthewd",2017-06-18 14:41:27,2017-07-08 17:37:09
IS,TypeError can not quote Hash when a column name has a table name,Steps to reproduce A model has an association with a non inferred class name that is also the name of an attribute A join query tries to query the column rather than the table Expected behavior A valid query should be produced in this case SELECT people FROM people INNER JOIN tags ON tags person id people id WHERE tags id 1 Actual behavior An error is raised TypeError can not quote Hash System configuration Rails version Any 5 1 0 Ruby version Any 2 2 3,,matthewd,2017-07-06 19:21:06,2017-07-08 17:44:23
IS,ActionCable is stream for creates channel identifiers are too long for postgres,The stream for method of ActionCable Channel can make database identifiers that are invalid for Postgres which has a 63 character limit I am using UUIDs for ids in my database and stream for uses to gid param to make the name creating an identifier that is often over 80 characters I was able to get things to work by just using model id instead of model to gid param as in the base class L21 Fix in app channels application cable channel rb,,"palkan,palkan,palkan",2017-04-13 21:00:44,2017-07-08 18:00:13
PR,Fix bug with long stream identifiers when using Postgres adapter,Fixes 28751 PostgreSQL has a limit on identifiers length 63 chars docs SQL SYNTAX IDENTIFIERS Provided fix minifies identifiers longer than 63 chars by hashing them with SHA1 Although it has an impact on performance I think it is negligible It would be great to use non cryptographic hash functions such as Murmur or CityHash but that would require adding new dependencies,,"palkan,matthewd,matthewd,palkan,palkan,palkan,palkan,palkan,matthewd",2017-05-31 16:22:02,2017-07-08 18:00:13
PR,Do not translate non database exceptions,Summary The AbstractAdapter will translate all StandardErrors generated during the course of a query into ActiveRecord StatementInvalid exceptions Unfortunately it will also mangle non database related errors generated in ActiveSupport Notification sql active record callbacks after the query has successfully completed This patch should prevent it from translating errors from ActiveSupport Notifications All it does is move the rescue that translates exceptions into StatementInvalids inside the instrument block so that it only affects the database code instead of the entire ActiveSupport Notification block Threw in a couple of tests for good measure This actually bit us in a real use case recently we use sql active record notifications to notify and or throw exceptions for queries that run too long and the exceptions were coming out as ActiveRecord StatementInvalid instead of our custom LongQueryError exception type,,"eugeneius,eugeneius,eugeneius,eugeneius,matthewd",2017-07-06 00:03:36,2017-07-08 18:44:49
IS,Regression Query cache is being enabled in background jobs,Steps to reproduce Imagine model Run the job with Delayed Job backend Expected behavior Query cache wo not be created Actual behavior Query cache is being created While having thousands or millions of objects in users table we are storing cached results with keys like SELECT roles FROM roles WHERE user id IN 1000x id as 1000 is default batch size for find each It easily leads to huge memory increases I have noticed that it was introduced with to be precise System configuration Rails version Rails 5 0 2 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16,,"maclover7,matthewd",2017-04-03 11:32:18,2017-07-08 19:01:56
PR,Skip query cache for in batches and friends,Fixes The find each find in batches and in batches APIs usually operate on large numbers of records where it is preferable not to load them all into memory at once If the query cache is enabled it will hold onto the query results until the end of the execution context request job which means the memory used is still proportional to the total number of records These queries are typically not repeated so the query cache is not desirable here r,,"eugeneius,matthewd,matthewd,matthewd,matthewd,eugeneius,eugeneius,eugeneius,rafaelfranca,eugeneius,eugeneius,nateberkopec,matthewd",2017-04-25 14:12:11,2017-07-08 19:01:56
IS,config action dispatch show exceptions true seems counterintuitive,It seems like config action dispatch show exceptions which comes set to false in config environments test rb is counterintuitive even misleading One can expect that setting show exceptions to true will actually show exceptions However by setting it to true exceptions are rescued and Rails returns a corresponding HTTP status code By setting it to false exceptions are not rescued they are showed Am I missing something here,,matthewd,2017-07-07 14:15:51,2017-07-08 19:13:20
IS,Includes on association with scope containing distinct does not make include distinct,Steps to reproduce Sorry that I have not yet put together a code reproduction of this I can do that if needed I'm boiling down from the test case fix in my company is application Create a scoped association where the scope is joins b distinct Use A includes b bs to see that the b model is duplicated SQL log shows that distinct is not used Expected behavior The SQL included should have distinct in it and the result should not have duplicates Actual behavior The SQL does not have distinct in it items are duplicated System configuration Rails version 4 2 7 Ruby version 2 2 4 Ideas to Fix I saw L146 and decided to see if I could fix it locally I added and it passes my test cases locally,,"maclover7,maclover7,kamipo",2016-09-19 05:05:10,2017-07-08 20:30:18
IS,FrontEnd use actioncable npm package,ActionCable NPM Package I got 2 problems when I try to use actiocable of npm package I using it on angular 2 app to call Rails API server Expected behavior First When I create a consumer using this command var cable ActionCable createConsumer 'wss' Sometimes it throw exception WebSocket connection to 'wss 3000 cable' failed Error in connection establishment net ERR SSL PROTOCOL ERROR Seconds When I try to create a consumer how can I send auth params to Serve I mean how can pass auth param to Connection channel I researched on google but I could not find the solution Please help me System configuration Rails version ruby 2 4 0p0,,matthewd,2017-07-07 02:31:54,2017-07-08 20:43:38
IS,includes association is not respecting scope when eager loaded using references,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen comment post should be present even if the post is soft deleted Actual behavior Tell us what happens instead comment post is nil System configuration Rails version 5 0 2 Ruby version 2 4 Reference bug rb,,"kamipo,kamipo,kamipo",2017-03-14 20:19:26,2017-07-08 21:16:19
PR,Do not allow uuids with orphan curly braces,The uuid validation regex was allowing uuids to have a single leading curly brace or single trailing curly brace Saving with such a uuid would cause Postgres to generate an exception even though the record seemed valid With this change the regex requires both a leading and a trailing curly brace or neither to be valid,,matthewd,2017-07-07 21:28:14,2017-07-08 22:29:44
PR,Use frozen string literal in ActiveSupport,My previous plan to enable frozen string literal across all Rails gems did not work and had to be reverted because not all components were ready for it Let is take a more incremental approach of enabling it per gem with the rubocop Only option only for gems that we know are ready for frozen string Thanks to is work activesupport is now ready for frozen string literal Once is merged I will do the same for the rest of components,,kirs,2017-07-09 12:11:49,2017-07-09 13:28:40
PR,Prepare AP and AR to be frozen string friendly,This PR makes ActionPack and ActiveRecord frozen string friendly Shipping it should unblock us to move towards enforcing frozen string literal across all Rails components ref ref,,"kirs,matthewd,kamipo,matthewd,matthewd,deivid-rodriguez,rafaelfranca,kirs,pat,kirs,pat,kirs,kamipo,kirs,kirs,rafaelfranca,kirs,matthewd,kirs",2017-07-01 20:32:34,2017-07-09 14:37:04
PR,Add assertions of options,Some public interfaces of RoR have assertions of options but others do not,,kaspth,2017-07-09 07:58:58,2017-07-09 14:58:58
IS,no implicit conversion of nil into String TypeError with rails dbconsole,Steps to reproduce With rails 5 1 1 issue the bin rails dbconsole command It crashes with a TypeError Seen this error with MySQL Works fine for sqlite3 Expected behavior Should start the db console Actual behavior Below is the crash report for MySQL sqlite3 dbconsole opens up fine System configuration Rails version 5 1 1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 i686 linux mysql version mysql Ver 14 14 Distrib 5 7 18 for Linux i686 using EditLine wrapper Ubuntu version 16 04 2 LTS,,"y-yagi,y-yagi",2017-07-08 03:02:46,2017-07-09 15:00:23
PR,Load environment file in dbconsole command,Currently the environment file is not loaded in dbconsole command Therefore for example if use encrypted secrets values in database yml read encrypted secrets will not be true so the value can not be used correctly Fixes 29717,,"y-yagi,kaspth,kaspth",2017-07-09 01:27:35,2017-07-09 15:00:23
IS,Encoding UndefinedConversionError in secrets edit with rails 5 1 2,Steps to reproduce Hello Tried upgrading to rails 5 1 2 from 5 1 1 Changed rails version to 5 1 2 in Gemfile and did a bundle update Expected behavior Issued the rails secrets edit command Excpected secrets to open up in Vim as was happening in rails 5 1 1 Actual behavior Issuing rails secrets edit command causes the below exception Do I need to be doing something differently or is this a bug System configuration Rails version 5 1 2 Ruby version 2 4 1,,kaspth,2017-07-06 14:08:13,2017-07-09 15:08:49
PR,Treat secrets as binary,Until Rails 5 1 1 secrets was treated as binary inside Rails L59 L63 However it is treated as String in Rails 5 1 2 changed by 157db872103429e8782b62d1cb5d1d91337177a7 L104 L108 As a result when upgrading from Rails 5 1 1 to 5 1 2 to write the value treated as binary using File write causing an error In order to avoid UndefinedConversionError fixed it to treat it as binary like 5 1 1 Fixes 29696,,"y-yagi,eileencodes,matthewd,y-yagi,kaspth",2017-07-08 10:34:32,2017-07-09 15:08:49
IS,0 1 rounded as 1 by french translation,Steps to reproduce config locales en yml System configuration Rails version 5 1 1 Ruby version 2 4 1,,,2017-07-09 10:23:18,2017-07-09 15:10:20
PR,Update MessageEncryptor example to use dynamic key length,key len was introduced in but the example still used magic numbers Granted 32 is not likely to change and 64 random bytes 512 bits is overkill for example UUIDs are 16 bytes Recommend reviewing with w 1,,"bdewater,kaspth",2017-07-09 15:47:03,2017-07-09 16:24:13
PR,ci skip Updated language on validations,Corrected a minor grammatical issue in the Validations section of Active Record Basics,,kaspth,2017-07-09 16:17:44,2017-07-09 16:27:45
PR,Use frozen string literal in ActiveJob,The commit is just rubocop a after changing the Rubocop rule ref ref,,kirs,2017-07-09 18:09:08,2017-07-09 19:29:49
IS,rails ujs does not submit remote forms submitted with JavaScript via XHR,I have found an inconsistency between jquery ujs and rails ujs With jquery ujs a remote form submitted with JavaScript is submitted via XHR but with rails ujs it is submitted via normal HTML request I am not sure if this is an intentional change or a bug Steps to reproduce Expected behavior Form is submitted via XHR request Actual behavior Form is submitted via standard HTML request System configuration Rails version 5 1 1 and rails master Ruby version 2 4 1,,,2017-06-23 13:02:01,2017-07-10 01:48:16
PR,Make sidekiq and resque integration tests work in CI,Since f55ecc6 the integration test of sidekiq and resque is not working in CI Because f55ecc6 required a password to access redis Therefore handling by passing passwords when connecting to redis,,"y-yagi,kaspth,y-yagi,kaspth",2017-07-09 22:47:18,2017-07-10 07:18:14
PR,Added time helper method freeze time which is an alias for travel to Time now,r,,"prathamesh-sonpatki,sikachu,prathamesh-sonpatki,dhh,meinac,prathamesh-sonpatki,prathamesh-sonpatki,dhh",2017-07-05 05:43:08,2017-07-10 10:13:38
IS,ActiveRecord FinderMethods exists method in scope returns a relation,Ok scopes have to return an ActiveRecord Relation my fault,,,2017-07-10 12:34:49,2017-07-10 12:37:45
PR,CI with the latest stable GA version of MariaDB 10 2,Summary This pull request updates MariaDB version to 10 2 since 29708 and 29706 supports MariaDB 10 2 changes Refer,,"yahonda,yahonda,yahonda",2017-07-10 13:17:43,2017-07-10 14:13:54
IS,Overwriting minitest option parsing breaks minitest plugins that add options,This is not a big issue for me just something I noticed and that seems like a bad practice will make it impossible for other gems to add their own minitest options Steps to reproduce System configuration Rails version 5 0 0 rc1 Minitest 5 8 4,,"grosser,sikachu,kaspth,grosser,grosser",2016-05-17 04:25:59,2017-07-10 19:13:23
IS,Rails 5 is not playing well with minitest focus,I wrote an issue with minitest focus and they said it was somethign with Rails and I should write something up here ANything to figure out a solution Steps to reproduce Install and use minitest focus Set a minitest to 'focus' with a tag before the test Expected behavior Only the 'focused' test will run Actual behavior All tests run System configuration Rails version 5 1 1 Ruby version 2 3 3 Other versions minitest 5 10 2 minitest focus 1 1 2 minitest ar assertions 0 1 1 minitest reporters 1 1 14,,"rafaelfranca,zenspider,rafaelfranca,rafaelfranca,rafaelfranca,zenspider,rafaelfranca,rafaelfranca,kaspth",2017-06-16 00:39:01,2017-07-10 19:13:23
PR,Do not eagerly require Rails' minitest plugin,Fixes Fixes By making the Rails minitest behave like a standard minitest plugin we are much more likely to not break when people use other minitest plugins Like minitest focus and pride To do this we need to behave like minitest require files up front and then perform the plugin behavior via the at exit hook This also saves us a fair bit of wrangling with test file loading Finally since the environment and warnings options have to be applied as early as possible and since minitest loads plugins at exit they have to be moved to the test command Ideally I would like to backport this to both 5 1 stable and 5 0 stable It is an extensive fix for sure though,,"kaspth,kaspth,kaspth,kaspth,kaspth,y-yagi,kirs,kaspth,y-yagi,y-yagi,y-yagi,kaspth,kirs,kaspth,kaspth,kaspth,kaspth,kirs,kaspth",2017-06-25 19:08:55,2017-07-10 19:13:23
IS,Make protect from forgery with exception the default on ActionController Base,We currently generate the following ApplicationController in a fresh Rails app That is an oddly specific lonely setting to expose We should move that to be the default in ActionController Base with a new framework setting Then add skip forgery protection if unless as a wrapper around skip before action verify authenticity token for the common case of turning it off for API requests,,"dhh,kaspth,dhh",2017-05-23 16:35:26,2017-07-10 21:24:32
PR,Default protect from forgery,Summary Fixes 29193 Protect from forgery by default Rather than protecting from forgery in the generated ApplicationController add it to ActionController Base by config This configuration defaults to false to support older versions which have removed it from their ApplicationController but is set to true for Rails 5 2 Also adds ActionController Base skip forgery protection as a wrapper to skip before action verify authenticity token for disabling forgery protection,,"lugray,rafaelfranca,rafaelfranca,lugray,Edouard-chin,lugray,eugeneius,eugeneius,eugeneius,eugeneius,eugeneius,eugeneius,lugray,lugray,lugray,lugray,eugeneius,lugray,lugray",2017-07-10 15:27:21,2017-07-10 21:24:32
PR,Adding protect from forgery into ActionController Base,Pre history Ever asked yourself why default application controller looks like this Like many things in Rails it is just a tradition not because it is the right thing to do Remember match ' controller action id' that left every single action vulnerable to CSRF Let is figure out how exactly this innocent line is bad First a href we need to review a story with Doorkeeper a which left every Doorkeeper endpoint vulnerable to CSRF i e getting access token with any scope with unauthenticated POST request Websites like Digital Ocean Coinbase etc got a really bad bug because of 3rd party library The problem behind that was how Doorkeeper is ApplicationController inherited from Base w o the protect from forgery part Same thing happened to few other gems it is very easy to forget to include that critical line of code Many developers create new internal controllers like AdminController and also do not include that line Long story short I audited a lot of Rails code it is been a disaster It is clear to everyone protect from forgery must be ON by default But the right place for it is in base rb not in the generated template Base has everything that works with the browser cookies sessions redirects and to work properly with the browser it also must always verify the authenticity token It is not like we can routinely switch it on or of CSRF protection 101 If the request has authenticity token equal one from the session request was initiated from our domain session and cookies can be used If it lacks authenticity token or it is invalid nullify cookies session Do not raise any error explicit API tokens can be used Just pretend you did not receive any cookies plus show a console warning Received cookies without valid authenticity token There is no use in two other options 1 As you can see with exception breaks APIs those would be just fine w o cookies and there would not be tons of reports on StackOverflow from people trying to make API work on Rails and eventually switching that annoying thing off with skip before filter 2 reset session option would be equivalent to Log Out CSRF very annoying low severity bug makes no sense to use this one Recap 1 We must add protect from forgery with null session directly to base rb to the controlling talking to the browser That would prevent dozens of gems out there being vulnerable to CSRF like Doorkeeper because they forgot to add protect me from csrf line at some point 2 We should deprecate two other options reset session exception because they are useless and even somewhat dangerous,,"homakov,eileencodes,homakov,utilum,homakov,homakov,eileencodes,homakov,rafaelfranca",2016-12-14 18:56:13,2017-07-10 21:26:49
PR,Fix typo in method name,,,y-yagi,2017-07-10 22:16:08,2017-07-10 22:22:02
PR,Allow action on unpermitted parameters to be overriden,Summary This commit allows us to override the global strategy on unpermitted parameters in a per controller and per permit level giving the developer the freedom to handle different situations in a more precise manner It does not pollute the the current api ofc Examples The following examples demonstrate the new api,,"matthewd,kaspth,kaspth,kaspth",2017-07-07 12:38:59,2017-07-11 07:33:04
PR,Fix PostgreSql adapter setup for ActionCable tests,ARTest config arunit is always nil 'cause databases config has nested structure connections adapter id I'm using custom PostgreSQL credentials in config yml and it turned out that there is a bug here cc,,palkan,2017-07-11 13:45:14,2017-07-11 15:50:54
IS,Add something like default value for initializing class attribute,Hi there the guides shows us how to initialize a class attribute class attributes by doing so I intend to make a PR if you think it is ok,,georgeclaghorn,2017-07-11 14:59:46,2017-07-11 17:24:49
IS,config allow concurrency false in a test environment removes the session in an IntegrationTest,Steps to reproduce this app declares a barebones controller endpoint in application controller rb and a test that hits that endpoint and then asserts that the session variable is a ActionDispatch Request Session This will fail while config allow concurrency false is in config environments test rb Expected behavior An IntegrationTest is session variable should contain an ActionDispatch Request Session after the test makes a request Actual behavior It seems that once a request is made the integration test is session is replaced with an empty hash Flash messages set in the controller will also not be present in the 'flash' variable in the test System configuration Rails version 5 1 2 Ruby version 2 3 1 My understanding is that config allow concurrency false is an old setting and one that my workplace likely carried forward from Rails 2 but the setting breaks tests in a very sneaky hard to detect way in Rails 5 Rails 4 worked fine If the setting is too old to be fixed maybe it should show a warning of some sort when used,,"rafaelfranca,rafaelfranca,lugray,lugray",2017-06-28 15:09:34,2017-07-11 18:45:55
PR,Fix english for the rescue from warning ci skip,I added the warning a few years ago but I think the English could be better,,"yuki24,robin850,yuki24",2017-07-11 16:56:34,2017-07-11 21:03:56
PR,Enable Layout EmptyLineAfterMagicComment cop,Summary Since there is no consistency in the blank line after magic comment I think that it would be good to enable Layout EmptyLineAfterMagicComment cop This PR is mainly preparing for the introduction of frozen string literal true magic comment Also this PR is running autocorrect on existing code Other Information Layout EmptyLineAfterMagicComment cop is enabled by default in RuboCop as well L203 L206,,koic,2017-07-11 04:25:47,2017-07-11 21:36:43
PR,Extract FakeKlass in relation test rb and relation mutation test rb,FakeKlass in relation test rb and relation mutation test rb are almost the same,,kamipo,2017-07-10 23:01:07,2017-07-11 21:40:24
IS,AR behaviour regarding date trunc 'month' x changed in 4 2 8,I inherited a piece of code which reads like this and works in 4 2 7 Ruby version is 2 2 4 database is Postgres 9 5 I read rails 428 february 21 2017 before upgrading but did not realize the changes would affect the code in question Of course the code should convert the month to a date in any case but I'm still wondering if the new behaviour is an intentional consequence of the changes to date time handling in 4 2 8,,"matthewd,pixeltrix,pixeltrix,pixeltrix",2017-04-10 08:39:26,2017-07-12 08:05:00
PR,Fix configuring third party cache stores such as ActiveSupport Cache RedisStore,Broken in 8da30ad Example cc,,"georgeclaghorn,matthewd,amatsuda",2017-07-12 13:29:12,2017-07-12 13:49:28
PR,Change sqlite3 boolean serialization to use 1 and 0,Summary Abstract boolean serialization has been using 't' and 'f' with MySQL overriding that to use 1 and 0 This change is a first step towards unifying the behaviour in the abstract adapter to always use 1 and 0 Fixes 17062 Other Information Beyond the goal of unifying the representations this has the advantage that SQLite natively recognizes 1 and 0 as true and false but does not natively recognize 't' and 'f' PostgreSQL natively recognizes both representations and others This change in serialization requires a migration of stored boolean data for SQLite PostgreSQL databases so it is implemented behind a configuration flag whose default false value is deprecated The flag itself can be deprecated in a future version of Rails While loaded models will give the correct result for boolean columns without migrating old data where clauses will interact incorrectly with old data r,,"lugray,matthewd,matthewd,matthewd,matthewd,matthewd,lugray,eileencodes,lugray,matthewd,lugray,matthewd,lugray,matthewd,lugray,lugray,lugray,lugray,eugeneius,yahonda,lugray,yahonda,rafaelfranca,rafaelfranca,matthewd,matthewd",2017-07-06 18:35:16,2017-07-12 13:51:08
IS,Feature rails install,Not sure if this is the right place to ask for feature Whenever I want to add a gem to my rails app I go to specific gem is github repo and follow the Readme instructions Usually there are couple of steps to install the gem 1 Add the gem to your Gemfile This is almost always the same possible config options could be require false or group development test 2 Run the gem is generator Usually rails generate gem name install or rake gem name install migrations 3 Migrate the database I have an idea that would streamline this process and make it easier to add gem to rails apps rails install command This command would install a ruby gem and run any necessary generators and setup code to make the gem fully installed and added to the app There are many times when I know the exact name of the gem but I can not remember how installation to configuration install rails quickstart the installation gem usage correctly post installation Note that every one of these gems has different installation process although all of these steps in all of these gems can be automatically executed with sensible defaults that can be changed through cli arguments Those gems that require more customization for example creating migration to add fields to existing models could output that info right in the console after the installation something similar to post install gem message but displayed every time after rails install command not only when installing gem for the first time Rails is all about Convention over Configuration What we lack here is Convention Gem developers could add a simple config option e g in gemspec file or dotfile to their gems that will set the flag that this gem follows new rails gem installation configuration Then we could define the necessary instructions to fully install and setup the gem It could work similarly to rails new template Devise does something like this already for their install generator L35 This idea comes from ember install install an ember cli addon,,matthewd,2017-07-01 05:30:57,2017-07-13 00:36:36
PR,ci skip Response charset uses default charset when nil is passed,,,"yui-knk,prathamesh-sonpatki,yui-knk",2017-07-13 07:33:10,2017-07-13 07:37:03
PR,Allow to edit secrets in mutiple apps at the same time,In encrypted secrets the tmp file is used as a fixed file secrets yml enc under the tmp directory And that tmp file will be removed after process Therefore if edit secrets at the same time with multiple applications the tmp file was conflicting In order to avoid the above issue added pid to tmp file Context issuecomment 314756299,,"y-yagi,kaspth,kaspth,y-yagi",2017-07-12 23:10:25,2017-07-13 09:54:28
PR,Do not execute secrets test rb in parallel,In encrypted secrets the tmp file is used as a fixed file secrets yml enc under the tmp directory And that tmp file will be removed after process Therefore if test in parallel there is a possibility to write to the same tmp file or to remove the tmp file being used by another process yet This occasionally caused the test to be an error For this reason modified not to run in parallel r,,"y-yagi,matthewd",2017-07-12 08:32:43,2017-07-13 09:55:49
IS,Rails getting started documentation,Steps to reproduce In Rails documentation for update operation 5 11 the controller returns edit method but it does not exist it has to be created like below The documentation needs to be added for it Expected behavior Article to be edited should be brought up in the form and can be edited Actual behavior Rails blog gives error System configuration 5 1 2 2 3 0,,lugray,2017-07-13 02:21:14,2017-07-13 17:59:38
PR,expose time concept used by ActiveRecord Timestamp,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-07-13 23:25:41,2017-07-13 23:25:51
PR,ci skip Remove options of javascript link tag and stylesheet link tag in guides,rails no longer has javascript include tag defaults javascript include tag all cache true stylesheet link tag all cache true ref Remove old asset tag concatenation rails rails 607829a,,"willnet,kamipo",2017-07-14 01:18:41,2017-07-14 01:38:10
PR,Fix typo in ActiveJob testing guide ci skip,Summary Fixes a typo in ActiveJob testing guide Other Information The correct option can be found in the InlineAdapter source code L12,,"kamipo,kamipo,kamipo",2017-07-14 05:07:45,2017-07-14 05:22:14
PR,Fix doc format for ActiveSupport Testing TimeHelpers ci skip,,,"y-yagi,kamipo",2017-07-15 01:20:03,2017-07-15 01:34:58
PR,Remove encoding utf 8 magic comment,Summary The default script encoding from Ruby 2 0 is UTF 8 There are unnecessary encoding utf 8 magic comment for currently maintained Ruby 2 2 2 or higher This PR removes magic comment,,"koic,kaspth",2017-07-15 10:31:22,2017-07-15 12:15:58
PR,Remove useless aliased table name in JoinDependency,If table table alias is not nil it is enough to use table simply,,kamipo,2017-07-15 02:35:25,2017-07-15 12:53:41
PR,Remove redundant instances of the word isimply',Summary Remove redundant instances of the word isimply' on the basis that if it was simple the user would not be reading the guide Particularly for newcomers it can be alienating and belittling to suggest that something new and technical is simple,,kaspth,2017-07-15 15:44:10,2017-07-15 16:13:49
PR,ci skip Remove blank lines in bin setup,,,"yhirano55,kaspth",2017-07-14 20:50:57,2017-07-15 18:00:50
PR,Use argument naming same as method missing,,,"yhirano55,kaspth,kaspth",2017-07-13 23:20:50,2017-07-15 18:08:35
PR,Fix boolean column migration script,,,"y-yagi,kaspth",2017-07-12 22:38:46,2017-07-15 18:23:16
PR,Remove extra merge order id for Relation first in tests,Since 07e5301 Relation first will order by primary key if no order is defined,,kamipo,2017-07-12 19:41:44,2017-07-15 18:25:39
IS,Active Record Add GlobalID backed polymorphic associations,issuecomment 313919968 Currently Active Record is polymorphic associations support looks like this which wires Event s to the eventable via an eventable type and eventable id column Since Rails 4 2 brought along GlobalID we have had a way to encode a reference to a model as a URI and then look that up later These could also work for polymorphic associations Event could have an eventable id or eventable gid column that stashes a GID for the eventable e g gid and skips the eventable type column all together Useful for Active Storage to convert it is has one attached and has many attached to use Rails' standard association methods under the hood Compatibility Should GIDs be the new polymorphic association type going forward Or should the columns dictate the polymorphic association type What is the benefits drawbacks for eager loading indexes looking up Event s for a particular eventable type cc,,"kaspth,dhh,dhh,kaspth",2017-07-09 14:25:14,2017-07-15 18:31:01
IS,rewhere does not overwrite the existing condition on preloaded relations,Seems related to 15357 Steps to reproduce System configuration Rails version 5 0 1 Ruby version 2 3 3,,"al2o3cr,kamipo",2017-01-18 09:34:10,2017-07-15 19:09:59
PR,Add a test case for overwriting existing condition on associations,Overwriting existing condition on associations has already supported 23bcc65 for eager loading 2bfa2c0 for preloading Fixes 27724 Closes 29154,,kamipo,2017-07-04 22:58:14,2017-07-15 19:09:59
PR,Fix polymorphic association with scope,as option should be regard as like a default scope Fixes 27724,,"kamipo,robin850,kamipo",2017-05-19 22:25:40,2017-07-15 19:09:59
PR,Insert environment value to InternalMetadata table before check environment,Sometimes ActiveRecord DatabaseTasksUtilsTask test raises an error when called with protected environment test fails There seems to be an error because environment value is not exist Therefore fixed to insert a environment value when environment value is not exist,,"y-yagi,yahonda,y-yagi,yahonda,rafaelfranca,y-yagi",2017-06-07 02:23:13,2017-07-15 19:36:00
PR,Remove blank lines in setup,I have make pr again 29795 It seems that includes unintentionally multiple newlines Before,,"yhirano55,kaspth",2017-07-15 22:42:18,2017-07-16 04:59:14
PR,Do not generate unused components contents in app update task,Currently app update generates all contents regardless of the component using in application For example even if not using Action Cable app update will generate a contents related to Action Cable This is a little inconvenient This PR checks the existence of the component and does not generate unnecessary contents Can not check all options in this way However it will be able to prevent the generation of unnecessary files,,"y-yagi,rafaelfranca,y-yagi,kaspth,kaspth,kaspth,y-yagi,matthewd,y-yagi,kaspth,y-yagi,kaspth",2017-07-01 00:39:07,2017-07-16 05:07:27
PR,Fix create with using both string and symbol,,,"kamipo,kaspth,kamipo,kaspth",2017-07-12 22:49:13,2017-07-16 08:09:57
PR,Reset column information after schema changed,This fixes the following failures,,y-yagi,2017-07-16 02:42:37,2017-07-16 08:26:09
PR,Remove unused last order clause and join dependency,Using last and order clause was removed at 8bb5274 and 90d1524 join dependency was added at b959950 but it is unused in the first place,,kamipo,2017-07-16 07:38:51,2017-07-16 10:14:35
PR,Refactor JobGenerator,,,"yhirano55,robin850",2017-07-15 16:56:32,2017-07-16 12:28:58
PR,Replace Erubis with Erubi in a part of guide ci skip,Summary This PR is a small documentation change Since Rails 5 1 Erubis ERB handler has been deprecated and recommended for Erubi deprecations 1 This PR replaces Erubis with Erubi in a part of guide Since Erubis will be removed in Rails 5 2 L1 I decided to replace rather than adding Erubi to the list,,"koic,kamipo,kaspth",2017-07-16 14:37:02,2017-07-16 14:47:35
PR,Fix minitest plugin leaking into rails rails tests,Bug After has been merged any failing test in ActiveRecord ActiveJob ActiveSupport suite would fail in Minitest reporter Reproduction steps 1 Add a failing test Fix With Minitest always loads loads L92 the plugins including Rails test reporter plugin This works fine if you are running a Rails application test suite but when you are running rails rails test suite you do not want to load custom test reporter In ActiveRecord tests there is no Rails application or Rails root available which makes the custom test reporter The solution is to disable custom reporter when it is not running in the context of Rails app,,"kirs,kirs,kirs,kaspth,kirs,kaspth",2017-07-16 16:54:29,2017-07-16 18:56:38
PR,Allow to pass a connection to the dbconsole command,Hello Since 0a4f6009 it is possible to specify a 3 level database configuration to gather connections by environment The dbconsole command will try to look for a database configuration which points to the current environment but with such flavour the environment key is flushed out so let is add the ability to specify the connection and pick primary by default to be consistent with Active Record Have a nice day,,"robin850,y-yagi,robin850,robin850,jeremy,jeremy,jeremy,jeremy,jeremy,kaspth,kaspth,robin850,kaspth,robin850",2017-06-05 21:29:24,2017-07-16 19:02:15
PR,Do not cache scope for create,I investigated where scope for create is reused in tests with the following code It was hit only test scope for create is cached This means that scope for create will not be reused in normal use cases So we can remove caching scope for create to respect changing where clause and create with value,,kamipo,2017-07-16 12:59:41,2017-07-16 19:03:30
PR,Fix create with with multiparameter attributes,,,kamipo,2017-07-16 12:11:57,2017-07-16 19:04:13
PR,Set represent boolean as integer via configuration,The adapter class is lazy loaded Therefore can not use the adapter class directly with the initializer Follow up of 29699,,"y-yagi,kaspth,kaspth,kaspth,y-yagi,y-yagi,kaspth,kaspth,kaspth,y-yagi,y-yagi,kaspth,y-yagi,kaspth,y-yagi,rafaelfranca,kaspth",2017-07-13 23:07:05,2017-07-16 19:05:59
PR,Remove unused requires,,,kamipo,2017-07-16 10:29:21,2017-07-16 19:06:18
PR,Use frozen string literal in activemodel,Follow up to Extends Style FrozenStringLiteralComment Rubocop rule to activemodel The commit is just rubocop a after changing the Rubocop rule ref,,"kirs,kirs,schneems",2017-07-16 17:12:25,2017-07-16 23:46:06
IS,LoadError cannot load such file html sanitizer,I'm having a weird issue with a simple line of code in rails 3 the code is just a simple format some data in a haml file I keep getting this error LoadError cannot load such file html sanitizer gem actionpack 3 2 17 lib action view helpers sanitize helper rb 174 in 'white list sanitizer' gem actionpack 3 2 17 lib action view helpers sanitize helper rb 60 in isanitize' gem actionpack 3 2 17 lib action view helpers text helper rb 270 in isimple format' I also installed the ruby rails html sanitizer ubuntu package Any suggestion would be really appreciated Thanks Ubuntu 16 04 Ruby 1 9 3 p392 Rails 3 2 17,,kaspth,2017-07-17 02:26:35,2017-07-17 07:28:48
PR,Set RAILS ENV before load application file,Since 29725 load application file when dbconsole command is executed However if do not set RAILS ENV before reading the application file can not connect to the env specified in option so added the setting of RAILS ENV Sorry this is my bad,,y-yagi,2017-07-17 00:26:48,2017-07-17 07:30:22
PR,Move reset pk sequence test to AdapterTestWithoutTransaction,If execute PostgreSQL test with specifying 53853 for seed the following error will occur travis is here As with 29287 it seems like a problem that the value of primary key obtained from connection gets different Therefore fixed to execute that test within transaction,,y-yagi,2017-07-17 06:15:21,2017-07-17 07:58:42
PR,Enable Layout FirstParameterIndentation cop,We have some indentation cops But now there is a little inconsistent params indentations Enable Layout FirstParameterIndentation cop to prevent newly inconsistent indentation added and auto correct to existing violations,,kamipo,2017-07-16 09:29:44,2017-07-17 08:06:19
PR,Keep frozen records frozen on save,Summary In Rails 4 2 6 if you called save on a frozen record it would keep its frozen state Between 4 2 6 and 5 0 0 07723c23a7dc570beae73c074ad37227e3e8a06e introduced a regression where save will mutate a record and unfreeze it I pinpointed it to ActiveRecord AttributeMethods Dirty is changes internally applied that replaces a record is mutations before last save and mutations from database ivars Returning if the record is frozen bypasses the changes and keeps the records frozen Here is a test case showing the regression Other Information This is related to 28563 There may be other solutions to this problem that I'm open to pursuing,,"alexcameron89,sgrif,alexcameron89,sgrif,kaspth,sgrif,sgrif",2017-04-04 00:41:54,2017-07-17 13:03:44
IS,Sanitize view helper methods ignore config action view white list sanitizer setting,Summary According to documentation L162 for SanitizeHelper it should be possible to set a custom white list sanitizer using Expected behavior The custom FoobarSanitizer should be used as the custom sanitizer for sanitize strip tags and strip links helper methods Actual behavior The default Rails sanitizers are used by these methods instead System configuration Rails version 4 2 9 5 0 2 Ruby version 2 3 1,,sgrif,2017-03-28 17:23:36,2017-07-17 13:08:03
PR,Enable Rails config overrides of action view sanitizer classes,Summary Fixes 28587 These changes ensure that configured ActionView Base sanitizer instances are properly inherited in view contexts used by sanitize and other SanitizeHelper methods by changing sanitizer class instance variables to use cattr accessor Other Information It would be nice to get this fix into both Rails 5 x and 4 2 versions,,sgrif,2017-03-29 17:51:19,2017-07-17 13:08:08
PR,Make the order of Hash reverse merge consistent with HashWithIndifferentAccess,Summary Currently the result of Hash reverse merge deviates from the ordering of similar methods,,"Erol,al2o3cr,Erol,Erol,Erol,Erol,Erol",2017-02-20 11:01:29,2017-07-17 13:10:53
IS,Since activerecord 4 2 8 scopes are being applied to unrelated queries,Steps to reproduce When you define a scope like this an exception is raised ActiveRecord StatementInvalid SQLite3 SQLException no such column interests id I wrote this script to illustrate the issue which was introduced by rails commit c55a5d6b16d18b028c3642caaf5815072630de40 Expected behavior I would except the PROBLEMATIC QUERY above to generate the following SQL statement SELECT teams id FROM teams INNER JOIN users ON users team id teams id AND users team id Actual behavior Since rails commit c55a5d6b16d18b028c3642caaf5815072630de40 the PROBLEMATIC QUERY will generate the following sql SELECT teams id FROM teams INNER JOIN users ON users team id teams id AND users team id AND interests id Note how the where clause interests id is applied to a query that should be unrelated A ActiveRecord StatementInvalid SQLite3 SQLException no such column interests id SELECT teams id FROM teams INNER JOIN users ON users team id teams id AND users team id AND interests id is raised because there is no FROM clause for the interests table System configuration Rails version 4 2 8 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,"k0kubun,sgrif,sgrif",2017-06-03 00:27:31,2017-07-17 14:10:09
PR,fix error indexes,I did not have enough info to run rails tests so I created a repo to test this issue Summary L44 L45 A post has 2 comments A When the first comment has errors the index is correct first 0 B When the first comment is valid but the second is invalid the error index should be 1 however the index is 0 Other Information L62 L66 this checks error child is correct index,,"eugeneius,eugeneius,eugeneius,sgrif",2017-02-18 09:37:26,2017-07-17 14:33:05
PR,Remove useless arel engine,arel engine is only used in raise record not found exception to use engine connection and connection visitor in arel where sql L183 But klass connection will work as expected even if not using arel engine described by test connection So arel engine is no longer needed,,kamipo,2017-07-17 08:38:44,2017-07-17 14:41:35
PR,Add documentation for class attribute default option,Documentation for option introduced at,,"kaspth,kaspth,vipulnsward,sgrif",2017-07-11 17:20:45,2017-07-17 14:53:59
PR,Avoid assigning multi parameter hash into attributes,Summary Just the other day I upgraded from rails 4 1 1 to rails 5 0 1 But I found a painful problem in my head there Related to Other Information In the actual case it takes a value from an element using datetime select etc embeds it in hidden field on the confirm page and then POST the value will not be taken in normally Because the time value is embedded in ruby is hash format on the confirm page and it will not work properly,,"rafaelfranca,rafaelfranca,rafaelfranca,maclover7,sgrif,sgrif",2017-02-02 18:11:37,2017-07-17 15:21:11
PR,Fix select all given 4 expected 4 error,cc This error occurs when using v0 18 3 on fairly large datasets millions of rows I have not been able to reproduce it reliably so I do not know how to make a test case I only use MySQL so can not speak to whether this is present in other DB adapters I debugged it manually and isolated it to ActiveRecord ConnectionAdapters MySQL DatabaseStatements After testing several potential patch points I found that this patch does work I do not understand why it works if anyone has an idea please LMK but on the other hand I also can not think of any possible negative side effect of explicitly declaring the parameters for super ActiveRecord ConnectionAdapters QueryCache has similar implicit parameters for super but in my testing patching it to be explicit did not affect the bug Here is a typical error,,"eileencodes,sgrif",2017-07-17 08:14:01,2017-07-17 15:35:48
PR,Fixing Adding Member Routes documentation,Previously said the helpers were preview photo url and preview photo path i e action resource when in fact they are resource action i e photo preview path Fixed Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"maclover7,maclover7",2017-01-12 22:23:07,2017-07-17 15:42:28
PR,Make sure that the limits and offsets are ignored when building the j,oin scope When there is a self join to a class with limit and offset with a current scope setup on that class the join constraints method in ActiveRecord Associations JoinDependency JoinAssociation duplicates the binds associated with limit and offset which leads to incorrect query being built See Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,sgrif,2017-07-14 20:16:52,2017-07-17 16:58:04
IS,ActiveRecord calling pluck in class method duplicates limit and offset bindings resulting in invalid database queries,Steps to reproduce Run Expected behavior Should run without problems just as the same query not ran through a class method System configuration Rails version 5 1 2 Ruby version 2 4 1,,sgrif,2017-07-10 14:34:39,2017-07-17 16:59:08
PR,Remove deprecated Erubis ERB handler,Summary Erubis ERB handler is deprecated in Rails 5 1 and will be removed in Rails 5 2 The following warning is it ActionView Template Handlers Erubis is deprecated and will be removed from Rails 5 2 Switch to ActionView Template Handlers ERB Erubi instead L1 This PR removes the codes related to Erubis from current master branch Rails 5 2 The following is an excerpt from the commit message at changing ActionView ERB Handler from Erubis to Erubi The Erubis template handler remains in a deprecated state so that code that accesses it directly does not break It can be removed after Rails 5 1 For this reason I thought it was not bad as a time to remove the codes related to Erubis Other Information For example Haml 5 has priority to use Erubi,,"koic,rafaelfranca,koic",2017-07-17 12:27:14,2017-07-17 17:03:56
IS,Deprecation issue the behavior of changed inside after callbacks,Steps to reproduce Update a boolean attribute Expected behavior The boolean attribute is updated Actual behavior I get this pile of deprecation warnings,,"matthewd,sgrif",2017-07-10 22:00:24,2017-07-17 17:05:25
PR,Scrub the invalid paramter value before using it in the error,You should be able to safely use the String error message So when finding the parameter has an invalid encoding we need to remove the invalid bytes before using it in the error Otherwise the caller might get another Encoding error if they use the message I found this issue because due the way we parallelize CI runs we end up having to reply some error messages from one process to another which we end up having to do some string manipulation with error messages However in a broken test that was failing because of this error we would get another error on top saying the Encoding of the String was invalid,,"arthurnn,arthurnn,kaspth,kaspth,arthurnn",2017-07-14 19:07:36,2017-07-17 17:44:47
PR,Remove unused Mutex m in Active Model,,,"kamipo,rafaelfranca,kamipo,rafaelfranca",2017-07-14 04:16:15,2017-07-17 17:54:38
PR,Add bootsnap to default Gemfile,This adds bootsnap to newly generated projects which generally reduces application boot times by over 50 quick performance overview I heard through the grapevine that people would be open to this Early releases of bootsnap only supported macOS but recent versions now additionally support linux and at least in theory most BSDs Windows support is still not implemented This change is small but not trivial and it is been a long time since I have been in this codebase I'm looking for guidance on how best to get this change documented tested and merged cc,,"matthewd,matthewd,matthewd,kaspth,kaspth,y-yagi,matthewd,jeremy,kaspth,rafaelfranca,rafaelfranca,grosser,guilleiguaran,guilleiguaran,guilleiguaran,kaspth,kirs",2017-06-01 18:43:17,2017-07-17 18:00:00
IS,ActiveRecord OFFSET does not work with Postgres FLOOR function,Steps to reproduce This should be a feature request actually I am selecting random records from Postgres according to this System configuration Rails version 4 2 3 Ruby version 2 2 3,,"lugray,sgrif",2017-07-11 12:25:32,2017-07-17 18:02:17
IS,ActiveRecord eager load not loading all objects,Steps to reproduce Active Record with Postgres reproduction script Expected behavior It should print the same number of both loaded dependencies e g 1 credit and 1 debit transaction Actual behavior It prints 1 credit and 0 debit transaction when eager loaded System configuration SQL Query formated ActiveRecord version 5 0 and 5 1 tested Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin14,,"eugeneius,sgrif",2017-07-06 19:34:18,2017-07-17 18:03:15
IS,Rails 5 polymorphic table requires optional true,Steps to reproduce I wrote a blog post about polymorphic behavior in Rails 5 and noticed that polymorphic tuples cannot be created if optional true is missing see blog here troubleshooting You can see a working example here on GitHub Expected behavior A new polymorphic tuple should be created fine Actual behavior Begin transaction rollback transaction if optional true is missing So you are forced to turn this validation off Error occurs when trying to save in controller create action and may have something to do with nested forms IDK System configuration Rails version 5 1 2 Ruby version 2 4 0,,"sgrif,sgrif",2017-07-13 19:18:35,2017-07-17 18:07:26
IS,Mixed messages regarding quoted id in custom attribute type classes,Steps to reproduce Have a custom attribute class Actual behavior If a MyType instance is sent to ActiveRecord ConnectionAdapters Quoting quote not sure about the exact circumstances under which this happens I get the deprecation warning that Defining quoted id is deprecated and will be ignored in Rails 5 2 However if I remove the quoted id method from MyType ActiveRecord ConnectionAdapters Quoting type cast always fails and that method is called all the time since it returns value id only if value respond to quoted id value respond to id What am I supposed to do It seems type cast should not check whether quoted id is implemented System configuration Rails version 5 1 2 Ruby version 2 4 1,,"rafaelfranca,rafaelfranca,rafaelfranca,sgrif",2017-06-30 09:40:13,2017-07-17 18:14:18
PR,Avoid duplicate conditions when using or,Right now when using or nothing is done to try to avoid duplicated conditions As a result query length increases at an exponential rate This makes it really hard to parse for humans making debugging understanding the query log really hard This PR does basic work to extract the predicates and binds that are common to both associations beings or ed and put them first before the or To show the scale of the problem To make further development in WhereClause easier the basic behavior of iterating over the predicate and binds has been generalized In the current code there are 2 questions i ask as comments I wonder if should be changed to do the same behavior as The only reason not to in my mind is if someone considers this to be a performance issue partition common left right is currently less readable than it could be if i just used the new operators I added to WhereClause However those operators might be a little slower since it means more iterations over the lists in the WhereClauses Because the the logic for finding the binds that go with a predicate has been extracted and fixed this also fixes the 29780 However the test case in 29780 is not included in this PR and I assume 29780 will be backported unlike this PR,,"sgrif,sgrif",2017-07-15 20:38:21,2017-07-17 18:16:19
IS,Rails5 form remote problem with trigger submit rails,Steps to reproduce Created an empty Rails project rails 5 1 2 new test rails 512 Created a model with scaffold rails g scaffold post Added jquery using jquery rails gem Modified form partial of post with remote true When click on submit the request is correct log line Processing by PostsController update as JS When triggered with 'form' trigger isubmit rails' the request is incorrect Processing by PostsController update as HTML Same behavior with Rails 5 0 4 instead works fine with Rails 4 2 9 same tests Expected behavior The request should be always JS AJAX Actual behavior The request is HTML formdata System configuration Rails version 5 1 2 5 0 4 Ruby version 2 3 4,,sgrif,2017-07-16 09:35:53,2017-07-17 18:40:34
PR,Persistence delete should not be affected by scoping,self class delete is delegated to all and all is affected by scoping It should use unscoped delete to not be affected by that,,"kamipo,sgrif,sgrif,sgrif,kamipo,sgrif,kamipo",2017-07-16 13:59:08,2017-07-17 18:41:15
PR,Fix where with a custom table,Without this fix SELECT clause does not use a custom table alias name,,"kamipo,sgrif,kamipo,sgrif",2017-07-14 23:46:36,2017-07-17 18:41:38
IS,ActionController Parameters assignment array problem,Rails 5 1 0 Ruby ruby 2 3 0,,lugray,2017-07-10 13:04:01,2017-07-17 18:41:57
PR,Fix HashWithIndifferentAccess default when include nil,Fixes 29738 Summary The implementation of HashWithIndifferentAccess default did not distinguish default from default nil which caused an incorrect result for default if nil was used as a key,,"lugray,matthewd,lugray,matthewd,lugray,lugray,rafaelfranca,rafaelfranca,matthewd,lugray,sgrif,lugray,lugray,matthewd,lugray,rafaelfranca",2017-07-11 17:04:15,2017-07-17 18:41:57
PR,Remove outdated test scoped responds to delegated methods,This test was added at 74ed123 to ensure respond to delegate methods to Array and arel table But array method delegation was removed at 9d79334 in favor of including Enumerable And now Relation has insert update and delete methods 63480d2 8d31c9f d5f9173 So this delegation test is already outdated,,kamipo,2017-07-15 03:13:30,2017-07-17 18:51:11
PR,Extract NullRelationTest from RelationTest,test cases relations test rb file has too much lines 2000 over So I extracted NullRelationTest to the dedicated file,,kamipo,2017-07-15 14:25:43,2017-07-17 18:52:05
PR,ci skip CodeTriage badge,Code Triage is an app I have maintained for the past 4 5 years with the intent of getting people involved in open source It sends subscribers a random open issue for them to help triage For Ruby projects such as rails rails you can also subscribe to documentation For example you can get a few random documented methods or if you want to write docs get undocumented methods The initial approach was inspired by seeing the work of the small core team spending countless hours asking what rails version was this in and can you give us an example app The idea is to outsource these small interactions to a huge team of volunteers and let the core team focus on their work The purpose of the badge is to give more people an easier way to start contributing to Rails Here is what it currently looks like Code Triage Badge The number is how many people are currently subscribed a k a helpers to the project on CodeTriage the color is based off of the number of open issues in the project You can see an example of this badge on another popular open source repo Crystal github com crystal lang crystal For context to non rails core I also maintain sprockets though a release has not happened in some time sorry and I have commit to Rails I'm not some rando trying to push arbitrary links to READMEs on GitHub,,"schneems,sgrif,schneems,schneems,matthewd,schneems,matthewd,schneems",2017-07-17 20:17:45,2017-07-17 20:22:29
PR,Fix JoinDependency with using a custom table,Without this fix JoinDependency does not use a custom table alias,,kamipo,2017-07-17 19:27:37,2017-07-17 21:37:40
PR,Merge pull request 29757 from lugray hash with indifferent access default,Backport of 29757 which did not apply cleanly due to moved test file activesupport test core ext hash ext test rb activesupport test hash with indifferent access test rb r,,lugray,2017-07-17 19:56:08,2017-07-17 21:50:25
IS,current page requires action if custom parameter is set,I'm using rails 5 1 1 If i have a route like get ' bla something' to 'bla whatever' and want to check this route using current page controller 'bla' something '123' it throws an error stating that it can not find a matching route because if i do not set an action it is set to index as default somewhere inside the current page function and my route controller does not have an index action so it would require me to write it like current page controller 'bla' action 'whatever' something '123' But my problem was now that i have different action names on which i want to match and i did not want to chain multiple function calls for all actions In my case this view helper method was a sufficient workaround to replace the current page function and get my expected behaviour,,sgrif,2017-07-05 06:11:45,2017-07-17 23:05:53
IS,ActiveRecord Relation send does not work when scope name collides with Kernel,Steps to reproduce based on this SO question 45152325 Expected behavior Expecting to be able to use send to dynamically call scope methods on ActiveRecord Relation objects with values from a params hash e g class Issue ActiveRecord Base scope recent some code scope open where open true scope closed where open false end Given the following request and params hash get ' issues status open' params status open You would expect to be able to do this Issue recent send params status ActiveRecord Relation Actual behavior In most cases this works but when the scope name collides with a Kernel method name the Kernel method is called instead I think this is because send bypasses method missing and goes right up the ancestry chain and ActiveRecord Relation relies on method missing to define scope methods In this case the open method defined on Kernel by OpenURI is being called and raising an ArgumentError Issue recent send params status ArgumentError wrong number of arguments given 0 expected 1 from Users matthewborg rvm rubies ruby 2 4 1 lib ruby 2 4 0 open uri rb 29 in open' However if the scope is called directly thereby defining it on Issue ActiveRecord Relation by way of method missing then subsequent calls to send will work Issue recent open ActiveRecord Relation Issue recent send params status ActiveRecord Relation System configuration Rails version 5 1 2 Ruby version 2 4 1,,"matthewd,matthewd",2017-07-17 23:56:38,2017-07-18 01:16:01
IS,has many association raise ActiveRecord HasManyThroughOrderError in sti,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior should not raise any error Actual behavior raise ActiveRecord HasManyThroughOrderError System configuration Rails version 5 1 1 Ruby version 2 4 0,,,2017-07-14 10:27:14,2017-07-18 06:20:51
IS,Unable to recognize type of Postgres xact advisory locks,Steps to reproduce Expected behavior Warning should not be thrown It was working fine in previous versions of active record Actual behavior Warning is issued Uncertain if the lock is applied still inspecting System configuration Rails version 5 1 2 Ruby version 2 4 1,,"sgrif,matthewd",2017-07-18 11:35:06,2017-07-18 11:49:14
PR,Fix typo s rause raise,,,kamipo,2017-07-18 15:10:31,2017-07-18 15:34:26
PR,Backport 29821 to 5 1 stable,Reason 29725 has been backported to 5 1 stable and this fix also affects in 5 1 stable,,y-yagi,2017-07-17 23:07:56,2017-07-18 15:45:01
PR,Fix unscoping default scope in STI associations,Since 5c71000 it has lost to be able to unscope default scope in STI associations This change will use empty scope instead of values empty to regard as an empty scope if only have type condition,,"kamipo,sgrif,sgrif,kamipo,kamipo,sgrif,sgrif,kamipo",2017-07-18 01:46:32,2017-07-18 17:11:02
PR,Add except option for ActiveJob TestHelper methods,Summary I added except keyword argument option for ActiveJob TestHelper methods I think this option is useful in following situations case 1 Many jobs perform successfully But some jobs go wrong,,"sgrif,sgrif,sgrif,sgrif,sgrif,sgrif,sgrif,sgrif,sgrif",2017-07-16 13:44:14,2017-07-18 17:29:18
IS,ActiveRecord Postgres reconnection error on database failover,Steps to reproduce 1 Create a rails app with sidekiq workers that connect to a postgres AWS RDS instance 2 Force a manual failover of postgres instance on AWS RDS 3 After database failover a small number of sidekiq jobs will continually fail with the following error backtrace I believe the problem is that StatementPool connection active in the PostgreSQLAdapter is using PG is connection status method which does not accurately update when the connection is disconnected Because connection active is incorrectly returning true in this case activerecord is trying to dealloc the statement pool which causes a query to be run on the dead connection which in turn generates the PG UnableToSend exception It looks like a very similar problem happened once before in a different part of the Postgresql Adapter see issue 3392 and was changed to the following diff cc31fc1dd1e78db64638200f710b2f59 Ironically someone pointed out this problem in the StatementPool class in the original above issue but it unfortunately was missed and never made it into the PR for the issue Anyhow it seems like the same fix in issue 3392 needs to be applied to the StatementPool class In other words stop relying on the connection status method since it is not accurate Expected behavior Rails should reconnect to Postgres without throwing an error Actual behavior Rails throws an PG UnableToSend exception instead of reconnecting System configuration Rails version 5 0 1 pg 0 19 0 Ruby version 2 3 3,,"matthewd,matthewd",2017-07-12 08:10:29,2017-07-18 17:40:42
PR,Catch postgres connection errors when trying to dealloc,Summary Catch postgres connection errors when trying to dealloc the StatementPool Connection errors can be raised when deallocating because connection active can return true when the connection is actually dead disconnected see 3392 for a discussion of why this is When this happens the DEALLOCATE query is run on the dead connection which causes a PG connection error to be raised This fix catches these errors and ignores them Closes 29760 Other Information Issue 3392 details this exact same problem in another section of the PostgresAdapter that was fixed a few years ago,,"rafaelfranca,rafaelfranca",2017-07-14 00:14:55,2017-07-18 17:40:42
PR,Bugfix unscope where columns would not remove the correct binds,Right now unscope sometimes does not skip a bind as it iterates over the different conditions For example when that bind is used as part of an OR clause As a result the unscope will remove the wrong bind For example I propose this bugfix gets also backported to Rails 5 1 Rails 5 0 had a different version that was probably more buggy since a bugfix was applied to this same function as part of 5 1 making it harder to backport to 5 0,,,2017-07-13 17:16:20,2017-07-18 17:43:25
PR,Assign content type only once,,,yui-knk,2017-07-13 03:07:38,2017-07-18 18:00:11
IS,counter cache called twice with after create callback,Test Code from Comment it will be ok System configuration Rails version Using rails 5 2 0 alpha from git at master e319b01 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 linux,,sgrif,2017-07-12 09:12:48,2017-07-18 18:28:59
PR,Fix type casting a time for MariaDB,Context 24542 Since 8ebe1f2 it has lost stripping date part for a time value But I confirmed it is still needed even if MariaDB 10 2 6 GA MariaDB 10 2 6 prepared statements true,,"kamipo,sgrif,kamipo,sgrif",2017-07-18 18:36:59,2017-07-18 18:55:47
PR,HashWithIndifferentAccess implement symbolize keys,Summary HashWithIndifferentAccess inherits from Hash yet does not support it is full public interface This prevents users from doing things like duck typing This commit implements symbolize keys and deep symbolize keys to return self,,"matthewd,sgrif",2017-05-30 15:00:38,2017-07-18 18:59:28
PR,Make preload query to preparable,Currently preload query cannot be prepared statements even if prepared statements true due to array handler in predicate builder does not support making bind params This makes preload query to preparable by do not passing array value if possible,,kamipo,2017-05-10 16:20:46,2017-07-18 19:41:03
PR,ci skip Replace jquery ujs with rails ujs,we now use rails ujs instead of jquery ujs as default,,willnet,2017-07-19 04:39:16,2017-07-19 04:42:27
IS,will there be an official release for ruby 2 3 x for rails 3 2 stable,I see that the current rails 3 2 stable branch github com rails rails commits 3 2 stable has commits relevant to supporting ruby 2 3 for rails 3 2 But there has not been an official release after rails 3 2 22 5 for rails 3 2 x Is there any plans for an official release,,kaspth,2017-07-19 07:15:44,2017-07-19 08:12:49
PR,Create rails localhost user on travis ci,Looks like that latest CI failure is due to missing rails localhost Creating the user may solve the issue L831,,"kamipo,kamipo,kamipo,kaspth",2017-07-19 01:03:20,2017-07-19 08:14:13
PR,Fix warning circular argument reference,This fixes the following warnings,,"y-yagi,kaspth",2017-07-18 23:58:39,2017-07-19 08:14:42
IS,Need to skip asset host sometimes for server rendering,Related issue Summary Consider adding a skip asset host to asset helpers so files are always retrieved locally Details Webpacker asset path will use a CDN if configured Usually that is correct However in the case of doing server rendering of JavaScript we want to fetch the JS file locally as there is no reason to fetch the file from the CDN We need to pass a flag to asset path of skip asset host Thus maybe the issue needs to be done in the main rails rails repo Webpacker code L2,,,2017-07-18 07:38:42,2017-07-19 08:35:15
PR,Add purpose and expiry to messages encrypted using Message Encryptor,Summary Allow messages encrypted using Message Encryptor to have optional associated metadata which will be encrypted along with the message The optional metadata supported are expires in expires at and purpose,,"assain,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,assain,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,assain,kaspth,kaspth,assain,assain,kaspth,assain,assain,assain,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,assain,kaspth,kaspth",2017-06-28 01:24:45,2017-07-19 13:17:09
PR,Add Expiry Purpose to Message Verifier,kaspth Allow messages signed using Message Verifier to have optional associated metadata which will be signed along with the message The optional metadata supported are expires in expires at and purpose,,"assain,kaspth",2017-07-19 18:10:29,2017-07-19 19:04:00
IS,HABTM association foreign key not work in AR 5 1,Code It works with Rails 5 0 3 and return error with Rails 5 1 Ruby version 2 3 3,,"alexcameron89,alexcameron89",2017-05-16 05:27:44,2017-07-19 20:00:26
IS,bundle exec rake RAILS ENV production assets precompile,,,,2017-07-19 20:48:04,2017-07-19 20:58:12
IS,Active Model Ordering by a Like Query,Will Like To Order Records By A Like Query Do we have support for that System configuration Rails 5,,kaspth,2017-07-20 12:02:18,2017-07-20 12:07:22
PR,Make rails yarn install ignore dev dependencies,Yarn rebuilds native packages on every yarn install call issue We have some native node packages in devDependencies to build custom fonts and they got rebuilt on every deploy 30 sec instead of 2 sec This patch makes rails yarn install which is used before assets precompile ignore dev dependencies bin yarn still installs everything For anybody looking for workaround Update bin yarn with,,eileencodes,2017-07-19 15:05:53,2017-07-20 15:30:38
PR,Add jQuery to test ujs vendor files for testing rails ujs,Summary so that we can run most if not all of rails ujs tests without necessarily requiring an internet connection Before this commit all tests in rake ujs server were failing whenever jquery 2 2 0 is not loaded i e I have no internet connection We are already adding stuff to actionview test ujs public vendor and at least one of them depends on jquery jquery metadata js qunit js,,,2017-07-20 12:59:04,2017-07-20 16:15:30
IS,has one relation to a table with a column named the same as the table raises TypeError,In the progress of upgrading my app to 5 1 I ran into a nasty bug given a model with a column named the same as the table for example a ProgramDetail model with a program details column when associating to that table by a has one relation loading the association throws a TypeError full stack trace below From what I can tell the association scope is getting confused and trying to bind the wrong parameter value specifically a hash instead of an ID The error does not occur in 5 0 4 but does occur in 5 1 0 I have not bisected the exact commit yet Steps to reproduce These shell commands will create a minimal Rails app and reproduce the bug on Rails 5 1 0 System configuration Rails version I have reproduced this on 5 1 0 5 1 2 5 1 3rc1 and on edge The above code works fine in 5 0 4 however Ruby version 2 4 1,,,2017-07-20 17:19:54,2017-07-20 17:21:52
IS,Hash slice remains unchanged if all keys are passed as arguments,Steps to reproduce I would expect slice to return a b c d e f and hash to be modified to Instead slice returns and the hash remains unmodified Rails version 5 0 1 Ruby version 2 3 1,,,2017-07-20 19:55:06,2017-07-20 23:33:34
PR,Remove log directory in test postprocessing,The log is directory So it is necessary to use FileUtils rm rf Ref L32,,y-yagi,2017-07-20 22:37:34,2017-07-21 07:39:21
PR,Raise ArgumentError on Parameter new,Summary When we pass a non hash argument to ActionController Parameters new the error message is kinda cryptic,,"rafaelfranca,rafaelfranca,rafaelfranca,sgrif,rafaelfranca,sgrif,matthewd,meinac,meinac,meinac,meinac,matthewd,sgrif",2017-07-17 19:14:53,2017-07-21 14:06:16
PR,Use frozen string literal in ActiveRecord,Follow up to Extends Style FrozenStringLiteralComment Rubocop rule to activerecord ref,,"kirs,matthewd,kirs,koic,kirs,matthewd,yahonda,yahonda,kirs,yahonda,kirs,kirs",2017-07-09 17:43:50,2017-07-21 18:36:31
IS,destroyed by association for has one,destroyed by association is not set when using has one with dependent destroy works only for has many It this a bug missing code or made by intention Probably target destroyed by association reflection should be added here L59 and here L81 like it is done in has many L25,,"lugray,lugray,sgrif",2017-06-29 23:03:33,2017-07-21 19:37:30
PR,Match destroyed by association for has one to has many,Fixes 29635 Summary When a has many association is destroyed by dependent destroy destroyed by association is set to the reflection and this can be checked in callbacks This matches that behaviour for has one associations,,"lugray,lugray",2017-07-19 19:05:22,2017-07-21 19:37:30
PR,Fix false positive test related to wrong app root path,Without setting root config config paths config secrets located in L390 always returned empty list This had impact on test L18 L29 which without this change passed even after swtiching Rails application config read encrypted secrets to true Additionally removed redundant changing directory which already is changed in run secrets generator L116,,morgoth,2017-07-21 12:35:05,2017-07-21 20:03:01
PR,Updates Rails upgrade guide on ActionView Helpers RecordTagHelper,Summary Adds documentation for removed AV content tag for and AV div for for completion Other details I have also added a nodoc for the following methods since I have accidentally ran into them by using Rdoc and thought that they still existed as available methods for Rails 5,,,2017-07-21 00:57:27,2017-07-21 20:46:27
PR,Refactor PredicateBuilder to consolidate creating binds and parts steps,For reducing complexity and easing to understand,,"kamipo,rafaelfranca,sgrif",2017-07-20 23:58:22,2017-07-21 20:58:57
PR,5 1 stable Fix unscoping default scope in STI associations,Backported 29834 Since 5c71000 it has lost to be able to unscope default scope in STI associations This change will use empty scope instead of values empty to regard as an empty scope if only have type condition,,kamipo,2017-07-20 17:08:47,2017-07-21 21:35:09
PR,5 1 stable Do not cache queries for schema statements,Backported 29634 test middleware caches is sometimes failed since 29454 The failure is due to schema statements are affected by query caching Bypassing query caching for schema statements to avoid the issue r,,kamipo,2017-07-20 16:38:56,2017-07-21 21:37:06
PR,5 1 stable Fix default CURRENT TIMESTAMP and Virtual Columns for MariaDB 10 2,This PR backports 29704 29706 and 29708,,kamipo,2017-07-20 16:51:55,2017-07-21 21:37:26
PR,5 1 stable bugfix unscope where columns would not remove the correct binds sometimes,This is a backport of 29780,,,2017-07-20 20:58:40,2017-07-21 21:38:32
PR,Make type map to private because it is only used in the connection adapter,type map is an internal API and it is only used in the connection adapter And also some type map initializer methods requires passed type map but those instances already has type map in itself So we do not need explicit passing type map to the initializers,,kamipo,2017-07-20 11:16:57,2017-07-21 21:48:00
PR,Use ArgumentError instead of own error class,If the argument is invalid I think that it is more intuitive to use ArgumentError than its own error class,,y-yagi,2017-07-19 22:42:15,2017-07-21 21:58:31
IS,links on README in ActiveRecord are not available,Steps to reproduce Access this page and click 'Learn more' Expected behavior I could learn more Actual behavior redirected to 404,,"kenta-s,vipulnsward,kenta-s",2017-07-22 05:00:34,2017-07-22 05:01:51
PR,Use TRUE and FALSE boolean literals for MySQL,Since 29699 abstract boolean serialization has been changed to use TRUE and FALSE literals MySQL also support the literals So we can use the abstract boolean serialization even for MySQL,,"kamipo,rafaelfranca,rafaelfranca,kamipo",2017-07-20 11:20:20,2017-07-22 10:25:03
PR,Sort enabled adapter extensions in schema dump,Description The list of enabled adapter extensions in the schema dump db schema rb is not sorted by default so it may happen that the sorting changes over time If you are using a VCS e g Git a change to the sorting results in a diff without any real change Sorting the list should solve this problem Problem,,eileencodes,2017-07-12 17:27:30,2017-07-22 15:04:52
IS,Refactor ActiveRecord is WhereClause to group predicates and binds,I would like to do a pull request to refactor the WhereClause class of ActiveRecord However before doing it I would like to have the approval that this is something that could be interesting The refactor would group one predicate and its binds into a sub struct something like WherePredicate Doing so would solve lots of complexities in the code of WhereClause as it often needs to interact between predicates and their associated binds which in the current code means doing iteration and counting the number of BindParam in the predicates and keeping track of such a thing This is also the cause of a few bugs needed in some solutions 29780 29621 And I am working on another pull request which also needs to do this tracking of predicates binds With the refactor there would be a single array with one struct instance per predicate and zero to many binds This way you can easily iterate over the predicates and filter them along with their binds or any other operations the attr reader binds would be replaced by a simple flat map binds So is this something that I can expect to have a positive feedback Since you introduced WhereClause maybe you have some input on this proposal,,"kaspth,sgrif,sgrif,sgrif,sgrif",2017-07-15 18:59:14,2017-07-22 22:05:05
PR,Fix a failued AR test when using OracleAdapter,Summary Follow up of 29571 This PR fixes the following failures when using Oracle 11g Since I thought that it was behavior specific to OracleAdapter I divided assertions with current adapter,,"koic,kaspth",2017-07-20 09:40:53,2017-07-23 11:31:53
PR,Use frozen string literal in actionmailer,Follow up to Extends Style FrozenStringLiteralComment Rubocop rule to actionmailer The commit is just rubocop a after changing the Rubocop rule Similar to,,"kirs,schneems,kirs",2017-07-23 15:23:39,2017-07-23 17:31:49
PR,Make actioncable ready for frozen strings,This PR makes actioncable ready to enable frozen string literal Similar to,,kirs,2017-07-23 20:21:39,2017-07-23 20:25:56
PR,Make actionview ready for frozen strings,This PR makes actionview ready to enable frozen string literal Similar to 29728 29819 29732 29896,,"kirs,kirs",2017-07-23 20:11:56,2017-07-23 21:26:23
PR,Use frozen string literal in actioncable,Follow up to Extends Style FrozenStringLiteralComment Rubocop rule to actioncable The commit is just rubocop a after changing the Rubocop rule ref,,"kirs,rafaelfranca,schneems,kirs,schneems,kirs",2017-07-16 17:12:39,2017-07-23 22:10:08
IS,Referece to api rubyonrails org is broken,Steps to reproduce Visit README of activerecord and activemodel then click through the links labeled Learn more Expected behavior Links should take to us to a specific section of api rubyonrails org like Actual behavior Links are taking us to wrong github url like,,y-yagi,2017-07-23 23:58:13,2017-07-24 00:24:28
PR,correct Request xml http request is behavior,Summary The doc said that Returns true if the X Requested With header contains XMLHttpRequest but actually it returns 0 or nil,,"georgeclaghorn,georgeclaghorn,rafaelfranca",2017-07-24 03:22:24,2017-07-24 04:56:45
PR,Remove time stubs after each test,Fixes that time stubs added by calls to travel and travel to are preserved between subsequent tests This is rarely if ever desirable especially considering that tests are run in random order by default Without this change every Rails application s test helper must include a boilerplate teardown callback,,"georgeclaghorn,rafaelfranca,georgeclaghorn,rafaelfranca,matthewd,georgeclaghorn",2017-07-20 01:43:45,2017-07-24 05:01:25
PR,Document metadata support for MessageEncryptor,kaspth This pull request adds the necessary documentation for the metadata support added to the MessageEncryptor 29599,,"assain,robin850,robin850,robin850,robin850,robin850,robin850,assain,robin850,robin850,robin850,robin850,robin850,robin850,kaspth,assain,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,assain,kaspth,assain,assain,assain,morgoth,assain,assain,assain,robin850,assain,assain,assain,assain,kaspth",2017-07-22 14:39:17,2017-07-24 08:24:11
PR,Add tests to MessageVerifier,kaspth More tests have been added to ActiveSupport MessageVerifier to ensure that verify method raises ActiveSupport MessageVerifier InvalidSignature when you try to use an expired message or if it is used for a different purpose,,"assain,kaspth,kaspth,sgrif,assain",2017-07-24 08:47:48,2017-07-24 10:39:00
PR,Fix test failure in message verifier tests,Summary Without this I get the following result on my machine,,"deivid-rodriguez,kaspth",2017-07-24 10:33:09,2017-07-24 10:49:30
PR,Avoid modifying frozen string in check schema file,This was missed when the frozen string pragma was added to this file in because the string is only modified when running in the context of a full Rails app which is not covered by the test suite I opted to manually stub the Rails root method so that this code path is exercised in the existing test using an approach cribbed from another test file L19 L22 Another option would be to add a new integration test to the Railties suite but that seemed excessive to me for such a simple fix I switched to an integration test,,"eugeneius,kirs,eugeneius,kaspth,eugeneius,eugeneius,kirs,eugeneius",2017-07-23 11:18:25,2017-07-24 11:00:06
PR,5 1 stable Prevent unnecessary deprecation notices in ActiveRecord AttributeMethods Dirty,Summary Currently a deprecation notice is emitted for every deprecated method in the module even when the method was called internally and the deprecation has already been warned This PR will track if a deprecation has been warned so that you only warn the user about the outermost call Issue,,sgrif,2017-07-20 16:01:57,2017-07-24 13:01:42
IS,PG ProtocolViolation bind message supplies 1 parameters but prepared statement requires 2,Combining some where queries with an or and merge can lead to PG ProtocolViolation bind message supplies 1 parameters but prepared statement requires 2 Having a simple class Person with a status column the following query generates the error Running the test template see below with sqlite adapter works as expected that is why I think it is postgresql specific Steps to reproduce Run the test template It tries to use a postgres database named test by default Expected behavior All queries in test template should work Actual behavior ActiveRecord StatementInvalid PG ProtocolViolation ERROR bind message supplies 1 parameters but prepared statement requires 2 System configuration Rails version 5 1 2 Ruby version 2 4 1,,"kamipo,kamipo,sgrif",2017-07-12 16:07:09,2017-07-24 13:09:20
IS,PostgreSQL bind parameter getting lost for subquery is LIMIT,Steps to reproduce See the gist Models Neither 25786 or 25877 does not seem to fix this issue System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,"Envek,kamipo",2016-09-18 16:10:19,2017-07-24 13:09:20
PR,Fix where with relations in an array,We need to produce binds in create binds for hash because handlers does not support to produce binds related e1533d2 Fixes 26541,,"kamipo,rafaelfranca,kamipo,matthewd",2017-03-23 03:22:05,2017-07-24 13:09:20
PR,Remove duplicated assertion in test count with join,The queries both res2 and res3 are completely the same And also assert nothing raised is covered by following assertion,,kamipo,2017-07-24 05:03:08,2017-07-24 14:11:58
IS,ETag changes for every same request response,Steps to reproduce Expected behavior According to the document strong v s weak etags Rails generates weak ETags by default Weak ETags allow semantically equivalent responses to have the same ETags even if their bodies do not match exactly This is useful when we do not want the page to be regenerated for minor changes in response body ETag should be the same Actual behavior ETags changes even though the body is the same It happens in both production and development mode System configuration Rails version 5 1 2 Ruby version 2 4 1,,"georgeclaghorn,sgrif",2017-07-22 02:32:22,2017-07-24 17:09:07
PR,Include rack mini profiler by default,I have used many development related performance tools but the single most consistently helpful tool is rack mini profiler The tool provides a lightweight UI element for each page that shows the server response time When clicked it expands to show more detail This can be used to detect expensive queries N 1 issues and general performance related problems,,"schneems,simi,sgrif,rafaelfranca,rafaelfranca,schneems,rafaelfranca,dhh,sgrif,dhh,SamSaffron,nateberkopec",2017-07-24 15:30:03,2017-07-24 17:23:37
PR,Revert Include rack mini profiler by default,Reverts rails rails 29911,,rafaelfranca,2017-07-24 17:24:05,2017-07-24 17:24:10
PR,Fix counter cache double increment,Fixes 29762 Summary When an after create callback did update attributes on a record with multiple belongs to associations with counter caches when doing belongs to counter cache after update for the first association it would set after create counter called to false to prepare for subsequent operations but then the following association would get re incremented This splits out after create counter called as a hash keyed by the foreign key to track each separately The need for after create counter called was removed altogether by 020abad which also makes the test added in this PR pass Other Information A similar fix may be required for after replace counter called but I could not figure out a failing test case and so did not want to do it unnecessarily It may also be safe to remove after replace counter called,,"lugray,Edouard-chin,Edouard-chin,lugray,lugray,Edouard-chin,lugray,lugray,sgrif,sgrif,lugray,sgrif,lugray,lugray",2017-07-12 14:35:11,2017-07-24 17:31:29
PR,Delegate respond to in ActionView Helpers ControllerHelper,Fixes 15613 Summary Since methods defined in the controller helper are mostly delegated to the controller delegate respond to as well so that for example respond to params behaves as expected,,"lugray,lugray,sgrif,lugray",2017-07-14 17:53:57,2017-07-24 17:33:17
PR,Move generator namespacing to Base,Summary Generators need to be aware of namespace to work properly in engines Methods to help with this lived in Rails Generators NamedBase this moves them to Rails Generators Base which NamedBase inherits from allowing namespace aware unnamed generators Other Information I plan a follow up PR in which a namespace aware unnamed generator is be created r,,lugray,2017-07-19 17:35:35,2017-07-24 17:39:34
IS,Contradictory port information on startup,In my Rails app with Puma the console output from the rails s command shows an incorrect port when specifying a port other than the default of 3000 Steps to reproduce 1 In env PORT 5000 2 In config puma rb rails app port ENV fetch PORT 5000 3 rails s Expected behavior Rails 5 1 2 application starting in development on 5000 Listening on tcp 5000 App is viewable at 5000 Actual behavior img width 645 alt screen shot 2017 07 15 at 3 22 45 pm src App is viewable at 5000 App is not viewable at 3000 this is correct but contradicts the startup message System configuration Ruby version 2 4 1 Rails version 5 1 2,,"albertoalmagro,albertoalmagro,albertoalmagro",2017-07-20 20:45:01,2017-07-24 17:54:43
PR,Do not show URL in boot info when using Puma,Puma has its own configuration file e g config puma rb Can define a port and a URL to bind in the configuration file Therefore on Rails side can not grasp which URI to bind finally Because of that it may show a URL different from the actually bound URL so I think that it is better not to show it Fixes 29880,,y-yagi,2017-07-23 22:47:29,2017-07-24 17:54:43
IS,attribute was and attribute before last save have different behavior for first change but deprecation notices says they are the same,Steps to reproduce 1 Create an ApplicationRecord instance an initialize an attribute to a non nil value 2 Save the ApplicationRecord instance 3 Call attribute was compare to attribute before last save Example I understand that there is context in that deprecation notice but it still floods the logs and is pretty confusing Or change the behavior of before last save to fallback to the current value Actual behavior before last save and was differ in value but output a deprecation notice saying that they are the same System configuration Rails version 5 1 3 rc1 Ruby version 2 3 1,,"sgrif,sgrif",2017-07-24 17:53:13,2017-07-24 17:58:49
PR,Fix warning assigned but unused variable comment,,,kamipo,2017-07-24 18:26:32,2017-07-24 18:30:49
PR,Fix COUNT DISTINCT with ORDER BY and LIMIT,Since 26972 ORDER BY is kept if LIMIT is presented for performance But in most SQL servers e g PostgreSQL SQL Server etc ORDER BY expressions must appear in select list for SELECT DISTINCT We should not replace existing select list in that case,,"kamipo,kamipo,metaskills,kamipo,rafaelfranca,kamipo",2017-07-19 09:38:51,2017-07-24 18:50:15
PR,Fix warnings in railties tests,While running railties tests I noticed hundreds of warnings like the following While we might not care about this specific warning I think it is a good idea to get it fixed because such a cluttered test output might actually hide things we do care about These warnings have been fixed in the 5 0 stable branch of sass rails so I pointed there to make them go,,deivid-rodriguez,2017-07-24 11:00:27,2017-07-24 18:59:42
PR,Use frozen string literal in actionview,Follow up to Extends Style FrozenStringLiteralComment Rubocop rule to actionview The commit is just rubocop a after changing the Rubocop rule Similar to,,"kirs,kirs,kirs,kirs,kirs",2017-07-23 15:45:10,2017-07-24 19:54:09
PR,Suppress warning from actionview controller helper,Since the commit ActionView Helpers ControllerHelper started showing a warning see below because of the operator This commit changes the delegate call to use parentheses so it wo not show warnings any more,,,2017-07-24 20:28:48,2017-07-24 20:40:32
PR,Update rack test dependency constraint,Summary This updates the dependency constraint for rack test in actionpack rack test is the only gem that appears as outdated when running bundle outdated on a fresh installation of Rails I have checked the changelog for rack test and it does not appear to have breaking changes and the actionpack tests passed locally for me after the change Other Information This is my first Rails PR so I hope I'm doing it right was not sure whether I should commit the updated Gemfile lock as well or if I needed to update the changelog Happy to be pointed in the right direction for any changes,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,morgoth",2017-07-19 23:08:47,2017-07-24 20:49:49
PR,Fix regression introduced by fixing mounting the same engine in multiple locations,Summary I introduced this regression in 29662 The previous version would prefer the current script name if one is available in the request for resolving the mount context in engine route helpers But that would make them incorrect in some cases For example just describing the test I added if an engine is mounted at and the current request path is fruits 1 bukkits posts calling fruit bukkits posts path fruit id 2 would incorrectly return fruits 1 bukkits posts This is because the script name present in the request in this case fruits 1 bukkits was preferred by using reverse merge instead of merge here L34 This patch takes care of fixing that My initial attempt was changing reverse merge with merge but although that fixed the specific issue I was having it broke some other tests The problem is that the previous script name might contain relevant information that is not known to the lambda that resolves the script name from the parameters and the mount point location For example any context provided to the specific request via the environment is SCRIPT NAME variable is not known to this method So instead of preferring the script namer resolution I merged that with the current script name So if the previous script name was foo fruits 1 bukkits and the resulting one from calling the lambda is fruits 2 bukkits the resulting script name used for the route helper will be foo fruits 2 bukkits Other Information Sorry for the probably not very well explained PR description I'm not very familliar with rails internals so it is hard for me to reason about them Also excuse the irrelevant commits I added them while investigating the problem but then I found out about the imminent release so I wanted to open this ASAP to avoid introducing the regression EDIT I tried to improve a bit the description of the problem the solution,,"deivid-rodriguez,deivid-rodriguez",2017-07-23 18:23:35,2017-07-24 21:09:38
PR,remove depreciated assertion to eliminate warning,This PR removes the following warning by using assert nil over assert equal which is depreciated,,rafaelfranca,2017-07-24 20:52:48,2017-07-24 21:11:19
PR,Add uniq processing to keys for store accessor,The purpose of this change is to avoid duplicate definitions,,"yhirano55,rafaelfranca,yhirano55",2017-07-20 02:31:28,2017-07-24 22:07:19
PR,API DOCUMENTATION MINOR Correct description of ActionController Parameters delete,The API documentation for ActionController Parameters delete currently states emphasis mine Deletes and returns a key value pair from Parameters whose key is equal to key If the key is not found returns the default value If the optional code block is given and the key is not found pass in the key and return the result of block This definition is outdated the method delegates to Hash delete which itself has changed in recent versions of Ruby 1 Since Ruby 2 0 delete returns only the value of the deleted key value pair method i delete not the whole key value pair itself as was the case in 1 9 method i delete 2 Since Ruby 2 3 delete returns nil if key is not found method i delete not the default value as was the case in 2 2 method i delete In any case the default value of a hash does not apply to ActionController Parameters,,,2017-07-20 09:07:48,2017-07-24 22:09:09
PR,Fix warning ambiguous first argument,This fixes the following warning,,y-yagi,2017-07-24 23:20:52,2017-07-25 00:55:56
PR,Make actionpack frozen string friendly,This PR makes ActionPack frozen string friendly Shipping it should unblock us to move towards enforcing frozen string literal across all Rails components Similar to,,kirs,2017-07-24 20:41:39,2017-07-25 01:06:11
IS,What is the purpose of assets config manifest js,I see no documentation on manifest js and even doubt if its being used at all I deleted its content and precompiled assets for production and it works just fine,,y-yagi,2017-07-20 03:43:50,2017-07-25 03:00:23
PR,ci skip Add documentation for after create commit and after update commit callbacks,This adds the documentation for,,"prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki,prathamesh-sonpatki",2017-07-25 05:44:52,2017-07-25 07:01:04
IS,application record generation does not honor autoload paths,Steps to reproduce add a new directory to autoload paths i e foo model move application record to this directory create a new migration a new copy of application record will appear in models directory Expected behavior If the constant ApplicationRecord can be found using the normal auto load mechanism then do not regenerate a new blank copy Actual behavior System seems to thave the path app models hard coded as the location of application record System configuration 5 0 any ruby version,,"kirs,kirs,rafaelfranca",2017-06-10 13:50:46,2017-07-25 11:51:21
PR,Stop creating ApplicationRecord on model generation,Fixes 29407 Summary When generating models we created ApplicationRecord in the default location if no file existed there That was annoying for people who moved it to somewhere else in the autoload path At this point the vast majority of apps should have either run the upgrade script or generated a model since upgrading For those that have not the error message after generating a new model should be helpful Other Information To ease friction in that case this also adds a generator for ApplicationRecord,,"lugray,rafaelfranca,lugray,eileencodes",2017-07-24 18:36:30,2017-07-25 11:51:21
PR,Fix test add column with timestamp type when using Oracle,Summary This PR fixes the following failure test when using Oracle 11g It matched timestamp type returned by OracleAdapter,,"koic,eileencodes,koic",2017-07-25 04:07:56,2017-07-25 11:52:15
IS,ActiveRecord after commit callback is not called for nested model update,Steps to reproduce Expected behavior after commit callbacks should be called on all models that have written to db in the transaction So in this case I expected after commit to also be called for object id 70146715961680 Actual behavior The after commit callback is not called on the nested model update System configuration Rails version rails 5 2 0 alpha Ruby version ruby 2 3 4p301 2017 03 30 revision 58214 x86 64 darwin16 Notes I understand that the use case seems odd but this is causing issues for us in prod I would be happy to work on a PR if you can confirm that this is a bug Thank you,,"meinac,sgrif",2017-07-24 23:52:59,2017-07-25 13:10:35
IS,Namespaced model requires foreign key option for association,Steps to reproduce 1 Create a namespaced model with generator e g bin rails g model prefix post 2 Base model prefix rb is created with something like System configuration Rails version 5 1 2 Ruby version 2 4 1p111,,sgrif,2017-07-21 14:25:10,2017-07-25 13:28:21
PR,Prevent circular callbacks for associations,Summary This pr should fix the following issue When trying to persist a record that had a belongs to association it used to save both target and main record in the before callbacks and then update already saved record hence the before update callbacks were called,,sgrif,2017-07-25 04:53:00,2017-07-25 13:34:05
PR,Extract assert output and available pty into ConsoleHelpers module,We define almost the same method with multiple tests Therefore it extract into module,,y-yagi,2017-07-25 06:04:32,2017-07-25 15:46:21
PR,Remove unused queries predicates,Since 213796f queries predicates is no longer used,,kamipo,2017-07-25 10:22:28,2017-07-25 15:47:49
PR,Remove useless JoinInformation,Since 213796f removed binds JoinInformation only contain joins So it is enough to return joins simply,,kamipo,2017-07-25 10:05:32,2017-07-25 15:48:46
PR,Suppress deprecated warning in Action Cable,Summary This PR suppresses the following warning of Action Cable using event emitter 2 2 6 Other Information event emitter 2 2 6 has been contained the following PR shokai event emitter 15 This PR suppresses deprecated warning in Ruby 2 4,,koic,2017-07-25 07:01:25,2017-07-25 17:49:28
PR,Update Gemfile lock to reflect arel 9 0 0 alpha,Follow up to 089ca52,,"kamipo,sgrif",2017-07-25 17:53:46,2017-07-25 17:57:56
IS,ActiveRecord references skips check for references of queries conjuncted with or,Steps to reproduce Refer to a table in the shared query with references and then refer the table with where in one of the two conjunct queries while the other does not refer to the table Therefore the query should fail even with references method Actual behavior The query works which is different from the behavior in case the query does not have references method System configuration Rails version 5 1 1 Ruby version 2 4 1p111 2017 03 22 revision 58053,,,2017-06-11 03:31:42,2017-07-25 18:25:21
IS,Group should be a reserved word for ActiveRecord class name,Steps to reproduce Set up an app with a Group ContactGroup and Contact model Install the counter culture gem and configure a counter cache like so System configuration Rails version 5 0 2 Ruby version 2 3 0,,"sgrif,sgrif,sgrif",2017-07-24 15:04:39,2017-07-25 18:32:30
PR,Allow bin rails test to accept absolute paths,Summary Fixes 29923 This fixes an issue with the rails test task which does not accept absolute paths to test targets introduced in 796a1cf0e This is done via tweaking the regex in Rails TestUnit Runner extract filters to allow paths with leading slashes to be added to the patterns array Regression tests are included,,"Edouard-chin,lugray,kaspth,kmcphillips,kmcphillips,kaspth,kmcphillips,kaspth",2017-07-25 02:11:58,2017-07-25 19:20:00
IS,5 0 5rc1 5 1 3rc1 bin rails test does not recognize abolute path,Passing an absolute path to bin rails test used to work fine tests only in the given file were running before the minitest plugin was introduced Passing an absolute path now runs the entire test suite Just wanted to let you know as I was told there will be a final release today Will dig a bit on the issue and will let you know Thanks 3,,"Edouard-chin,kaspth",2017-07-24 21:26:07,2017-07-25 19:20:38
IS,Postgres Schema adapter ignores limit argument for binary columns,Steps to reproduce Expected behavior db schema rb should show that the column has a size limit and the column should actually have that limit method i add column states limit Requests a maximum column length This is the number of characters for a string column and number of bytes for text binary and integer columns so it should be valid for a binary type Actual behavior The limit argument is not passed along to the CREATE command It does not show up in the db schema rb file and I can create records with more than 1 MB in the column System configuration Rails version 5 1 2 Ruby version 2 4 0,,"rafaelfranca,sgrif",2017-07-24 21:25:36,2017-07-25 19:27:20
PR,Clarify add column limit documentation,Summary The limit option is ignored by PostgreSQL and may be ignored by 3rd party backends Make this clear in the docs Fixes 29922 r,,lugray,2017-07-25 18:54:10,2017-07-25 19:27:20
PR,Remove single element array preprocess,Since 213796f array predicate handler supports making binds so the preprocess is no longer needed,,kamipo,2017-07-25 18:05:05,2017-07-25 19:41:15
PR,Remove unused Signal trap for INT,Summary This removes unused unreferenced trapping of INT Signal and exiting rails server This is unused because Rails Server inherits from Rack Server and Rails Serve start invokes super which overrides the trapping of INT to what is already declared in Rack Server start Hence keeping this here leads to confusion Other Information Refs to Rack Server start L289,,y-yagi,2017-07-25 04:01:15,2017-07-26 03:30:40
PR,Support non relations custom preloading,I have a use case where I'm implementing custom preloaders which can return an Array rather than an ActiveRecord Relation They used to work until a recent change where suddenly load is called on the result of records for I see no reason to force using ActiveRecord Relation in this occasion and not allow any Enumerable,,"kamipo,kamipo,matthewd,matthewd,maclover7,rafaelfranca",2017-03-23 17:02:39,2017-07-26 13:11:09
PR,Annotate ActiveRecord QueryMethods bound attributes as internal API,,,"bogdanvlviv,bogdanvlviv",2017-07-01 14:34:30,2017-07-26 19:24:49
PR,5 0 stable immunio,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,rafaelfranca,2017-07-26 19:48:41,2017-07-26 19:57:50
PR,Fix search input is type placeholder conflict in Routing Error page,Summary Some browsers are returning webkit appearance searchfield for input type search and place Search string under placeholder of input So this PR overwrite browser is ' webkit appearance' as 'textfield' Other Information You can find out difference via screenshots screen shot 2017 07 26 at 18 54 52 And screen shot 2017 07 26 at 18 55 31,,,2017-07-26 16:41:36,2017-07-26 20:19:22
IS,SchemaDumper mixes table comment and primary key comment,Steps to reproduce System configuration Rails version master Ruby version 2 4 0 p0,,,2017-07-27 01:20:58,2017-07-27 03:44:47
PR,Fix an AR test of schema dump when using Oracle,Summary This PR fixes the following failure test when using Oracle 11g This PR fixes a test to accept precision 38 for integer type of schema dump in Oracle Adapter These discussions are following URL rsim oracle enhanced 1289 Other Information I confirmed that there is the same test fails on 5 1 stable branch,,"koic,amatsuda,koic",2017-04-07 10:12:43,2017-07-27 10:31:54
PR,Fix division on Duration objects returning correct values and parts,Fixes division operation on Duration objects Return correct values and parts while dividing Duration objects and allow operator chaining to return correct result More details on the issue listed here 29952,,"pixeltrix,pixeltrix",2017-07-26 03:02:11,2017-07-27 13:56:14
IS,Calculate duration it has been changed between 5 1 1 and 5 1 2,Steps to reproduce Related to Rails 5 1 1 For simplification i cast ActiveSupport TimeWithZone from DateTime but currently we getting this object directly from ActiveRecord created at and updated at for example System configuration Rails version 5 1 1 Ruby version 2 4 1 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,"rafaelfranca,rafaelfranca,koic,pixeltrix,pixeltrix,pixeltrix",2017-06-27 14:23:49,2017-07-27 13:59:44
PR,Fix division where a duration is the denominator,PR 29163 introduced a change in behavior when a duration was the denominator in a calculation this was incorrect as dividing by a duration should always return a Numeric The behavior of previous versions of Rails has been restored Fixes 29592,,"pixeltrix,kaspth",2017-07-27 12:38:11,2017-07-27 13:59:44
IS,rails route path include special character,Problem I set resources projects in my routes then i have the project path id but the id which maybe the special character so that the url which can include special character So when you visit the url you have an error how i use CGI escape id in application controller Than you very much,,"pixeltrix,pixeltrix,pixeltrix,pixeltrix,pixeltrix",2017-07-27 11:06:23,2017-07-27 15:21:40
IS,Broken division operation on Duration objects,Division operation on Duration objects is broken in 5 2 0 alpha Chaining of operations on Duration objects fails due to inconsistencies in value attribute The values should be consistent with the protocol set here L143 L169 to allow operation chaining on Duration objects i e set values in seconds,,pixeltrix,2017-07-26 02:41:19,2017-07-27 15:29:52
IS,A model named Mls has no corresponding fixture,Create a model Mls ApplicationRecord in app models mls rb Run Mls name pluralize and you receive Mls as the response Create a corresponding fixture in test fixtures mls yml Run rails test and receive the error ActiveRecord NotNullViolation PG NotNullViolation ERROR null value in column created at violates not null constraint A previous issue explains the problem is actually that the model file is not being located What is happening is that the fixture is looking for app models ml rb I'm sure these pluralization problems come up a lot Maybe this is a case that can not be fixed MLS is an acronym which stands for Multiple Listing Service Is it against convention to use acronyms for model names System configuration Rails version 5 1 2 Ruby version 2 4 0p0,,sgrif,2017-07-27 16:45:36,2017-07-27 17:09:31
IS,uninitialized constant ActiveRecord Associations HasManyThroughAssociation,It is unclear what caused the issue but we got a one off error when loading a page in our application System configuration Rails version 4 2 7 1 Ruby version 2 3 1p112,,"maclover7,maclover7,fxn,maclover7,matthewd,rafaelfranca,rafaelfranca,fxn,rafaelfranca,fxn,rafaelfranca,rafaelfranca,fxn,rafaelfranca",2016-08-24 17:25:37,2017-07-27 20:17:52
IS,Console autocompletion,Steps to reproduce Expected Behavior and Actual Result Rails 5 rails c Apologies if it is not related but I'm opening this issue here because it works as expected in Rails 4 Behavior changed in Rails 5 for some reason,,"lugray,rafaelfranca",2017-07-27 07:13:41,2017-07-27 21:42:45
PR,Fix division by an ActiveSupport Duration ignoring the units of the denominator,Addresses issue 29592,,"koic,pixeltrix,pixeltrix,rafaelfranca",2017-06-28 20:56:11,2017-07-27 21:57:54
PR,ci skip Add Node JS as prerequisite to getting started documentation,Summary This PR adds an entry to the list of prerequisites in the getting started rails guides This resolves 29943 where rails server could not be run on ubuntu without nodejs,,rafaelfranca,2017-07-27 19:33:29,2017-07-27 22:04:28
IS,cant run built in web server after fresh installing on ubuntu,I had to install nodejs to run bin rails server Suggest to add description about installing nodejs to getting started guide after part To install Rails use the gem install command provided by RubyGems Steps to reproduce Guidelines for creating a bug report are available here creating a bug report install rails by getting started guide gem install rails Expected behavior after installing rails and running bin rails server in project folder server started Actual behavior System configuration Rails version 5 1 2 Ruby version 2 3 1,,"pixeltrix,rafaelfranca",2017-07-25 19:08:03,2017-07-27 22:05:17
PR,Class level delete and destroy should not be affected by scoping,Related 29816 Since class level delete and destroy are explicitly specified id so it should be deleted regardless of scoping,,"kamipo,sgrif",2017-07-27 22:03:33,2017-07-27 22:27:49
IS,Changes in time calculations,Since 5 1 2 some time calculation changed also latest version in git When using rails 5 1 1 or earlier it will give 2017 07 10 18 00 00 UTC I use this calculations for making charts I think it is a bug,,meinac,2017-07-10 18:13:22,2017-07-28 09:14:46
PR,ci skip update routing guide,,,"ydakuka,robin850",2017-07-28 08:35:50,2017-07-28 09:59:35
IS,Magento 2 Admin Error Invalid scope type '',When I login at Magento 2 Admin I get There has been an error processing your request Invalid scope type '' The error log say Nobody knows google says nothing Anyone know are familiar with this solution Many Thanks,,"vipulnsward,kaspth",2017-07-28 10:18:20,2017-07-28 10:21:06
PR,ci skip update routing guide,,,"ydakuka,robin850,ydakuka,robin850",2017-07-28 11:22:51,2017-07-28 12:50:49
PR,Fix broken Modulo operation on Duration objects,Fixes modulo operation on Duration objects and returns the result in seconds Addresses issue Thanks,,"sgrif,rafaelfranca,rafaelfranca,rafaelfranca,pixeltrix",2017-06-28 14:18:32,2017-07-28 13:08:03
IS,Since 5 1 Broken times modulo with other units than second,Steps to reproduce Works fine in 5 0 3 but with 5 1 2 You cannot use with something other than seconds or it gets really weird System configuration Rails version 5 1 2 Ruby version 2 4 1,,,2017-06-28 13:02:49,2017-07-28 13:09:19
IS,ActiveRecord SubclassNotFound Invalid single table inheritance type after file change,Steps to reproduce Here is a repo i put together for reproducing the issue The readme in it should be self explanatory I have got Trader Retailer Model which is inherited from User model STI Devise has been setup for authentication and when the authenticate trader method is called is when the issue gets triggered To reproduce setup the app make the connect action after signing up It should work fine Now make any change to any model controller just add a new line to the class The purpose is to trigger a code change Expected behavior This is what should happen both the times ok request Actual behavior This is what happens error request Seems like the object referenced as self does not get loaded after file change and so the equality subclass self fails and hence the error System configuration Rails version 5 1 1 Ruby version 2 4 1,,pixeltrix,2017-06-23 03:36:14,2017-07-28 13:53:02
IS,AngularJS attach files send to Rails server,Hi I'm trying to use AngularJS on the front end to upload the model and file data to Rails server Below is the AngularJS http configuration Then I print the request data on the server side Is there a way to retrive the object file from request Started POST create request username abc for 127 0 0 1 at 2017 07 27 10 31 37 0400 Processing by RequestController create request as HTML Parameters request pria related true also include primary email abc abc com primary email abc abc com primary email abc abc com applications scr application id 8 scr application id 7 scr application id 6 division relationship id 1 relationship id 2 relationship id 3 title afsdf description asfsdf point of contact abc abc com answer id 3 file object File object File object File username abc Completed 400 Bad Request in 0ms Views 0 1ms ActiveRecord 0 0ms,,robin850,2017-07-27 14:40:24,2017-07-28 13:56:03
IS,form for generates wrong URL for polymorphically associated namespaced nested resources,Steps to reproduce Admin Comment is associated to Admin Account by a polymorphic association Other possible fixes are suggested in issue 10705 which was closed because polymorphic url heuristic is very simple it simply gets the model names put them together and attempt to generate a URL but said attempt still fails when the resources are nested inside a namespace,,pixeltrix,2017-07-26 09:45:45,2017-07-28 14:51:35
PR,Use predicate builder build bind attribute wherever possible,For less duplicated code,,kamipo,2017-07-28 08:23:19,2017-07-28 16:36:05
PR,Type caster should not raise RangeError when building SQL string in Arel,The following SQL is completely valid SQL but currently it cannot be built due to type caster raises RangeError when building SQL string in Arel It should not be raised in that case,,"kamipo,matthewd,kamipo,sgrif",2017-07-28 02:04:34,2017-07-28 16:39:13
PR,Building where clause in UniquenessValidator is no longer needed,Building where clause manually was introduced at 26073 to include both comparison and binds in where clause Since 213796f comparison includes binds so it is enough to use where simply,,kamipo,2017-07-25 20:53:50,2017-07-28 16:42:24
IS,Isolated AR connections on a per authentication base,Is it possible to have Isolated AR connections on a per authentication base The problem Using connection establish to switch the database in a rails application after we have authenticated with devise in this case Devise Organisation role connects to organisation development Devise Teacher role connects to teacher development But establish connection switches the database globally for every devise authenticated user that is logged in This causes issues when logging in at the same time with 2 different user roles the database would switch and we would loose the Devise session data so the authentication breaks After many hours days of hunting down the code and solutions Im rather stuck with this and believe there is no real solution for AR to resolve this issue The solution If there is a solution could someone please tell me how to have isolated database connections from a single running rails applications If its not possible at all would it be possible to implement a database connection isolated thus making establish connection more smart so It knows it should connect to the database but only for a certain authentication in our case Devise Or is this out of scope for AR It seems a bit odd that rails does not support multiple databases multitennant out of the box I know the gems that facillitate this functionality but im already implemented a great custom solution it only does not work with this database connection problems which I hope can be resolved somehow,,matthewd,2017-07-28 21:50:08,2017-07-29 03:25:59
IS,routes default url options should be read from config action controller default url options if it is specified,I'm currently facing a situation where I need to use URL helpers from an ActiveJob I generating picture from an in app page and it does not read the default url options from config action controller default url options even if it is specified to the active Rails env However at the Job I cannot and would not detect and define which host and port should be used because I think this is not what an ActiveJob should do The URL helpers should be smart enough to do this I accept it could not be dynamic as ActiveJob is not running in a webserver context but I expect it should fall back to the defaults I already specified,,"pixeltrix,pixeltrix",2017-07-29 09:33:24,2017-07-29 10:22:58
PR,Use frozen string literal in actionpack,Follow up to Extends Style FrozenStringLiteralComment rule to actionpack The commit is just rubocop a after updating the Rubocop config Note like in I had to exclude builder and ruby test fixtures because using frozen string literal there leads to warnings Likely because Builder templates are eval'ed Related to,,"kirs,bdewater,bdewater,kirs,kirs",2017-07-25 07:47:11,2017-07-29 19:38:03
PR,Change http postgresql org links to https ci skip,It seems that it accepts only HTTPS connections Ref,,"y-yagi,vipulnsward,y-yagi",2017-07-30 12:57:43,2017-07-30 13:06:15
PR,Fix test runner is output,Output changed due to specification change of SummaryReporter aggregated results in minitest 5 10 2 In my opinion that should fix rails is test runner proceeding with 29354 However we still need discussion and the fix itself is minor so I think that we can fix only the test first,,y-yagi,2017-07-30 00:44:26,2017-07-30 13:57:50
PR,Fix warning method redefined,This fixes the following warning,,"y-yagi,rafaelfranca,y-yagi,rafaelfranca,rafaelfranca,y-yagi",2017-07-26 22:33:04,2017-07-30 13:58:50
PR,Fix testing helpers that use Action View is capturing helpers e g content for,Capturing helpers like content for expect view flow to be set ActionView TestCase doesn t set it so helpers that use content for can t be tested easily Per the docs for ActionView Context L14 L16 setting view flow is the responsibility of ActionView TestCase,,"georgeclaghorn,kaspth,georgeclaghorn,kaspth",2017-07-26 02:35:58,2017-07-30 14:13:48
PR,Fix test directory to correct path,Together fix to the following lint violation,,y-yagi,2017-07-30 07:34:41,2017-07-30 14:19:44
PR,Require alpha arel,Summary This pull request addresses this error by cherry picking d361aa3895d288594d2b31eecb4614c2d6192241 into unlock minitest branch,,"yahonda,yahonda",2017-07-30 14:15:21,2017-07-30 16:24:02
IS,Flash custom types is not available,Steps to reproduce Expected behavior flash info test Actual behavior undefined method info ' for ActionDispatch Flash FlashHash System configuration Rails version 5 1 2 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,,2017-07-30 20:21:25,2017-07-30 22:10:26
IS,No info about exact line of error in backtrace if something is wrong in view partial,In view pre app views client hotels index html erb pre on line 37 I have partial pre render 'hotel detail' hotel hotel pre and I have something wrong in model but in backtrace is info that problem is on line 37 in partial 'hotel detail' No more info where exactly in partial is problem See my backtrace pre ActionView Template Error undefined method ' for nil NilClass actionview 5 1 2 lib action view template error rb 67 in initialize' actionview 5 1 2 lib action view template rb 321 in handle render error' actionview 5 1 2 lib action view template rb 160 in rescue in render' actionview 5 1 2 lib action view template rb 155 in render' actionview 5 1 2 lib action view renderer partial renderer rb 342 in block in render partial' actionview 5 1 2 lib action view renderer abstract renderer rb 42 in block in instrument' activesupport 5 1 2 lib active support notifications rb 166 in block in instrument' activesupport 5 1 2 lib active support notifications instrumenter rb 21 in instrument' activesupport 5 1 2 lib active support notifications rb 166 in instrument' actionview 5 1 2 lib action view renderer abstract renderer rb 41 in instrument' actionview 5 1 2 lib action view renderer partial renderer rb 331 in render partial' actionview 5 1 2 lib action view renderer partial renderer rb 310 in render' actionview 5 1 2 lib action view renderer renderer rb 47 in render partial' actionview 5 1 2 lib action view helpers rendering helper rb 35 in render' app views client hotels index html erb 37 in block in app views client hotels index html erb 717525217098993777 70312721499440' app views client hotels index html erb 33 in app views client hotels index html erb 717525217098993777 70312721499440' actionview 5 1 2 lib action view template rb 157 in block in render' activesupport 5 1 2 lib active support notifications rb 168 in instrument' actionview 5 1 2 lib action view template rb 352 in instrument render template' actionview 5 1 2 lib action view template rb 155 in render' actionview 5 1 2 lib action view renderer template renderer rb 52 in block 2 levels in render template' actionview 5 1 2 lib action view renderer abstract renderer rb 42 in block in instrument' activesupport 5 1 2 lib active support notifications rb 166 in block in instrument' activesupport 5 1 2 lib active support notifications instrumenter rb 21 in instrument' activesupport 5 1 2 lib active support notifications rb 166 in instrument' actionview 5 1 2 lib action view renderer abstract renderer rb 41 in instrument' actionview 5 1 2 lib action view renderer template renderer rb 51 in block in render template' actionview 5 1 2 lib action view renderer template renderer rb 59 in render with layout' actionview 5 1 2 lib action view renderer template renderer rb 50 in render template' actionview 5 1 2 lib action view renderer template renderer rb 14 in render' actionview 5 1 2 lib action view renderer renderer rb 42 in render template' actionview 5 1 2 lib action view renderer renderer rb 23 in render' actionview 5 1 2 lib action view rendering rb 103 in render template' actionpack 5 1 2 lib action controller metal streaming rb 217 in render template' actionview 5 1 2 lib action view rendering rb 83 in render to body' actionpack 5 1 2 lib action controller metal rendering rb 52 in render to body' actionpack 5 1 2 lib action controller metal renderers rb 141 in render to body' actionpack 5 1 2 lib abstract controller rendering rb 24 in render' actionpack 5 1 2 lib action controller metal rendering rb 36 in render' actionpack 5 1 2 lib action controller metal instrumentation rb 44 in block 2 levels in render' activesupport 5 1 2 lib active support core ext benchmark rb 12 in block in ms' Users marian rvm rubies ruby 2 3 3 lib ruby 2 3 0 benchmark rb 308 in realtime' activesupport 5 1 2 lib active support core ext benchmark rb 12 in ms' actionpack 5 1 2 lib action controller metal instrumentation rb 44 in block in render' actionpack 5 1 2 lib action controller metal instrumentation rb 87 in cleanup view runtime' actionpack 5 1 2 lib action controller metal instrumentation rb 43 in render' remotipart 1 3 1 lib remotipart render overrides rb 16 in render with remotipart' actionpack 5 1 2 lib action controller metal implicit render rb 33 in default render' actionpack 5 1 2 lib action controller metal basic implicit render rb 4 in block in send action' actionpack 5 1 2 lib action controller metal basic implicit render rb 4 in send action' actionpack 5 1 2 lib abstract controller base rb 186 in process action' actionpack 5 1 2 lib action controller metal rendering rb 30 in process action' actionpack 5 1 2 lib abstract controller callbacks rb 20 in block in process action' activesupport 5 1 2 lib active support callbacks rb 131 in run callbacks' actionpack 5 1 2 lib abstract controller callbacks rb 19 in process action' actionpack 5 1 2 lib action controller metal rescue rb 20 in process action' actionpack 5 1 2 lib action controller metal instrumentation rb 32 in block in process action' activesupport 5 1 2 lib active support notifications rb 166 in block in instrument' activesupport 5 1 2 lib active support notifications instrumenter rb 21 in instrument' activesupport 5 1 2 lib active support notifications rb 166 in instrument' actionpack 5 1 2 lib action controller metal instrumentation rb 30 in process action' actionpack 5 1 2 lib action controller metal params wrapper rb 252 in process action' actionpack 5 1 2 lib abstract controller base rb 124 in process' actionview 5 1 2 lib action view rendering rb 30 in process' actionpack 5 1 2 lib action controller metal rb 189 in dispatch' actionpack 5 1 2 lib action controller metal rb 253 in dispatch' actionpack 5 1 2 lib action dispatch routing route set rb 49 in dispatch' actionpack 5 1 2 lib action dispatch routing route set rb 31 in serve' actionpack 5 1 2 lib action dispatch journey router rb 46 in block in serve' actionpack 5 1 2 lib action dispatch journey router rb 33 in serve' actionpack 5 1 2 lib action dispatch routing route set rb 832 in call' Users marian rvm gems ruby 2 3 3 gre bundler gems recurring select 6dcd97ee6ee4 app middleware recurring select middleware rb 22 in call' mongoid 6 2 0 lib mongoid query cache rb 118 in block in call' mongoid 6 2 0 lib mongoid query cache rb 69 in cache' mongoid 6 2 0 lib mongoid query cache rb 118 in call' remotipart 1 3 1 lib remotipart middleware rb 32 in call' warden 1 2 7 lib warden manager rb 36 in block in call' warden 1 2 7 lib warden manager rb 35 in call' rack 2 0 3 lib rack etag rb 25 in call' rack 2 0 3 lib rack conditional get rb 25 in call' rack 2 0 3 lib rack head rb 12 in call' rack 2 0 3 lib rack session abstract id rb 232 in context' rack 2 0 3 lib rack session abstract id rb 226 in call' actionpack 5 1 2 lib action dispatch middleware cookies rb 613 in call' actionpack 5 1 2 lib action dispatch middleware callbacks rb 26 in block in call' activesupport 5 1 2 lib active support callbacks rb 97 in run callbacks' actionpack 5 1 2 lib action dispatch middleware callbacks rb 24 in call' actionpack 5 1 2 lib action dispatch middleware executor rb 12 in call' better errors 2 1 1 lib better errors middleware rb 84 in protected app call' better errors 2 1 1 lib better errors middleware rb 79 in better errors call' better errors 2 1 1 lib better errors middleware rb 57 in call' actionpack 5 1 2 lib action dispatch middleware debug exceptions rb 59 in call' actionpack 5 1 2 lib action dispatch middleware show exceptions rb 31 in call' railties 5 1 2 lib rails rack logger rb 36 in call app' railties 5 1 2 lib rails rack logger rb 24 in block in call' activesupport 5 1 2 lib active support tagged logging rb 69 in block in tagged' activesupport 5 1 2 lib active support tagged logging rb 26 in tagged' activesupport 5 1 2 lib active support tagged logging rb 69 in tagged' railties 5 1 2 lib rails rack logger rb 24 in call' sprockets rails 3 2 0 lib sprockets rails quiet assets rb 13 in call' actionpack 5 1 2 lib action dispatch middleware remote ip rb 79 in call' actionpack 5 1 2 lib action dispatch middleware request id rb 25 in call' rack 2 0 3 lib rack method override rb 22 in call' rack 2 0 3 lib rack runtime rb 22 in call' activesupport 5 1 2 lib active support cache strategy local cache middleware rb 27 in call' actionpack 5 1 2 lib action dispatch middleware executor rb 12 in call' actionpack 5 1 2 lib action dispatch middleware static rb 125 in call' rack 2 0 3 lib rack sendfile rb 111 in call' rack cors 1 0 1 lib rack cors rb 93 in call' railties 5 1 2 lib rails engine rb 522 in call' puma 3 9 1 lib puma configuration rb 224 in call' puma 3 9 1 lib puma server rb 602 in handle request' puma 3 9 1 lib puma server rb 435 in process client' puma 3 9 1 lib puma server rb 299 in block in run' puma 3 9 1 lib puma thread pool rb 120 in block in spawn thread' pre Expected behavior In backtrace should be info that problem is in model Actual behavior In backtrace is info that problem is in partial somewhere not exactly where System configuration Rails version 5 1 2 Ruby version 2 3 3,,,2017-07-31 07:53:59,2017-07-31 10:07:25
PR,Avoid duplicate clauses when using or,Attempt number 2 for this change A refactor of WhereClause by made this change a lot simpler Initial proposal at 29805 Right now when using or nothing is done to try to avoid duplicated conditions As a result query length increases at an exponential rate This makes it really hard to parse for humans making debugging understanding the query log really hard To show the scale of the problem,,"lugray,lugray,sgrif,sgrif,sgrif",2017-07-26 02:00:37,2017-07-31 13:21:44
PR,Update blank rb,Summary Only provide a return object if the receiving object is nil Examples,,"lugray,sgrif",2017-07-31 12:24:30,2017-07-31 16:23:09
IS,Set Ruby version in Gemfile and ruby version by default,When you generate a new Rails skeleton we should be using the Ruby version you are generating with as the baseline for the application So that version should be set in the Gemfile and ruby version,,"dhh,sgrif,dhh,sgrif,albertoalmagro,albertoalmagro,albertoalmagro,guilleiguaran",2017-07-31 00:16:12,2017-07-31 18:19:41
IS,JQuery not included in projects at least on Windows,Steps to reproduce Create a new project and create any coffeescript Expected behavior The script using jquery should work Actual behavior Javascript error is not defined System configuration Rails version 5 1 2 Ruby version 2 3 3 Any script using jquery will fail I think it would be expected to work with the included Coffeescript compiler as we usually use define behavior here And this will not work at least on Windows I detected it using the Firefox debugger showing ' is not defined' this is jquery not present I solved it 1 Install gem jquery rails if not installed 2 Modify the application Gemfile adding gem 'jquery rails' 3 Adding to assets javascript application js these lines require jquery3 require jquery ujs Just before the require rails ujs Now all the coffeescripts work fine I think these 3 points should be added to the rails application generator by default,,guilleiguaran,2017-07-31 11:08:42,2017-07-31 18:24:34
IS,Cache hit miss markers are applied to partials that are not cached,The new cache hit miss markers in the log when rendering partials can often be applied wrong when the partial is either not cached or nested This is because the flag to track this is stored on the view context L234 rather than attached to the specific partial,,"dhh,st0012,st0012,dhh,st0012,dhh,kaspth",2017-03-22 17:38:08,2017-07-31 19:01:33
PR,Set Ruby version in Gemfile and ruby version by default,Summary This pull request sets current Ruby version in the Gemfile and ruby version by default When running rails new my app the generated application will include by default A ruby version file containing the default Ruby version An entry in the Gemfile with the format ruby '2 x x' with the same default Ruby version Implications Among other usages ruby version will help ruby version manager tools such as rbenv to determine which Ruby version should be used for the current Rails project The entry ruby haversion' in the Gemfile may be used by deployment tools i e Heroku to determine the Ruby version that should be used to run Rails,,"albertoalmagro,rafaelfranca,deivid-rodriguez,deivid-rodriguez,albertoalmagro,deivid-rodriguez,schneems,greysteil,albertoalmagro,albertoalmagro,greysteil,deivid-rodriguez,greysteil,greysteil,robin850,greysteil,greysteil,albertoalmagro,robin850,schneems,schneems,albertoalmagro,dhh,dhh,dhh,schneems",2017-07-31 17:34:44,2017-07-31 19:04:25
PR,Fix typo in assert changes error message,Summary I noticed this tiniest of typos in the error messages that new assert changes prints,,,2017-07-31 18:14:32,2017-07-31 19:26:45
IS,Tag for v5 1 3 rc3 missing,Steps to reproduce Go to or any other link in the CHANGES since 5 1 2 section of Expected behavior The tag should exist on GitHub so that the aforementioned links work Actual behavior 404 pages are shown instead of expected content System configuration N A,,,2017-07-31 19:30:06,2017-07-31 19:31:20
PR,Add Active Storage to Rails,Need to address a few issues How should the initial migration be seeded I'm thinking probably just generate it in db migrations on new apps Move the direct upload true convenience option from the activestorage helper into actionview Address how Rails' CI can run the cloud service integration tests,,rafaelfranca,2017-07-31 19:37:17,2017-07-31 19:37:32
PR,Add Active Storage to Rails,Need to address a few issues How should the initial migration be seeded I'm thinking probably just generate it in db migrations on new apps Move the direct upload true convenience option from the activestorage helper into actionview Address how Rails' CI can run the cloud service integration tests,,"dhh,simi,simi,dixpac,simi,rafaelfranca,kaspth,dhh,sgrif,sgrif,rafaelfranca",2017-07-28 21:48:53,2017-07-31 19:39:10
IS,sec docs misleading info in doc security implication,Hi folks unless there is something in rails forcing any input to be one byte per character you should change Password length should be less than or equal to 72 characters in activemodel lib active model secure password rb to Password length should be less than or equal to 72 bytes Why Because of eksblowfish edit please update description of constant MAX PASSWORD LENGTH ALLOWED as well,,,2017-07-31 12:21:38,2017-07-31 21:44:43
PR,Remove redundant unless current adapter OracleAdapter,,,kamipo,2017-07-31 23:35:32,2017-07-31 23:41:46
PR,Fix rubocop issues,This PR fixes two small style issues in the templates that are used for new rails apps These issues impact projects created with rails new If those projects use rubocop to check their style these issues will show up as violations 1 In config string w is used The ruby style guide prefers See here percent literal braces for more info 2 In bin yarn interpolated double quotes are used inside a string that also uses double quotes In this case rubocop prefers the inner string to use single quotes to help improve readability,,,2017-07-31 21:47:08,2017-08-01 04:03:46
IS,Rails documentation show some incorrect information about destroy all,Link for reference method i destroy all The documentation of destroy all in ActiveRecord Associations CollectionProxy class says that it ignores dependent option but I have tested it on my system by creating a company some groups in that company and those groups have many assets For explanation following is the code,,sgrif,2017-08-01 08:32:10,2017-08-01 12:09:11
PR,Add helper to URI HTTP FTP to inject query parameters,This is a simple helper to easily add query parameters to HTTP and FTP urls using the URI Ruby module Here is an example already present in the code documentation Note Since not all the URI subclasses can receive query parameters the helper has been added in a module included within specific classes instead of injecting it as a global context,,sgrif,2017-08-01 12:13:39,2017-08-01 12:30:36
IS,Request to merge regression fix PR 29848 from 5 1 stable to 5 1 3,This regression fix was merged into 5 1 stable but it is still not available in 5 1 3 branch The regression was introduced here back in 5 1 0 beta but the root cause is only identified recently This regression is causing production errors after we upgraded from Rails 5 0 to 5 1 Others have reported similar problem see Is there any chance we can include this regression fix into next 5 1 3 RC,,kaspth,2017-08-01 12:55:22,2017-08-01 13:45:17
IS,bundle exec rails new my test app dev failed on window host,Steps to reproduce use bundle exec rails new my test app dev failed Expected behavior source '' git source github repo repo git gem 'rails' path vagrant rails Actual behavior source '' git source github repo repo git gem 'rails' path vagrant rails System configuration Devbox,,"lugray,robin850",2017-07-28 18:12:44,2017-08-01 14:50:18
PR,ci skip Fix rails command comments,It is called wrong method name in the comment block so I have fixed it,,yhirano55,2017-08-01 14:57:13,2017-08-01 15:22:34
IS,Ca not download attachments with russian letters in name from issue in Redmine 3 4 0 with Rails 4 2 9 but work corect with Rails 4 2 8,Steps to reproduce 1 Install Redmine 3 4 0 2 Update Rails to 4 2 9 3 Add issue in installed Redmine 4 Attach file with russian letters in name to this issue 5 Try do download this file Expected behavior Browser start downloading file Actual behavior Error 404 System configuration Rails version 4 2 9 Ruby version 2 4 1 But it work fine with Rails 4 2 8 in same environment More information is here note 9 With Rails 4 2 9 production log,,,2017-07-04 08:25:09,2017-08-01 17:31:09
PR,Remove HTTParty dependency,httparty is only added in 30020 to write two tests to make PUT requests against S3 and GCS The same requests can be made with net http removing a dependency from the Gemfile,,claudiob,2017-08-01 17:59:02,2017-08-01 18:04:43
PR,Let ActiveStorage tests pass only for Disk,If you have a service configurations yml file but every single line is commented out then an error occurs when running tests The reason is that YAML load an empty file content simply returns false and not This PR fixes this behavior so tests can also run when no remote service is available Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,claudiob,2017-08-01 17:22:22,2017-08-01 18:05:24
PR,Remove unnecessary doc directory deletion,Since 553b695 doc directory is not created in application,,y-yagi,2017-07-31 22:42:00,2017-08-01 18:20:22
IS,Support for multiple foreign keys in ActiveRecord Associations,Problem Suppose you have a User model with a HABTM self join relationship maintained through a separate join table The User model I would be willing to take a stab at a PR but I would like to understand if there is a reason it does not work this way first I have done a bit of digging on SO and at least a few people have been looking for something like this since 2011,,sgrif,2017-07-27 07:49:19,2017-08-01 19:20:24
IS,TypeError on a newly created project with default javascript engine on Windows,The default javascript engine on Windows is Windows Script Host JScript Unfortunatelly this engine is not able to process the default assets As a workaround both the duktape gem or Node js can be used Steps to reproduce Use Windows 10 Install RubyInstaller 2 4 1 2 inkluding MSYS2 development tools Then run gem install rails rails new railstest2 cd railstest2 rails generate scaffold cats name string rails db migrate rails s Browse to 3000 cats Expected behavior It should show the index page for cats Actual behavior It raises the error TypeError Das Objekt unterst tzt diese Eigenschaft oder Methode nicht in English The object does not support this attribute or method See the full stacktrace System configuration Rails version 5 1 2 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x64 mingw32,,larskanis,2017-07-31 14:46:58,2017-08-01 19:54:43
PR,Use duktape gem as default JS engine on Windows MINGW,The default javascript engine on Windows is Windows Script Host JScript However this engine is not able to process the default assets The recommended engine on other platforms mini racer does not support Windows There are other alternatives like Node js but they require additional setup So duktape is the recommended engine q are there recommendations for working with rails on Windows Fixes 30014,,"larskanis,sgrif,larskanis,sgrif,guilleiguaran,sgrif,rafaelfranca,sgrif,guilleiguaran,larskanis,sgrif,guilleiguaran,larskanis",2017-07-31 14:59:40,2017-08-01 19:54:43
PR,Add Azure configuration to Active Storage template,With Active Storage supporting Azure we should show people how to set it up Incorporates the minor changes originally in as well,,ffmike,2017-08-01 19:29:31,2017-08-01 19:55:56
IS,Asset pipeline precompiles coffeescript when passed js,Steps to reproduce 1 Create a react webpacker app 2 Create a new controller and web page 3 Append Rails application config assets precompile w js css to assets rb 4 Visit the page Or just 1 clone my demo app 2 run rails s 3 visit localhost 3000 hello hello Expected behavior The page should load Actual behavior You get an error LoadError in HelloController hello cannot load such file coffee script img width 1022 alt screen shot 2017 07 30 at 1 39 05 am src Futher investigation But we explicitly required js and not coffee let is list all the coffee files anyways,,"schneems,rafaelfranca,schneems,rafaelfranca",2017-07-29 20:49:14,2017-08-01 20:53:07
IS,has one through self referential join generates incorrect query when both models have a default scope,Steps to reproduce self contained gist here Description Foo has one bar Bar belongs to foo Foo has one parent foo and has many child foos Bar has one parent foo through foo Bar has one parent bar through parent foo Bar last parent bar produces an incorrect query In sqllite this simply fails to find the correct row In MySQL it produces a syntax error For example the query generated in the attached gist by the line Bar find 2 parent bar is SELECT bars FROM bars INNER JOIN foos ON bars foo id foos id INNER JOIN foo relationships ON foos id foo relationships parent foo id INNER JOIN foos foos parent bar join ON foo relationships child foo id foos parent bar join id WHERE bars deleted 0 AND foos deleted 2 AND foos parent bar join id LIMIT 1 We can see this query is missing a value on the final parameter foos parent bar join id and incorrectly applies the value 2 which should have been used there to foos deleted This error can be worked around by using a String SQL gfragment instead of a Hash i e changing default scope where deleted false to default scope where foos deleted 'f' on either or both models substituting the correct table name of course This might be problematic if the model is ever used in a condition where the table name is aliased I believe this workaround points to a possible overwriting of a Hash key or deletion or missing value in an Array used to generate the final query Expected behavior 1 The query should not result in a syntax error in MySQL 2 Independent of database adapter Bar find 2 parent bar should result in the Bar with id 1 This occurs when using SQL fragments in the default scope or if there is no default scope Actual behavior 1 The query produces a syntax error in MySQL 2 Bar find 2 parent bar return nil if using sqllite as the node values are applies to the incorrect fields System configuration Rails version 4 2 3 Ruby version 2 2 2,,"vipulnsward,vipulnsward,vipulnsward,kamipo",2016-04-17 11:53:39,2017-08-02 01:05:48
PR,Add Azure to readme,previously,,,2017-08-02 01:57:35,2017-08-02 02:11:35
PR,Use rails instead of bin rails on generate,Use rails instead of bin rails on generate Because it can run without binstub same as rails command method Please see this L284,,"yhirano55,yhirano55",2017-08-02 02:39:08,2017-08-02 02:49:00
IS,wrong topic,,,,2017-08-02 04:39:53,2017-08-02 04:41:06
PR,Change setting position of environment variable,I have changed setting position of environment variable from end of command to beginning of command So if it execute rails command such as rails command generate controller Home index RAILS ENV development will be recognized as not environment variables This is a execution result same as my explaination Of cause rails command method aim for executing rake task But just by making this change I thought it would be useful in multiple situations or usages which do not be considered,,"yhirano55,matthewd,yhirano55",2017-08-02 04:07:39,2017-08-02 05:08:52
PR,Add Azure to the available services list,In request of issuecomment 319469540,,,2017-08-02 07:31:45,2017-08-02 07:36:54
IS,ActiveRecord Persistence reload does not support STI,When using Single Table Inheritance creating a new parent record while setting its type at the same time then calling reload L447 on it returns an object of the parent type instead of the child type Steps to reproduce Expected behavior Returning Firm id 1 Not changing self as it is dead impossible ie my firm remains a Company instance Rational In the case of STI it could come in handy returning not self but an instance of the expected class instead It sure would not be a reload of the instance it self but it would abide by this instance is state and play along reload is idea of cache busting Just a proposal not a big proponent Use case Such a behavior of returning an instance of the true class would be useful when dealing with dynamic assignment of the type and or when one has to use as in there is a dependency over legacy or third party code the parent class at creation time but then wants to rely on a child specific API to move forward with that instance This behavior seems not to introduce unwanted side effects besides breaking the principle of least surprise but then reload could support STI through an opt in option alongside lock or STI tables could tweak reload is behavior specifically and may do so optionally Actual behavior Returns Company id 1 for reload refreshes the model self it is been called onto and returns that very self only up to date discarding that model is type altogether System configuration Rails version any up to current as of date Ruby version any,,matthewd,2017-04-06 23:57:09,2017-08-02 07:41:06
PR,Sync transaction state when accessing primary key,Continuation of followup to If a record is modified inside a transaction it must check the outcome of that transaction before accessing any state which would no longer be valid if it was rolled back For example consider a new record that was saved inside a transaction which was later rolled back it should be restored to its previous state so that saving it again inserts a new row into the database instead of trying to update a row that no longer exists The id L17 and id L23 methods defined on the PrimaryKey module implement this correctly but when a model uses a custom primary key the reader and writer methods for that attribute must check the transaction state too The read attribute and write attribute methods also need to check the transaction state when accessing the primary key,,eugeneius,2017-07-09 00:47:45,2017-08-02 07:51:08
IS,rails new webpack skip sprockets still creates the assets folder does not set up Webpacker for CSS,Steps to reproduce Enter rails new testapp webpack skip sprockets Expected behavior The new app is created without the app assets folder and with Webpack configured to serve stylesheets from a documented location Actual behavior The app assets folder and its underlying structure is created despite the fact that dropping stylesheets into app assets stylesheets no longer causes them to be loaded This is misleading at best As Webpacker can replace Sprockets this seems to be a use case that is going to become increasingly common People doing this are going to want to use stylesheets should rails new not set things up so there is a place to put stylesheets such that they will be automatically packed into application css and should the docs not cover this use case a bit more clearly I have filed this under rails rails because it seems that rails new is erring by creating app assets when the asset pipeline is not being used but I suspect there are various places it could go my apologies if I have got it wrong System configuration Rails version 5 1 2 Ruby version 2 4 1p111,,matthewd,2017-07-11 10:42:32,2017-08-02 08:47:37
PR,Refactoring Response charset,Summary Use set content type instead of set header Brush up local variables assignment,,yui-knk,2017-07-13 05:30:48,2017-08-02 09:39:35
PR,Unlock minitest for Rails' test suite,Rails the repo is stuck on minitest 5 3 4 but we would like to get on the latest We are blocked because our suite does not yet run order independently in some cases Note Rails' internal minitest version does not affect end user apps and they can run with the minitest version they please Wanna help You can 1 Reproduce a random test failure locally rerun the test or many however you can with minitest bisect to consistently reproduce the failure locally with a given seed 1 Submit a pull request to the unlock minitest branch with the reproduction case so we can locally verify it E g you can reproduce this failure locally with If it fails consistently say running your command 3 5 times in a row and pulling your change down consistently fixes it then we will merge This might be for you sonpatki yagi in username alphabetical order,,"kaspth,rafaelfranca,alexcameron89,matthewd,zenspider,alexcameron89,yahonda,yahonda,kaspth,yahonda,y-yagi,y-yagi,alexcameron89,rafaelfranca,y-yagi,kaspth,kaspth,kaspth,yahonda,kaspth,yahonda",2017-05-29 18:47:33,2017-08-02 09:56:02
IS,A question about cursors support,AR fakes cursors in the find each method using id lookup Is there any reason why does not AR support cursors yet At least for some DBMS I believe it is possible to implement it on the driver level using the current approach as a fallback maybe,,"eugeneius,matthewd",2017-07-01 11:54:57,2017-08-02 10:02:41
PR,Make it clear what sending file is,sending file was implemented as attr writer with sending file instance variable By 1cc315c83c6d823a6041361bf468b82c541d31ee commit a method removing charset was name as sending file maybe for back compatibility This commit introduces omit charset as a private api method and move core logic to it and leaves sending file for back compatibility,,"yui-knk,sgrif,yui-knk,matthewd",2017-07-14 02:56:48,2017-08-02 10:33:54
IS,Stray characters may be returned on render as xml,I have created a program that accepts XML streams and saves them to a file then sends back an XML response However the company sending me the XML stream claims extraneous characters are being sent along with the return output Honestly I do not see this on my end at all Steps to reproduce 1 Build any XML file I personally used Nokogiri to do it Here is an snippet taken out of context but this should be enough to mentally follow along But the Expected behavior section is what I see on my tests System configuration Rails version 5 0 4 Ruby version 2 3 4p301 I'm not sure if this is even a bug or not more of peace of mind that I'm not doing something wrong,,matthewd,2017-07-19 19:57:57,2017-08-02 10:54:53
PR,Fix find by with range conditions,StatementCache does not support range conditions So we need to through the args to FinderMethods find by if range value is passed,,"kamipo,meinac,kamipo,meinac",2017-07-18 23:27:24,2017-08-02 11:01:23
IS,Rails Secrets encrypt should work even if secrets yml key does not exist,I do not want to show the production environment token to some developers e g temporary staff so there are some developmers who can not access secrets yml key But Rails Secrets encrypt is not working without secrets yml key or ENV RAILS MASTER KEY L51 So I'm considering applying the following patch to Rails Secrets L38 This patch makes Rails Secrets encrypt work even without secrets yml key in development and test environments for temporary staff Are there any good ideas System configuration Rails version 5 1 1 Ruby version 2 4 1p111,,matthewd,2017-07-20 10:35:26,2017-08-02 11:16:51
PR,Relation Merger should not fill values with empty values,Currently Relation merge will almost fill values with empty values e g other order values is always true it should be other order values any This means that Relation merge always changes values even if actually values is nothing changed This behavior will makes Relation empty scope fragile So Relation merge should avoid unnecessary changes,,kamipo,2017-07-24 18:15:36,2017-08-02 11:45:09
PR,Change ActiveSupport Minitest Dependency from Runtime to Develoment,The ActiveSupport gemspec currently has a runtime dependency on MiniTest which means every single Rails app bundles MiniTest even if a different test framework is used By changing it to a development dependency we can run tests with minitests without bundling it as part of the framework Summary This change is purely to remove the unnecessary dependency from ActiveSupport to allow Rails apps which use other testing frameworks eg rspec to have a slightly smaller footprint There does not seem to be any benefit to including this dependency,,"guilleiguaran,matthewd",2017-07-25 15:19:35,2017-08-02 11:54:47
PR,Modified a template file for generating application layout,1 Removed a mysterious empty line between head and body before 2 Added lang en to html element I have set en because Rails application config i18n default locale is English 3 Added meta charset utf 8 line,,"yhirano55,y-yagi,yhirano55,y-yagi,matthewd,yhirano55",2017-07-26 04:02:26,2017-08-02 12:23:59
PR,Use File NULL instead of dev null,File NULL is portable than dev null File NULL is available since ruby 1 9 3,,"rafaelfranca,matthewd",2017-07-26 15:31:12,2017-08-02 12:29:42
IS,Entire Rails root is being watched when watchable dirs contains non existing directory,Steps to reproduce Create an app with lots of files somewhere below Rails root but outside the usual directories where Rails expects files to be able to reload in development mode Start the rails console or a rake task do anything that boots the Rails environment The boot process takes long up to a minute with thousands of files you can watch Rails stat'ing each of the files using strace Expected behavior We have a large number of files below Rails root join import data that Rails should not care about Boot times should not be affected Actual behavior Boot is slow and the console rake task performs badly for some time afterwards while the process is still stat'ing files System configuration Rails 5 1 0 rc1 ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,"matthewd,matthewd",2017-07-11 12:22:05,2017-08-02 13:38:20
PR,Force parameters to be UTF 8,Summary issue conversation related Other Information I'm not 100 sure First of all I thought of fixing ActionController StrongParameters params L1059 to force encoding the values to UTF 8 In the end I have fixed ActionDispatch Http Parameters parameters L48 because this method handles the encoding like this L58 This change passed all test cases But I'm not 100 sure,,"meinac,arthurnn,arthurnn,arthurnn,arthurnn,rafaelfranca,eileencodes,arthurnn,eileencodes,arthurnn,arthurnn,eileencodes,eileencodes,eileencodes",2017-07-03 06:17:38,2017-08-02 15:14:52
IS,Session concurrency while storing in cache,Steps to reproduce Not sure if it is possible to reproduce stable enough the workflow is 1 session has old values in key1 and key2 2 controller1 action changes a session key1 and key2 and redirects to controller2 3 controller2 action renders a page This page has an asynchronous ajax call to controller3 The ajax call comes to server and changes session key1 After that the session can have updated only key1 but old key2 The more slowly network server the bigger chance to get this problem Expected behavior Session should have new values in both key1 and key2 For that probably cache should be saved before redirection happens or at least before the action called by redirection starts Do not know about Rails 4 but Rails 3 2 did not have this problem Actual behavior Session has updated key1 only because step 3 reads session before step 2 was able to write it to cache For this exactly case a workaround with moving the ajax call to inside document ready does help System configuration Rails version 5 0 dalli 2 7 Ruby version 2 4 1,,rafaelfranca,2017-08-02 14:51:58,2017-08-02 15:50:12
PR,Allow non English values for collection radio buttons,Is there any reason why form helpers truncate non English characters from ids of inputs Modern browsers support them and HTML5 does too Doing so breaks collection radio buttons with non English collections clicking the label activates the wrong radio That is because they all end up with the same id br This PR replaces the sanitization regex with a Unicode one to keep non English symbols in ids,,"lugray,lugray,lugray",2017-07-28 14:31:18,2017-08-02 16:05:02
PR,Fix Style StringLiterals violations for Active Storage,,,kamipo,2017-08-02 18:19:31,2017-08-02 18:22:57
PR,Move database specific boolean serialization back to Active Record,Currently ActiveRecord Type was moved to ActiveModel 9cc8c6f3730 And moved back database specific types 26696 I think that casting booleans to t f is a database specific representation WDYT,,"kamipo,sgrif",2017-08-02 22:27:14,2017-08-02 22:31:55
IS,Method 'message' is not allowed in Mailer Class,If you have a Mailer class with the method 'message' gives error ArgumentError wrong number of arguments given 0 expected 2 If you change method name 'message' works System configuration Rails version Rails 5 1 2 Ruby version Ruby 2 4 1,,"georgeclaghorn,georgeclaghorn",2017-08-03 01:59:24,2017-08-03 02:30:14
PR,Add Azure gems to README,,,"ffmike,georgeclaghorn,ffmike,georgeclaghorn,schneems,georgeclaghorn,ffmike,kamipo,georgeclaghorn,georgeclaghorn,dixpac,schneems",2017-08-02 23:30:09,2017-08-03 14:06:38
PR,Update String camelize to provide feedback when a wrong option is sent,Summary String camelize was returning nil without any feedback when an invalid option was sent as parameter This update makes the method to raise an ArgumentError when the option passed is invalid similar to what Ruby does for String downcase and other methods in 2 4 1 Previously 'one two' camelize true nil Now 'one two' camelize true ArgumentError Invalid option use either upper or lower,,lugray,2017-08-02 05:27:47,2017-08-03 15:33:18
PR,Handling add remove to from migration edge cases,Making sure the table name is parsed correctly when an add remove column migration have 'from' in the table name,,"lugray,lugray,pixeltrix",2017-07-31 12:04:46,2017-08-03 15:34:21
IS,Usefulness of ID attribute in hidden field tag,Steps to reproduce Suppose there are two forms on a page Both contain the same hidden input value perhaps to honor a special case such as telling the controller to redirect to an unexpected path if the specific form was to submit Since there is no natural reason for a hidden input to have an associated label I propose that the ID attribute be omitted by default It could always be manually specified if the developer is trying to achieve some desired functionality via JavaScript or some sneaky CSS System configuration Rails version N A Ruby version N A,,sgrif,2017-08-03 15:34:35,2017-08-03 15:41:02
IS,Rails UJS docs missing,Steps to reproduce 1 Visit remote elements remote elements section of the official guides 2 Click the link to rails ujs Unless you have disabled the Asset Pipeline rails ujs provides the JavaScript half and the regular Ruby view helpers add appropriate tags to your DOM 3 404 This is not the page you are looking for Expected behavior There should be docs for rails ujs especially setup Actual behavior 404 No docs found System configuration Not applicable,,"guilleiguaran,guilleiguaran,guilleiguaran",2017-08-01 17:36:37,2017-08-03 16:03:42
IS,params permit merge not work with remote true,Steps to reproduce Sending start date param to js erb by link to and end date param to js erb by another link to link to ovr ovr analysis path params permit end date merge start date ovr start class bold remote true link to ovr ovr analysis path params permit start date merge end date ovr end class bold remote true Expected behavior get params start date and params end date in js erb Actual behavior Each link param overwrite the old one I get start date or end date not the twice in the same time Note The merge working good without remote true System configuration Rails version Rails '5 1 2' Ruby version ruby '2 4 1',,"sgrif,sgrif",2017-08-03 14:59:02,2017-08-03 16:58:51
PR,Passing klass to StatementCache new,Actually StatementCache execute is always passed the same klass that the owner klass of the connection when the statement cache is created So passing klass to StatementCache new will make more DRY,,"kamipo,matthewd,kamipo,sgrif,kamipo,sgrif,kamipo,sgrif,kamipo,sgrif",2017-08-02 21:45:36,2017-08-03 18:39:50
PR,Improve bundler binstub error message,Rails displays an error message if you have a bundler generated binstub at bin rails instead of a Rails generated binstub This error message is misleading because it makes it seem as though Rails 5 introduced recent changes in how binstubs are used when these changes were actually introduced way back in Rails 4 The suggested upgrade steps are appropriate for an app that was created in Rails 3 but they likely are not the correct fix for someone who sees this error message today on a modern app I believe the binstubs option on bundler is a more likely culprit and troubleshooting path,,"schneems,schneems,schneems",2017-07-27 01:35:25,2017-08-03 21:15:53
PR,Make Rubocop happy about ActiveStorage,Running rubocop activestorage before this commit resulted in 20 offenses All the straightforward offenses have been fixed Only the Redundant curly braces around a hash parameter offenses are left since I'm not sure what is the best way to clean up that code L69 L92,,"claudiob,georgeclaghorn,georgeclaghorn,sgrif,georgeclaghorn,matthewd,georgeclaghorn,claudiob,rafaelfranca,rafaelfranca,georgeclaghorn,dhh,rafaelfranca,dhh",2017-08-03 14:45:10,2017-08-03 21:24:46
PR,Change azure core dependency,No need to depend on my fork anymore they have just release fix officially,,dixpac,2017-08-02 07:49:14,2017-08-03 21:41:09
PR,Deprecate LoadError REGEXPS constant,since 4ad1a52 LoadError REGEXPS is no longer needed,,"y-yagi,matthewd,sgrif,y-yagi",2017-08-02 23:15:01,2017-08-03 22:51:29
PR,Remove extra empty line,before,,"y-yagi,lugray,y-yagi,kaspth,lugray,y-yagi",2017-07-31 22:20:42,2017-08-04 13:11:38
PR,Fix time ago in words,Summary I think function time ago in words should be return 1 if time input from future If we want to calculate distance between 2 times we can use distance of time in words,,robin850,2017-08-04 05:31:07,2017-08-04 13:44:46
PR,Use Concurrent Map than Mutex and Mutex m for statement caches,Statement caches are used as a concurrent map It will more clarify to using Concurrent Map,,"kamipo,matthewd,kamipo",2017-08-04 00:48:58,2017-08-04 15:09:54
IS,Foreign keys and associated primary keys are not quoted in the ALTER TABLE postgresql query,Foreign key name should be quoted like column and table names Steps to reproduce Just add a camelized foreign key add foreign key dw od sample dimensions dw od survey dimensions exclude index true name fkDwOdSampleDSampleSurveyKey column SampleSurveyKey primary key SurveyKey Expected behavior ALTER TABLE dw od sample dimensions ADD CONSTRAINT fkDwOdSampleDSampleSurveyKey FOREIGN KEY SampleSurveyKey REFERENCES dw od survey dimensions SurveyKey Actual behavior PG UndefinedColumn ERROR column surveykey referenced in foreign key constraint does not exist ALTER TABLE dw od sample dimensions ADD CONSTRAINT fkDwOdSampleDSampleSurveyKey FOREIGN KEY SampleSurveyKey REFERENCES dw od survey dimensions SurveyKey System configuration Rails version 4 2 7 Ruby version 2 4 1,,sgrif,2017-08-04 13:45:17,2017-08-04 15:16:20
PR,Use assert nil if value is nil in assert field default value,It is deprecate to specify nil for expect argument of assert equal Ref FYI We already have a test that specifies nil in assert field default value L84 L88,,"y-yagi,lugray,rafaelfranca",2017-08-03 12:59:48,2017-08-04 17:20:43
PR,Do not let use serialize on native JSON array column,The check I'm introducing in the PR would prevent reports like when developer wants to use PostgreSQL array column and writes something like While the native array column works out of box without serialize feature In fact adding serialize to native JSON or array column breaks it and makes developers frustrated IMO this is a developer experience issue regardless how many years you have worked with Rails I remember asking myself should I use serialize for Postgresql JSON column last time I used it in a new Rails app,,"kirs,kirs,sgrif,matthewd,sgrif,kirs,sgrif,kirs,sgrif",2017-06-21 18:42:11,2017-08-04 22:05:01
PR,Add Active Storage to README and release,Before we forget,,claudiob,2017-08-03 19:17:49,2017-08-04 22:55:25
PR,Fix tests for AWS buckets that include a,If an AWS bucket name includes a e g bucket name then the canonical URL for an object will start with and not with The URL tests have now been separated into two separate asserts to ensure that both the s3 amazonaws com and the bucket name components are included but not specifically in that order,,claudiob,2017-08-03 14:26:14,2017-08-04 22:56:15
PR,Rename azure storage service,Azure is not the most correct name Azure is service that contains storage database etc same as aws or google cloud Renaming this to AzureStorage would be more correct If AzureStorage is not the best name we could consider abbreviation such as MAS same approach as to GCS r cc,,dixpac,2017-08-03 10:40:43,2017-08-04 22:57:03
PR,Add Active Storage to Rails,Need to address a few issues How should the initial migration be seeded I'm thinking probably just generate it in db migrations on new apps x Move the direct upload true convenience option from the activestorage helper into actionview x Address how Rails' CI can run the cloud service integration tests,,"rafaelfranca,georgeclaghorn,georgeclaghorn,georgeclaghorn,georgeclaghorn,lugray,claudiob,claudiob,claudiob,claudiob,claudiob,claudiob,claudiob,guilleiguaran,dhh,claudiob,claudiob,claudiob,claudiob,georgeclaghorn,georgeclaghorn,claudiob,georgeclaghorn,kaspth,guilleiguaran,claudiob,kaspth",2017-07-31 19:38:48,2017-08-04 23:05:14
PR,Fix repository URL ci skip,changed rails activestorage to rails rails,,"y-yagi,kamipo",2017-08-04 23:27:07,2017-08-04 23:32:15
PR,Remove unnecessary variable,Remove unnecessary variable on exception cc,,"dixpac,dhh,dixpac",2017-08-03 10:35:39,2017-08-05 14:02:17
PR,Change gem version of Active Storage to 5 2 0 alpha,Active Storage was integrated to Rails 5 2 0 alpha Refer rails rails 30020,,koic,2017-08-05 05:31:44,2017-08-05 14:05:25
PR,Add missing blank line between config active storage and config action cable,,,kamipo,2017-08-05 05:03:44,2017-08-05 14:05:59
PR,Active Storage check for app secrets secret key base not app config secret key base,By default apps only have the former set,,georgeclaghorn,2017-08-05 02:37:28,2017-08-05 14:06:33
PR,Fix ruby warnings,This fixes following warnings,,y-yagi,2017-08-05 03:24:52,2017-08-05 14:07:07
PR,Use content type start with than content type,start with is a little faster than regexp for prefix matching by a fixed string,,kamipo,2017-08-04 00:30:09,2017-08-05 14:07:39
PR,module ActiveStorage not ActiveStorage Class,This is a big commit I'm happy to split into smaller ones to review it All it does is to namespace everything under activestorage lib inside module ActiveStorage I think it is needed for the reasons below but feel free to close it if it is too big The reasons for this commit are uniformity with the other Rails libraries possibly behave better with respect to autoloading fix the index in the generated documentation Regarding the last point before this commit run rake rdoc generates this left sidebar ActiveStorage entries are indexed twice both inside and outside the module img width 308 alt before src After this commit run rake rdoc generates this left sidebar ActiveStorage entries are only indexed inside the module img width 303 alt after src,,"claudiob,dhh,claudiob",2017-08-03 19:28:11,2017-08-05 14:11:42
PR,Fix rubocop violations,This fixes following violations,,y-yagi,2017-08-05 23:05:43,2017-08-05 23:11:51
PR,Add purpose to cookies,Summary To prevent cookies from being repurposed for a completely unrelated key the name of the cookie is tacked on along with the cookie value,,"assain,rafaelfranca,rafaelfranca,rafaelfranca,kaspth,kaspth,kaspth,kaspth",2017-06-25 01:03:28,2017-08-06 01:19:37
PR,Remove outdated comment ci skip,The comment was describing a previous version of the method with a different signature This has been outdated since e76c38e,,kamipo,2017-08-06 02:22:17,2017-08-06 07:36:51
PR,Pass over Active Storage readme ci skip,,,"vipulnsward,georgeclaghorn,vipulnsward",2017-08-05 16:13:23,2017-08-06 08:14:45
PR,Replaces the 17 for the actual call to params id that would make th,e code work as intended ci skip Summary I changed the 17 in Patient find 17 since in my understanding the 17 is the final value that will make it to the method call but the real working code would not have it hard coded Therefore I replaced it by a call to params id reflecting the fact that the id parameter is received from a request to the url formed above with,,kamipo,2017-08-06 15:54:24,2017-08-06 16:05:43
PR,Active Storage to 5 2 0 alpha inside activestorage package json,Follow 30083,,bogdanvlviv,2017-08-06 17:25:14,2017-08-06 18:15:31
PR,Fix wrong service name in the storage yml,Fix wrong service name in the storage yml,,dixpac,2017-08-06 13:30:49,2017-08-06 18:18:53
PR,Set gem minitest and remove sorted test order for isolated tests,Related to 29271 issuecomment 319639057,,"bogdanvlviv,kaspth,yahonda",2017-08-05 14:27:38,2017-08-07 04:56:18
IS,String of numbers not fully stored in database,I'm trying to store a number as a string into the database It works in general but not with the number mentioned below Steps to reproduce Setup a model with a string attribute schema Expected behavior Insert 0792900414 into database Actual behavior 0792904 inserted into database System configuration Rails version 5 1 3 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16 ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,sgrif,2017-08-04 05:44:13,2017-08-07 07:40:57
PR,Extend image tag to accept ActiveStorage Attachments and Variants,To use an ActiveStorage attachment in image tag you have to write And a bonus if you pass a Blob not a Variant and specify the size arg the image will be automatically downsampled by applying variant resize size behind the scenes This one I'm not sure of is it too implicit,,"dhh,dhh,georgeclaghorn,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,matthewd,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,matthewd,rafaelfranca,georgeclaghorn,georgeclaghorn,dhh,dhh,dhh,dhh,dhh",2017-08-05 10:25:22,2017-08-07 14:38:52
IS,secrets rb,Not a big issue but I was surprised to see lib rails secrets rb in Railties instead of ActiveSupport Would not it be a more appropriate place That would allow to reuse secrets in other contexts gems without requiring Railties but ActiveSupport only,,"robin850,kaspth",2017-08-07 15:52:49,2017-08-07 16:21:34
IS,Railties raising exception for rails api with mongoid,Steps to reproduce I am developing a rails api application using mongodb as database The problem is each time i try rails generators It raises an exception in terminal user gem ruby gems railties 5 1 3 lib rails application configuration rb 139 in database configuration' Cannot load Rails application database configuration Could not load database configuration No such file config database yml RuntimeError Since i am using mongodb it does not requires database yml file Expected behavior It should execute rails g scaffold article2 name string content text command without any error Actual behavior Right now it is raising the exception user gem ruby gems railties 5 1 3 lib rails application configuration rb 139 in database configuration' Cannot load Rails application database configuration Could not load database configuration No such file config database yml RuntimeError System configuration Rails version 5 1 3 Ruby version 2 4 1 And hence i want to ask how to solve this problem,,"georgeclaghorn,sgrif",2017-08-07 18:10:15,2017-08-07 18:45:00
PR,Fix ActiveStorage Service AzureStorageService url,Add in the content type option which is defined as part of the generic ActiveStorage Service class Without this option attempts to generate a URL for an attached file fail with ArgumentError unknown keyword content type Previous discussion in which was before Active Storage was merged into master,,"ffmike,ffmike",2017-08-07 20:32:54,2017-08-07 21:09:00
PR,Fix ActiveStorage Service AzureService url,Add in the content type option which is defined as part of the generic ActiveStorage Service class Without this option attempts to generate a URL for an attached file fail with ArgumentError unknown keyword content type,,"ffmike,schneems,georgeclaghorn,dhh,ffmike",2017-08-02 23:33:47,2017-08-07 21:20:20
PR,ci skip Prefer cookies encrypted over signed,In some examples and guides we are recommending to use code like which invites users to prefer the newer encrypted cookies over the legacy signed cookies all those examples and docs were originally added by you Feel free to merge or close as you deem appropriate Thanks,,"claudiob,dhh",2017-08-08 02:38:47,2017-08-08 03:32:03
PR,Remove unnecessary brackets,Remove unnecessary brackets on method,,kamipo,2017-08-08 06:40:16,2017-08-08 06:54:53
PR,ci skip Update action mailer basics md,,,ydakuka,2017-08-08 08:23:39,2017-08-08 08:29:59
PR,ASCII comes in two flavors that need to be UTF 8ified,Summary Discourse found an issue where URL parameters were entering the code as ASCII 8BIT instead of UTF 8 Examining the source tree for URL unescape code I found that almost everywhere does not specify an encoding relying on the UTF 8 default in Ruby Almost everywhere In ActionDispatch there is a unescape uri that attempts to preserve the encoding if it is not US ASCII Changing that to UTF 8 ify ASCII 8BIT fixes the issue seen in Discourse Other Information It is noteworthy that the ASCII 8BIT encoding is used throughout as the encoding of choice before escaping a URL string This encoding mirrors the widespread usage of UTF 8 in URLs getting encoded as a stream of octets instead of codepoints Clearly ASCII 8BIT is intended to be convertible back to UTF 8,,"robin850,robin850,robin850",2017-08-07 17:47:22,2017-08-08 13:35:42
PR,ActiveStorage Add migrations per rails engine conventions,Move migrations to app db migrate This way we leverage rails engine migrations fully Rails will automatically skip migration if it already exists etc Also using this approach we can add remove columns in the future without need for developers who are using ActiveStorage to do this manually r,,"dixpac,dixpac,dhh,dixpac",2017-08-07 09:32:07,2017-08-08 14:47:39
PR,Improve rake activestorage install,Set environment as prerequisite rake activestorage install Use ActiveRecord Migrator migrations paths first instead of db migrate s If db migrate exists do not try to mkdir db migrate s Respect config active record timestamped migrations Prevent adding migration more than one time,,"bogdanvlviv,georgeclaghorn,georgeclaghorn,bogdanvlviv,dhh,bogdanvlviv",2017-08-06 17:15:49,2017-08-08 16:03:58
IS,Custom validation message for numericality validator,I do not have opportunity to add custom message for numericality validator I can change global message but would be great if I can change it for concrete type greater than greater than or equal to odd even etc as it is done in length validator for ex length within 1 2 too short 'min 1' too long 'max 2',,lugray,2017-08-08 15:10:26,2017-08-08 17:48:36
PR,Remove secret token,The architecture for secrets had a big upgrade between Rails 3 and Rails 4 when the default changed from using secret token to secret key base secret token has been deprecated for four years but was still in place to support apps that were created before Rails 4 e g to still be able to read the legacy cookies of their older users Deprecation warnings have been in place for many versions and should have helped most developers upgrade their applications accordingly Removing secret token also allows to remove code that was intended to deal with the condition where both secret token and secret key base were set Similarly the architecture for signed and encrypted cookies had a big upgrade between Rails 3 and Rails 4 To avoid disruptions a set of smart cookie jars were added 9909 so that developers could upgrade Rails version without affecting users with legacy cookies in their browsers Since Rails 4 is now four years old it is fair to assume that most apps do not need these legacy cookie jars anymore Deprecation warnings have been in place for many versions and should have helped most developers upgrade their applications accordingly Both signed and encrypted cookies will now be generated using the secret key base configuration that has existed since Rails 4 The deprecated secret token is now removed This change also allows to remove many modules and classes that were intended to upgrade legacy cookies into new cookies Note that this commit does not remove ActiveSupport LegacyKeyGenerator although that class might become useless after dropping secret token,,"claudiob,claudiob",2017-08-08 17:55:42,2017-08-08 17:58:28
PR,Support content type in AzureStorageService url,Add in the content type option which is defined as part of the generic ActiveStorage Service class Without this option attempts to generate a URL for an attached file fail with ArgumentError unknown keyword content type This replaces the previous PR that I botched in and adds test coverage,,"ffmike,georgeclaghorn",2017-08-08 14:40:06,2017-08-08 18:44:05
PR,Deprecate support of older config ru,Since Rails 4 0 config ru generated by default uses instances of Rails application Therefore I think that it is good to deprecate the old behavior Related 9669,,y-yagi,2017-08-07 22:49:29,2017-08-08 19:10:32
PR,add reload association to documentation,Hello Recently I opened a PR using the reload association method and my teammate asked me where was that method documented It turns out it is not documented anywhere I knew about it thanks to a DEPRECATION WARNING in Rails 5 0 hehehe This PR adds some documentation about the method PS Thanks for the tips P,,"tjschuck,rafaelfranca",2017-08-07 21:08:04,2017-08-08 19:12:05
IS,Deprecations misused,I'm seeing lot deprecation warnings informing me of behavior that will be changing I believe these were introduced with 25337 A deprecation is to express disapproval of something However these are not deprecating the method Rather they are informing the user of an impending change I want to use the new behavior so sending deprecation warnings to me makes for a cluttered log stderr I do not want to turn off all deprecation warnings as many of them will be helpful to me It would be helpful if there was a new method I could switch to so that I do not see warnings and I'm sure I have the correct behavior,,"rafaelfranca,sgrif,sgrif,sgrif",2017-08-08 16:43:32,2017-08-08 19:44:47
PR,add reload association to documentation ci skip,rafaelfranca this is the backport of I also included the changes of I wanted to cherry pick the commit but it was easier just to apply the changes manually Thanks 3,,,2017-08-08 19:42:26,2017-08-08 19:46:50
PR,Set ActiveStorage Blob service when ActiveStorage Blob is loaded,Fixes that ActiveStorage Blob service is unset when ActiveStorage Blob is reloaded,,"georgeclaghorn,rafaelfranca,rafaelfranca,georgeclaghorn,rafaelfranca,georgeclaghorn,georgeclaghorn,rafaelfranca,rafaelfranca,georgeclaghorn,rafaelfranca",2017-08-07 17:13:15,2017-08-08 21:10:59
PR,Use with dummy app in gitignore,Summary Use with dummy app method in templates gitignore,,yhirano55,2017-08-07 19:27:46,2017-08-08 21:12:36
PR,Fix dummy app configuration,Summary Though it requires components same as actual application L3 L18 it seems that wrong requiring components and orders,,yhirano55,2017-08-07 19:44:48,2017-08-08 21:15:54
PR,add reload association to documentation ci skip,Hello again this is the backport of 30125 I just noticed I missed some documentation for collection reload and I added it here I will create another PR to master adding that bit I also included the changes of I wanted to cherry pick the commit but it was easier just to apply the changes manually That is all Thanks,,,2017-08-08 20:25:04,2017-08-08 21:32:24
PR,Fix random CI failure due to non deterministic sorting order,It should be sorted to be deterministic executed result,,kamipo,2017-08-08 08:54:21,2017-08-08 21:33:46
PR,Run Active Storage tests in CI WIP,,,georgeclaghorn,2017-08-08 21:34:30,2017-08-08 21:49:10
PR,add missing collection reload documentation ci skip,Hello I missed some documentation that I think is nice to have when I did and I noticed about this when I did the backport to 5 0 stable As promised here is the extra bit Sorry for the noise,,"sgrif,sgrif,sgrif,sgrif,tjschuck",2017-08-08 20:34:03,2017-08-08 21:53:32
IS,ApplicationController renderer defaults gets unset reloaded in development,Using the new config initializers application controller renderer rb example to set the default http host for ApplicationController is largely ineffective in development This might not be the case for production but if it can not work in development I can not use it in production This may be related to 22975 or 24661 where DEFAULTS dup was introduced to allow for modification of the defaults hash which was frozen Using Rails 5 1 1 Ruby 2 4 1,,"rafaelfranca,rafaelfranca",2017-08-02 21:05:44,2017-08-08 22:18:06
PR,Fix ApplicationController renderer defaults overriding in development,Summary Previously overriding ApplicationController renderer defaults was not working effectively in development In fact the override was unset every time the code was reloaded The solution is to wrap the code in a to prepare block Fixes 30049,,,2017-08-07 11:10:16,2017-08-08 22:18:06
PR,Remove needless restoring of default charset,default charset is not changed in this test case so we do not need to backup an original value and restore it,,yui-knk,2017-07-12 16:31:31,2017-08-08 22:22:43
PR,Deprecate ActionDispatch TestResponse response aliases,Summary Solves success missing error are not supported by the actual ActionDispatch Response object and can lead to false positives Instead use the response helpers provided by Rack Response,,,2017-08-07 03:50:05,2017-08-08 22:27:06
PR,Simplify git source in Gemfile,Summary Follow up of Other Information The template of Gemfile in Bundler is also the same L5,,koic,2017-08-07 08:54:14,2017-08-08 22:36:09
PR,ActiveStorage Filter out Minitest backtrace,Filter out Minitest backtrace while allowing backtrace from other libraries to be shown,,dixpac,2017-08-07 09:42:34,2017-08-08 22:38:25
PR,Add missed require,ActiveRecord ConnectionAdapters QueryCache ConnectionPoolConfiguration depends on Concurrent Map,,"yui-knk,kamipo,yui-knk,kamipo,yui-knk,yui-knk",2017-08-07 08:42:34,2017-08-08 22:39:05
IS,Discrepancy between ActionDispatch TestResponse ActionDispatch Response behavior,Steps to reproduce System configuration Rails version Rails 5 1 2 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin15,,kirs,2017-08-04 06:20:35,2017-08-08 22:40:23
PR,bundle update,,,"bogdanvlviv,rafaelfranca",2017-08-06 10:11:33,2017-08-08 22:40:46
PR,Fix non escaped character,I have found accidentally non escaped character in a test file so I fixed it ' ',,yhirano55,2017-08-06 06:47:33,2017-08-08 22:42:44
PR,Use the same key as presented in doc,Ref L24,,y-yagi,2017-08-06 00:11:36,2017-08-08 22:43:25
PR,Fix engine command,bin rails which generated by rails plugin new no test includes APP PATH which aims for tests And it cause LoadError lib rails command actions rb 15 in require cannot load such file when we execute bin rails So I have fixed it,,"yhirano55,bogdanvlviv,yhirano55",2017-08-06 07:24:51,2017-08-08 22:45:37
PR,Publish new dirty APIs to doc ci skip,New dirty APIs are introduced in the deprecate message Therefore it should be displayed in doc,,"y-yagi,kamipo,kamipo",2017-03-18 04:40:53,2017-08-09 01:19:26
PR,Add Style SpecialGlobalVars in rubocop yml and correct it,Summary Prefer Naming in English over Perl Style,,"yhirano55,matthewd",2017-08-09 01:08:42,2017-08-09 01:59:53
PR,Use AR Migrator migrations paths instead of db migrate,Summary This PR uses ActiveRecord Migrator migrations paths to make a migration root path other than db migrate available when running rake activestorage install,,"koic,bogdanvlviv,koic",2017-08-07 08:11:30,2017-08-09 07:01:50
IS,form with and params scoping,System configuration Rails version 5 0 0 1 Ruby version 2 3 1 First of all I wonder if I will be able to use form with in Rails 5 0 0 1 I found little documentation about form with My main question is how will the attributes be scoped when using form with with and without a model Take for instance the following code form with url users path do form form text field email form submit end Will email be available in params email or in params user email Consider also the following example using form with with a model form with model local true do form form text field email form check box send welcome email form submit end Where email and send welcome email will be available In params user email and params user send welcome email or in params email and params send welcome email,,,2017-08-09 10:49:36,2017-08-09 12:55:36
IS,Association subquery not fetching foreign key for has many or has one,For the following models Rails version 5 1 1 Ruby version 2 4 1,,"lugray,lugray,lugray,rafaelfranca",2017-08-04 18:21:23,2017-08-09 13:45:22
IS,Rails where not query for postgresql not returning correct result for Boolean fields when having null values,Steps to reproduce 1 Create a model with a boolean column 2 Create some entries with with value NULL nil in boolean column Hit the following in rails console Model where not boolean field true count Expected behavior It is expected that it should return the count of all the entries in database having value in boolean column as nil NULL Actual behavior Despite having multiple nil values which are evantually true it returns count as 0 System configuration Rails version Rails 5 0 0 1 Ruby version 2 3 1 Postgresql Version 9 6 1 Additional information A funny thing happening is When I hit the non conventional call to database i e Model where not 'models boolean field IS true' count SELECT COUNT FROM models WHERE NOT models boolean field IS true returns the expected count Where as when I hit the conventional call Rails query i e Model where not boolean field true count SELECT COUNT FROM models WHERE models boolean field 't' returns 0 I tried hitting multiple queries returning result 0 Model where not boolean field true count Model where not boolean field true count Model where not boolean field false count Model where not boolean field false count,,"lugray,lugray,lugray",2017-08-09 12:26:40,2017-08-09 14:13:55
PR,Fix broken RDoc formatting,The ivar format doesn t work with RDoc is code formatting needs tt,,"tjschuck,robin850",2017-08-09 15:10:18,2017-08-09 15:28:41
IS,Documentation error,Is collection force reload false right in has many relation I saw that it was deprecated L1190,,robin850,2017-08-09 15:17:54,2017-08-09 15:54:31
PR,Backport 30125 to 5 1 stable,Hello This is just a tiny pull request that partially backports 30125 to 5 1 stable has it is been backported to 5 0 stable but this branch is not completely up to date with the documentation changes Cross refs 30162 Have a nice day,,"robin850,robin850",2017-08-09 16:13:29,2017-08-09 16:40:55
PR,Merge pull request 1 from rails master,update base Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-08-09 17:57:10,2017-08-09 17:59:41
PR,Fix random CI failure DirtyTest,,,bogdanvlviv,2017-08-09 19:29:11,2017-08-09 20:26:38
PR,DRY up Gemfile by reading Ruby version from ruby version file,Summary Follow up on to ensure Ruby version is only specified in a single place Gemfile code is pinched from ossfriday Other Information An alternative implementation would be to include ruby RUBY VERSION in the Gemfile I have opted for explicitly loading in the ruby version file because it would make it obvious to anyone where the version is being set,,"greysteil,albertoalmagro,greysteil,schneems,greysteil,albertoalmagro,matthewd,schneems,albertoalmagro,schneems,dhh,matthewd,dhh,rafaelfranca,albertoalmagro",2017-08-09 13:20:25,2017-08-09 20:50:41
IS,The so called abstract ApplicationController is not an abstract controller,Steps to reproduce I have posted a test script here The test should have a failing assertion when run Expected behaviour It is common to refer to ApplicationController as an abstract controller and use it as a dumping ground for site wide authentication logic helpers and so forth There is generally no expectation that it is routable My expectation would be that ApplicationController is an abstract class and that any public methods it has would not become action methods on all inheriting controllers This is a trade off between expected Ruby inheritance behaviour and the principle of least surprise when using something that Rails suggests is abstract y Noting also that as of in Rails 5 we have the related concept of ApplicationRecord which is explicitly flagged as an abstract class Actual behaviour ApplicationController is not actually marked as an abstract controller meaning that its public methods become routable actions on any other controllers in an application This came as a surprise to me particularly in light of the ApplicationRecord direction of travel My crude test case linked above shows how confusion here could lead to some rather undesirable consequences of allowing unintended code to be routable Admittedly the same is true mixing in logic to any controller but my feeling is ApplicationController is not any controller System configuration Rails version master Ruby version 2 4 1 Next If this is known and intended then fine I can chalk this up to learn something every day Otherwise I have prepared a commit to make ApplicationController abstract for newly generated apps I did not open a pull request immediately as I was not sure what the answer was here and even if the current behaviour is not intended I'm not sure how best one would handle existing applications Thanks Josh,,rafaelfranca,2017-08-09 20:59:58,2017-08-09 21:21:47
PR,Backport Fix to scoping is correctly restored to 5 0 stable,This is a backport of 29569 into 5 0 stable,,"norman,norman,rafaelfranca,rafaelfranca",2017-07-28 22:00:43,2017-08-09 22:09:23
IS,Calling unscope from inside another scope breaks STI in 5 0 5,Invoking a scope on an STI class from inside another class breaks its all scope on Rails 5 0 5 rc2 It does not happen on 5 1 3 rc2 I imagine it might be possible to backport a fix which I will investigate shortly Steps to reproduce A sample application is attached here I have 3 classes System configuration Rails version rails 5 0 5 rc2 Ruby version ruby 2 3 1p112 2016 04 26 x86 64 linux gnu,,"norman,norman,sgrif,kamipo,norman",2017-07-28 18:05:17,2017-08-09 22:28:27
PR,Specify branch in the benchmark template,Because other bug report templates specify branch L10 L10 L10 L10 L10 This also fixes broken tests Ref,,y-yagi,2017-08-09 23:10:09,2017-08-10 00:24:42
IS,belongs to' unknown keywords required anonymous class ArgumentError with ruby trunk,Steps to reproduce belongs to' unknown keywords required anonymous class ArgumentError with ruby trunk System configuration Rails version master branch Ruby version ruby 2 5 0dev 2017 08 09 trunk 59549 x86 64 linux It reproduces since Revision 59519 has been opened and there was a suggestion to ask this error at Rails side So it seems to be a rails issue at sight However you report since Revision 59519 We might have changed something Can you ask rails people to isolate the problem,,"yahonda,yahonda,lugray,yahonda",2017-08-09 14:11:54,2017-08-10 02:34:45
PR,ci skip fix typo on comment,Summary fix typo on comment in active store codes,,,2017-08-10 03:32:40,2017-08-10 03:35:25
PR,Fix a typo in code comment,Summary I found a tiny typo in code comments while I'm reading the new active storage code so I have fixed it,,kamipo,2017-08-10 03:16:30,2017-08-10 04:04:20
PR,Fix random CI failure due to non deterministic sorting order,,,bogdanvlviv,2017-08-09 10:05:19,2017-08-10 10:16:24
IS,ActiveRecord hitting wrong query match values in database for IS IS NOT,Steps to reproduce Have a Boolean field in you Model fire the following query Model where not 'boolean field IS ' true count Expected behavior Should fire the following query SELECT COUNT FROM application logs WHERE NOT processed IS TRUE Actual behavior Firing the following query SELECT COUNT FROM application logs WHERE NOT processed IS 't' Returning Error ActiveRecord StatementInvalid PG SyntaxError ERROR syntax error at or near 't' System configuration Rails version Rails 5 0 0 1 Ruby version Ruby 2 3 1,,matthewd,2017-08-10 11:24:58,2017-08-10 11:59:02
IS,Model name Receive in has many become Receife,Steps to reproduce Create model PurchaseOrder rb Create model GoodReceive rb Create has many relationship Purchase Order has many good receives Expected behavior When query PurchaseOrder find 1 good receives become nil when there is no records related Actual behavior Try some in inflections rb still do not get the solution inflect irregular areceife' areceives' inflect irregular areceive' areceives' Do has many good receives class name 'GoodReceive' make it works System configuration Rails version 5 1 3 Ruby version 2 3 4,,sgrif,2017-08-10 08:17:45,2017-08-10 12:14:11
IS,update dependency on actionpack,There is a new major version of rack test actionpack is still using 0 6 3,,matthewd,2017-08-10 12:44:13,2017-08-10 13:49:34
IS,Allow Rack 2 0 3 in Rails 4 2 stable,Rack 2 0 3 has a fix for the following security issue CVE 2014 9490 Would it be possible to update the dependency in actionpack,,matthewd,2017-08-10 16:47:24,2017-08-10 17:03:17
PR,Improve railties generators tests,Improve plugin generator tests Improve app generator tests Ensure that generation config application rb is correct Related to 30123 hr skip action cable pass throughs rails plugin new i found this when i was improving tests hr Also this PR will prevent making mistakes like discussion r132046176 r,,"bogdanvlviv,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,rafaelfranca",2017-08-09 16:18:24,2017-08-10 17:14:41
PR,Isolate ActiveStorage namespaces,IMO we should make active storage isolated namespaces do not want someone to override the behaviour by mistake or to leak something to the app,,"dixpac,rafaelfranca,dixpac",2017-08-06 13:55:46,2017-08-10 18:02:29
PR,Start reaper run after connection pool initialized,Otherwise ConnectionPool reap may run before connections has initialized L888 L890,,"kamipo,matthewd,kamipo",2017-08-10 17:25:34,2017-08-10 18:07:24
IS,Record is saved even if associated belongs to record is invalid,Steps to reproduce tl dr we are calling post comments first save with invalid post Expected behavior comment is not saved Actual behavior comment is saved and we have invalid Comment in DB System configuration Rails version 5 1 3 master Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,sgrif,2017-08-10 09:09:37,2017-08-10 18:41:07
IS,belongs to association is id is not present on record INSERT and added in subsequent UPDATE,Steps to reproduce Expected behavior Records are successfully saved Actual behavior Although post is created before author is saved post id is not present in author on create so we have ActiveRecord NotNullViolation SQLite3 ConstraintException NOT NULL constraint failed authors post id INSERT INTO authors DEFAULT VALUES If null false constraint is removed from authors table we can see that author is updated with proper post id after all records are saved i e System configuration Rails version master 5 1 3 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,sgrif,2017-08-10 17:01:20,2017-08-10 19:27:22
IS,belongs to association is saved after record itself,Steps to reproduce Expected behavior Records are successfully saved Actual behavior parent is saved after link so we have ActiveRecord NotNullViolation SQLite3 ConstraintException NOT NULL constraint failed links parent id INSERT INTO links child id VALUES System configuration Rails version master 5 1 3 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,sgrif,2017-08-10 16:55:19,2017-08-10 19:31:40
PR,Test PR,This is some description,,,2017-08-10 19:49:03,2017-08-10 19:49:58
PR,Run Active Storage tests in CI,,,"georgeclaghorn,rafaelfranca,rafaelfranca,georgeclaghorn,georgeclaghorn,rafaelfranca,georgeclaghorn,rafaelfranca",2017-08-08 21:50:36,2017-08-10 19:58:31
PR,Do not repeat the Ruby version in the Gemfile,Prior to this change upgrading Ruby required changing the version in both Gemfile and ruby version Now it will only need to be changed in one place,,robin850,2017-08-10 20:50:27,2017-08-10 20:57:31
PR,Fix formatting of Active Storage docs ci skip,Use instead of backquote Remove escape from class to be link,,"y-yagi,kamipo",2017-08-11 01:25:40,2017-08-11 02:17:04
PR,Fix formatting of Active Storage docs ci skip,Follow up of 30188,,"koic,koic,kamipo,koic,kamipo,koic",2017-08-11 03:42:22,2017-08-11 04:29:04
IS,How can I use foreign key to table users,L328 Did I just find a bug How can I use foreign key options if to table is just set by Base I want to use opt like foreign key to table users,,rafaelfranca,2017-08-11 01:01:27,2017-08-11 05:13:29
PR,ci skip Update testing md,,,"ydakuka,vipulnsward",2017-08-11 07:44:24,2017-08-11 07:52:27
PR,Fix RDoc formatting does not work with,This PRs purpose is the same as,,kamipo,2017-08-11 14:31:48,2017-08-11 14:54:25
PR,Fix generator example code ci skip,Summary Fix example codes for generators guide 1 On lib method we have to return string inside block 2 On rakefile method we have to define tasks When it given hello there then it will raises,,"yhirano55,robin850",2017-08-10 23:33:21,2017-08-11 15:51:15
PR,Refactor app generator test,Summary Refactored app generator test Add an assertion for active storage Add an assertion for yarn,,yhirano55,2017-08-11 09:27:44,2017-08-11 16:08:42
PR,Browser caching in Active Storage,Active Storage controllers serve blobs via redirects Redirects are not cached by default which leads to images being reloaded on every page visit in some browsers Namely Safari This PR enables the browser caching,,,2017-08-11 14:26:52,2017-08-11 17:18:12
PR,Remove unused close connection in Action Cable tests,,,kamipo,2017-08-11 13:42:04,2017-08-11 18:09:54
IS,validates attribute format with REGEX,Steps to reproduce 1 Build a model with integer attribute For example rails generate model Product stock integer 2 validate the model Product is stock attribute with below code validates stock format with A d z 3 In rails console try to create a new record with invalid stock value For example p Product new stock abcd p save The new record was successfully saved by by passing the format validation because input value abcd is type casted to integer 0 before validation is performed Expected behavior It is expected that the above new record stock abcd is not valid Similar errors should be checked by format validation Alternatively when using below code it is working as expected validates stock numericality only integer true Actual behavior Unlike numericality validation which checks the attributes before type cast format validation checks the type casted data The different behaviors between these two validation method will cause confusion to developers System configuration Rails version Rails 5 0 4 Ruby version Ruby 2 2 2p95,,rafaelfranca,2017-08-11 11:26:31,2017-08-11 18:28:37
IS,AR containing an attribute of it is pluralized name cause typecasting exceptions,Steps to reproduce Expected behavior A new hour object is built and saved with only the attribute user id assigned Actual behavior An error in typecasting attempted to convert the hash user id 1 to a float System configuration Using activerecord 5 1 0 ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,"matthewd,meinac",2017-05-11 04:50:20,2017-08-11 18:37:44
PR,Specify table name only when scope table and table are different,Fixes 29045,,"kamipo,matthewd,rafaelfranca,kamipo",2017-05-12 11:50:04,2017-08-11 18:37:44
PR,Add null false to Active Storage tables,These columns are not intended nullable,,kamipo,2017-08-11 17:38:58,2017-08-11 18:54:33
PR,Evaluate active storage attached name only once,Currently active storage attached name in define method is evaluated every call It is better to evaluate it only once,,kamipo,2017-08-11 17:05:01,2017-08-11 18:54:48
IS,Unexpected count value with Rspec Worker deliveries count,Not really sure if this is due to something with Rspec or ActionMailer itself please note that I did not include the views for the mailers but included everything else relevant Steps to reproduce 1 Have a worker that triggers two mailers Expected behavior PrimaryMailer deliveries is 1 SecondaryMailer deliveries is 1 Actual behavior PrimaryMailer deliveries is 2 SecondaryMailer deliveries is 2 System configuration Rails version 5 0 2 Ruby version 2 4 1 Rspec version 3 6 0,,rafaelfranca,2017-05-07 16:52:12,2017-08-11 19:05:07
PR,config action view erb trim mode is not needed,The configuration was valid when Rails was running on Erubis topics trimspaces but it looks like it does not have any effect now that Rails runs on Erubi does that sound right Thanks ci skip,,"claudiob,rafaelfranca",2017-08-09 07:06:39,2017-08-11 19:08:19
PR,More robust PostgreSQL database duplication check,Summary Currently db create for Postgres checks for error message to guess whether the database already exists Unfortunately current versions of Postgres are by default use system locale for error messages which means that on my laptopt with Russian locale error message says toptal cucumber which is not caught by error message regexp This PR changes the code to check against error class instead Other Information Maybe I am missing something But I can not find any open issue PR describing the problem,,matthewd,2017-08-11 09:49:41,2017-08-11 19:55:10
PR,5 1 stable Deserialize a raw value from the database in changed in place for AbstractJson,This PR backports 29175 29273 and 29491 to fix 28754,,"kamipo,kamipo",2017-08-09 12:10:06,2017-08-11 20:01:13
PR,Return Not found Ids in ActiveRecord NotFound,Summary This builds on top of 15e2da656f41af0124f7577858536f3b65462ad5 now it also returns exact Ids which were not found Use Case APIs For example if Company API is expecting params developer ids as input param The client sends say 20ids of out of 18 are valid 2 are invalid In current version of rails client will get the error message as given below Could not find all Developers with 'id' 7 2 19 20 10 15 1 14 8 11 12 9 6 5 17 13 18 4 16 3 found 18 results but was looking for 20 Now after reading the above message it pretty hard to figure which IDs are invalid But After this change the error message will tell them exactly what is wrong Could not find all Developers with 'id' 7 2 19 20 10 15 1 14 8 11 12 9 6 5 17 13 18 4 16 3 found 18 results but was looking for 20 Please check following 'ids' 12 18 Good Idea,,"gaurish,eileencodes,kirs,gaurish,eileencodes,eileencodes,eileencodes,gaurish,matthewd,gaurish,gaurish,kirs,gaurish,sgrif,gaurish,gaurish",2017-07-08 09:57:56,2017-08-11 20:09:16
IS,ActiveStorage looses storage service after exception,Steps to reproduce After the Rails App throws an exception in one request the AS looses it configuration and fails working until the restart of the puma server I Used the Disk Storage Server in development enviroment local service Disk root Rails root join storage config active storage service local Expected behavior Keep the config after an exception Actual behavior AS looses it storage service configuration until the restart of puma until then all request containing an Attachment will cause an exception undefined method download' for nil NilClass Users mo rbenv versions 2 4 1 lib ruby gems 2 4 0 bundler gems rails 4b72bee47bb5 activestorage app models active storage blob rb 160 in download' System configuration Rails version 5 2 0 alpha Ruby version MRI 2 4 1,,rafaelfranca,2017-08-09 10:03:37,2017-08-11 21:15:39
IS,Adding active storage fails to create the configuration,I am trying to install active storage I am following along with the installation at installation Steps to reproduce Expected behavior Run rails activestorage install to create needed directories migrations and configuration Create the 3 items above Actual behavior I can confirm the migrations are created but no configuration file I assume this is the storage yml BTW what directories should get created System configuration Rails version edge Ruby version 2 3 1 Repo,,rafaelfranca,2017-08-09 09:25:14,2017-08-11 21:17:15
PR,Add skip active storage option to the app generator,Summary Add skip active storage option to the AppGenerator,,"yhirano55,rafaelfranca,yhirano55,rafaelfranca",2017-08-11 21:16:55,2017-08-11 21:23:04
PR,ActiveStorage Remove unnecessary require in test helper,Remove unnecessary require in test helper Handled by the engine,,"dixpac,dixpac",2017-08-07 09:49:58,2017-08-11 21:35:19
PR,Active Storage rubocop a only Layout TrailingBlankLines,Summary Fix rubocop Layout TrailingBlankLines,,yhirano55,2017-08-09 05:33:22,2017-08-11 21:36:23
PR,Prevent generation extra empty lines in a plugin is Rakefile,,,"bogdanvlviv,rafaelfranca,bogdanvlviv",2017-08-06 10:05:13,2017-08-11 21:37:01
PR,Use copy to preserve file permissions,Summary This resolves issue 30158,,,2017-08-09 13:50:34,2017-08-11 21:40:04
IS,db structure yml file is changing permissions,Steps to reproduce A change was introduced in this commit that re writes db structure yml when migrations are run We are running migrations in a docker container which means db structure yml gets mounted with file permissions as This is because the new change is writing a temporary file with Tempfile and then mv ing it to replace the existing db structure yml Expected behavior I would expect the previous behavior that if db structure yml exists the file permissions would be kept intact Actual behavior The file permissions changed System configuration Rails version 5 1 3 Ruby version 2 3 1,,,2017-08-09 13:49:07,2017-08-11 21:40:08
PR,Improve callback examples in Active Job guide,I found the AJ guides to be a bit light on the subject and noticed the examples given contradicted the advice for AR callbacks callback registration when to register callbacks with a method or a block,,"bdewater,lugray,bdewater",2017-08-03 14:38:14,2017-08-11 21:42:49
PR,Add git source to Gemfile for plugin generator,Summary Missing git source to Gemfile for rails plugin new generator So I have fixed it,,yhirano55,2017-08-07 09:13:35,2017-08-11 21:44:29
PR,Activestorage rack test uploaded file,Summary I was writing a test that looks something like this This PR has 2 changes that were necessary in order to make this test pass,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-08-11 14:38:54,2017-08-11 21:46:03
PR,Remove sorted test order for isolated tests,Currently we have gem minitest bisect in Gemfile looks like the most convenient time for getting rid of sorted tests in favor of random Related to 30085,,bogdanvlviv,2017-08-07 05:04:43,2017-08-11 21:46:56
PR,Do not require all frameworks in engine executable,Summary No reason to require all of Rails' components frameworks in the bin rails binstub The binstub now simply loads the commands just as the application binstub does Other Information Fixes 28345,,"maclover7,y-yagi,rafaelfranca,rafaelfranca",2017-03-11 22:59:38,2017-08-11 21:50:46
IS,Mountable engines without ActiveRecord can not run the test suite,Steps to reproduce System configuration Rails version 5 0 2 Ruby version 2 2 6,,"maclover7,rafaelfranca",2017-03-08 17:12:43,2017-08-11 21:50:53
PR,Add authors to address random failures at HasOneAssociationsTest,Summary This pull request addresses random failures at HasOneAssociationsTest by adding missing authors fixtures There are some differences in database adapters sqlite3 has 2 failures mysql2 has 1 failure and postgresql has no failures Actually I still do not know the reason why these database adapters show different failures but I can say this commit fixes these failures These random failures can be reproduced by using seed 48032 and other options as follows sqlite3 2 failures cc and who informed and have been working on these failures,,"yahonda,yahonda",2017-08-06 22:32:37,2017-08-11 21:51:17
PR,Skip unused components when running bin rails in Rails plugin,Summary Though it added T or skip test when generating plugin it generate needless test files Caution When we run engine command without test unit we have to remove this line from bin rails,,"yhirano55,y-yagi,yhirano55,y-yagi,rafaelfranca",2017-08-07 12:06:54,2017-08-11 21:53:03
PR,Removed empty line from dummy manifest,Summary I have removed an empty line from dummy manifest js I tried to be same format as app assets config manifest js,,yhirano55,2017-08-07 10:37:34,2017-08-11 21:53:22
PR,Eager load controller actions to reduce response time of the first request,On the first request ActionController Base action methods computes and memoizes L66 L77 the list of available actions With this PR we move this expensive operation into eager load step to reduce response time of the first request served in production This also reduces the memory footprint when running on forking server like Unicorn all credit goes to I'm just pushing this patch from Shopify into upstream blush chin,,"kirs,kirs,kirs,kirs,rafaelfranca,rafaelfranca,rafaelfranca,matthewd,kirs,kirs,kirs,kirs,matthewd,kirs,matthewd",2017-06-24 15:06:24,2017-08-11 21:54:05
PR,Fixed query building when relation is passed for has one or has many association in where,Solution for Issue 30077 Wrong set of primary key and foreign key where used for has one and has many association The query generated was only useful for belongs to association In this pull request I have added test case and solution to cover the given issue,,"rafaelfranca,jaredbeck",2017-08-07 21:47:15,2017-08-11 21:58:02
PR,Add code formatting and minor grammar clarifications,Primary goal was just to add code formatting for post helpers submit and model but I also made a couple of grammatical tweaks for clarity,,tjschuck,2017-08-09 16:28:01,2017-08-11 21:59:51
PR,Optimize indentation for generator actions,Summary I have found that indentations are broken on environment method that is generator is one of actions Example template,,yhirano55,2017-08-09 16:31:51,2017-08-11 22:07:35
PR,Fix outdated comment for Core ClassMethods ci skip,This comment was added at 97849de but AssociationProxy and test triple equality was removed at 1644663 Currently the is used for test decorated polymorphic where that added at 11945 So I updated association proxies to decorated models By the way currently ActiveRecord Core ClassMethods appears in the doc But it looks like that the methods in the module is not public API So what do you think about making nodoc the module,,"kamipo,rafaelfranca,kamipo,kamipo,rafaelfranca",2017-08-09 01:41:09,2017-08-12 09:52:44
IS,Rails 5 1 redirect to flash issue,Steps to reproduce users controller rb Expected behavior After successful update on User model it should redirect to show and display flash notice or just notice Actual behavior Redirect works fine but flash does not show up Instead browser url bar has some GET style querystring e g localhost 3000 users notice User saved 21 However if I set flash in separate line e g flash notice 'User saved ' and remove notice param in redirect to flash notice displays properly System configuration Rails version 5 1 2 Ruby version 2 4 1p111,,y-yagi,2017-08-12 08:56:23,2017-08-12 12:04:33
PR,Test for the new exception of delegate missing to,A follow up to the change to delegate missing to made in 30084,,"rafaelfranca,rafaelfranca,gsamokovarov,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-08-11 08:41:44,2017-08-12 22:23:18
PR,Add Dockerfiles and skip dockerfile option to the app generator,Summary Recently it is not uncommon to develop and deploy using Docker And in many cases I'm creating Dockerfile and docker compose yml after generating Rails new app Of course we can generate them by application template But I think that it is convenient for us to be generated them by default Dockerfile and docker compose yml which created by generator are just plain boiler template Intentionally I did not consider database differences So docker images for databases are mixed official and unofficial ones And I thought that it would be better to choice the image that the developer wants Omakase,,"yhirano55,georgeclaghorn,georgeclaghorn,georgeclaghorn,georgeclaghorn,georgeclaghorn,yhirano55,rafaelfranca,yhirano55",2017-08-12 22:57:01,2017-08-12 23:22:59
PR,Remove duplicated table name,It can use AbstractReflection table name simply,,kamipo,2017-08-12 11:25:21,2017-08-12 23:30:09
PR,Explicitly load globalid files,GlobalID uses autoload for the class load L3 L9 In a thread based backend like Sidekiq there is a possibility that autoload may occur simultaneously in multiple threads and as a result it is presumed that an error may be caused by contention of autoload In order to avoid the above issue explicitly loaded the class at startup Maybe fixes,,"y-yagi,rafaelfranca,y-yagi",2017-08-12 23:15:15,2017-08-12 23:30:48
IS,ActiveJob is DelayedJob adapter lack of hooks support,Using ActiveJob with delayed job adapter does not support some of delayed job is native hooks i e failure and error Steps to reproduce define an class inherit from ApplicationJob create the job and define a method failure job i e,,"kirs,rafaelfranca,kirs",2017-08-11 22:17:18,2017-08-12 23:35:40
PR,Fix rubocop offence Layout CommentIndentation ci skip,Summary Fixed LayoutCommentIndentation in ActiveStorage,,"yhirano55,y-yagi,yhirano55,y-yagi,yhirano55",2017-08-13 05:00:06,2017-08-13 05:58:43
PR,Delegate to Enumerable find for CollectionProxy,Since Relation includes Enumerable it is enough to use super simply,,kamipo,2017-08-13 09:28:14,2017-08-13 10:44:35
PR,Use references to respect primary key type in active storage tables,If created active storage tables by mysql2 or postgresql adapters a primary key is defined as a bigint It should be used references to the reference columns to respect primary key type,,kamipo,2017-08-13 04:46:59,2017-08-13 10:45:49
PR,Move test not compatible with serialize macro to JSONSharedTestCases,Because JSONSharedTestCases is also used for Mysql2JSONTest,,kamipo,2017-08-04 23:30:37,2017-08-13 10:46:41
PR,Use frozen string literal in Active Storage,Summary Extends Style FrozenStringLiteralComment RuboCop rule to activestorage I also fixed that the can not modify frozen String error does not occur in rails activestorage tests Related PR 29897 Cc Other Information There is the following Performance UnfreezeString cop recently merged into RuboCop bbatsov rubocop 4586 It seems that String is superior to String dup but this PR does not using it because support target can not be limited to Ruby 2 3 or higher,,"koic,kirs,rafaelfranca,koic,matthewd,koic,kirs,koic",2017-08-12 12:44:27,2017-08-13 12:09:39
PR,Fix random CI failure due to non deterministic sorting order,L769 L775,,kamipo,2017-08-13 11:44:28,2017-08-13 12:12:11
PR,Fix AppGenerator for active storage,Summary Though it have added storage method to AppBuilder it was not called from anywhere,,"yhirano55,bogdanvlviv,yhirano55",2017-08-12 23:50:48,2017-08-13 13:55:32
PR,Use frozen string literal,Summary Follow up of issuecomment 322034559 Extends Style FrozenStringLiteralComment RuboCop rule to guides tasks tools ci and root files Also This PR fixes can not modify frozen String error caused by the following commands rake build rake changelog header Other Information I think that the tasks of enable frozen string literal will end if 29891 Railties is resolved,,"koic,koic",2017-08-13 13:33:13,2017-08-13 15:36:27
PR,Remove unnecessary test tmp dir in Aaction Pack,Summary The test tmp directory of Action Pack has been added with the following commit However it seems that it became unnecessary by the following PR,,"koic,bogdanvlviv,koic",2017-08-13 15:23:45,2017-08-13 16:10:37
PR,Remove unnecessary Include parameter in rubocop yml,I forgot to delete at 30230,,"koic,matthewd,koic",2017-08-13 17:00:14,2017-08-13 17:09:33
PR,Fix CI failure due to reference type mismatch,Firm id is a bigint if mysql2 adapter is used but firm id is an integer It will cause an out of range error L776 L919,,"kamipo,matthewd,kamipo,kamipo,matthewd,kamipo",2017-08-14 07:12:19,2017-08-14 10:17:05
PR,Add travis yml to the plugin generator,Summary Added travis yml same as bunder is one to the plugin generator I think that the plugin generator is similar to bundle gem command And we often manage plugin with isolate repository Therefore it is convenient for us to be generated travis yml by default,,"yhirano55,bogdanvlviv,kaspth,yhirano55,kaspth,yhirano55",2017-08-14 10:45:07,2017-08-14 11:57:19
PR,Clear mail after test,If clear it before the test the mail of the last executed test will not be correctly cleared Therefore executing the test with seed below will result in an error,,y-yagi,2017-08-13 22:51:16,2017-08-14 12:03:39
PR,Perform self serialization once metadata is involved,Adds support for metadata even when using ActiveSupport MessageEncryptor NullSerializer cc,,"kaspth,kaspth",2017-08-09 19:51:59,2017-08-14 12:15:49
PR,preloading polymorphic source on multi level has many through,Summary Solution for 30242 Reproduction step provided by,,,2017-08-14 11:20:23,2017-08-14 13:14:29
PR,Fix debugging rails application ci skip,Summary The example code is outdated So I have modified coding style 1 Use strong parameter 2 Use notice option instead of flash notice Fix indentation,,"yhirano55,vipulnsward,yhirano55",2017-08-14 13:13:50,2017-08-14 13:29:04
PR,Should escape regexp wildcard character,This PR is the same intention as 18586,,koic,2017-08-14 13:21:54,2017-08-14 14:18:22
PR,Fix testing guide skip ci,Summary Added Link to Rails Generators TestCase Added Rails options,,"yhirano55,kamipo,yhirano55",2017-08-14 14:59:24,2017-08-14 15:41:58
PR,Show minitest options in test runner help,Since 29572 minitest options are available but are no longer showed in help This fixed to show minitest option in help as with Rails 5 1 2 before r,,"y-yagi,kaspth,kaspth,y-yagi,kaspth,y-yagi",2017-07-29 23:31:55,2017-08-14 18:40:47
PR,Add document that you rake test single file by using DB ex postgresql,I want to rake test by using DB ex postgresql for single file When I see activerecord RUNNING UNIT TESTS rdoc I can not find I add document I try like that,,kaspth,2017-08-12 08:08:42,2017-08-14 18:42:12
PR,Minor refactoring for active storage,Summary Remove empty lines in routes Use require relative instead of require Use autoload instead of require,,"yhirano55,kaspth,yhirano55,rafaelfranca",2017-08-13 13:39:33,2017-08-14 18:57:58
PR,Railties updates for frozen string literals,Updates to railties for frozen string literals compatibility It is worth noting that there are dependencies on the following libraries that are not yet compatible rack thor method source puma sass When the above patches are in play then the tests pass with RUBYOPT enable frozen string literal cc given you are doing a lot of this work too,,"pat,pat,kirs,kirs,koic,kirs,pat,kirs,pat",2017-07-22 13:05:55,2017-08-14 19:00:38
PR,Add enum pluralized name labels class method,Summary Proposal This PR adds a new class method in order to get enum labels At the moment it is possible to get the labels through the enum Hash,,rafaelfranca,2017-08-14 09:30:21,2017-08-14 19:02:29
PR,Perefer require relative over require,Summary I found require and fixed it,,"yhirano55,schneems,rafaelfranca",2017-08-13 03:01:08,2017-08-14 19:50:38
PR,Run Active Storage service tests in CI,dhh has access to the AWS GCP and Azure accounts used r,,"georgeclaghorn,rafaelfranca",2017-08-14 18:06:22,2017-08-14 19:52:47
PR,Optimize routes indentation,Summary 1 Optimize routes indentation for actions of generator 2 Refactor ControllerGenerator when it given multiple actions Command,,yhirano55,2017-08-13 23:22:12,2017-08-14 19:54:24
PR,Improve plugin generator codebase,Register api option for plugin generator by PASSTHROUGH OPTIONS constant Remove force from PASSTHROUGH OPTIONS for plugin generator force is setted inside the method generate test dummy,,bogdanvlviv,2017-08-13 20:46:43,2017-08-14 19:55:52
PR,Omit additional removing config cable yml,config cable yml is never created if skip action cable is given,,"bogdanvlviv,kaspth,bogdanvlviv,kaspth,bogdanvlviv,kaspth,rafaelfranca,bogdanvlviv",2017-08-13 15:57:59,2017-08-14 19:56:09
PR,Remove duplicated join id for,The primary key on the owner record is abstracted as join foreign key,,kamipo,2017-08-13 14:13:25,2017-08-14 20:00:25
PR,Refactor max age seconds,Summary We do not need to call seconds So I have removed needless seconds method to i always returns the number of seconds that this Duration represents ref method i to i,,yhirano55,2017-08-14 08:48:24,2017-08-14 20:00:53
PR,Remove unused source type info in RuntimeReflection,source type info is only used for constraints in PolymorphicReflection,,kamipo,2017-08-13 13:34:10,2017-08-14 20:01:21
IS,Arel display data,Steps to reproduce This table class Post ApplicationRecord has many post categories dependent delete all has many categories through post categories Post Table Post arel table Category Table Category arel table PostCategory Table PostCategory arel table scope announce Post Table project Post Table Arel star where Post Table id eq 1 end class Category ApplicationRecord has many post categories dependent delete all has many posts through post categories end class PostCategory ApplicationRecord belongs to post belongs to category end Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen My data example 34 pry main tp Post all Post Load 0 5ms SELECT posts FROM posts ID TITLE BODY CREATED AT UPDATED AT 4 Primer registro Con Ruby 2017 08 08 13 56 41 2017 08 08 13 56 41 5 Segundo registro Con Rails 2017 08 08 13 56 53 2017 08 08 13 56 53 6 Tercer registro Con todos 2017 08 08 13 57 44 2017 08 08 13 57 44 TablePrint Returnable 0x27d4c70 35 pry main tp Category all Category Load 0 6ms SELECT categories FROM categories ID NAME DESCRIPTION CREATED AT UPDATED AT 1 Ruby Lenguaje Programacion 2017 08 08 12 37 43 2017 08 08 12 37 43 2 Rails Framework 2017 08 08 12 37 50 2017 08 08 12 37 50 3 Perl Lenguaje Programacion 2017 08 08 12 37 59 2017 08 08 12 37 59 TablePrint Returnable 0x23fcc9c 36 pry main tp PostCategory all PostCategory Load 1 0ms SELECT post categories FROM post categories ID POST ID CATEGORY ID CREATED AT UPDATED AT 6 4 1 2017 08 08 13 56 41 2017 08 08 13 56 41 7 5 2 2017 08 08 13 56 53 2017 08 08 13 56 53 8 6 1 2017 08 08 13 57 44 2017 08 08 13 57 44 9 6 2 2017 08 08 13 57 44 2017 08 08 13 57 44 10 6 3 2017 08 08 13 57 44 2017 08 08 13 57 44 TablePrint Returnable 0x22d6e94 Actual behavior Tell us what happens instead But when from console I call it is scope me this appears 1 pry main Post announce Arel SelectManager 0x000000055fd318 Arel Nodes SelectStatement 0x000000055fd2c8 Arel Nodes SelectCore 0x000000055fd2a0 struct Arel Attributes Attribute relation Arel Table 0x00000005718a90 posts nil ActiveRecord TypeCaster Map 0x00000005718ae0 Post call 'Post connection' to establish a connection name nil Arel Nodes JoinSource 0x000000055fd278 Arel Table 0x00000005718a90 posts nil ActiveRecord TypeCaster Map 0x00000005718ae0 Post call 'Post connection' to establish a connection nil Arel Nodes Equality 0x000000055fcfa8 struct Arel Attributes Attribute relation Arel Table 0x00000005718a90 posts nil ActiveRecord TypeCaster Map 0x00000005718ae0 Post call 'Post connection' to establish a connection name id Arel Nodes Casted 0x000000055fcff8 struct Arel Attributes Attribute relation Arel Table 0x00000005718a90 posts nil ActiveRecord TypeCaster Map 0x00000005718ae0 Post call 'Post connection' to establish a connection name id 1 nil nil nil nil Arel Nodes SelectCore 0x000000055fd2a0 struct Arel Attributes Attribute relation Arel Table 0x00000005718a90 posts posts nil ActiveRecord TypeCaster Map 0x00000005718ae0 Post call 'Post connection' to establish a connection nil Arel Nodes Equality 0x000000055fcfa8 struct Arel Attributes Attribute relation Arel Table 0x00000005718a90 posts nil ActiveRecord TypeCaster Map 0x00000005718ae0 Post call 'Post connection' to establish a connection name id Arel Nodes Casted 0x000000055fcff8 struct Arel Attributes Attribute relation Arel Table 0x00000005718a90 posts nil ActiveRecord TypeCaster Map 0x00000005718ae0 Post call 'Post connection' to establish a connection name id 1 END 2 pry main Post announce class Arel SelectManager Because I do not see the information System configuration Rails version Rails 5 1 3 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 linux,,rafaelfranca,2017-08-14 20:07:22,2017-08-14 20:14:06
PR,Remove needless GlobalID,It seems that the removed by the following commit have returned perhaps during the merge,,"y-yagi,kamipo,y-yagi,rafaelfranca",2017-08-13 06:11:45,2017-08-14 20:17:16
PR,yarn upgrade in activestorage,Summary Reading activestorage source I noticed that yarn lock contains an old library So I have executed yarn upgrade and fixed it To make sure its upgrade is safe I have executed yarn build and rake test There were no problems,,"yhirano55,rafaelfranca",2017-08-13 05:44:00,2017-08-14 20:18:28
PR,Fix asset pipeline guide,The guide is saying to add the extra assets paths in the config application rb file the correct one is config initializers assets rb In the assets rb has a comment explaining that,,"vipulnsward,vipulnsward",2017-08-14 20:23:58,2017-08-14 20:30:24
PR,Completes ActiveRecord Batches find each example ci skip,Summary The previous paragraph mentions that you can hand off the same processing queue to multiple workers This completes the following example below it,,,2017-08-13 16:47:26,2017-08-14 21:32:48
IS,Bad syntax in model validation throws error in controller,Steps to reproduce 1 Create a Product model with this validation which has bad syntax validates uniqueness of code scope archived false 2 Try to update any attribute for Product Expected behavior An error that points to the bad syntax in the model validation for Product Actual behavior Throws the following error undefined method 'to sym' for archived false Hash Did you mean to s to yaml to set The error points to the if update product params line in the ProductsController Full update method is def update Product find params id if update product params redirect to else render 'edit' end end System configuration Rails version rails 5 0 0 1 Ruby version ruby 2 3 0p0 Has been discussed in this Stack Overflow question 45581330,,rafaelfranca,2017-08-09 12:42:30,2017-08-14 21:39:03
PR,Check scope input in Uniqueness validator,Fixes This patch adds validation for scope option of the Uniqueness validator Without this patch calling something like validates uniqueness of code scope archived false would cause NoMethodError with a trace into AR internals,,"kirs,kirs,rafaelfranca,kirs",2017-08-12 18:14:27,2017-08-14 21:39:03
PR,Allow serialize with a custom coder on json and array columns,We already have a test case for serialize with a custom coder in PostgresqlHstoreTest L316 L335,,kamipo,2017-08-13 13:16:13,2017-08-14 21:40:14
PR,Fix reflection association primary key for has many association,It is incorrect to treat options primary key as association primary key if has many associations because the primary key means the column on the owner record not on the association record It will break ids reader and ids writer Fixes 14439,,"kamipo,kamipo",2017-01-08 17:06:43,2017-08-14 21:43:27
PR,Extract primary key to AbstractReflection,,,"kamipo,matthewd,kamipo,kamipo,rafaelfranca,kamipo",2017-08-12 10:22:57,2017-08-14 22:05:52
PR,Fix guide about command line ci skip,Summary Fix description about example generators when it run bin rails generate command Insert ones of system test into scaffolding logs,,"yhirano55,rafaelfranca,yhirano55",2017-08-14 09:56:39,2017-08-14 22:06:13
PR,action pack Prefer require relative over require,Summary Prefer require relative over require,,"yhirano55,rafaelfranca",2017-08-13 03:42:05,2017-08-14 22:07:13
PR,Refactor api option of the app generator,Summary Refactored tests Fix typo icon in api app generator test rb,,"yhirano55,yhirano55",2017-08-13 01:40:33,2017-08-14 22:11:46
PR,Add binary helper method to fixtures,Summary I want to use binary data as fixture I can do it but it is bothered that are needed to encode base64 So I add the helper method it is so useful Thanks,,rafaelfranca,2017-08-04 10:11:12,2017-08-14 22:13:32
PR,Use require relative instead of require,Summary There is no advantage to use autoload there Those files needs to be eager loaded at boot time Prefer require relative over relative for performance,,"yhirano55,rafaelfranca,yhirano55",2017-08-14 22:12:56,2017-08-14 22:18:53
PR,Clarify base class tests on abstract STI vs concrete STI,Summary I had a 2 level STI model in my project and its base class method actually returns its STI base class which does not match this test assert equal SubStiPost SubStiPost base class I had to spend some time before I found the test is true only when StiPost parent of SubStiPost is an abstract class So I thought it would be great to explicitly say it is a subclass of an abstract STI class Other Information,,,2017-08-12 18:18:11,2017-08-14 22:22:12
PR,Ensure sum honors distinct on has many through,When using a has many through relation and then summing an attribute the distinct was not being used This will ensure that when summing an attribute the number is only used once when distinct has been used There is an issue 16791 in relation to this I am not sure this is the best way to fix the issue My first thought was that the sum method in Arel needs to accept an argument for distinct just like the count method does Then it should build the arel object with distinct true when it is passed in However this is a much simpler fix although it may be a bandaid Please advise if there is a better way to tackle this issue As it is the spec does not pass without setting the distinct value to true after calling sum Before the fix the sum method returns 20 as it has two copies of each person and does not take into account the distinct,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-08-09 17:59:52,2017-08-14 22:36:46
PR,Fix format of generator docs ci skip,Summary Add typewriter style to lib method in actions rb Unify typewriter style to in actions rb Replace quote style with typewriter style in app base rb,,"yhirano55,kamipo,yhirano55,yhirano55,kamipo,yhirano55",2017-08-15 03:05:19,2017-08-15 03:33:50
PR,Use https instead of git protocol ci skip,Summary Fix guide for The Basics of Creating Rails Plugins Use https protocol instead of git protocol I did not change to github shorthand Because it has not defined git source github in this code,,yhirano55,2017-08-15 05:29:31,2017-08-15 05:39:22
PR,Update guides source action controller overview md ci skip,Summary Controller class inherits from ApplicationController not ActionController Base,,"yhirano55,kaspth,yhirano55",2017-08-15 06:44:51,2017-08-15 06:47:50
PR,Fix typo for api app generator test,,,yhirano55,2017-08-15 07:08:11,2017-08-15 10:35:32
PR,Backport 29010 to 5 1 stable,This PR backports 29010 to the 5 1 stable branch,,y-yagi,2017-08-14 22:12:12,2017-08-15 15:40:24
PR,Make rfc content type set cookie location constants private,These constants should not be used outside their corresponding class so they should be private,,rafaelfranca,2017-08-15 11:37:56,2017-08-15 16:09:48
PR,Update guides source engines md ci skip,Summary Inserted system test ones into scaffolding logs,,"yhirano55,kamipo,yhirano55,yhirano55,kamipo,yhirano55,yhirano55",2017-08-15 11:40:49,2017-08-15 16:33:31
PR,Do not expose write attribute without type cast,write attribute without type cast is defined as a private method in AttributeMethods Write but AttributeMethods Dirty overrode it as a public method It should be kept the original visibility,,kamipo,2017-08-15 15:54:29,2017-08-15 17:45:19
PR,Update guides source plugins md ci skip,,,"bogdanvlviv,yhirano55,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-08-15 05:17:54,2017-08-15 18:11:55
PR,5 0 stable Fix unscoping default scope in STI associations,Backported 29834 Since 5c71000 it has lost to be able to unscope default scope in STI associations This change will use empty scope instead of values empty to regard as an empty scope if only have type condition,,kamipo,2017-08-15 08:40:29,2017-08-15 19:51:29
IS,Scopes are being applied to unrelated queries,Steps to reproduce Given the following app System configuration Rails version 5 0 5 Ruby version 2 4 1,,,2017-08-15 07:32:49,2017-08-15 19:51:43
PR,Through scope should not be affected by scoping,Follow up of 29834 Fixes 30266,,kamipo,2017-08-15 12:44:23,2017-08-15 19:51:43
PR,Add skip yarn option to the plugin generator,,,"bogdanvlviv,y-yagi,rafaelfranca,bogdanvlviv,y-yagi,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-08-13 20:15:25,2017-08-15 20:50:11
PR,Load Parameters configurations on action controller only once,Summary This PR fixes the regression where ActionController UnpermittedParameters exceptions are not being raised To accomplish that the following has been made Allow ActiveSupport LazyLoadHooks to be executed only once Provide run once true option to on load in case you want a hook only to be executed once This may be useful in cases where executing a hook several times may have undesired side effects Example ActiveSupport on load action controller run once true Load Parameters configurations on action controller only once By using the new ActiveSupport LazyLoadHooks functionality described above fixes regression ActionController UnpermittedParameters not raised The inner hook was being executed twice once when ActionController Base was loaded and again when ActionController API was loaded As options delete operations inside the block are not idempotent the second time it was run there was no configuration option available Other Information More information can be found in Issue 30025,,"albertoalmagro,rafaelfranca,albertoalmagro,rafaelfranca,albertoalmagro,kirs,rafaelfranca,albertoalmagro,albertoalmagro,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,kaspth,kaspth,albertoalmagro,albertoalmagro,rafaelfranca,albertoalmagro,albertoalmagro,albertoalmagro,albertoalmagro,rafaelfranca,albertoalmagro",2017-08-02 16:53:10,2017-08-15 21:23:43
IS,Configuring action controller on initializers does not work,This was discussed at 29527 and made a commit but still does not work rake initializers shows ActionController Railtie action controller parameters config before Myapp Application load config initializers Steps to reproduce In a directory just ran rails new System configuration Rails version 5 1 2 5 0 5,,"kirs,kirs,y-yagi,rafaelfranca",2017-08-03 16:02:21,2017-08-15 21:50:44
IS,UnpermittedParameters not raised,Steps to reproduce In config environments test rb and development rb set config action controller action on unpermitted parameters raise Run a test that tries to pass a non whitelisted parameter to an action Rails 5 1 2 behaves fine the moment we upgrade to 5 1 3RC3 the unpermitted parameter is logged instead of raised Expected behavior ActionController UnpermittedParameters should be raised Actual behavior Nothing is raised instead the unpermitted parameter ist logged and the transaction is executed System configuration Rails version 5 1 3RC3 Ruby version 2 4 1,,"sgrif,pixeltrix,albertoalmagro,rafaelfranca,albertoalmagro,kaspth,albertoalmagro,albertoalmagro,rafaelfranca",2017-08-01 08:14:56,2017-08-15 21:51:19
PR,Change AR Migration version from 5 0 to 5 1 in guide ci skip,Summary Feel free to close this request if you do not need this Changed AR Migration version from 5 0 to 5 1 in guide Of cource these can work as 5 0 but current version is 5 1 If it has no problem it would be better to change latest version Update an example of schema rb timestamp provides null false by default That looks generic change alignment format,,"yhirano55,kamipo",2017-08-15 22:28:53,2017-08-15 23:16:16
PR,Backport 29918 to 5 1 stable,This PR backports 29918 to the 5 1 stable branch Without this fix many warnings are displayed Ref,,y-yagi,2017-08-15 23:10:11,2017-08-16 03:10:45
PR,Raise if value for enum is nil,Summary Per this is unsupported behavior Purposefully raising very early because we want to blow up before any methods are defined on the class Other Information Fixes part of 28945 but the core Attributes API issue still needs to be addressed,,"maclover7,matthewd,kamipo",2017-05-01 22:33:04,2017-08-16 08:41:53
PR,Fix test before type cast for enum,Since c51f9b61 changed the before type cast expectation for enum,,kamipo,2017-05-06 17:03:48,2017-08-16 08:48:44
PR,Structure dumps with no migrations run,See 26438 I was not able to submit a pull request to the original branch,,kamipo,2017-04-05 09:44:15,2017-08-16 09:00:58
PR,Fix regression in collection singular ids to handle duplicate ids,Prior to ae83c5b duplicate ids were acceptable in the ids writer These changes are based on the master code which does handle duplicate ids without throwing an error This gist shows the error We could have just removed duplicates from ids or checked the uniq size of ids by changing this line but instead we load the duplicates into records just like master does,,kamipo,2017-02-23 14:47:40,2017-08-16 09:43:41
PR,Fix RuboCop offenses,Summary This PR fixes the following offenses,,"koic,koic,rafaelfranca,rafaelfranca,matthewd,koic,koic,rafaelfranca,rafaelfranca,koic,matthewd,koic,rafaelfranca,koic",2017-08-12 11:34:28,2017-08-16 10:17:37
PR,Fixed nested where for associations with different class name,Summary Reproduction Steps we need to consider association name in nested where rather than table name otherwise it will lead to issue like 30278,,sgrif,2017-08-16 12:47:37,2017-08-16 12:59:02
IS,Attributes API Attribute casting and serializing not taken into account for queries with relations that specify a class name,Steps to reproduce See attached tests below 1 Create two models with a has many and belongs to relation between them and add a binary column named uuid to their schemas 1 Make sure that the relation between those models is named differently from the model and specifies the model with class name 1 Use mysql binuuid rails which registers a uuid attribute with ActiveRecord and allows UUIDs to be stored as binary values in the database 1 Specify attribute uuid MySQLBinUUID Type new in the two models 1 Go make queries using joins model where other model uuid and see it fail Expected behavior When specifying an attribute in a model the casting and serializing behaviour should be taken into account with where statements in combination with a join In this example with UUIDs I would expect a query to be executed in which the value of the UUID column is the hex value of the uuid Actual behavior It seems that when a class name is specified with the relation this does not work anymore A query is executed where the value of the uuid is just its string value I have included two sample tests in the Ruby code below in which the second test illustrates the issue System configuration Rails version master Ruby version 2 4 1,,"sgrif,sgrif",2017-08-16 09:20:33,2017-08-16 13:02:23
PR,Change namespace of Active Storage rake task,Summary The following is a display of the result of rake T using the Active Storage application The namespace of active storage install migrations and activestorage install are different This PR unifies the namespace of Active Storage rake task to active storage The namespace of active storage install migrations depends on Engine railtie name L627 L630 So I think that the change target is namespace defined by activestorage rake,,"koic,matthewd,dhh,sikachu,kamipo,koic,koic,dhh,koic",2017-08-16 10:43:16,2017-08-16 13:04:42
PR,Make increment work with aliases,Summary Fixes 30279 increment should work with attribute aliases just like where does Other Information Even though they both operate on database columns the columns are often understood as a special persisted case of attributes,,lugray,2017-08-16 15:09:28,2017-08-16 15:14:57
PR,Use deep merge to keep nested values in shared secrets,Summary Currently nested values in shared secrets will be replaced with environment or encrypted secrets This PR fixes nested values that other secrets do not have will be kept Example,,lugray,2017-08-15 06:15:30,2017-08-16 18:09:27
PR,Remove unused action arg for generate routing code,,,"kamipo,yhirano55",2017-08-15 03:11:05,2017-08-16 18:39:28
PR,ci skip Mailer fixtures in Testing guide,Summary Apply changes from commit 29064 that address issue 29051 and update guide to clarify that mailer fixtures are not created when using the mailer generator This is to Bring 4 2 stable up to date with latest edge rails Other Information Attempted to use a patch from my original commit to master to backport these changes as per the docs older versions of ruby on rails but the patch failed because it did not apply correctly,,,2017-08-16 19:31:07,2017-08-16 19:40:46
PR,Pass missing name attribute to execute hook,Summary This PR fixes commit 10bf93ef92a70ae511036134290bf0e2de184b5c created to solve issue 30025 Problem execute hook should receive now the attribute name in order to be able to provide it to with execution control Solution Added name to execute hook is attribute list so it can be provided to with execution control Bug was discovered by,,"albertoalmagro,kaspth,kaspth,rafaelfranca,albertoalmagro,kaspth,rafaelfranca,albertoalmagro,rafaelfranca",2017-08-16 18:44:41,2017-08-16 19:46:52
PR,Allow table name prefix and table name suffix have,Summary Addresses 30044 Allow table name prefix and table name suffix have MySQL 5 7 and PostgreSQL 9 6 allow table identifiers have the dollar sign MySQL 5 7 Permitted characters in unquoted identifiers ASCII 0 9 a z A Z basic Latin letters digits 0 9 dollar underscore PostgreSQL 9 6 SQL identifiers and key words must begin with a letter a z but also letters with diacritical marks and non Latin letters or an underscore Subsequent characters in an identifier or key word can be letters underscores digits 0 9 or dollar signs Note that dollar signs are not allowed in identifiers according to the letter of the SQL standard so their use might render applications less portable The SQL standard will not define a key word that contains digits or starts or ends with an underscore so identifiers of this form are safe against possible conflict with future extensions of the standard cc who suggests better fix by using Regexp escape,,"yahonda,lugray,yahonda,kamipo,yahonda,kamipo,yahonda",2017-08-02 20:54:47,2017-08-16 21:00:15
IS,SchemaDumper table name prefix and table name suffix with dollar sign support,Summary When table name prefix and table name suffix have the dollar sign SchemaDumper generates table name with table name prefix and table name suffix It should remove table name prefix and table name suffix Steps to reproduce git clone cd rep schema dumper prefix suffix dollar sign ruby rep sqlite3 rb Expected behavior It should generate table name without table name prefix and table name suffix Just posts Actual behavior It generates foo posts bar with when table name prefix foo and ActiveRecord Base table name suffix bar Formatted output below by replacing n with actual new line System configuration Rails version master branch Ruby version 2 4 1 Additional information I have found this behavior when I'm working for refactoring Oracle enhanced adapter to use SchemaDumper remove prefix and suffix Oracle enhanced adapter allows I mean it has test cases table name prefix and table name suffix have the dollar sign From database point of view MySQL 5 7 PostgreSQL 9 6 and Oracle Database 12 1 allows table identifiers have dollar sign MySQL 5 7 Permitted characters in unquoted identifiers ASCII 0 9 a z A Z basic Latin letters digits 0 9 dollar underscore PostgreSQL 9 6 SQL identifiers and key words must begin with a letter a z but also letters with diacritical marks and non Latin letters or an underscore Subsequent characters in an identifier or key word can be letters underscores digits 0 9 or dollar signs Note that dollar signs are not allowed in identifiers according to the letter of the SQL standard so their use might render applications less portable The SQL standard will not define a key word that contains digits or starts or ends with an underscore so identifiers of this form are safe against possible conflict with future extensions of the standard Oracle Database 12 1 SQLRF51129 Nonquoted identifiers can contain only alphanumeric characters from your database character set and the underscore dollar sign and pound sign Database links can also contain periods and at signs Have not found if SQLite3 allows it or not,,"yahonda,yahonda,kamipo,yahonda,yahonda",2017-08-02 16:40:41,2017-08-16 21:00:29
PR,Fix update all and delete all when using eager load,delete all and update all do not work properly when eager load is used This PR fixes the following bugs Steps to reproduce the bugs mysql Item has one tag,,al2o3cr,2017-02-27 04:57:14,2017-08-17 00:48:31
PR,Bump thor and blade,For test with latest thor,,"y-yagi,yahonda,rafaelfranca,yahonda",2017-08-16 23:54:53,2017-08-17 02:41:53
PR,Timestamps in schema migration,Summary I have many apps deployed in multiple production environment at different point in time not only I need to know what migration were migrated but I would like to know when the migration occurred thus I am adding the commonly standard created at updated at to the schema migration table,,georgeclaghorn,2017-08-17 04:36:30,2017-08-17 05:02:14
PR,Use ActiveJob Base queue adapter name to get adapter name,Since 673606a it holds adapter name,,y-yagi,2017-08-16 21:57:06,2017-08-17 07:05:45
PR,Eager loading with scoping should behave consistently,Currently Post find 1 comments and with eager load comments behave consistently in the scoping But with includes comments or preload comments ignores the scoping This means that we cannot rewrite from Post find 1 comments or with eager load comments to with includes comments or preload comments if affected in the scoping It should be behaved consistently,,"kamipo,kamipo",2017-07-09 19:30:26,2017-08-17 11:44:12
PR,Remove obsolete explanation about passing string to if and unless ci skip,This is a follow up to Passing String is already oblsote since,,maclover7,2017-08-17 14:53:27,2017-08-17 14:56:46
PR,Use nil Logger for tests,Summary Makes tests much more quietly as opposed to the enormous amount of logging that appears right now This setting is used in AJ as well as other frameworks Output from test run,,maclover7,2017-08-17 13:49:28,2017-08-17 15:47:05
PR,Add missing test for Blob purge,Summary Add missing test for ActiveStorage Blob purge there is one for ActiveStorage Attachment but not ActiveStorage Blob,,"maclover7,georgeclaghorn",2017-08-17 13:37:06,2017-08-17 15:53:32
PR,Move test index is created for both timestamps to TimestampsWithou,Summary Move test index is created for both timestamps to TimestampsWithoutTransactionTest This commit addresses these failures when the backend RDBMS executes implicit commit for DDL like MySQL and Oracle This transaction expected to be rolled back but if the backend RDBMS like MySQL perfomes implicit commit when DDL executed this transacion is committed by create table statement inside ActiveRecord TestCase TimestampTest test index is created for both timestamps It causes these failures above which expect update at column value is not changed rollbacked,,"yahonda,kamipo",2017-08-17 14:14:38,2017-08-17 17:07:14
PR,Fix cache key test failures,To be honest I'm not sure why the tests will be affected by the updated to prev month in other tests But I believe that it will be solved by avoiding Developer first is updated L785 L791,,"kamipo,matthewd,kamipo,matthewd,yahonda,yahonda,kamipo,yahonda,kamipo",2017-08-13 11:28:22,2017-08-17 17:07:58
IS,scoped belongs to with a join breaks,Steps to reproduce Here is a contrived reproduction script Expected behavior The belongs to relations should generate and execute valid SQL Actual behavior They do not On Rails 5 0 5 1 Arel generates working SQL when to sql is used but when actually loading the relation gets muddled with bind variables and the database rejects the query On Rails master it fails to even produce working SQL with to sql I came across this behaviour when trying to improve the performance of an application using polymorphic associations so my example above is structured in the same way I'm not convinced this is inherently part of the cause though I think it just generated a sufficiently uncommon use case Happy to try and work on a solution but given that the behaviour on released Rails vs master is different I'm conscious someone may already be operating in this area System configuration Rails version 5 0 5 5 1 3 master Ruby version 2 4 0,,"kamipo,kamipo,kamipo",2017-08-16 16:45:09,2017-08-17 17:10:11
PR,Temporarily point to a fork of SDoc,Hello As a beta of Rails 5 2 will be released in the near future it would be cool to use an updated version of SDoc so people testing the beta can also report eventual problems bugs on the API site to make sure that we wo not have any issue with the final release is docs that would get reported a dozen times Pull requests have been open on the sdoc repository to bring these changes but they have not been yet processed and since version 1 0 is still in a release candidate state and these changes would be included in 1 1 I took the liberty to create a fork with all the changes This fork brings the following changes A tiny refresh of the default theme zzak sdoc 108 SEO tags to class files zzak sdoc 109 cross ref 27633 The removal of HTML tags from search results zzak sdoc 110 Some general template clean up HTML 5 removal of the jQuery effect library etc A speed up of the generation time This one has not been sent as a pull request as it partly depends on the previous changes Regarding this last point YMMV but on my computer macOS with an Intel Core i5 2 7 GHz and Ruby 2 4 1 the generation with sdoc 1 0 0rc2 takes 83s and with the fork 52s If you have any suggestion regarding these changes feel free to comment or open a pull request against this fork and I will happily cherry pick commits on the relevant branches to give proper credit on the sdoc side Have a nice day,,robin850,2017-08-11 14:52:38,2017-08-17 17:19:53
PR,Use Rails initialize instead of Rails application initialize,Summary Rails delegates initialize method to application here L43 It seems that it does not need to call initialize via Rails application,,"yhirano55,rafaelfranca,rafaelfranca,yhirano55",2017-08-17 17:21:57,2017-08-17 17:46:01
IS,PostgreSQL 9 5 4 with Rails 5 0 1 JSONB column is returned as string,Steps to reproduce Running Rails 4 2 7 Upgraded to Rails 5 0 1 Dropped and recreated the database Jsonb column when queried from model comes back as a plain string schema rb file shows that the column is jsonb I looked at and changed to default for jsonb attribute earlier it had no default value Then dropped and recreated the database Still I hit the same issue While populating this attribute the passed arguments is of the form A Choice A B Choice B C Choice C D Choice D to json Expected behavior Same as Rails 4 2 7 where jsonb column would be returned as Hash Actual behavior jsonb column getting returned as a plain string System configuration Rails version 5 0 1 Ruby version 2 3 1p112 PostgreSQL 9 5 4,,"al2o3cr,maclover7,maclover7",2017-01-24 05:40:02,2017-08-17 17:57:00
PR,Faster and more readable implementation of Hash deep merge,Summary This is a re implementation of Hash deep merge Using Ruby is built in optional block for merge to handle duplicate keys makes the code shorter and more readable and since the block is only run when a duplicate key is encountered it also improves performance Performance benefits fluctuate case by case and are felt more strongly when merging hashes with fewer duplicate keys All tests pass after this change Benchmark MacOS 10 12 6 ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16 In a gist,,"rafaelfranca,lugray,rafaelfranca",2017-08-15 21:41:55,2017-08-17 19:08:59
PR,Move common tests to SharedGeneratorTests,Move common tests from AppGeneratorTest and PluginGeneratorTest to SharedGeneratorTests Related to discussion r132855832 cc yagi,,"bogdanvlviv,y-yagi,bogdanvlviv",2017-08-15 21:01:47,2017-08-17 19:20:41
PR,Restore to sql to return only SQL,Because to sql is public API I introduced to sql and binds internal API to return SQL and binds,,kamipo,2017-07-25 19:38:36,2017-08-18 04:57:52
PR,Add test cases that class level destroy delete and update are affected by scoping,I tried to change the expectation in 29976 but it is expected behavior at least for now So I added the test cases to prevent anyone change the expectation,,"kamipo,lugray,kamipo,kamipo",2017-07-30 06:00:12,2017-08-18 05:01:49
PR,Restore the ability that SQL with binds for insert update and delete,Since 213796f it was lost the ability that SQL with binds for insert update and delete like select all This restores the ability because insert update and delete are public API so it should not be removed without deprecation,,"kamipo,sgrif,sgrif,kamipo,sgrif,yahonda",2017-07-25 19:22:09,2017-08-18 06:17:08
PR,Remove Active Storage code climate config file,Summary There is already a codeclimate yml file at the root of the project,,maclover7,2017-08-18 15:01:02,2017-08-18 15:18:47
IS,Problem with datatype serial in postgres,I am using rails 5 3 1 with ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16 Well I create this migration I am using postgres 9 6 2 Best regards,,lugray,2017-08-17 17:48:10,2017-08-18 16:03:17
PR,Use https instead of http or git in guide ci skip,Summary Update url in Development Dependencies Install,,yhirano55,2017-08-18 16:58:20,2017-08-18 17:16:59
PR,Simplify ActiveModel Errors generate message,Summary Besides making ActiveModel Errors generate message easier to read this PR also makes it faster for several reasons We do not eval base class respond to i18n scope twice We only eval base class i18n scope once We do not call flatten because it is not needed anymore We do not call compact because all elements are Symbols Other Information,,"DNNX,rafaelfranca,DNNX,maclover7,DNNX,DNNX",2017-08-18 11:46:23,2017-08-18 18:21:48
PR,Make links absolute to api rubyonrails org,Summary Currently if someone was reading ActiveRecord and ActiveModel documentation from GitHub Learn more links were broken without giving any hint about how to continue reading This PR makes links redirect to api rubyonrails org so that reading can be continued See 30306 for more information,,"albertoalmagro,albertoalmagro,albertoalmagro,lugray,albertoalmagro,albertoalmagro,lugray,kaspth,chancancode,albertoalmagro",2017-08-18 15:02:55,2017-08-18 18:27:47
IS,mysql utf8mb4 string lengths should be 191 by default,Steps to reproduce When using MySQL with utf8mb4 the following migration fails when it tries to add the index System configuration Rails version 5 1 3 Ruby version 2 4 0 MySQL version 5 5 56,,rafaelfranca,2017-08-18 00:21:12,2017-08-18 18:39:45
PR,Use https in guide and comment ci skip,Summary Replaced http with https I checked all replaced url with web browser Fixed Rail Security is url before after forum rubyonrails security,,yhirano55,2017-08-18 23:32:49,2017-08-19 02:29:40
PR,Remove unused require,Since 0d72489 this file does not use method source,,y-yagi,2017-08-19 00:22:42,2017-08-19 02:38:27
PR,Fix typo in Ambiguous route definition error message,This PR fixes a typo in the Ambiguous route definition error message for ActionDispatch Partly addresses issue brought up in 30321,,,2017-08-19 04:00:54,2017-08-19 05:29:59
IS,Ambiguous route definition error in Rails 5 1 3,Steps to reproduce Add the following to a new Rails 5 1 3 project In addition to the error itself Ambigous is misspelled and where is used incorrectly in the error message The above route definition works correctly in Rails 5 0 5 System configuration Rails version 5 1 3 Ruby version 2 3 4,,kamipo,2017-08-19 03:43:21,2017-08-19 05:38:37
PR,Fix can not modify frozen String error in an AR test,Summary Follow up of rails rails 29732 This test log invalid encoding test was returning can not modify frozen String error not the expected error message The following is result of adding the assertion assert equal error message to test log invalid encoding test This PR fixes can not modify frozen String error using String dup Also change to the assertion to be compared with the expected error message,,koic,2017-08-19 12:30:43,2017-08-19 12:40:07
PR,Fix doc format in Active Storage Setup ci skip,Summary Follow up of 2ebb284ef5bf2c36bd8ba0a4524cab83810f12ab This PR is a small change that fixed a document format in Active Storage Setup,,koic,2017-08-19 13:13:41,2017-08-19 13:18:28
PR,Use String delete instead of String gsub,Summary I think that String delete is better that arguments are less than String gsub And its meaning of code are more readable than before So I have refactored it,,"yhirano55,yhirano55,georgeclaghorn",2017-08-19 23:16:50,2017-08-20 01:22:29
PR,Move controller and model test inside namespace folder,By engine and namespace conventions these should go into controllers active storage test rb and models active storage test rb,,"dixpac,matthewd,dixpac,georgeclaghorn",2017-08-19 13:45:41,2017-08-20 01:23:37
PR,Update database config in The Rails Comamnd Line of guide ci skip,Summary Update current database configuration in guide,,yhirano55,2017-08-20 00:08:52,2017-08-20 01:24:58
PR,Update The Rails Initialization Process of guide ci skip,Summary Update dependencies Added actioncable and activestorage Update code rails commands rb rails all rb,,yhirano55,2017-08-20 00:45:23,2017-08-20 01:25:54
PR,Add an only option to assert enqueued emails and assert no enqueued emails to filter delivery job,Since 29457 delivery job can specified for each mailer Added the only option to make helper method usable even when deliver job is specified,,"y-yagi,maclover7,y-yagi,georgeclaghorn",2017-08-18 13:32:14,2017-08-20 01:29:20
PR,Update Debugging Rails Applications guide ci skip,Summary It looks that dumped logs are so old So I have created same environment and have implemented same create action And I have updated logs in guide,,yhirano55,2017-08-20 12:05:12,2017-08-20 12:21:52
PR,Rename ColumnDumper to SchemaDumper in schema dumper rb,I think it is confusing because it violates the naming convention And also the module is only used for ActiveRecord SchemaDumper internal class So I think it should be hidden in the doc,,"kamipo,yahonda,kamipo",2017-07-30 05:58:47,2017-08-20 16:41:48
IS,ActiveSupport 5 0 5 different loading logic for 'app lib' and 'lib' dirs,Steps to reproduce new rails app with rspec add cats controller rb to controllers Expected behavior Test should pass Actual behavior LoadError Unable to autoload constant Cat expected ruby rspeccontroller lib space cat rb to define it spec cats controller spec rb 7 in block 2 levels in top required ' e 1 in load' e 1 in main ' If I move the Space Cat to app lib the test pass I would like to understand why System configuration Rails version 5 0 5 Ruby version 2 3 3,,,2017-08-20 11:14:39,2017-08-20 17:11:34
PR,Add expiry metadata to Cookies and freshen expires option to support duration,kaspth This PR adds Expiry meta data to signed encrypted cookies Duration support to expires option i e you can specify when the cookie should expire relatively e g cookies signed user name value bob expires 2 hours,,"assain,assain,assain,assain,mikeycgto,mikeycgto,mikeycgto,matthewd,kaspth,kaspth,kaspth,kaspth,kaspth,assain,assain,kaspth,kaspth,kaspth,mikeycgto,assain,assain,mikeycgto,mikeycgto,assain,mikeycgto,kaspth,kaspth,kaspth,assain,kaspth,kaspth,kaspth,assain,kaspth,assain,assain,kaspth,kaspth,assain,kaspth,assain,assain,kaspth,assain,kaspth,assain,mikeycgto,assain,kaspth",2017-08-07 19:11:16,2017-08-20 18:23:25
PR,Add executable file activestorage bin test,The same file we have in each module of Rails,,bogdanvlviv,2017-08-20 18:44:17,2017-08-20 18:47:08
PR,Update Autoloading and Reloading Constants guide ci skip,Summary It seems result of ActiveSupport Dependencies autoload paths is old So I have updated it This is actual logs,,yhirano55,2017-08-21 00:33:16,2017-08-21 00:39:47
IS,rails dev cache failed to restart the Rails server with custom pid file path,Steps to reproduce 1 Start rails server with a custom pid file rails s P tmp pids dev pid 2 Toggle dev cache rails dev cache Expected behavior Rails server should be restarted successfully Actual behavior Restarting failed Log System configuration Rails version Rails 5 1 1 Ruby version Ruby 2 3 3 Potential Reason 1 The pid file path is hard coded in dev caching rb L20 as tmp pids server pid 2 When restarting rails with Puma it wo not remove the pid file it generated,,"prathamesh-sonpatki,y-yagi,prathamesh-sonpatki",2017-06-01 04:24:02,2017-08-21 01:40:21
PR,Make restart and dev cache tasks work when customizing pid file path,Originally it hard coded pid file path It can not be removed when customizing pid file path But rake task can not get pid file path Therefore do not remove file in rake task only file that tell them that restart is in progress are created and pid file remove in server command Fixes 29306,,"y-yagi,georgeclaghorn,georgeclaghorn,georgeclaghorn,y-yagi,georgeclaghorn,y-yagi,y-yagi",2017-08-20 00:52:13,2017-08-21 01:40:21
PR,Improve error message on such as first on ActiveRecord FinderMethods,Currently finder methods such as first raises simple error message when record not found,,matthewd,2017-02-26 11:15:11,2017-08-21 02:01:35
PR,Update Rails on Rack guide ci skip,Summary The result of bin rails middleware is different between description of guide and actual logs So I have fixed it This is actual logs,,"yhirano55,prathamesh-sonpatki",2017-08-21 05:19:16,2017-08-21 05:24:26
PR,Prevent extra SET time zone in configure connection,SET time zone 'value' is an alias for SET timezone TO 'value' So if variables timezone is specified it is enough to SET timezone once,,kamipo,2017-03-14 18:50:44,2017-08-21 09:32:29
PR,Update generator guide ci skip,Summary The result of bin rails generate generator initializer is different between actual and guide I have added lines for test unit to logs The generated codes are using single quote L2 not double quote So I have replace them Use https instead of git I wish to make the guide better little by little than yesterday Thanks,,"yhirano55,vipulnsward",2017-08-21 10:52:23,2017-08-21 10:53:39
PR,Update Contributing to Ruby on Rails guide ci skip,Summary Today the number of contributors are 4 719 So I thought the expression would be better thousands of people rather than hundreds of people,,"yhirano55,prathamesh-sonpatki",2017-08-21 11:38:03,2017-08-21 11:40:21
IS,How does actionmailer send email,After using function ActionMailer mail the email has already been sent out We have not called any method such as delivery delivery now I wanna know that is there any interceptor to help us do this,,"albertoalmagro,prathamesh-sonpatki",2017-08-20 07:12:35,2017-08-21 11:41:03
PR,Fix link in Contributing Ruby on Rails guide ci skip,Summary Add Contributing to the Rails Code link Wiki link for Spanish is redirect The base branch of Polish repo is master And Turkish is too Unified expression rails dev box L187 L187 and L286 L286 The Clone url is wrong The mailing list url is old,,yhirano55,2017-08-21 12:25:02,2017-08-21 12:28:04
IS,Consistent quotes in generated files,When creating a new Rails app one of the first things I do is install Rubocop and swap all the single quotes with double quotes I noticed that the Rails rubocop yml itself also prefers double quotes Would the maintainers be okay if I opened a PR to change all the single quotes of the generated files to double quotes I know this is a basically a cosmetic change but since this is dealing with generated files this is code that developers look at without looking into the Rails gems Although the argument between single vs double quotes can get pretty heated I was hoping that we could agree that consistency was a win we could all agree on p If this is something we would be interested in I will happily put together a PR,,georgeclaghorn,2017-08-19 19:30:50,2017-08-21 13:17:50
PR,Apply frozen string literal magic comment to template files,Summary This PR applies frozen string literal magic comment to a template files that missing frozen string literal magic comment in the Ruby files generated using generator This aims to unify that frozen string literal magic comment is used for the generated code Related PR 29655,,"koic,schneems,matthewd,schneems,koic",2017-08-21 09:54:27,2017-08-21 14:54:11
PR,Fix broken link to mysql docs in database yml ci skip,Summary A link which navigates to mysql 5 7 docs is broken If is clicked then it redirect to the page of common errors index Perhaps this is expected that navigates to the page like this v5 6 I have fixed a link to mysql docs It navigates to password hasing html that describes password hashing This request is not for guide but changes are for comment So I have added ci skip to the commit message,,yhirano55,2017-08-21 15:26:45,2017-08-21 15:53:58
PR,ci skip form with in the getting started guide,x Need to find a better link for the resource oriented stye,,kaspth,2017-04-27 21:20:41,2017-08-21 17:18:59
PR,Update debugging rails applications guide ci skip,,,"ydakuka,kamipo,kamipo,ydakuka,ydakuka",2017-08-21 18:49:52,2017-08-21 19:20:52
IS,Rails receives action cable connection on 1 host instead of localhost,Action Cable guide says By default Action Cable allows all requests from localhost 3000 when running in the development environment However when I started server and used websocket client with uri ws 3000 cable I found following in logs System configuration Rails version 5 0 2 Ruby version 2 3 1 p112 x86 64 darwin15 EDIT puma by default start server at 0 0 0 0 while in this line L201 use of env 'HTTP ORIGIN' demands hostname not address to validate rails s b localhost,,,2017-08-21 17:47:47,2017-08-21 19:38:25
IS,Non English filenames in Active Storage,URLs with non English filenames are still broken UTF8 encoding them did not help apparently 2017 08 08 15 06 05 I propose transliterating them at least for the uncooperative services An image with imperfect filename is better than no image at all,,"georgeclaghorn,georgeclaghorn",2017-08-08 12:14:35,2017-08-21 22:25:30
PR,Update MIT licenses link ci skip,Summary It looks links for MIT licenses are old 302 Url I have fixed it,,yhirano55,2017-08-21 23:51:10,2017-08-22 01:58:13
PR,activesupport Update links to use https instead of http ci skip,Summary Update links to use https instead of http in activesupport All changes are only in comment blocks So I have skipped CI,,"yhirano55,kamipo,kamipo,yhirano55,yhirano55",2017-08-22 00:25:06,2017-08-22 02:43:48
PR,Remove frozen string literal magic comment from templates,Summary Fixes issuecomment 323745825 This PR removes frozen string literal magic comment from application code templates Thereby frozen string literal magic comment to disappear from application codes generated by rails new rails g scaffold or other generators,,koic,2017-08-21 18:06:32,2017-08-22 02:48:48
IS,ActionCable support for sending headers in the request,Hello im building an action cable server but i need to authenticate the connection i could do it sending the tokens as params of the url but for security reasons i want to send the token as request headers from what i see in the code this is not supported yet or am i wrong and theres a way to send headers Thank you,,georgeclaghorn,2017-08-21 22:12:24,2017-08-22 03:08:12
PR,activerecord Update links to use https instead of http ci skip,Summary Update links to use https instead of http in activerecord All changes are only in comment blocks So I have skipped CI,,"yhirano55,kamipo,yhirano55",2017-08-22 00:12:45,2017-08-22 03:09:48
PR,actionpack Update links to use https link instead of http ci skip,Summary Update links to use https instead of http in actionpack All changes are only in comment blocks So I have skipped CI,,"yhirano55,kamipo,yhirano55",2017-08-22 00:07:02,2017-08-22 03:27:19
PR,missing backquotes ci skip,,,ydakuka,2017-08-22 05:52:39,2017-08-22 05:57:02
PR,Remove frozen string literal comment from activestorage is migration,The activestorage is migration is used as template for apps Related to 30348 cc,,"bogdanvlviv,kamipo,kaspth",2017-08-22 05:49:00,2017-08-22 11:02:44
IS,Callbacks of ActionMailer,ActiveJob has before perform after perform around perform and some useful callbacks L52 But ActionMailer does not have any callbacks I can not find it I want ActionMailer to have callbacks like ActiveJob What do you think of this,,kaspth,2017-08-22 08:30:00,2017-08-22 11:05:35
PR,Use 5 2 version of ActiveRecord Migration for Active Storage,,,"bogdanvlviv,bogdanvlviv,georgeclaghorn,bogdanvlviv,bogdanvlviv",2017-08-20 14:43:59,2017-08-22 15:57:13
PR,Fixing nginx configuration added missing semicolon,Summary Nginx configuration had a missing semicolon added by this pull request,,,2017-08-22 17:43:56,2017-08-22 17:47:07
IS,Unable to use cookie from Rails 5 0 3,Steps to reproduce 1 Login to a rails application using Rails 5 0 3 specifying a session key in session store rb Rails application config session store cookie store key ' my session' 2 Restart the rails application using rails 5 1 3 or 5 1 0 Simply loading the home page will result in this exception Expected behavior The page loads and uses the previous session Actual behavior An exception is thrown screen shot 2017 08 22 at 1 49 44 pm System configuration Rails version 5 1 3 Ruby version 2 3 3,,,2017-08-22 18:06:11,2017-08-22 18:11:10
PR,Grammar fix,Summary Changed the phrase ' and many more high targets' to ' and many more high profile targets',,,2017-08-22 20:45:42,2017-08-22 21:56:18
PR,Fix spaces in the comment block ci skip,Summary Added spaces to the comment block in SourceAnnotationExtractor,,"yhirano55,schneems",2017-08-22 21:34:09,2017-08-22 22:08:42
PR,Add TransactionTimeout for MySQL error code 1205,Summary This PR adds TransactionTimedout error to the MySQL adapter Message Lock wait timeout exceeded try restarting transaction MySQL error 1205 will be easier to rescue error er lock wait timeout cc,,"rafaelfranca,matthewd,rafaelfranca,matthewd,rafaelfranca",2017-08-22 13:11:57,2017-08-22 23:25:21
PR,Load author addresses fixture to keep data integrity with authors,Summary This pull request addresses the following failure with Oracle database Other Information Databases and or database adapters which validate existing data when enabling foreign keys like Oracle database Both authors and author addresses need to load Details are explained in 25328,,"yahonda,yahonda,yahonda",2017-05-05 12:22:41,2017-08-23 00:27:09
PR,Use https instead of http in guide ci skip,Summary Use https instead of http in guide,,"yhirano55,kamipo",2017-08-23 00:40:34,2017-08-23 01:15:28
PR,counter cache requires association class before attr readonly,Summary This pull request addresses the following failure Refer 26370 27575 for similar fixes,,"yahonda,yahonda,kamipo,yahonda",2017-08-22 18:20:48,2017-08-23 02:58:36
IS,action dispatch Array wrap env action dispatch parameter filter change original env,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Below code change original value of action dispatch parameter filter which makes size of action dispatch parameter filter increased after many requests is it expected Lots of RAW POST DATA are appended to action dispatch parameter filter System configuration Rails version 3 2 22 5 Ruby version 2 3 4,,kaspth,2017-08-23 05:06:15,2017-08-23 06:18:24
PR,Remove unnecessary method call,Summary Just pass as a second parameter for File basename instead of calling ActiveStrage Filename extension with delimiter,,kaspth,2017-08-23 10:00:32,2017-08-23 13:35:44
PR,Rename Active Storage install task,Summary This PR is based on the following discussion issuecomment 322794793 There are two changes Rename active storage install task to blob migrations task Do not display active storage install migrations task on rake T The following is the difference of the result of rake T in an Active Storage application,,"koic,georgeclaghorn,koic",2017-08-23 09:33:02,2017-08-23 13:40:00
IS,alt text generated from filename can be harmful for screen reader users,Hi Rails friends Here is something that is been on my mind hopefully helpful for improving Rails accessibility support Autogenerated alt text based on filename creates na ve descriptions that can do more harm than good The content generated by automatically adding alt text can lead to a 300 increase in reading content creating fatigue for screen reader users If the content is not useful this is a waste Autogenerated alt text also creates false negatives for linting tools that look for images that need descriptions If I'm adding a logo to a header in a document I may use the image tag helper System configuration Rails version Rails 5 1 3 Ruby version ruby 2 4 1,,"georgeclaghorn,georgeclaghorn,georgeclaghorn,rafaelfranca",2017-08-06 15:37:46,2017-08-23 16:00:17
PR,Do not generate default alt text for images,Summary Deprecate image alt helper Remove the call to image alt from image tag Fixes 30096 Impact After this change screen readers will fallback to default expected and user configurable behavior for missing alt text Also with this change automated linting and testing tools will correctly generate warnings Motivation Auto generating content from the filename of an image is not suitable alternative text Alt text that is not fully considered can be distracting and fatiguing for screen readers users blind low vision dyslexic people Setting a filename fallback short circuits screen reader default behavior and configuration for blank descriptions and may be frustrating to the assistive technology user Setting poor defaults also creates false negatives for linting tools that makes it harder to improve application accessibility,,"rafaelfranca,georgeclaghorn,georgeclaghorn,kaspth,kaspth,georgeclaghorn,rafaelfranca,maclover7,maclover7,rafaelfranca",2017-08-12 15:50:46,2017-08-23 16:00:17
PR,Use REDIS URL var for Action Cable config template,Summary Use environment variables in the action cable configuration using the common REDIS URL to configure it and if is not set fallback to the default configuration localhost This does not fix any bugs however today we had a small downtime because we missed the Action Cable configuration I found this tweak useful,,"palkan,palkan",2017-08-22 18:44:59,2017-08-23 16:00:45
IS,Could not find proper version of railties 4 2 0 in any of the sources when trying to run Rails server,Steps to reproduce Installed Ruby 2 2 0 to run an older Ruby app then manually installed the proper version of Railties 4 2 0 After installation just checked the version and shows the following message System configuration Rails version Broken returning Could not find rails dom testing 1 0 5 in any of the sources Ruby version ruby 2 2 0p0 2014 12 25 revision 49005 x86 64 darwin14 Mac Version uname a Darwin Brices MacBook Pro local 15 6 0 Darwin Kernel Version 15 6 0 Sun Jun 4 21 43 07 PDT 2017 root xnu 3248 70 3 1 RELEASE X86 64 x86 64,,rafaelfranca,2017-08-22 20:38:45,2017-08-23 18:23:16
PR,Fix broken link for Java xml ci skip,I have fixed a broken link describes Configure SAX parsers for secure processing It is redirected to the error page from the original url I found same document in www ibm com However I could not find it So I have replaced the original url with archived website is url Of course if it is bad fix on the view of security it might be better to remove the original comment block,,yhirano55,2017-08-23 17:07:16,2017-08-23 18:48:22
PR,Not load comments to avoid test after save callback with autosave,Not load comments to avoid test after save callback with autosave failure Summary Fixes 30380,,"yahonda,yahonda",2017-08-23 14:47:59,2017-08-23 19:45:57
PR,Remove hard tabs,Summary I found hard tabs are in actionmailer activerecord and railstie And I have replaced them with spaces As for actionmailer I have confirmed actual logs that use spaces,,"yhirano55,rafaelfranca,yhirano55,rafaelfranca,yhirano55",2017-08-23 22:39:17,2017-08-24 00:02:07
PR,Remove alt text from image tag example ci skip,Follow up of 30213,,"y-yagi,eileencodes,y-yagi,eileencodes",2017-08-23 22:15:49,2017-08-24 01:57:50
PR,Simplify variant tests,remove duplicate assertions for service url not to test resize variant again add tests for rotate variant because it might be used very often thanks,,georgeclaghorn,2017-08-24 03:10:33,2017-08-24 03:25:02
PR,ci skip Revert commits changing wrong place,Fix documentation for has many dependant options rails rails 391043a Clarify has many dependent option docs ci skip rails rails 5147ab1 These commits looked to intend to change documents of has many dependent options but actually changed documents of belongs to dependent options,,"willnet,kamipo,willnet,kamipo",2017-08-23 07:55:08,2017-08-24 05:17:32
PR,Use https instead of http for kindle task,Summary Use https instead of http for kindle task and Removed trailing spaces Removed empty lines Replaced hard tabs with soft tabs If you regard this request as cosmetic change please feel free to close it Thanks,,"yhirano55,kamipo,yhirano55",2017-08-24 00:33:36,2017-08-24 05:34:18
PR,Update azure core to 0 1 11 to fix rails dev box,rails dev box was failing to install gems with a filesystem permission error The issue was introduced when azure core was bumped from 0 1 9 to 0 1 10 in d2f493c7ed7a95f48730aecdcfbcc7bbee30921b azure core has fixed the build problem and released a new version 0 1 11 with the fix This change is just to run bundle update azure core to pick up that fix,,kamipo,2017-08-24 04:59:29,2017-08-24 05:49:11
PR,Update active support core extensions md ci skip,,,ydakuka,2017-08-24 07:48:10,2017-08-24 08:48:41
PR,Update guide section styles ci skip,Summary It seems that it would be better that unify same heading section style headings in guide So I have unified it,,"yhirano55,kamipo",2017-08-19 20:59:21,2017-08-24 08:59:45
PR,Remove unnecessary spaces ci skip,,,"ydakuka,kamipo",2017-08-22 11:57:53,2017-08-24 09:09:14
PR,Fix indentation ci skip,,,"ydakuka,kamipo,ydakuka",2017-08-24 10:11:37,2017-08-24 10:19:57
PR,Always load posts and comments fixtures not to be affected,Summary Always load posts and comments fixtures not to be affected by other tests like DelegationRelationTest test delegates to formatted s to Array which just loads comments Fixes 30380 comments fixture does not affect to newly inserted rows whose post id is 12 by test after save callback with autosave,,"yahonda,kamipo,yahonda,kamipo,yahonda",2017-08-24 00:33:01,2017-08-24 12:13:55
IS,Random test after save callback with autosave failure,There is a random failure reported at Steps to reproduce It also reproduces with mysql2 and postgresql adapters System configuration Rails version master Ruby version ruby 2 5 0dev 2017 08 22 trunk 59644 x86 64 linux It also reproduces with ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux,,"yahonda,yahonda",2017-08-23 12:34:28,2017-08-24 12:14:58
PR,Refactor SchemaDumper to make it possible to adapter specific customization,Currently SchemaDumper is only customizable for column options But 3rd party connection adapters oracle enhanced etc need to customizable for table or index dumping also To make it possible I introduced adapter specific SchemaDumper classes for that cc,,"kamipo,yahonda,kamipo,yahonda,yahonda,yahonda,kamipo",2017-08-20 16:40:10,2017-08-24 12:16:09
PR,Refactor Remove unnecessary connection object parameter,the connection variable was being passed around unnecessarily in the CheckPending class Reason for refactoring At the end of the method calls in the get all versions function the connection variable was not being used at all instead connection is directly accessed from within the SchemaMigration class,,kamipo,2017-08-24 14:32:24,2017-08-24 14:34:54
IS,Only one validation is invoked when called with different context conditions,Steps to reproduce Expected behavior Both posts should be invalid Actual behavior Only one validation callback is executed System configuration Rails 5 Rails 4 Ruby version 2 2 6 Is this by design,,"albertoalmagro,lugray",2017-08-23 06:10:38,2017-08-24 15:58:16
PR,Address test after save callback with autosave failure,Summary Address test after save callback with autosave failure when other AutomaticInverseFindingTests load comments fixture but does not load posts reported at Refer 30385 for the similar issue,,"yahonda,kamipo",2017-08-24 15:52:08,2017-08-24 16:11:49
PR,Add paths to docs for Active Storage,Active Storage is a mountable engine So I have added app path to docs paths,,yhirano55,2017-08-25 04:31:57,2017-08-25 05:18:19
IS,inverse of association option not working with eager loading,inverse of association option not working with eager loading Steps to reproduce Further note In my survey it derives from changes in 5 1 release 2017 08 25 15 05 32 The block passed to super method is not executed with eager loading 2017 08 25 15 06 37 Is this intended change System configuration Rails version 5 1 2 Ruby version 2 3 1,,kamipo,2017-08-25 06:11:50,2017-08-25 07:48:53
PR,Fix link in doc for active storage ci skip,Summary Fix MiniMagik link in doc for active storage,,"yhirano55,robin850",2017-08-25 13:46:38,2017-08-25 13:52:34
PR,remove clone call from dirty attribute module,How did I find this I was debugging the following error in our Rails 4 1 upgrade RuntimeError can not modify frozen Array Then I got to the Dirty attribute will change method where I saw it was doing a clone instead of a dup even if it was checking for duplicable which is a check against the dup method See this was done diff aaddd42c7feb0834b1b5c66af69814d3R100 LONG time ago by The problem The reason it raised for me on Rails 4 1 is that after that clone it will push the value to a HashWithIndifferentAccess which will mutate the value L264 when it is an array However when trying to simulate that error on latest master I could not because the HWIA was changed to make up for the frozen case The fix I thought just changing the method to dup instead of clone was the right thing to do even if there is nothing broken really but it would be more semantically correct The other fix After changing the method I start thinking why we need to dup clone the value in the first place I could not find an answer for that and decided to remove the clone dup all together In the end that will save us some memory allocations And Dirty module is not mutating the value at all so it should not need to clone it The other problem See the TODO on my test case The current behaviour will mark the object as changed even if we mark an invalid attribute as changed That seems odd but I did not want to change much behaviour and did not fix that part I just left the same behaviour as it is right now and documented that in a test case Is this backwards compatible Kinda yes and no Now changed attributes will hold a reference to the value itself I guess that is ok though I almost did not send the patch because it is actually not fixing anything and just avoiding some allocations and the trade off is a possible small incompatibility But anyways you folks can tell me what you think,,"arthurnn,arthurnn,arthurnn",2017-08-25 18:09:25,2017-08-25 19:19:08
PR,Add nodoc for ActiveRecord AttributeMethods ci skip,Summary I found ClassMethods which are not implemented public methods inside namespace of ActiveRecord AttributeMethods And I have added nodoc annotations to them,,"yhirano55,schneems",2017-08-25 20:29:05,2017-08-25 20:39:35
PR,Enable links in Active Storage docs ci skip,Summary Enable links in docs for ActiveStorage And I have confirmed them after generating docs on local,,yhirano55,2017-08-25 20:50:17,2017-08-25 20:54:21
PR,Fix broken doc for Active Record ci skip,Summary Fix broken doc for Active Record I have regard ActiveRecord Associations CollectionAssociation L5 as a good case And I have made others e g ActiveRecord Associations BelongsToAssociation L4 change same as ActiveRecord Associations CollectionAssociation,,yhirano55,2017-08-25 12:19:17,2017-08-26 05:43:35
PR,Use typewriter in doc for Action Cable ci skip,I have found backquotes are used in doc method i disconnect,,yhirano55,2017-08-25 23:00:44,2017-08-26 05:52:39
PR,Use tt in doc for action mailer ci skip,Summary I have found wrong format in the doc of ActionMailer Rescuable So I have fixed it,,yhirano55,2017-08-25 23:46:09,2017-08-26 05:53:32
PR,Fix can not modify frozen String error in display image,Without this display image raises an error as follwing,,y-yagi,2017-08-26 04:45:33,2017-08-26 05:55:42
PR,Use tt in doc for action pack ci skip,Summary I found wrong format of rdoc in docs for action pack And I have corrected it Originals,,yhirano55,2017-08-26 06:55:28,2017-08-26 07:33:09
PR,Check that the candidate is a direct descendant of the constant,Summary There seems to be a bug with const missing which causes const get to not return the direct descendant Instead it will return a constant that contains at least the first namespace i e the parents See the examples below for more information Example EDIT Running this in a console wo not produce said output because it relies on Rails monkey patching const missing I created a repo link here that you can test it with I think the bug is that it assumes that all of the module is parents have already loaded all of their constants Either that or some other problem with the recursion Once the constant is loaded const missing will raise an error like it should In the example above A B C const missing 'D' will initially return A D but on the second call will return raise NameError In another words when the constant is not loaded safe constantize constantize const get will all return the wrong constant instead of raising an error Once that wrong constant is loaded it will raise an error Proposed Solution Instead of figuring out how to fix const missing I decided to just fix what I came here to fix constantize I fear that if I fix const missing there will be some unintended problems Perhaps that bug is left there for backwards compatibility This solution adds a guard that checks if the candidate is a direct descendant of the current constant in the loop If not it raises NameError via Object const get camel cased word Tests I do not know how to write a test like this It seems like an integration test I'm not that familiar with the rails library and the testing structure If someone can give me directions I can fill it out,,"rafaelfranca,fxn,fxn",2017-07-13 00:24:37,2017-08-26 08:22:43
PR,Correct wording and adding info ci skip,I had to do some I was unsure what kind of caching it was performing and had to do some Googling Also improves the wording,,vipulnsward,2017-08-26 10:50:05,2017-08-26 10:54:54
IS,Rails constant autoloading fails to load modules transitively,Steps to reproduce Run this small self contained rails application keeping config eager load false Try to navigate to root path Observe error message See README md for a short explanation of what is going on Expected behavior When run with config eager load true there is no error message and the page is displayed Actual behavior Constant autoloading has failed to load the transitively included class TestClass Explanation We have a class TestClass which includes a module IncludeModule IncludeModule itself also includes a module called ContainerModule which contains a class ChildClass We simply want to access ChildClass from within TestClass to call a method on it This does not seem to be allowed by rails constant autoloading System configuration Rails version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 linux Ruby version Rails 5 1 0,,"pixeltrix,matthewd,pixeltrix,fxn,fxn,fxn",2017-05-05 16:28:55,2017-08-26 12:05:14
PR,Fix order of Active Storage DiskService URL parameters,Summary content type parameter is before disposition parameter This PR will order in that way,,"koic,georgeclaghorn,koic,georgeclaghorn,koic,georgeclaghorn,koic,koic",2017-08-26 14:27:43,2017-08-26 15:52:50
PR,Remove Active Storage duplicated classes from the API site,Hello Since cb5af0d7 some classes that are under Active Storage are now part of the API site However these classes are not nested under a definition of the ActiveStorage module but rather name spaced under it like ActiveStorage Foo Thus these classes are present both under the ActiveStorage label and at the root of the site is sidebar so we have to strip out duplicates Have a nice day,,robin850,2017-08-26 17:08:50,2017-08-26 18:14:34
PR,Fix broken doc layout for action view ci skip,Summary I have found broken layout in doc for ActionView I think the cause of broken is some of classes modules do not give nodoc annotation So I have added them,,yhirano55,2017-08-27 00:19:19,2017-08-27 00:57:00
PR,documentation enum,Hey guys I added in the documentation how to declare enum with hash,,yhirano55,2017-08-27 02:17:06,2017-08-27 03:57:57
IS,rake environment bleeding,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior rake db create creates a development database RAILS ENV development rake db create creates a development database RAILS ENV development bundle exec rake db create creates a development database Actual behavior rake db create creates a development AND a test database System configuration Rails version Rails 5 1 3 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16 I noticed this in a Rails application I was starting with where I added Grape API and thought it was doing it with all the environments but apparently it is just doing it with development and test environments Should this be doing this I would expect it to only do this with one or the other or whatever environment I have selected I tried this on a newly generated rails application to make sure there were not any other changes that I made that caused this to occur This occurred whether it was using the default Sqlite adapter or PostgreSQL adapter This does seem to respect the environment for test and production but not for development,,"y-yagi,prathamesh-sonpatki",2017-08-26 14:23:11,2017-08-27 06:18:03
PR,Use tt in doc for ActiveSupport and Railties skip ci,Summary I found wrong format of rdoc in docs for ActiveSupport and Railties And I have corrected it,,yhirano55,2017-08-27 05:14:46,2017-08-27 06:29:43
PR,Use tt in doc for ActiveRecord ci skip,Summary I found wrong format of rdoc in docs for ActiveModel ActiveRecord And I have corrected it,,yhirano55,2017-08-27 05:05:16,2017-08-27 06:34:05
PR,Use tt in doc for ActionView ci skip,Summary I found wrong format of rdoc in docs for ActionView And I have corrected it,,"yhirano55,kamipo,yhirano55",2017-08-27 06:45:46,2017-08-27 07:12:40
PR,Prefer to place a table options before force cascade,I was added a table options after force cascade in 17569 for not touching existing tests reducing diff But force cascade is not an important information So I prefer to place a table options before force cascade,,"kamipo,yahonda,kamipo,yahonda",2017-02-14 19:45:08,2017-08-27 13:16:06
PR,Omit the default limit for float columns,,,kamipo,2017-02-16 23:15:58,2017-08-27 13:18:24
PR,Should be appear deprecation message for every call,Context discussion r125158589,,"kamipo,kamipo,matthewd",2017-07-01 12:37:47,2017-08-27 13:25:10
PR,Fix grammar in JavaScript in Rails ci skip,Summary Fix grammar problems in the guide about JavaScript in Rails Modified comma or period position,,"yhirano55,vipulnsward,yhirano55,yhirano55",2017-08-27 15:43:18,2017-08-27 17:12:20
IS,take failed screenshot does not show inline images when working with engines,Steps to reproduce Using rails 5 1 3 and an application that has engines fail a system test Expected behavior I should see the screenshot inline using iterm3 Actual behavior The screenshot path is using a relative path to the engine and not the rails root therefore looking in the wrong location for the file to base64 encode System configuration Rails version 5 1 3 Ruby version 2 4 1p111,,,2017-08-25 15:11:16,2017-08-27 19:14:50
PR,Retrive screenshot in relative path of current directory,In Rails engine Rails root returns the path of the dummy application Therefore there is no tmp directly where the test is running so can not get the screenshot For this reason instead of directly specifying tmp retrive screenshot by relative path from the current directory Fixes 30405,,"y-yagi,matthewd,y-yagi,y-yagi,eileencodes",2017-08-26 09:54:05,2017-08-27 19:14:50
PR,Bump SDoc,This release includes commits from See 30199 for more info,,"zzak,yhirano55,zzak",2017-08-26 08:12:57,2017-08-28 03:12:12
PR,Fix links in README for ActiveModel ci skip,Summary Almost of all links to api doc are broken So I fixed them,,"yhirano55,prathamesh-sonpatki,yhirano55,kamipo,yhirano55",2017-08-28 03:57:55,2017-08-28 05:09:51
PR,Backport 30421 to 5 1 stable,This PR backports 30421 to the 5 1 stable branch ping,,"y-yagi,eileencodes",2017-08-27 22:25:40,2017-08-28 12:07:35
IS,Permanent or direct links to ActiveStorage uploads,I have been using ActiveStorage on edge Rails and it is great but running into some performance bottlenecks especially when using image variants Because a unique URL is generated for every request it is not easy to cache nor is it possible to put behind a CDN I think it would be a common use case for image uploads to be publicly accessible it would be great if we could have permanent or direct links to the service endpoints In the case of a permanent URL it can be placed behind a CDN which will pick and cache the asset as long as Rails returns the same URL for the same asset each time In the case of a direct link we would see better performance through accessing a AWS GCP Azure asset directly rather than through a 301 redirect through the Rails app Is there something I'm missing or is there a better way to serve public assets with ActiveStorage If not is it something that could be considered going forward,,lugray,2017-08-27 05:51:58,2017-08-28 13:57:46
IS,Indirect dependency on Nokogiri,From Nokogiri is very own install guide Because Nokogiri needs to be compiled and dynamically linked against both libxml2 and libxslt it has gained a reputation for being complicated to install For various reasons why another htmlxml parser we have been striving to minimise our use of Nokogiri in favor of alternatives where necessary e g ReXML or Oga which proved to be surprisingly easy internally In the case of software depending on Rails it turns out the dependency on Nokogiri is computed as mandatory but seems at a glance quite loose in reality the two culprits are rails dom testing and rails html sanitizer rails dom testing has been extracted from ActionView and apparently could be an optional dependency of Rails altogether for those who do not use the likes of assert dom equal and css select I'm not too sure about the use of rails html sanitizer within Rails itself but looking at the sanitize method method i sanitize it seems like things are quite encapsulated as long as you are not developing custom scrubbers where loofah appears leak ish read more on purpose Loofah is what underlies the sanitizers and scrubbers of rails html sanitizer The node argument passed to some methods in a custom scrubber is an instance of Nokogiri XML Node At any rate someone willfully implementing a custom scrubber will know about this and pull Nokogiri in by its own volition But that is assuming rails html sanitizer is used within Rails at all If not the same reasoning as for rails dom testing can be applied My personal and humble opinion is that it would be great for Rails not to pull such a heavyweight dependency in when it seems to be hardly needed What do you think Steps to reproduce create a Rails application or engine look at Gemfile lock excerpt Expected behavior Not having rails pull Nokogiri in Actual behavior Nokogiri gets pulled in by a Rails dependency System configuration Rails version 5 1 2 Ruby version 2 3 4,,rafaelfranca,2017-08-28 12:59:43,2017-08-28 15:08:11
PR,Fix indentation in the template for secrets,Summary In YAML format it is expected 2 spaces for its indentation but it is given only 1 space,,"yhirano55,kaspth",2017-08-22 21:07:57,2017-08-28 18:58:02
IS,Migration change table option bulk do not work,Hello System configuration Windows 10 x64 Rails 5 1 3 Ruby 2 4 1p111 2017 03 22 revision 58053 x64 mingw32 PostgreSQL 6 SQLLite Option bulk do not work From documentation change table method i change table db migrate 20170828123004 changetable rb,,lugray,2017-08-28 12:55:05,2017-08-28 19:02:45
PR,Clarify that bulk option is supported only by MySQL,Closes 30441,,"prathamesh-sonpatki,kaspth,prathamesh-sonpatki,kaspth",2017-08-28 16:33:40,2017-08-28 19:02:45
IS,Controllers bubbling up in development environment only,Steps to reproduce tl dr For the sake of anyone I have created a repo from a new project All the instructions are for development environment only Otherwise it behaves as expected Set up your routes Actual behavior It runs Parents GreatChildrenController hello System configuration Rails version 5 1 3 Ruby version 2 4 1,,"composerinteralia,matthewd,composerinteralia",2017-08-26 08:11:12,2017-08-28 21:52:27
PR,Added binstub to rails command in doc ci skip,Added binstub to rails command in doc,,"yhirano55,georgeclaghorn,yhirano55,georgeclaghorn,yhirano55",2017-08-29 00:13:03,2017-08-29 01:25:09
PR,Add binstub to rails command in guide ci skip,Add binstub to rails command in guide,,"yhirano55,georgeclaghorn",2017-08-29 00:00:18,2017-08-29 01:25:35
PR,Fix can not modify frozen String error in DebugLocks,Without this DebugLocks middleware raises an error as follwing,,"y-yagi,matthewd,y-yagi,kaspth,y-yagi,kamipo,y-yagi,kamipo",2017-08-27 12:37:14,2017-08-29 06:26:13
PR,Update Rails I18n API guide ci skip,Summary Modified Google group is Url on L108 and L1090 Changed language for syntax highlight from yaml to ruby on L1053 Added spaces between and method name on L374 and L505,,yhirano55,2017-08-28 21:30:38,2017-08-29 06:54:14
PR,Added CHANGELOG for 30360 ci skip,,,"prathamesh-sonpatki,prathamesh-sonpatki",2017-08-28 06:11:20,2017-08-29 06:58:45
PR,Fix can not modify frozen String error in DBConsole,Without this dbconsole raises an error as follwing,,y-yagi,2017-08-29 07:52:56,2017-08-29 08:44:36
PR,Add alias key to as json,When I have 2 or more has many associations I want to use the second has many association name with content of first has many associations Example user User last user as json include friends alias new friends will produce email david example com gender male name David new friends,,,2017-08-29 09:54:09,2017-08-29 10:02:40
PR,Add alias key to as json ci skip,When I have 2 or more has many associations I want to use the second has many association name with content of first has many associations Example user User last user as json include friends alias new friends will produce email david example com gender male name David new friends,,,2017-08-29 10:05:17,2017-08-29 10:05:54
PR,Add alias key to as json ci skip,When I have 2 or more has many associations I want to use the second has many association name with content of first has many associations Example user User last user as json include friends alias new friends will produce email david example com gender male name David new friends,,eileencodes,2017-08-29 10:07:11,2017-08-29 11:22:59
PR,Update Caching with Rails guide ci skip,Summary Added quotations on L178 and L287 Changed to single quote same as others on L275 and L287,,"yhirano55,kamipo,kamipo",2017-08-28 21:45:38,2017-08-29 11:23:50
PR,Update Active Storage docs ci skip,Summary Use numbered list in ActiveStorage Blob Add explanations to some methods in ActiveStorage Filename,,yhirano55,2017-08-29 17:47:00,2017-08-29 17:53:03
PR,Add alias key to as json,When I have 2 or more has many associations I want to use the second has many association name with content of first has many associations Example user User last user as json include friends alias new friends will produce email david example com gender male name David new friends,,dhh,2017-08-29 10:30:44,2017-08-29 18:24:51
PR,Update Action Mailer doc ci skip,Summary Markup as typewriter format Enable link to ActionMailer Base from ActionMailer MessageDelivery,,yhirano55,2017-08-29 18:34:07,2017-08-29 18:36:55
PR,Update activejob doc ci skip,Summary Markup as typewriter format If this change is not worth for Rails feel free to close this request,,yhirano55,2017-08-29 20:10:01,2017-08-29 20:36:08
PR,Fix can not modify frozen String error in DatabaseTasks,Without this db structure dump task raises an error as follwing,,y-yagi,2017-08-29 23:18:48,2017-08-30 03:40:04
PR,Add documentation about template partial caching,Summary 29423 surfaced some confusion about how template caching works when using partials across files with different mime types This doc attempts to explain how this can be accomplished,,"eileencodes,eileencodes,eileencodes",2017-07-26 23:57:50,2017-08-30 12:38:54
PR,Fix MySQL strict mode warning,Without this MySQL 5 7 8 and later raises an warning ERROR FOR DIVISION BY ZERO NO ZERO DATE and NO ZERO IN DATE can be used separately from strict mode however it is intended that they be used together A warning occurs if they are enabled without also enabling strict mode or vice versa,,"matthewd,kamipo,yahonda",2017-08-29 22:21:13,2017-08-30 17:03:19
PR,Allow BlobsController to return file response instead of redirect,Summary This is my attempt at a PR in response to 30431 Please bear with me as this is my first real code PR for Rails and I'm not totally familiar with the conventions yet Effectively this allows you to have your server respond with the files you have stored through ActiveStorage rather than returning a redirect to that location The reason this is helpful is because if you put a CDN in front of your app like CloudFront it will only cache the 301 redirect which expires after 5 minutes This allows your CDN to cache the actual file content and serve it at it is own discretion instead Other Information It would be great if you have any feedback on whether this is the sort of thing you would be interested in including and also how I could improve the code to fall better inline with the framework is conventions,,"georgeclaghorn,georgeclaghorn",2017-08-30 07:30:34,2017-08-31 00:04:10
IS,Request Please put back app assets fonts into the pipeline,I have two different applications one on Rails 5 1 0 one on Rails 5 1 3 I want to use few fonts in my application and under Rails 5 1 0 I did not needed any configuration Sprockets just picked up my fonts 5 1 3 does not serve these fonts See what happens I have absolute no idea what happened I double checked config initializers assets rb under the 5 1 0 app and I have no lines that add fonts folder to the asset pipeline I also checked Rails application config assets paths on both application and under 5 1 0 fonts folder is picked up from all possible places while 5 1 3 refuses to do this,,"matthewd,kaspth,guilleiguaran",2017-08-30 22:16:58,2017-08-31 05:35:06
PR,Fix guide links ci skip,Summary I found links which direct to edge guide needlessly I fixed them,,"yhirano55,matthewd,yhirano55",2017-08-30 21:29:11,2017-08-31 06:01:13
PR,Update RDOC MAIN rdoc ci skip,Summary It seems that descriptions of README for api are old a little So I updated this Almost of all descriptions referred from README for repo I have confirmed all links after running bundle exec rake rdoc on local,,yhirano55,2017-08-30 21:01:58,2017-08-31 06:03:35
PR,Run CodeClimate with the latest Rubocop,Summary This change updates Rubocop analysis in CodeClimate to the latest version of 0 49 1 The CodeClimate CLI got the change here,,javan,2017-08-26 14:32:13,2017-08-31 06:12:18
PR,Unify the internal source control keep file name,Summary This PR unifies the internal source control keep file name to keep The name of the source control keep file created by rails new is keep It is not gitkeep rails new help also shows keep Other Information I think that PR 29978 is targeting gitignore so I made it different PR,,koic,2017-08-24 06:25:59,2017-08-31 06:16:28
PR,Delegate rindex slice rotate missing to arecords',Add missing array methods to delegate to records,,,2017-08-23 08:59:00,2017-08-31 06:19:47
PR,Support multiple versions arguments for gem method of Generators,Summary It seems that gem method is supported only single version So I have modified it and added test cases,,"yhirano55,y-yagi,yhirano55",2017-08-19 05:18:20,2017-08-31 06:30:19
PR,In Action View Overview guide remove reference to custom helpers,Summary Removing this reference to custom view helpers in the After reading this guide section because I do not see any corresponding text in the guide is body I could not find it in the file history either so I imagine it was always a todo,,,2017-08-31 02:32:18,2017-08-31 07:37:01
IS,db schema dump fails to dump a table with a PostgreSQL enum column,Steps to reproduce 1 New Rails project with PostgreSQL as the database 2 Create two migrations You will get a db structure sql file that has the enum type properly defined This is not a great workaround because db schema is so well known and beloved by Rails developers around the world System configuration Rails version 5 1 3 Ruby version 2 4 1,,kamipo,2017-08-30 18:37:13,2017-08-31 07:48:17
IS,Nested has many through generate wrong sql in rails 4 2 9,Steps to reproduce group users is leader 1 should be lead group users own groups members join is leader 1 System configuration Rails version 4 2 9 Ruby version 2 3 3p222,,"kamipo,kamipo",2017-08-30 06:58:53,2017-08-31 10:06:05
PR,Ignore files already deleted on GCS file deletions,Summary This PR avoids raising errors when trying to delete files in Google Cloud Storage that were already deleted This is currently handled for most situations L36 L40 file for returns nil when the file does not exist so the delete wo not be attempted and everything would be fine However there is an interesting race condition we have been running into file for sends a GET request to googleapis to fetch an existing file returned from file for That file is deleted from GCS in parallel after this but before our delete call sends the DELETE request for that same file This last request will get a 404 from googleapis that in turn will raise Google Cloud NotFoundError The change here simply ignores this error independently on where it happens file for or delete It is similar to what Relying on the GET request issued first to fetch the file we want to delete is not enough to avoid this error If the file is deleted after our GET request but before the DELETE request we will get a NotFound error that after all means that the file is already deleted so it can be safely ignored Other Information I have also reviewed the other services that currently exist in ActiveStorage in case the same change could be needed there DiskService already takes care L45 L47 of this S3Service is fine because of the way the DELETE object operation works A 204 response is always returned with information about the deletion in the response is custom headers The Ruby AWS SDK does not raise any exceptions depending on this see here L471 L478 and here L1218 L1221 AzureStorageService already takes care L48 L50 of this as well Perhaps it could be improved to use a less generic error though,,"georgeclaghorn,georgeclaghorn,georgeclaghorn",2017-08-31 16:25:14,2017-08-31 17:40:32
IS,Autosave does not save associated records belongs to validation fooled,Documentation for belongs to method i belongs to specifies that the default behavior for autosave is to save associated records if they are new i e not persisted This is not working for me in Rails 5 1 1 or 5 1 3 Example app available here Steps to reproduce Given the following app Expected behavior The primary record and all associated records that are new should attempt to be saved Any associated record that is invalid should result in the save being aborted and the errors be available via the usual ActiveModel Validations errors hash If a belongs to associated record is not able to be saved for any reason e g database constraint prevents it and optional is not set to true the record should have a validation error specifying that the association is required even if there are no ActiveModel Validations errors on the associated record System configuration Rails version discovered on 5 1 1 tested on 5 1 3 Ruby version 2 4 1,,"lugray,lugray,lugray,lugray",2017-08-07 23:11:03,2017-08-31 19:14:07
IS,Transactions still fire after commit if a record is destroyed in it,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Have a model that has an after commit on create Start a transaction block Create a record in that block Destroy that record in the same transaction block The after commit will have fired even though the record was never technically committed Expected behavior The after commit should never happen since the record was technically never committed Actual behavior The after commit fires System configuration Rails version 4 2 7 1 Ruby version 2 3 1 I have an app with 2 tests to show this bug here I'm aware this is odd but we discovered it when someone was just deleting the record if something else happened in the transaction We added an after commit to the model and discovered that even with a destroy called on it we would still fire the after commit Thanks,,"meinac,st0012,st0012",2017-04-04 21:36:32,2017-08-31 19:32:08
IS,how can I make fragment cache cooperate with around filter,Steps to reproduce Just found an around filter which does not cooperate with fragment cache I use the gem hypernova ruby There is a around filter L14 L18 which is not work as expected when it comes to fragment cache Let me show you a simplify example below Eventually it seems like that rails' fragment cache will cache the token rather content Expected behavior It suppose to cache content not token Actual behavior It cache token System configuration Rails version 5 0 2 Ruby version 2 3 3 I am not familiar with Rails codebase so I just fool around for a while and get nothing Any advice thanks,,st0012,2017-04-05 15:55:08,2017-08-31 19:32:09
IS,Model save generating query without condition,Steps to reproduce Unfortunately I do not even know how I can reproduce this it is happening on our production application as I create this slightly frowning face We use Sidekiq for background jobs after updating from Ruby 2 1 5 to 2 2 5 we started having data corruption on some tables We do not use update all or anything similar anywhere but statements like Were found on the mysql slow query log The code that generated this If you look at the code and the queries generated you will see they match perfectly with which fields were changed except updated at which AR adds and a simple save was called on those records This looks like a threading issue I suspect one of the Sidekiq is workers which are threads manages to get into some state that the save call does not add the WHERE condition I'm lost on how to reproduce and or fix this issue Any help would be appreciated I have already tried opening an issue with Sidekiq but they dismissed it as not their fault since they do not touch ActiveRecord I understand if you guys need to close this issue since it is not on rails 5 but any help would be immensely appreciated Expected behavior Should update one record Actual behavior The query updates the entire table since it has no WHERE condition System configuration Rails version 4 2 7 1 Ruby version 2 2 5,,"matthewd,matthewd,matthewd",2017-04-03 11:39:08,2017-08-31 19:32:10
IS,Unexpected cache is generated after saving parent record,Steps to reproduce Expected behavior Expected comments present Related,,,2017-04-07 06:43:24,2017-08-31 19:32:11
IS,logger methods do not prepend tags in subthread context,I found the issue while writing an ActiveJob subclass but upon further investigation this pertains strictly to System configuration Rails version Rails 5 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin16,,"rafaelfranca,eugeneius,rafaelfranca,matthewd,matthewd",2017-02-24 22:26:26,2017-08-31 19:32:12
PR,Fix can not modify frozen String error in XmlMini JDOM,Without this XmlMini JDOM raises an error as follwing We already have tests about XmlMini JDOM But it is not running in CI,,"y-yagi,schneems,schneems,y-yagi",2017-08-31 22:11:55,2017-08-31 22:35:10
IS,Attributes created using class attribute are not thread safe,We are building a large Rails application and ran into concurrency issues Digging into them we found that using class attribute causes a non thread safe configuration With this I do not mean that class attribute is not thread safe please let me elaborate in more detail In issue 14021 initially stated that class attribute is not thread safe but then precised every time you set the class attribute it undefines the existing singleton method and defines a new singleton method that simply returns the new value commented setting class attribute at the class level is only supposed to be done at during boot time The discussion was later abandoned We think that there two different concepts here getting mixed up One being that the method class attribute is not thread safe and needs to be done in a single threaded boot phase However even with a clean design respecting this the program is not going to work because the setter method generated by class attribute is not thread safe either A working counterexample can be found in The code mentionned above works fine on Ruby version 2 3 1 Ruby engine ruby ActiveSupport 5 0 0 1 However on Ruby version 2 3 1 Ruby engine jruby ActiveSupport 5 1 0 alpha the program fails On my system failure occurs sometimes with 1'000 and always with 10'000 threads The error is the following NameError Undefined method setting for 'MyClass' This is not surprising since the following code is in class attribute line 89 L89 This code is not called in the boot phase but as the attribute setting is accessed in the multi threaded running phase Clearly it is not thread safe if an access takes place in between those two lines the symbol setting is undefined which explains the above failure Again this does not happen in cruby possibly due to the GIL story link But what about the GIL Also putting a global lock just for testing around the two lines mentioned above makes the problem disappear of course this ugly workaround is not a solution but it indicates that the problem is located in there indeed Of course we could use an alternative method in our application for our own calls However since Rails itself heavily uses class attribute the question arises whether or not Rails is thread safe on jruby We have been investigating a lot and found traces indicating that data races might even take place in rails itself Feedback and discussion would be much appreciated We would like to find out how deep this behavour goes and what parts of Rails are affected,,,2016-10-11 07:22:28,2017-09-01 06:39:38
PR,Clarify intentions around method redefinitions,Do not use remove method or remove possible method just before a new definition at best the purpose is unclear and at worst it creates a race condition Instead prefer redefine method when practical and silence redefinition of method otherwise By eliminating the remove define pattern this fixes 26758 fixes 14021,,"matthewd,matthewd,matthewd",2017-05-26 03:49:05,2017-09-01 06:39:38
IS,Make rake app update more configurable,I do not want to start a PR on this until others have had the chance to comment so we can make sure we address this thoroughly in one PR Here is a start to the list of things we could do better Run spring binstub all Support or autodetect whether app was generated with skip action cable skip listen skip puma skip sprockets I'm probably missing a few here Update code not modified since the rails app was generated without overwriting non generated code in the same file in files such as config locales en yml config routes rb config secrets yml Does anyone have further suggestions,,"st0012,y-yagi,kaspth",2017-04-21 15:19:20,2017-09-01 07:14:46
PR,Remove needless silence warnings,Since ff30db1 warning is not show,,y-yagi,2017-09-01 06:45:41,2017-09-01 07:30:30
IS,Interacting with ActiveStorage Attachment and ActiveStorage Blob on 5 2 0 alpha,Steps to reproduce Initialize a new live Rails application running 5 2 0 alpha Follow prior README directions on initializing latest ActiveStorage snippet Query I am looking to work with ActiveStorage early in order to provide better feedback and contribute to the team that are putting this together When announced that this would be in core in Rails 5 2 myself and those I work with were very excited and would like a core Rails storage solution for future applications Right now I am working with ActiveStorage and getting expected behavior for the most part but I'm unsure about one aspect and it may be because we are still early days on this project and light on documentation Following successful upload and storage of a file locally let is say that I want to now send that file to another application via a POST request to a JSON endpoint With the tools offered by active storage what would be the best way to access the guts of the file to send it along I look forward to hearing your thoughts and am more than happy to answer any questions you may have System configuration Rails version 5 2 0 alpha Ruby version 2 3 3,,,2017-08-31 11:34:31,2017-09-01 09:45:49
IS,add reference partially respects after when polymorphic is true,Steps to reproduce That works but it is pretty ugly System configuration Rails version 5 1 2 Ruby version 2 4 1,,,2017-09-01 12:00:41,2017-09-01 12:57:10
PR,CI with the latest stable GA version of MariaDB 10 2,Summary This pull request updates MariaDB version to 10 2 since 29708 and 29706 supports MariaDB 10 2 changes There was a similar pull request 29740 which was closed since MariaDB 10 2 6 GA is not supported on Ubuntu 12 04 LTS Now Travis CI is migrating Ubuntu version to Trusty and MariaDB 10 2 is supported on Ubuntu Trusty I think it is good timing to open another pull request Refer mirror digitalocean nyc distro Ubuntu distro release trusty ubuntu trusty version 10 2,,"yahonda,kamipo,yahonda,kamipo,yahonda,kamipo,yahonda,yahonda,eugeneius,yahonda,yahonda",2017-07-19 14:34:03,2017-09-01 13:18:48
IS,Stack Level Too Deep Circular Code Path with around save relation update and has one,Steps to reproduce I created a small environment program that demonstrates the problem The README md explains more about how to setup and run the test environment Expected behavior I expect that when an agency record gets saved with a changed name is deleted flag the associated node record has those fields set and gets saved Then everything moves on business as usual Actual behavior Instead of carrying on after node save happens node save triggers another agency update The x changes knowledge never gets resolved which causes the node to always get saved again and again This causes a circular code path resulting in a Stack Level Too Deep System configuration Rails version ActiveRecord ActiveModel ActiveSupport version 5 0 2 Problem is not found in ActiveRecord ActiveModel ActiveSupport 4 1 5 which is what I'm upgrading from Ruby version 2 3 3,,,2017-04-27 18:22:49,2017-09-01 14:41:29
PR,Remove unnecessary to i for old sqlite3 adapter,Summary Remove unnecessary to i for old sqlite3 adapter and if current adapter OracleAdapter condition to i was added for SQLite3 adapter which did not handle number but sqlite3 gem already supports it then to i is unnecessary Considering other bundled adapters mysql2 and postgresql and Oracle enhanced adapter all adapter already return number integer for this test Other Information future proofing the sqlite3 adapter code Refactor calculation test to remove unneeded SQLite special case no need to to i sqlite does that for us,,"yahonda,kamipo,yahonda,kamipo,yahonda,kamipo,yahonda,kamipo,yahonda,kamipo,yahonda",2017-09-01 14:07:17,2017-09-01 16:35:50
IS,test remove column with multi column index gets error with MariaDB 10 2 8,Steps to reproduce Install MariaDB 10 2 8,,"yahonda,yahonda,yahonda,yahonda",2017-08-31 14:24:53,2017-09-01 17:03:39
PR,Bump PostgreSQL version to the latest version 9 6 at Travis CI,Summary Travis CI new default Ubuntu Trusty supports 9 6 Using a different PostgreSQL Version,,yahonda,2017-09-01 17:20:08,2017-09-01 18:11:23
IS,Preloading STI trough join table applies STI scope to join table and crashes,Steps to reproduce Run Post 1 n Comment n 1 User STI And now try to preload a specific type of users on posts Expected behavior It should preload all users of the specific type on the post records Actual behavior System configuration Discovered on Rails version 4 2 1 Ruby version 2 1 2 Gist written for Rails version Master 5 1 0alpha Ruby version 2 3 1,,k0kubun,2016-08-12 00:25:56,2017-09-01 22:40:37
PR,Fix preloading has many through with STI association,If source reflection is a STI association through scope should be joined that Fixes 11078 26129,,kamipo,2017-05-20 03:02:29,2017-09-01 22:40:38
PR,Fix preloading of sti models on has many through associations,Another try to fix preloading of sti models on has many through associations by removing the type conditions from through scope fixes 11078 based on 11082 and 14312,,,2017-07-18 19:08:59,2017-09-01 22:40:38
PR,Replace unnecessary link with typewriter text ci skip,I found unnecessary links,,yhirano55,2017-09-02 02:21:18,2017-09-02 04:01:09
PR,Fix can not modify frozen String error in AC Rendering,Summary This PR will change the code introduced with the following commit There is one thing I'm troubled about I can not indicate a test case Because I can not understand the arguments of render to string method for the result respond to each to return true On the other hand a test case where result respond to each to return false is already existing as below L607 L612 However when the condition is true this code is obvious that can not modify frozen String error will occur this PR fix it,,"koic,kamipo,koic",2017-09-01 09:08:44,2017-09-02 05:08:47
IS,PG FeatureNotSupported ERROR cached plan must not change result type,Steps to reproduce 1 Do some select on a table using ActiveRecord 2 Run a migration to add a column to this table without restart app I have two apps sharing same db 3 Do other select using ActiveRecord Expected behavior Reset cache and retry Actual behavior Fatal error System configuration Rails 5 0 5 Ruby 2 2 4 PostgreSQL 9 5 Log,,,2017-09-02 02:46:33,2017-09-02 06:03:25
PR,Fix preload query for through associations with custom scope block,Summary Fixes 28703 Using a through association with includes could raise an exception if the association had a custom scope block This was because the preload query for the through association would not join in the source association is table but the conditions in the where clause could depend on that table This changes ActiveRecord Associations Preload through scope to also spawn references for the reflection scope is source if there was a where clause on the reflection scope This makes the query join in the source association is table so any conditions in the where clause will have the table to reference cc,,matthewd,2017-04-15 02:15:54,2017-09-02 06:57:13
PR,Remove outdated comment ci skip,We do not use double assign since 61f92f8bc5fa0b486fc56f249fa23f1102e79759,,"y-yagi,kamipo,y-yagi",2017-09-02 05:51:01,2017-09-02 08:45:52
PR,Update actionpack doc ci skip,Summary Add markup as typewriter format in actionpack At least I think this change is worth for us But if it was not feel free to close this request,,"yhirano55,kamipo,yhirano55,kamipo,yhirano55,kamipo,kaspth",2017-08-29 19:48:50,2017-09-03 18:01:14
PR,Update actionview doc ci skip,Summary Markup as typewriter format in actionview At least I think this change is worth for us But if it was not feel free to close this request,,"yhirano55,kamipo,yhirano55,kaspth",2017-08-29 19:54:34,2017-09-03 18:02:02
PR,Trivial optimization to collection size calculation,,,kaspth,2017-08-29 23:47:24,2017-09-03 18:02:41
PR,WIP Add support for multiple encrypted secret files,One can add encrypted secrets with custom file by config read encrypted secrets config secrets staging yml enc Additionaly one can setup edit and show specific secrets by providing path to the file ie If no argument is provided then default config secrets yml enc is in use To encrypt decrypt if no RAILS MASTER KEY is set then corresponding key file will be searched config secrets staging yml enc config secrets staging yml key Open question Juggling with full path to the file in rails generator does not look nice alternative could be bin rails secrets setup name staging which will generate config secrets staging yml enc and be enabled by config read encrypted secrets staging bin rails secrets setup name secrets staging which will generate config secrets staging yml enc and be enabled by config read encrypted secrets secrets staging bin rails secrets setup environment staging which will generate config secrets staging yml enc and be enabled by config read encrypted secrets true The last one depends on the environment which is a little limiting if one have staging server running in production env but just with different environment variables as it could not distinguish the secrets files TODO Update documentation guides Add changelog Polish implementation Maybe add more tests if needed I would like to gather your feedback before polishing it as you are the main architect of this feature as you were also planning to implement it,,"morgoth,morgoth,morgoth,morgoth,rafaelfranca,kaspth",2017-07-24 12:51:48,2017-09-03 18:14:34
IS,Preload association ignores left join in association scope,Steps to reproduce I have a test case System configuration Rails version 5 0 0 Ruby version 2 3 1p112,,"Mik-die,meinac,Mik-die,kamipo,Mik-die,kamipo",2017-03-03 09:05:35,2017-09-03 21:35:05
PR,Make ActiveRecord Base find or methods compatible with virtual attributes,ActiveRecord Base create is compatible with virtual attributes a common use case is passing them in the arguments hash so that callbacks that need them have access to them Based on this behavior one might expect the ActiveRecord Base find or methods find or create by find or create by and find or initialize by to work the same way but that is not the case Instead the ActiveRecord Base find or methods blow up when passed virtual attributes as they attempt to generate SQL select statements with the virtual attributes assumed to be column names This fixes that and the ActiveRecord Base find or methods now behave how you would expect them to given the behavior of ActiveRecord Base create,,matthewd,2017-09-03 20:13:52,2017-09-03 21:46:23
IS,join in a has many when the association itself is used to join,Steps to reproduce On an ActiveRecord klass say Widget create a has many association say some things with a scope Inside the scope join against 3rd table and add a where clause that requires the 3rd table like Widget has many plootches with red barangs joins barangs where barangs color ared' class name 'Plootch' call Widget joins some things Here is a spec showing the issue in more detail System configuration Rails version Rails 5 1 1 Ruby version ruby 2 3 0p0 2015 12 25 revision 53290 x86 64 darwin15 Postgres postgres PostgreSQL 9 6 3 This seems to be related to 12933 16414 11518 17678,,kamipo,2017-08-31 20:56:48,2017-09-03 23:15:52
IS,db schema load failed if using keyword as custom primary keys,Steps to reproduce 1 create a model with custom primary keys and keyword System configuration Rails version 5 1 1 Ruby version 2 3 4,,,2017-09-04 04:37:39,2017-09-04 11:30:40
PR,Add note about JSON JSONB serialization changes,Tried to backport myself but ran into the error below For some reason did not run into any issues with 5 1 stable,,maclover7,2017-08-17 18:20:24,2017-09-04 12:25:26
PR,Make attr name parameter indifferent access in dirty attributes methods,Methods like saved change to attribute work with passing in a symbol or a string attr name parameter Example,,kamipo,2017-06-06 13:53:56,2017-09-04 13:17:57
PR,Use the index of the binds when merging where clauses,Summary Fixing the issue with merging where conditions with same attribute names but different tables used Instead of the old approach where bind conditions are excluded solely based on the name of the attributes the new approach looks at whether the corresponding predicate of the bind param needs to be removed,,"matthewd,sgrif,sgrif,kamipo",2017-06-29 03:22:32,2017-09-04 16:10:00
IS,Scopes behaviour change,Steps to reproduce download this project you can see the nested scopes in It does not work anymore in rails 5 0 3 you can run in rails console Course scope multiple things Expected behavior It should work like in rails 4 1 14 1 returning the relation SELECT courses FROM courses INNER JOIN universities ON universities id courses university id WHERE courses id BETWEEN 1 AND 300 AND courses enabled 't' AND universities enabled 't' Actual behavior It does not work SELECT courses FROM courses INNER JOIN universities ON universities id courses university id WHERE courses id BETWEEN 1 AND 300 AND courses enabled 't' AND universities enabled The last parameter for universities enabled in the end of string is missing System configuration Rails version the new one 5 0 3 the old one 4 1 14 1 Ruby version ruby 2 2 3p173,,"eugeneius,kamipo",2017-06-13 21:29:23,2017-09-04 16:10:27
PR,Adding ActiveSupport Testing Context,Summary This is just a proposal for ActiveSupport TestCase i have been missing context feature from rspec in minitest There are gems like minitest context that add this functionality to minitest gem but it seems that those do not work with Rails 5 I did this small ActiveSupport Testing Context module to replicate this same functionality in Rails 5 and was using it in some of my projects I'm not sure if anyone else misses this feature from rspec but decided to take a shoot and propose it to core rails Other Information If this pull request will be accepted then we can structure our Tests like this,,kaspth,2017-09-04 12:45:34,2017-09-04 17:25:23
PR,Add Documentation For Duration Support Expiry Meta Data Added to Signed Encrypted Cookies,This PR is an addendum to 30121 with the following additions Documentation for duration support added to expires option of cookies Changelog entries for the duration support and expiry meta data added to signed encrypted cookies,,"assain,assain,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,assain,assain,assain,assain,assain,kaspth",2017-08-25 15:54:38,2017-09-04 17:49:02
IS,Rails 5 1 3 error running tests for new plugin,Steps to reproduce 1 Create new Rails plugin rails plugin new example plugin 2 Validate gemspec by removing TODO 3 Run generated test rake test Expected behavior I expect there to be 1 passing test that asserts the plugin defined a module with the same name Actual behavior You get an error uninitialized constant Rails TestUnitReporter NameError in plugin name test test helper rb System configuration Rails version 5 1 3 Ruby version 2 4 1 I confirmed that we do not get this error in Rails 5 1 2 I believe it was introduced in pull request 29572,,,2017-09-03 21:31:46,2017-09-04 17:50:19
PR,Explicitly require test unit reporter,If the user used the bin test to execute the test this file is automatically loaded so require is unnecessary L4 However when using rake test an explicit require is required because the above file is not loaded Fixes 30516,,y-yagi,2017-09-03 22:25:30,2017-09-04 17:50:19
IS,Rails Secrets config read encrypted secrets is not picked up anymore,Steps to reproduce config environments staging rb OK all secrets are loaded puts Rails application secret foo dummy value foo from secrets yml Expected behavior Rails should warn failed if read encrypted secrets are not use before people asking for secrets and or Rails should resolve values only after all environments are set Actual behavior If user calls Rails application secrets and then set Rails application config read encrypted secrets after values of Rails application secrets are already cached and secrets yml enc is never merged to final result set System configuration Rails version 5 1 1 after this PR Ruby version 2 4 1,,"albertoalmagro,kaspth,kaspth",2017-08-22 16:06:49,2017-09-04 17:51:24
IS,Fix for 24179 regressed in Rails 5 1 3,Steps to reproduce Add minitest reporters to a project with Rails 5 1 3 and try to configure minitest reporters with some custom reporters in your test helper rb Expected behavior Should see minitest reporters SpecReporter when running tests Actual behavior You do but you also see default Rails test runner reporter output System configuration Rails version 5 1 3 Ruby version 2 4 1 AFAICT the reason for this issue is the commit b9465e8755509cc79ad7492914a26c8ac3884de0 that fixed the problem was somehow lost in Rails 5 1 3 I do not follow Rails core development too much but if I had to hazard a guess that changeset was somehow lost due to railties lib rails test unit minitest plugin rb moving to railties lib minitest rails plugin rb This issue is causing much consternation for minitest reporters users see kern minitest reporters 230,,"rafaelfranca,kaspth,kaspth,kaspth",2017-08-31 23:09:09,2017-09-04 17:59:36
IS,Inheritance and polymorphic associations,Steps to reproduce 1 Declare a Parent class 2 Declare a Child class inheriting from the parent but stored in a different table 3 Declare a third class let is call it Asset with a polymorphic association and the corresponding has many in the Parent class Expected behavior One should be able to attach assets to Parent and Child instances and fetch them Actual behavior When inserting an Asset in the db the foreign key will always be Parent 1 wether it is attached to Parent 1 or Child 1 giving erratic results when trying to fetch the assets back In the other way Asset owner will always yield a Parent object System configuration Rails version master Ruby version 2 2 5 Test case,,,2017-09-01 14:33:35,2017-09-04 20:08:36
IS,rake aj integration delayed job keep failing due to undefined method yaml as' for ActiveRecord Base Class NoMethodError,rake aj integration delayed job keep failing due to undefined method yaml as' for ActiveRecord Base Class NoMethodError Steps to reproduce System configuration Rails version master Ruby version ruby 2 5 0dev 2017 09 04 trunk 59742 x86 64 linux,,"yahonda,y-yagi,yahonda,yahonda,yahonda",2017-09-04 16:21:57,2017-09-05 01:40:28
PR,Run in app rails commands via fork load where possible,While this avoids shell argument parsing we still pass through everything in our stack This speeds up the railties suite by a fair bit,,"matthewd,simi,matthewd,matthewd,kaspth,matthewd,kaspth,y-yagi",2017-09-04 12:08:59,2017-09-05 07:02:06
PR,Do not pass an instance variable to a private method,ActionView Helpers Tags Base has object and all passed arguments for value are object so we do not need to pass arguments in this case,,"yui-knk,kamipo,kamipo,yui-knk,kamipo,kamipo,yui-knk,kamipo,yui-knk",2017-07-14 14:58:54,2017-09-05 09:57:33
IS,How to disable stdout logger in development in 5 1,Steps to reproduce Start rails server logging appears in stdout Expected behavior Logging would appear only in log development log Actual behavior Undesiredly logging appears in stdout System configuration Rails version 5 1 0 Ruby version 2 4 1 Trying right now using config boot rb In 5 0 was possible to disable logging into stdout completely,,"gsamokovarov,rafaelfranca,rafaelfranca,y-yagi,y-yagi",2017-05-03 08:49:48,2017-09-05 11:10:53
IS,reading test,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version x,,,2017-09-05 15:20:55,2017-09-05 15:53:02
PR,activerecord Fix deprecated behaviour of changed attributes,cc Problem Pull request made some breaking changes to the way changed attributes works for rails 5 1 but the PR was only supposed to deprecate using it in after callbacks The problem was that forget attribute assignments in changes internally applied disconnected mutation tracker from the current attributes so did not receive any changes made to it in after callbacks Solution To preserve the deprecated behaviour changes are applied to mutation tracker when changed attributes is called or after a save nested in an after create update save callback,,sgrif,2017-08-30 16:18:44,2017-09-05 16:29:12
PR,Switch to rollup for activestorage npm module build,Summary This PR switches from Webpack to Rollup which produces smaller bundle and faster code execution using scope hoisting 16KB vs 20KB on disk The way webpack works is that it wraps each module in a function and creates a bundle that implements a loader and a module cache At runtime each of those module functions is evaluated in turn to populate the module cache which lets us use advanced features like code splitting and on demand loading which we do not need here since this is a library Webpack 3 introduced scope hoisting but the bundle the still going to be bigger due to above reasons Rollup is better suited here because this is library and we are mostly writing it in ES6 More information Example output comparison,,"kaspth,javan,matthewd,javan,rafaelfranca,matthewd,javan,matthewd,javan,javan",2017-08-14 18:58:27,2017-09-05 16:36:28
PR,Normalize process Cache Control headers consistently,Summary In the existing logic the Cache Control header may or may not get normalized by additional logic depending on whether response cache conrol has been modified This leads to inconsistent behavior since sometimes Cache Control can contain whatever a user sets and sometimes it gets normalized based on the logic inside of set conditional cache control It seems like this normalization process should happen regardless to ensure consistent behavior Other Information I'm not super familiar with this bit of the codebase It is not quite clear to me why the existing logic was conditionally called based on etag last modified etc The bulk of set conditional cache control seems to just normalize merge the cache options found in existing headers and those found in the cache control hash I'm not quite clear why that would only be needed based etags last modified headers etc cc Since you seem to have a fair number of commits in this file Since changed some of the prior logic that did not try to merge the header values and the cache control hash It is the merging and normalization that leads to some of the differences in behavior,,,2017-08-22 18:52:34,2017-09-05 16:44:54
PR,activerecord Fix saved changes for saves nested in after callbacks,cc Problem The behaviour of saved changes is different between rails 5 1 and rails master in an after create update save callback for a save nested within an after create update save callback On rails 5 1 it was returning the changes for the outermost save in the callbacks for the nested save The behaviour on rails master matches how saved changes was initially described in issuecomment 225166796 which is that it returns a Hash of all changes in last save There is also a related problem after the double save after it returns where saved changes would be empty rather than having the changes for the last save Solution Avoid using mutation tracker for the saved changes since that mutation tracker is for the deprecated changed attributes behaviour which changes after all the callbacks rather than at the start of the after create update save callbacks By using mutations from database instead we avoid the differences between rails 5 1 and rails master Similarly we should not be resetting mutations before last save nil after all the callbacks in changes applied since that does not match the rails master behaviour which does not do anything after all the callbacks only at the start of the after callbacks This way saved changes still references the last save after save returns,,"sgrif,sgrif,sgrif",2017-08-30 16:07:55,2017-09-05 18:24:10
IS,List Available Rails Version,Current Workflow When you want to update Rails version you have to go to the releases section of the wiki to figure out the version of Rails available for update Steps to reproduce rails list Expected behavior List all available released versions of Rails Actual behavior Provides the help screen System configuration Any officially supported Rails version Any officially supported Ruby version,,sgrif,2017-09-06 01:39:37,2017-09-06 02:14:55
IS,find in batches is bloating memory even when running with uncache block,issue while running find in batch on very large records more than 200000 it bloats the memory and instance goes out of memory very soon We are using 3 2 22 3 version of active records What is going wrong Any pointer Steps to reproduce we can run find in batches over large records and do anything which will fire query with the batch results Expected behavior It should iterate through the records without bloating memory Actual behavior It should iterate through the records but bloating memory System configuration Rails version 3 2 22 3 Ruby version 2 1 5,,matthewd,2017-09-05 22:09:56,2017-09-06 07:47:46
IS,PG AmbiguousColumn ERROR column reference name is ambiguous,Steps to reproduce I am having three tables locations accounts states locations and states both have column 'name' I am running this query to get all the locations locations locations includes state I am using ilike to find all the matching locations locations where name ilike params search Now the issue is whenever I enter a name with ' ' in it e g google inc it returns this error PG AmbiguousColumn ERROR column reference name is ambiguous I know I have not specified the table name before the column name in the second query so Postgres is confused which name to use But my doubt is if that is the case then why it is not giving this error for all the params which do not have a ' ' in it I have tried with all other special characters and query works fine Only for the names with a ' ' are getting this error Expected behavior locations where name ilike params search returning locations so it should also return all the locations if any matches the name with ' ' in it Actual behavior Its returning this error PG AmbiguousColumn ERROR column reference name is ambiguous System configuration Rails version 4 0 Ruby version 2 1 5,,"alexcameron89,kamipo",2017-05-30 13:04:37,2017-09-06 10:18:59
PR,fix type fully qualified ci skip,,,"ydakuka,vipulnsward",2017-09-06 12:51:41,2017-09-06 12:56:45
PR,Update CHANGELOG md,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"kaspth,kamipo",2017-09-06 11:29:42,2017-09-06 15:59:30
IS,Rails 5 0 Unscope for the join,We have 2 models That because in sql still leave the AND developers deleted at IS NULL Rails 5 0 6 rc1 Ruby 2 2 3 In Rails 5 1 4 rc1 latest 5 1 stable branch not release it works as expected I think we need to backport fix from 5 1 rails to 5 0 too,,"alexcameron89,kamipo",2017-09-06 12:53:06,2017-09-06 17:14:24
PR,Test case for has many though unscoping bug,Summary There is no way to un scope the order in has many though association defined in the source reflection This PR is a failing test case for the issue,,"bogdan,meinac,bogdan,meinac,bogdan",2017-03-16 16:21:34,2017-09-06 22:49:58
PR,CI against JRuby 9 1 13 0,JRuby 9 1 13 0 has been released and this version is available on Travis CI,,koic,2017-09-07 01:02:53,2017-09-07 01:17:54
IS,Array value default for Postgres UUID Array type fails in 5 1 2 migrations,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior During a rails migration the following schema change definition should continue to work 5 1 2 with PostgreSQL 9 x add column some table some column uuid array true default Actual behavior The statement fails with This worked previously in 5 1 1 A workaround is available using the PostgreSQL string array literal format add column some table some column uuid array true default ' ' System configuration Rails version 5 1 2 5 1 3 Ruby version 2 3 x,,,2017-09-07 16:35:22,2017-09-07 16:55:27
IS,build association unexpectedly DELETEs record if already saved,Steps to reproduce Rails 5 but older versions too,,,2017-04-21 12:48:28,2017-09-07 22:53:54
IS,Assigning ids for HABTM relation can not handle duplicates in ActiveRecord 4 2 8,If a model has a has and belongs to many relation foo with duplicates assigning foo ids to itself results in an ActiveRecord RecordNotFound exception Steps to reproduce This gist demonstrates the problem This code behaves as expected in Rails 4 2 7 1 and in Rails 5 0 2 Expected behavior The assignment succeeds without an error and the set of assigned relations stays the same Actual behavior The assignment fails and an ActiveRecord RecordNotFound exception is raised System configuration Rails version 4 2 8 Ruby version 2 2 6p396 and 2 4 0,,,2017-04-24 12:20:55,2017-09-07 22:53:55
IS,5 1 0 rc2 counter cache on belongs to on same table doubles,Hello System configuration Rails version 5 1 0 rc2 Ruby version 2 4 1 Thanks,,"rafaelfranca,rafaelfranca",2017-04-26 07:40:45,2017-09-07 22:53:56
IS,rails new does not work with webpack and skip bundle on Rails 5 1,Steps to reproduce Run this command rails new webpack skip bundle test app Expected behavior Probably bailing out and informing the user that it is not possible to install webpacker without running bundle is the best option here Actual behavior It generates the initial project structure and then errors out at the webpacker install step System configuration Rails version 5 1 0 Ruby version 2 4 0p0 bundler version 1 14 6,,maclover7,2017-04-28 01:03:46,2017-09-07 22:53:57
IS,counter cache call count with custom column name,Steps to reproduce This does NOT works Expected behavior post likes size 4 No query executed Actual behavior post likes size SELECT COUNT FROM likes WHERE likes post id System configuration Rails version Tested on 4 2 0 4 2 8 Ruby version 2 0 0p648,,,2017-04-25 15:43:26,2017-09-07 22:53:58
IS,rake doc rails for ActiveRecord 4 2 8 is empty,Steps to reproduce Hey just noticed that locally generated documentation for RoR 4 2 8 is missing everything related to ActiveRecord Expected behavior There should be docs for ActiveRecord Actual behavior There is no folder doc api classes ActiveRecord and index file has only test help rb mixin link System configuration Rails version 4 2 8 Ruby version 2 2 1,,"maclover7,rafaelfranca,rafaelfranca",2017-03-15 19:55:15,2017-09-07 22:53:59
IS,ActiveRecord RecordNotUnique Mysql2 Error Duplicate entry '' for key 'PRIMARY' INSERT INTO ar internal metadata,I recently upgraded to Rails 5 0 1 from 4 2 x running with Ruby 2 4 0p0 Upon attempting a db migrate I encountered an issue with ar internal metadata which appears to be incompatible with MySQL5 To reproduce 0 Drop the ar internal metadata table from the development database if it is there 1 Run bundle exec rake db migrate 2 Run it again 3 On the second run regardless of whether migrations are pending or not this error is raised The ar internal metadata schema indicates to me that MySQL5 does seem to have a valid gripe The primary key field is set up as not null but the default is null And since it is a varchar 255 type it can not auto increment Apparently the ActiveRecord machinery is not providing a value for 'key' mysql desc ar internal metadata Field Type Null Key Default Extra key varchar 255 NO PRI NULL value varchar 255 YES NULL created at datetime NO NULL updated at datetime NO NULL Here are the contents of ar internal metadata just before the second call to db migrate mysql select from ar internal metadata key value created at updated at NULL 2017 04 30 20 56 39 2017 04 30 20 56 39,,,2017-05-01 22:42:10,2017-09-07 22:54:00
IS,ActiveSupport Dependencies loading broken within engines,Calling for the help of Ruby Heroes with active support dependencies rb mega Calling require 'non autoloaded file' from an autoloaded file in Rails is broken if the non autoloaded file defines a constant in a sub namespace of an autoloaded file For example if you have System configuration Rails version 5 0 0 1 Ruby version 2 3 1 The engine does not change the defaults for paths and is basically a vanilla Rails engine,,"maclover7,al2o3cr,fxn,fxn",2016-11-20 08:55:22,2017-09-07 22:54:01
IS,Strange behavior between ApplicationCable Channel subscribtion and callback from connected,Hello I'm using actioncable for chat with rooms as example from And when i used it I found the strange behavior of subscribed unsubscribed callback connected After some tests I found specific cases For examples I used Chrome Inspector to avoid writing redundant code I wrote a too much for the issue but i hope it will be considered Thanks Basic setup Here we have the expected behavior Maybe I'm wrong but it seems subscription through 'follow' callback works strange Maybe I should split logic and use istream from' in isubscribed' and 'follow' for isome actions' But right now i not found callback for 'unsubscribed' System configuration Rails version 5 0 1 Ruby version 2 3 0,,"maclover7,maclover7",2017-01-07 22:29:18,2017-09-07 22:54:02
IS,assert routing fails due to assert recognizes not returning path in expected options,Steps to reproduce Create a route System configuration Rails version 5 0 1 Ruby version 2 3 3p222 Docs,,,2017-05-05 16:58:49,2017-09-07 22:54:03
IS,AR Base save does not assert valid keys,Steps to reproduce save does not use assert valid keys so a typo of save validate false such as save validates false will work unexpectedly Expected behavior save validates false raises ArgumentError Unknown key validates Valid keys are validate touch or save validates false raises ArgumentError unknown keyword validates Actual behavior save validates false silently acts like save because validates does nothing System configuration Rails version 5 0 1 Ruby version 2 3 1 because save is redefined so many times It was not a straightforward PR but I can have a go if you agree this should be an ArgumentError,,,2017-05-08 06:26:18,2017-09-07 22:54:04
IS,Flash now is not rendered when form with is used,Steps to reproduce Consider this controller action This is pretty standard Elsewhere in your application the flash would be rendered if it is set The issue appears when we try to enter an empty name Validation fails and we should see a flash with the error message However if the form that is used to call this is using the new form with method flash now is not set If you enter invalid input and cause the else path to be tripped the flash will never be set Using the older form for method works as expected Expected behavior flash now should be set and be displayed Actual behavior The flash is not set Including flash debug in the page shows that it is not set Additionally the page does not reload meaning it does not jump back to the top of the page This might indicate that form with does some caching which in this case causes the issue Using the old form for helper fixes the issue which leads me to believe the issue is caused by the new form with helper System configuration Rails version 5 1 0 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin15 Google Chrome Version 57 0 2987 133 Official Build 64 bit Revision ec33cd0c06881d919ac0de419d829ad914e0be8f refs branch heads 2987 887 OS Mac OS X JavaScript V8 5 7 492 71,,morgoth,2017-05-10 18:58:48,2017-09-07 22:54:05
IS,url for produces path with double namespace,I have routes defined like this Rails version 5 0 2 Ruby version 2 4 0,,"alexcameron89,pixeltrix",2017-05-09 16:31:08,2017-09-07 22:54:06
IS,More info on previous changes deprecation message,Now when I try to use previous changes in after save callback I am greeted with I think the url to the original thread should also puts there inside the deprecation message Here the original discussion thread Or I will never knows what is going on This is not the first time the code references github thread For instance L50 also reference to a pull request,,rafaelfranca,2017-05-11 11:09:39,2017-09-07 22:54:07
IS,enable extension regression in 5 1,Steps to reproduce When upgrading from Rails 5 0 to 5 1 it seems that there is a regression with enable extension I have in my schema the line If I revert to Rails 5 1 and run rake db reset the intarray extension works System configuration Rails version 5 1 Ruby version 2 3 3,,maclover7,2017-05-14 20:06:57,2017-09-07 22:54:08
IS,Special characters in app directory path causes 'rails server' to fail on Windows systems,Steps to reproduce 1 On Windows 10 system create directory C Rails Server Test 2 Open command prompt then navigate to C Rails Server Test 3 From within C Rails Server Test run rails new MyTestApp 5 From within C Rails Server Test MyTestApp run rails server 6 Notice error message C Rails Server Test MyTestApp Gemfile not found 7 Rename directory C Rails Server Test to C Rails Server Test removing 8 Repeat step 4 notice rails server now works as expected Expected behavior Rails server starts under localhost Actual behavior Rails server does not start and misleading error message occurs C Rails Server Test MyTestApp Gemfile not found Error message is misleading because Gemfile actually does exist within the working directory System configuration Operating system Windows 10 Enterprise 64 bit Rails version Rails 5 1 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 i386 mingw32,,,2017-05-15 09:50:43,2017-09-07 22:54:09
IS,Multiple calls to validate with same symbol will overwrite it,It would be useful to be able to call validate with the same symbol multiple times This could be used when you have multiple blocks of with options if some condition grouping some validations Steps to reproduce Expected behavior NoMethodError undefined method validate me' for MyModel 0x00557688c5bdf0 since I did not define that method Actual behavior The second validate validate me call overwrites the first one So it returns true System configuration Rails version 5 1 Ruby version 2 3 4,,"meinac,meinac,pixeltrix,meinac,pixeltrix,meinac,pixeltrix",2017-05-11 12:39:51,2017-09-07 22:54:10
IS,When migrating down enable extension will delete every column from every table that use the extension,When independent migrations apply the same extension e g citext is deleted at a whole and email column in members table is deleted as well Worst of all if items is brought up again rake db migrate up VERSION xxxx Create Items the extension is re introduced but the columns from other table are not It makes sense that the extension is declared by every migration that needs it there are some scenarios where you may want to be able to take down or redo some migration without affecting others But deleting every column using the same extension from every other table without even a warning is a dangerous side effect Some checks should be done to make sure the extension is not needed elsewhere before deleting it,,matthewd,2017-05-15 13:54:53,2017-09-07 22:54:11
IS,Using unscope with a default scope that has or where in it,Steps to reproduce 1 Create a default scope that includes a where x nil or where 'x ' Time now for example 2 Try to unscope that one field or two using unscope where x Expected behavior I'm expecting the unscope to remove the default scope both the first where and the where inside the or block Actual behavior Nothing happens I have reproduced the case in this repository with a User model with a deleted at field that outputs a JSON in root with the created queries using to sql for showing off what the actual output is from the query I have also set up 5 testcases that I believe covers the subject somewhat accurate System configuration Rails version master branch and tested with 5 1 0 and 5 0 1 Ruby version 2 3 3 2 4 1 All probably Of course I will provide any other info you might need and I will also go with any other solution that might solve the problem of default scope being not deleted or deleted at is in the future I have not been able to solve this no matter what I have tried Only solution is to use unscoped which creates a number of other issues,,matthewd,2017-05-17 16:53:41,2017-09-07 22:54:12
IS,default scope with from changes through association FROM clause,I have run in to an issue where changing a models FROM clause with a default scope eg adding from to except argument list fixes the issue but I do not know what else it affects System configuration Rails version 4 2 7 1 Ruby version 2 3 1,,,2017-04-06 14:48:57,2017-09-07 22:54:13
IS,form with rails ujs error on submit,Standard form with tag being handled via js without setting local true when hitting submit and not filling in form data I get an error in the js console of Cannot read property 'call' of undefined This error leads to line 34 of rails actionview app assets javascripts rails ujs utils event coffee It responds to my error and displays the errors on the front end once i set up the respond to but there is still an error in the base code as handler is not being set,,"rafaelfranca,robin850,robin850,robin850,javan",2017-05-11 10:37:06,2017-09-07 22:54:14
IS,db schema load if ruby also runs db create,The task db schema load if ruby does not simply call db schema load when the schema format is set to ruby instead it also calls db create which fails on systems where a user does not have super user access This task was originally extracted from db setup however I think that it was a mistake that db create is called at this location Here is the commit If we do want the schema load to create a database we should add it to db schema load so the task is consistent with the task name,,"schneems,eugeneius",2017-05-17 22:19:25,2017-09-07 22:54:15
IS,current page returns false if default url options are set,In a view context I see this So url for controller wouldashboard collections' is dashboard collections locale en and then the fullpath does not match,,"pixeltrix,sikachu",2017-03-02 15:59:26,2017-09-07 22:54:16
IS,Deprecation message for attribute changed change does not include the correct location in 5 1 0 rc2,Steps to reproduce I'm currently trying our codebase with Rails 5 1 0 RC2 and get spammed by deprecation warnings on our model specs However the location of the deprecations are wrong In my case I think it is the paper trail gem See this commit followed by sgrif is commit so maybe it is a different gem after all It does seem to be related to but I do not think it is a duplicate Maybe also related another deprecation warning that does not show the correct place as well as the first comment issuecomment 266759770 Expected behavior The caller location should display where the actual deprecated methods were called Actual behavior System configuration Rails version 5 1 0 rc2 Ruby version 2 3 1,,"maclover7,jaredbeck",2017-04-24 12:30:32,2017-09-07 22:54:17
IS,where not postgres array column nil ' ' generates different query in 5 1,Query generated from an expression aiming at checking for NULL or empty array column in PostreSQL changed from Rails 5 0 2 to 5 1 1 Steps to reproduce Having a model User with the column roles defined as array create table users do t t integer roles array true end And the following query User where not roles nil ' ' to sql Expected behavior In Rails 5 0 2 the output query is SELECT users FROM users WHERE NOT users roles ' ' OR users roles IS NULL This results for checking for null or empty array Actual behavior In Rails 5 1 1 the generated query is SELECT users FROM users WHERE users roles ' NULL 0 ' This is obviously a different query than before System configuration Rails version 5 1 1 Ruby version 2 4 1,,,2017-05-18 15:39:37,2017-09-07 22:54:18
IS,ActiveRecord AttributeMethods Dirty 5 1 stuck in inconsistent state if autosave has many aborts save,Steps to reproduce Expected behavior If the parent record fails to save because an autosave child aborts save the parent record is mutation trackers should revert to the state it was in before the save Actual behavior Instead it is stuck between the states produced by changes internally applied and changes applied System configuration Rails version New for rails 5 1 Problem did not exist in 5 0 Ruby version Tested with 2 3 4 but looking through code does not appear relevant The problem stems from Rails 5 1 is transition to new definitions of what is changed during after save callbacks It does not seem to revert its state after rollback nor does it appear to be able to do so,,,2017-05-26 22:40:57,2017-09-07 22:54:19
IS,Bug with tz aware range types array,Steps to reproduce your patch was meant to fix time zone aware tsrange types it does not work though on array range type columns Expected behavior It should correctly map the actual values inside each duration Actual behavior can not iterate from ActiveSupport TimeWithZone System configuration Rails version 5 1 1 Ruby version 2 4 0,,,2017-05-22 18:52:36,2017-09-07 22:54:20
IS,Rails child controllers do not inherit parent controller helper module,Steps to reproduce I defined an ApplicationController and ApplicationHelper module And then define another helper module CommonHelper and declare use in ApplicationController like this And then I access index some action and will reuse some helper methods already defined in ApplicationHelper and CommonHelper Expected behavior It should render view template successfully Actual behavior It can not fetch helper methods defined in ApplicationHelper and CommonHelper and also I print out some debugging message it looks like it even did not go through ApplicationController firstly and jump directly to IndexController System configuration Rails version 4 2 Ruby version,,"maclover7,pixeltrix,aditya-kapoor,pixeltrix",2017-04-05 22:57:03,2017-09-07 22:54:21
IS,Setting default url options in controller does not work,Steps to reproduce As the doc says I set up default url options Expected behavior I would have expected that defining default url options in ApplicationController would work Instead it did not The comments in the code here L109 seems to imply that the override in application controller should work Did I miss something Is it the expected behavior I made a test case demonstrating the issue in this gist System configuration Rails version 2 3 4 Ruby version 5 0 2,,"st0012,pixeltrix,pixeltrix",2017-04-09 15:05:27,2017-09-07 22:54:22
IS,gzipped JSON files are not served,Rails 5 0 2 Put test js and test json into public Add gzipped versions Start rails s But Would not a blacklist Images Videos Sounds be better than a whitelist,,"pixeltrix,matthewd",2017-04-03 11:50:18,2017-09-07 22:54:23
IS,has many associations destroy failure after pessimistic lock,Steps to reproduce Models Any thoughts on this,,pixeltrix,2017-03-31 15:23:10,2017-09-07 22:54:24
IS,ActiveRecord connections not checked in,First time reporting here please be gentle Steps to reproduce 1 rails new myapp 2 Use mysql2 gem I believe it does not matter which DB 3 Use thin webserver I could not reproduce on mongrel 4 Setup config database yml to work with mysql2 create db 5 bin rails server 6 curl localhost 3000 this instantiates AR connection 7 sudo service mysql stop or similar stop you DB 8 curl localhost 3000 again when DB is stopped to make sure connection try will fail Expected behavior The connection is marked as 'failed' and AR pool is left in consistent state with the failed connection not 'using up' pool is space Actual behavior The previously instantiated connection fails upon the second request and is unusable anymore additionally taking up the AR pool space forever Eventually you will drain the whole pool default is 5 and make your app unusable waited 5 0000s for connection System configuration Rails version 4 2 Ruby version 2 1 0 My investigation the connection is instantiated because of QueryCache middleware I do not think Ruby version matters as well as AR I'm pretty sure 3 x and 4 x are affected do not know about 5 x 1 At the second request the connection is fetched from available Queue L419 2 Then the connection is checked out and verified L351 3 verify fails leaving checked out connection in inconsistent state L456,,maclover7,2017-03-09 21:36:29,2017-09-07 22:54:25
IS,destroy is not deleting joins records properly for a self referential HABTM,in the example below when component destroy is called it tries to delete,,,2017-04-19 22:46:46,2017-09-07 22:54:26
IS,Bug when eager loading nested associations with default scope,Steps to reproduce System configuration Rails version 5 0 2 Ruby version 2 3 1,,,2017-04-20 14:06:25,2017-09-07 22:54:27
PR,PERF Recover ActiveRecord pluck performance,Summary I'm seeing a performance regression when using pluck with a scope One thing I noticed when profiling with ruby prof is that Symbol was taking quite abit of time screenshot from 2017 09 05 17 26 50 Benchmark script used,,"tgxworld,sgrif,matthewd,tgxworld,tgxworld,tgxworld,sgrif,tgxworld",2017-09-05 09:19:15,2017-09-07 23:30:56
PR,Do not install unused gem,qu redis is need for qu adapter integration test However since 8ecc5ab que adapter integration test has not been executed it is unnecessary now,,y-yagi,2017-09-07 23:03:04,2017-09-07 23:36:01
PR,Reorganize secrets test to use only isolation abstract unit,Currently secrets test uses abstract unit and isolation abstract unit This is a bit odd Therefore reorganize it so that use only isolation abstract unit Context issuecomment 327409586,,"y-yagi,kaspth,kaspth,matthewd,y-yagi,matthewd,kaspth,y-yagi,y-yagi,matthewd",2017-09-06 22:42:54,2017-09-08 01:30:46
PR,Fixed bug introduced in this PR 30524,The code is not like the original one the Relation SINGLE VALUE METHODS values are nil This error was introduced in this PR 30524,,"tgxworld,matthewd",2017-09-08 12:22:05,2017-09-08 14:08:14
PR,Remove needless silence warnings,Since ff30db1 warning is not shown I confirmed that there is no same FIXME in git grep Sass warning,,y-yagi,2017-09-09 00:56:06,2017-09-09 03:54:23
IS,Rails destroy session problem,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior DELETE function not working in my rails app code link to Delete job method delete data confirm Are you sure other issue is ones i signed in then signout not working i am useing devise gem Actual behavior activesupport 5 1 3 lib active support tagged logging rb 26 in tagged' activesupport 5 1 3 lib active support tagged logging rb 69 in tagged' railties 5 1 3 lib rails rack logger rb 24 in call' sprockets rails 3 2 0 lib sprockets rails quiet assets rb 13 in call' actionpack 5 1 3 lib action dispatch middleware remote ip rb 79 in call' actionpack 5 1 3 lib action dispatch middleware request id rb 25 in call' rack 2 0 3 lib rack method override rb 22 in call' rack 2 0 3 lib rack runtime rb 22 in call' activesupport 5 1 3 lib active support cache strategy local cache middleware rb 27 in call' actionpack 5 1 3 lib action dispatch middleware executor rb 12 in call' actionpack 5 1 3 lib action dispatch middleware static rb 125 in call' rack 2 0 3 lib rack sendfile rb 111 in call' railties 5 1 3 lib rails engine rb 522 in call' puma 3 9 1 lib puma configuration rb 224 in call' puma 3 9 1 lib puma server rb 602 in handle request' puma 3 9 1 lib puma server rb 435 in process client' puma 3 9 1 lib puma server rb 299 in block in run' puma 3 9 1 lib puma thread pool rb 120 in call' puma 3 9 1 lib puma thread pool rb 120 in block in spawn thread' ERROR System configuration Rails version 5 Ruby version ruby 2 2 6p396 2016 11 15 revision 56800 i386 mingw32,,utilum,2017-09-08 07:39:39,2017-09-09 17:22:24
PR,Active Record accept nested attributes fix for case with empty line in id key,Summary This PR is intended for fixing of,,eileencodes,2017-09-01 13:51:23,2017-09-09 20:21:46
PR,Remove unnecessary sort from Hash to query,Per problems seen in 23997 The issue looks like it stems from problems in the way that Rack parses nested query params rack rack 951 rack rack 1058 however this sort is unnecessary and removing it should help sidestep the issue for at least some use cases,,matthewd,2017-09-09 20:14:53,2017-09-09 20:22:02
IS,accept nested attributes raises an exception when it tries to update child object with ID value that contains blank line,Steps to reproduce Here is a repo with a bug template and a test of the actual behavior where it raises an exception and the test is green meanwhile we pass as id value id here is comment id Repo Bug Template there is a parent class Post there is a child class Comment in the Post class we have accept nested attributes comments there is a post record in database there is a comment record in database which is related to that post try to update a post instance and a comment via Expected behavior The expected behavior here it is finding the comment record and successful updating it Actual behavior It raises an exception instead updating a child object It would be good to update a child object instead raising an exception Because in some cases we can use ActiveRecord without Ruby on Rails parses where id values can be like id 12 For me that case was uploading a csv where I had a id value like this id 12 and it raised an exception System configuration Rails version 5 0 2 5 2 0 alpha Ruby version 2 4 0,,eileencodes,2017-09-01 11:28:20,2017-09-09 20:23:38
IS,rails new and rails server sometime hangs and crashes on busy F5 reloading while starting,Steps to reproduce 1 Creating a new rails project using rails new using rails 5 0 1 I attached the full crashing message and diagnose report System configuration Rails version 5 0 1 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16 ruby 2016 12 26 152934 MacBook Pro 2 crash txt rails server crash output txt rails server crash output linux txt,,"utilum,matthewd,nateberkopec,matthewd",2016-12-26 07:02:15,2017-09-09 23:26:57
PR,Allow the use of AWS SDK v3 in Active Storage,In AWS SDK v3 gem is divided for each service Therefore if only use S3 we only need aws sdk s3,,"y-yagi,georgeclaghorn,guilleiguaran,y-yagi",2017-09-09 23:35:49,2017-09-10 03:22:11
IS,resources method does not create router helpers when it has only destory,Steps to reproduce Add in your routes rb file the below line Expected behavior Tell us what should happen With only destory it should create the route helper for destroy action Actual behavior With only destory it does not create the route helper System configuration Rails version Rails 5 1 2 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,,2017-09-10 11:14:46,2017-09-10 11:17:41
PR,Remove not used gems by default ci skip,rack mount switched to journey with 5f0b37c Also rack cache will not be used unless you explicitly specify it Ref,,y-yagi,2017-09-10 22:48:32,2017-09-10 23:39:25
PR,PERF Incorrect memoization in ActiveRecord Associations Preloader,Association,,tgxworld,2017-09-11 06:04:33,2017-09-11 08:01:56
PR,Run tests with latest stable Ruby version 2 4 1,Use Ruby 2 4 1 for GEM ar mysql2 MYSQL mariadb GEM ar sqlite3 mem GEM ar postgresql POSTGRES 9 2,,"bogdanvlviv,matthewd,bogdanvlviv,matthewd",2017-09-11 14:23:38,2017-09-11 15:00:10
PR,Add credentials using a generic EncryptedConfiguration class,The combination of config secrets yml config secrets yml enc and SECRET BASE KEY is confusing It is not clear what you should be putting in these secrets and whether the SECRET BASE KEY is related to the setup in general This PR will deprecate secrets yml and instead adopt config credentials yml enc to signify what these secrets are specifically for Keeping API keys database passwords and any other integration credentials in one place This new file is a flat format not divided by environments like secrets yml has been Most of the time these credentials are only relevant in production and if someone does need to have some keys duplicated for different environments it can be done by hand This leaves us with what to do with SECRET BASE KEY For test and development we will instead simply derive values for both based off a known constant These secrets are not supposed to withstand any sort of attack in test or development It is only in production and derivative environments like exposed betas where the secret actually needs to be secret So we will birth the new credentials yml enc file with secret key base set instead on new apps This change will setup the encrypted credentials along with the new application skeleton because even if you make a mistake and forget your key it is only production that is impacted So it wo not slow down anyone just getting started with development or test Finally this would leave us with a single RAILS MASTER KEY for services like Heroku to set Once this has become the standard they could even ask for this key when it is missing on the rails buildkit deploy such that the setup is all smooth Note We will just keep Rails secrets and friends around The Rails application credentials setup will be a new concurrent approach All new apps would use it but we would not need to screw existing apps Work left x Implement config require master key instead of config read encrypted secrets x Alert at the end of rails new app that there is a master key what it is and that you should put it in your password manager Update all documentation to talk about credentials rather than secrets x Update all railties tests to deal with missing secrets yml and new master key and credentials yml enc,,"dhh,morgoth,dhh,kaspth,kaspth,kaspth,kaspth,kaspth,dhh,dhh,kaspth,kaspth,dhh,tjschuck,dhh,dhh,tenderlove,claudiob,dhh,kaspth,mikeycgto,dhh,mikeycgto,kaspth,albertoalmagro,dhh,kaspth,claudiob,kaspth,kaspth,dhh,kaspth,dhh,kaspth,kaspth,dhh,morgoth,dhh",2017-08-03 23:17:02,2017-09-11 18:21:20
PR,Add require false option to bcrypt in app is Gemfile,Summary Add require false option to bcrypt in application Gemfile Because on calling has secure password method then it call require 'bcrypt' Ref L59 L64 Modify docs described about bcrypt in ActiveModel,,"yhirano55,sgrif,yhirano55",2017-09-11 15:34:10,2017-09-11 21:17:36
PR,Fix bug uuid type with a function as default ignored null false,Summary Fixes bug no issues found on GitHub on 4 2 Creating a uuid column with a default function e g uuid generate v4 and not nullable null false would ignore the NOT NULL This fixes restores that functionality Yeah it is on the 4 2 branch but some of us are stragglers,,sgrif,2017-09-11 21:15:08,2017-09-11 21:18:42
PR,Remove needless test case from namespaced generator test,Summary Since 17646 we have been to generate mailer class inherited from ApplicationMailer class default from from example com is generated in ApplicationMailer class it is clearly not generated in its subclasses So I have removed its test case This is the template L1 L17 for mailer class,,"yhirano55,kamipo",2017-09-11 22:02:49,2017-09-11 22:52:57
PR,Encourage html safe API in layouts rendering guide,Summary While the code example was not unsafe it encourages the use of confusingly unsafe APIs specifically html safe We have a safe alternative and we should encourage people to use it under all circumstances I do not know if there is an open issue for this but a quick search does not reveal one Other Information Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation I have added composed with html safe aware APIs I'm not sure if the language is OK or whether or not it should link to output safety for more details,,"georgeclaghorn,georgeclaghorn",2017-09-11 23:52:44,2017-09-12 00:21:15
PR,Fix document on 'alias attribute',Summary If you call alias attribute in a class that inherits the ActiveRecord Base like that details System configuration Rails version Rails 5 1 1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin14,,georgeclaghorn,2017-09-10 09:35:08,2017-09-12 00:27:36
PR,Use escaped character in Regexp,I found an unescaped character in generator test,,yhirano55,2017-09-11 23:53:44,2017-09-12 00:34:16
PR,show tags on errors,Summary solves supports logging errors with log tags,,javan,2017-09-11 18:40:25,2017-09-12 08:12:02
PR,Add missing require in AM AttributeAssignment,Fixes uninitialized constant error,,"eileencodes,georgeclaghorn",2017-09-12 06:54:38,2017-09-12 12:30:49
PR,Merge pull request 1 from rails master,Merge head fork to base fork Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-09-12 14:53:34,2017-09-12 14:54:46
PR,Update docs for dependent option,Fix the documentation for the dependent option the option has the default value purge later Therefore the associated models and files will be removed async via Active Job and not whenever the record is destroyed,,georgeclaghorn,2017-09-12 20:40:33,2017-09-12 21:01:11
IS,database yml Only numbers in database name,Steps to reproduce My database yml file look like this right now database yml This is not a nice solution Expected behavior I Expect it to work as normal Actual behavior It fails System configuration Rails version 5 1 1 Ruby version 2 4 1,,"rafaelfranca,yahonda",2017-06-12 15:08:39,2017-09-13 04:46:16
IS,Payload names for isql active record' instrumentation,Steps to reproduce Here is an executable test case Expected behavior When I subscribe to sql active record when a Post is loaded the payload name is Post Load which is great and seems to set a pattern on payload naming Following that pattern When a Post is created I would expect the payload name to be Post Create or something similar When a Post is updated I would expect the payload name to be Post Update or something similar When a Post is deleted I would expect the payload name to be Post Delete or something similar Actual behavior When a Post is created the payload name is SQL When a Post is updated the payload name is SQL When a Post is deleted the payload name is SQL System configuration Rails version 5 1 4 Ruby version 2 3 1,,rafaelfranca,2017-09-13 03:19:42,2017-09-13 05:14:16
PR,Fix created at ci skip,,,"ydakuka,prathamesh-sonpatki",2017-09-13 06:37:55,2017-09-13 07:02:48
IS,Can auto update columns which keep same value to parent is columns in child model when parent model changed,This is not a bug For instance there are two models to auto update or fill on creating child model is columns which keep same value to parent column,,matthewd,2017-09-11 10:38:28,2017-09-13 12:02:41
PR,Fix active storage firefox,Summary Direct upload on firefox is not working because it can t handle click events on input type submit After a successful upload we can see on console a xml parse error it happens because AWS S3 success body response is empty so changing the reponseType suppress this error Other Information Xml parse error on console is not a problem it works without problem If i use button focus before button click it works too but on next lines of code we have a condition to insert a hidden input submit tag and again firefox cant click hidden input submit tags,,"javan,javan,javan",2017-09-11 14:18:26,2017-09-13 13:44:45
PR,Update Getting Started with Rails ci skip,Summary Update 3 2 Creating the Blog Application creating the blog application Add the description about package json and ruby version,,"yhirano55,vipulnsward,yhirano55",2017-09-13 16:30:30,2017-09-13 17:40:10
IS,Active admin rails problem,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior active admin not working in rails Rails 5 Actual behavior In terminal Started GET admin for 127 0 0 1 at 2017 09 13 20 52 14 0300 Processing by Admin DashboardController index as HTML Completed 401 Unauthorized in 79ms Started GET admin login for 127 0 0 1 at 2017 09 13 20 52 16 0300 Processing by ActiveAdmin Devise SessionsController new as HTML Rendering C RailsInstaller Ruby2 2 0 lib ruby gems 2 2 0 bundler gems activeadmin acff8334b3c3 app views active admin devise sessions new html erb within layouts active admin logged out Completed 500 Internal Server Error in 3761ms ActiveRecord 10 0ms System configuration Rails version Rails 5 1 4 Ruby version ruby 2 2 6p396 2016 11 15 revision 56800 i386 mingw32,,rafaelfranca,2017-09-13 17:57:52,2017-09-13 18:05:24
PR,Update Action View Overview ci skip,Summary Added the semantic version same as generated Gemfile is one L324 L327 to jbuilder,,"yhirano55,kaspth",2017-09-13 16:46:08,2017-09-13 18:24:38
PR,Address random test or with bind params failures,Summary This pull request addresses random test or with bind params failures reported at,,"yahonda,kamipo,yahonda",2017-09-13 22:38:26,2017-09-13 23:23:21
PR,Update Active Job Basics ci skip,Summary Add Sneakers link to documentation list,,yhirano55,2017-09-14 00:32:49,2017-09-14 00:35:16
PR,ci skip We can specify unique indices,This syntax is not well known,,georgeclaghorn,2017-09-14 11:11:48,2017-09-14 11:16:40
PR,Make master key added to gitignore the same value as when creating appplication,For gitignore generated by rails new key with a leading slash is specified L11 Therefore when executing credentials edit also need leading slack In order to avoid such a difference fixed to use same method for rails new and credentials edit,,"y-yagi,kaspth,kaspth,kaspth,kaspth,kaspth,y-yagi,y-yagi,y-yagi,kaspth,y-yagi,y-yagi",2017-09-12 08:43:09,2017-09-14 18:14:26
PR,Backport 29146 to 5 1 stable,This PR backports 29146 to the 5 1 stable branch Fixes 30588,,y-yagi,2017-09-13 22:39:09,2017-09-14 18:15:31
PR,Do not add master key and credentials when pretend option is specified,,,"y-yagi,gsamokovarov,georgeclaghorn,kaspth,y-yagi,kaspth,y-yagi",2017-09-12 08:43:51,2017-09-14 18:16:38
PR,CI against Ruby 2 4 2,Summary,,yhirano55,2017-09-15 01:26:36,2017-09-15 02:46:32
PR,CI against Ruby 2 3 5,Summary,,yhirano55,2017-09-15 01:56:55,2017-09-15 02:46:42
PR,CI against Ruby 2 2 8,Summary,,yhirano55,2017-09-15 01:58:57,2017-09-15 02:46:51
IS,rails server port XXXX listening on 3000,Steps to reproduce,,"y-yagi,y-yagi",2017-09-13 10:05:18,2017-09-15 05:38:53
PR,Update Getting Started with Rails ci skip,Summary Added local true option to all form with,,"yhirano55,kamipo,kaspth",2017-09-15 05:28:06,2017-09-15 13:52:13
PR,Handle the highest priority exceptions in the cause chain,Change to handle the highest priority exception in the exception cause chain rescue from handler that are defined later have higher priority The priority does not depend on outside or inside of composition relation by Exception cause Fixes 29739,,"eileencodes,matthewd",2017-09-14 10:52:33,2017-09-15 17:33:03
IS,Postgres DateRange odd behavior,Steps to reproduce Create a model w a Postgres date range type Expected behavior This seems like odd behavior that when saved the inclusive case displays as 1 day past the end of the range I would think that end would be December 31 2017 after saving Furthermore even though its usefulness may be limited in practice under the definition of exclusive ranges I would expect the end of the exclusive case to be December 30 2017 Actual behavior See steps to reproduce System configuration Rails version Rails 5 1 3 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16,,sgrif,2017-09-15 13:51:42,2017-09-15 19:52:56
IS,ActiveRelation with pop different behavior on Rails 5,Hey there I'm having some wierd behavior on Rails 5 0 6 comparing with 4 1 14 1 Steps to reproduce Lets say that we have an Foo object that inherit from ActiveRecord Base we can do something like Foo limit 3 right Expected behavior In Rails 4 1 14 1 when I execute something like In Rails 5 0 6 when I execute the same code my foo object is a ActiveRelation too but has 3 elements like the pop method did not do anything System configuration Rails version New one 5 0 6 Old one 4 1 14 1 Ruby version 2 2 3,,sgrif,2017-09-15 14:35:02,2017-09-15 19:53:35
IS,Activerecord default method is behaving different in rails 4 2 9 from 4 1 9 autosave associated records for reflection name,Steps to reproduce I was migrating my rails application from rails 4 1 9 to 4 2 9 I have override the following method in my model The idea is to prevent the product being created multiple times with same name This was working fine with rails 4 1 9 and my specs where green After migrating to rails 4 2 9 this seems to be not calling or may be calling after creation I did not find any workaround for this May I know whether there is a change in calling this method after upgrade or any workaround for this Expected behavior I was expected not to create a new product with same name but after the upgrade it is creating a new product System configuration Rails version 4 2 9 Ruby version 2 2 4,,sgrif,2017-09-15 13:18:14,2017-09-15 19:54:09
IS,String truncate returns result with size greater than length when length is smaller than omission length,Steps to reproduce Create a string with size greater than 2 call truncate with length 2 Expected behavior this is a test truncate 2 should return or empty string Actual behavior this is a test truncate 2 returns which is longer than 2 System configuration Rails version 4 2 6 Ruby version ruby 2 2 4p230 2015 12 16 revision 53155 x86 64 darwin16,,matthewd,2017-09-14 09:40:30,2017-09-15 21:15:50
IS,Random ActiveRecord StatementInvalid PG UndefinedTable ERROR s after upgrading to Rails 5 1 1,Steps to reproduce I simply updated from Rails 5 0 3 to 5 1 1 in my project Now when I run tests while in development mode I see errors like this ActiveRecord StatementInvalid PG UndefinedTable ERROR relation end users does not exist Expected behavior Expected tests to run without error Actual behavior Various tests throw errors I always get an error similar to ActiveRecord StatementInvalid PG UndefinedTable ERROR relation end users does not exist But I observed that the errors are not consistent i e during some test runs I see the error on the end users table other times I see the error with other tables While googling this issue I found a StackOverflow Q A which gives me a hint that Spring preloader may be the culprit ActiveRecord error when running rails console Simply stopping Spring before running tests gives me inconsistent results sometimes all tests pass more often some fail However when I do the following 1 Open a new terminal 1 Navigate to my project directory 1 Do spring stop returns Spring is not running 1 Do export DISABLE SPRING 1 1 Do rails t All tests run fine and are green the first time I run them If I do rails t again within the same terminal some tests now fail again different tests fail each time Is there some special upgrade step I might have missed that would cause such an error Is this a known issue with the Spring preloader Is this a bug in ActiveRecord Thank you System configuration Rails version 5 1 1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,"prathamesh-sonpatki,eileencodes",2017-05-20 18:52:09,2017-09-16 02:12:32
PR,Fix typo credentails credentials ci skip,Follow up of ca18922ac23be2cde6963fae9b193c9111bec6f8,,y-yagi,2017-09-16 07:08:05,2017-09-16 07:11:33
PR,Do not expose Active Storage routes,These routes are only used internally in Active Storage and it seems that there is no need for the user to directly use them Therefore I think that routes should not be exposed to users,,"y-yagi,y-yagi",2017-09-16 05:58:31,2017-09-16 21:39:13
PR,Remove Module reachable,It is not used in Rails codebase r,,"bogdanvlviv,matthewd,bogdanvlviv,fxn",2017-09-16 19:13:30,2017-09-16 23:40:22
PR,Remove frozen string literal magic comment from templates,Follow up of 30348,,y-yagi,2017-09-17 00:32:39,2017-09-17 00:59:40
PR,Add tests for credentials command,Added tests that porting over from test commands secrets test rb r,,"y-yagi,kaspth",2017-09-15 05:34:28,2017-09-17 11:42:23
PR,Fix file missing in activestorage is example code ci skip,Summary File open face jpg raise error It seems that it should call File open File expand path face jpg I have changed to File open path to face jpg File expand path is too complex,,"yhirano55,kaspth,yhirano55,kaspth",2017-09-17 01:15:38,2017-09-17 12:20:54
PR,Add local option to Message form ci skip,Summary MessagesController redirects to GET message id It looks it do not expect XHR request form with behaves for XHR by default I have added local true option to form with,,yhirano55,2017-09-17 08:49:42,2017-09-17 13:29:03
PR,Update plugins md ci skip,,,ydakuka,2017-09-17 12:40:29,2017-09-17 14:13:36
PR,Add transaction on create,Summary For keeping its consistency it seems that it is necessary to add transaction block on create ActiveStorage Attached One Before,,"yhirano55,kamipo,yhirano55",2017-09-17 13:04:33,2017-09-17 14:22:04
PR,Fix docs describing rollback ci skip,rails db migrate STEP 2 will not rollback the migrations instead rails db rollback STEP 2 will do the rollback Also rewritten rails db migrate VERSION rails db rollback VERSION for consistency,,dixpac,2017-09-17 14:58:08,2017-09-17 15:16:29
PR,Add mini magick to default Gemfile as comment,Summary If we want to transform image on ActiveStorage we should bundle mini magick I have added comment block to default Gemfile to be easier to install mini magick,,yhirano55,2017-09-17 15:01:11,2017-09-17 15:32:35
PR,Do not run yarn install during assets precompile,See also rails webpacker 405 Yarn just like bundler is usually run explicitly and only when dependencies are updated Invoking yarn on every asset precompilation is unnecessary it can also be problematic if you have cleaned yarn cache prior because you have everything you need yarn install would also run any post install scripts regardless of whether any new dependencies had to actually be installed or not,,"rafaelfranca,matthewd,hone,schneems",2017-06-02 16:32:06,2017-09-17 16:12:38
PR,Remove deprecated ActionCable SubscriptionAdapter EventedRedis,,,"bogdanvlviv,kaspth,bogdanvlviv",2017-09-17 17:15:25,2017-09-17 17:27:26
PR,Remove deprecated ActiveSupport halt callback chains on return false and ActiveSupport halt callback chains on return false,,,"bogdanvlviv,kaspth",2017-09-17 17:16:20,2017-09-17 17:27:42
PR,Remove deprecated ActionView Template Handlers Erubis,Related to 27757,,"bogdanvlviv,kaspth",2017-09-17 17:16:24,2017-09-17 17:28:01
PR,Add missing round bracket in Ruby on Rails 5 1 Release Notes guide,ci skip,,bogdanvlviv,2017-09-17 17:42:52,2017-09-17 18:07:37
PR,Remove unused require in ActiveStorage Variation,Summary It looks that Object in and Object presence in are no longer used in ActiveStorage Variation,,"yhirano55,kamipo",2017-09-18 00:34:32,2017-09-18 01:07:07
PR,Remove the ci skip,,,ydakuka,2017-09-18 05:15:56,2017-09-18 05:21:45
PR,Upcase js ci skip,,,ydakuka,2017-09-18 06:17:25,2017-09-18 06:22:28
PR,Fix quotes ci skip,,,ydakuka,2017-09-18 06:39:47,2017-09-18 06:53:07
PR,Add section to guides for discarding and retrying active jobs ci skip,Small change to document retry on and discard on Thanks Rails maintainers for all your great work,,"kamipo,kamipo",2017-09-18 09:49:23,2017-09-18 13:08:18
PR,Use ApplicationJob instead of ActiveJob Base in guide ci skip,Summary I think it is better to use ApplicationJob instead of ActiveJob Base as same as other examples,,"yhirano55,kaspth,yhirano55,kamipo,yhirano55,kaspth",2017-09-18 13:17:36,2017-09-18 13:25:41
IS,ActiveRecord joins interchanging the arguments,Steps to reproduce Setup System configuration Rails 4 2 9 ruby 2 3 3p222,,,2017-09-14 23:14:44,2017-09-18 18:32:08
PR,Use the default Capybara registered puma server configuration,The puma rails server registered by Rails for system tests does not force Puma into in process mode This means if the user happens to have a config puma rb configuration file which is configuring puma in cluster mode for production it will also run Puma in cluster mode for tests Since cluster mode runs Puma in new processes it defeats the connection sharing needed for transactional testing and prevents Capybara from being able to monitor open connections at the end of tests This PR changes the behavior to just use the default Capybara registered puma server which does pass the needed options and I do not really see the benefit of Rails registering its own server config,,"eileencodes,eileencodes,eileencodes,guilleiguaran,guilleiguaran,guilleiguaran,guilleiguaran",2017-09-17 22:12:51,2017-09-18 20:46:26
PR,Remove unnecessary require statement,Summary This PR removes unnecessary require statement The following features are unnecessary because they are already loaded The same features has already been loaded in Ruby 2 2 2,,"koic,matthewd,matthewd,koic,koic",2017-09-19 05:39:37,2017-09-19 06:06:36
PR,Remove unused NumberToRoundedConverter digits and rounded number,digits and rounded number is unused since 26628,,y-yagi,2017-09-19 09:41:39,2017-09-19 10:16:15
PR,Update action controller overview md ci skip,,,"ydakuka,javan",2017-09-18 21:03:45,2017-09-19 12:26:05
PR,Add comment option for add column ci skip,,,kamipo,2017-09-19 15:14:59,2017-09-19 21:45:26
PR,Use credentials not secrets for Active Storage,According to 30067 dhh This PR will deprecate secrets yml and instead adopt config credentials yml enc to signify what these secrets are specifically for Keeping API keys database passwords and any other integration credentials in one place Therefore the examples for Active Storage should indicate Rails application credentials and not Rails application secrets Additionally the template for the credentials file should have an aws key and not an amazon key since that is what the example config storage yml file expects,,"claudiob,dhh,yhirano55,claudiob",2017-09-18 21:27:04,2017-09-19 22:08:33
PR,Use credentials in storage yml template,Follow up of 30650,,"y-yagi,kamipo,kamipo",2017-09-19 23:12:31,2017-09-20 01:04:52
IS,create join table is not compatible,create join table is not compatible Foreign keys are overwritten with type bigint Confirmed with mysql2 adapter Steps to reproduce System configuration Rails version 5 1 2 Ruby version 2 3 1,,,2017-09-19 10:27:43,2017-09-20 03:37:07
PR,make create join table compatible,Follow up of Fix,,"kamipo,kamipo",2017-09-19 10:29:38,2017-09-20 03:37:07
IS,Active Model cache is out of date after using db migrate as a prerequisite,Steps to reproduce 1 Have a project with 42 migrations where one near the end adds a attribute how to fix to a model called Inspector 2 Create lib tasks sample data rake,,,2017-06-14 03:18:30,2017-09-20 03:55:23
IS,format in routes gets appended to url even if it is not there,Steps to reproduce Make route with format in middle of string observe format also appended to url Testcase Expected behavior only format is subsituted with format Actual behavior format also gets appended to uri System configuration Rails version 5 1 1 Ruby version 2 4 1,,,2017-06-09 19:42:18,2017-09-20 03:55:24
IS,after commit does not work with optimistic locking,Steps to reproduce Expected behavior after commit on update callbacks should fire even when optimistic locking is in use Actual behavior after commit on update callbacks do not fire when optimistic locking is enabled System configuration Rails version 5 1 1 Ruby version 2 4 1,,"matthewd,kamipo,kamipo",2017-06-01 23:34:45,2017-09-20 03:55:25
IS,Order of query results is inconsistent,Steps to reproduce I attempted to reproduce my production bug unsuccessfully here Yet the test case yields insight into the source of the bug I am seeing in production The query I am creating in line 53 gets evaluated to SQL without an order by clause as soon as I execute line 55 Further evaluation of lines 56 and 57 yields no resulting SQL query I am assuming the result of the query is cached somewhere in memory to save I O access to disk Thus query last gets evaluated the last record of a query with no order by clause Problem is query last would be evaluated as the last record returned by the query without an order by clause whereas User where email ' email ' last does issue an SQL statement with an order by clause In this case I was unable to generate a use case where the last result of the query without the order by clause differed from the last result of the query with the order by clause yet this could happen for a larger database as a matter of fact it happens in our production database Expected behavior A bit different from the test case I submitted since my production app is more complex than this simple example In production I would expect the following code to work as per the Rails documentation to yield the last record on the query Actual behavior Instead I am getting the last record returned by the query without the order by clause and not the last record as specified in last System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,kamipo,2017-06-06 00:28:04,2017-09-20 03:55:26
PR,Use RESTful instead of restful,,,yhirano55,2017-09-19 15:39:56,2017-09-20 06:29:58
PR,make documentation consistent with KeyError message,The error being raised in the bang method eg h dog when the key dog does not exist is currently of the form KeyError dog is blank This is inconsistent with the documentation within this class and other classes where KeyError is raised which clearly states error should be of the form KeyError key not found dog This has been fixed EDIT It was concluded that it is the documentation that needed fix and it has been updated,,"kaspth,javan,javan",2017-09-16 19:24:20,2017-09-20 11:29:13
PR,4 2 stable Fix datetime with precision for mysql adapter,It will pass isolated test test per file but somehow created t datetime written on precision 6 causes any side effects and CI will be failed only mysql adapter For example the failures on attribute methods test rb is due to caching emulate booleans false is boolean type it will be fixed by adding Topic reset column information L823 L836 But if added Topic reset column information it will cause new failures test preserving time objects with time with zone conversion to default timezone utc local in base test rb So I decided to skip datetime with precision tests for mysql adapter since the adapter has already been removed after 5 0 it is not worth to fix the side effects in 4 2 stable,,"kamipo,kamipo,kamipo,eileencodes,eileencodes,kamipo,eileencodes",2017-09-18 21:27:55,2017-09-20 12:37:22
IS,can no longer pass directory to rails test runner,As of this change f2bd6d85729cb31b08d77061cf3c7497b4c93393 introduced in 5 1 3 I can no longer pass a directory to the test runner It seems to ignore directories and just run the whole suite Previously the only way I could run my system tests was with rails test test whole suite or rails test test system just system test rails test never ran system tests This might be another unrelated issue and or maybe it is the reason the bug I'm reporting in this issue became apparent to me rails 5 1 2 the failure is expected i put it there to make sure the system tests were running,,"eileencodes,eileencodes,eileencodes",2017-09-20 03:31:17,2017-09-20 16:23:19
PR,Update Layouts and Rendering in Rails ci skip,Summary The example code on this page are similar to ones generated by scaffold generator but some points are different Of course it is no reason to be as same as scaffolding codes But this is the guide for beginners I thought it is better to be almost same as scaffolding codes,,yhirano55,2017-09-15 23:42:02,2017-09-20 17:01:31
PR,Add with attached scope to has one attached macro,Summary To avoid N 1 queries added with attached scope to has one attached macro,,"yhirano55,georgeclaghorn,yhirano55",2017-09-17 09:48:07,2017-09-20 17:04:01
PR,Deprecate Module reachable method,,,bogdanvlviv,2017-09-16 23:35:40,2017-09-20 19:11:34
PR,Update Rails Guides about autosave option,Call attention to the fact that If the autosave option is not set neither true nor false it is not the same as false only new loaded members are saved According to this L21,,eileencodes,2017-09-08 12:55:20,2017-09-20 21:54:13
PR,Update payload names for sql active record instrumentation to be more descriptive,Summary This updates payload names of sql active record instrumentation for create update and destroy operations to match the pattern set up by find and count operations Previous behavior When a Book is created the payload name was SQL When a Book is updated the payload name was SQL When a Book is deleted the payload name was SQL New behavior When a Book is created the payload name is Book Create When a Book is updated the payload name is Book Update When a Book is deleted the payload name is Book Delete Fixes 30586 Other Information Thread from the rails core mailing list topic rubyonrails core yh9lg0nmvOQ,,"eileencodes,eileencodes",2017-09-16 18:25:58,2017-09-20 22:38:57
PR,Update link in The Asset Pipeline guide ci skip,Summary Currently it seems that the link for redirects to So I have fixed it in guide,,yhirano55,2017-09-20 23:12:24,2017-09-21 01:51:03
IS,Segmentation fault with postgresql adapter,Actual behavior Sometimes will running test with guard and spring test crash I have no idea of what can I do to fix this,,,2017-06-09 08:22:47,2017-09-21 04:10:38
IS,ActiveJob enqueued but not performed,Steps to reproduce in config application rb It will performed successful System configuration Rails version 5 1 3 Ruby version 2 4 1p111 Sidekiq version 4 2 10,,y-yagi,2017-09-21 02:27:41,2017-09-21 06:18:58
PR,Do not allow failures for ac integration,Last few CI builds on master branch show that it does not fail too frequently anymore Related to 333af12c00939d11d810e948e950dacf50748eb3 r,,"bogdanvlviv,bogdanvlviv",2017-09-21 07:41:21,2017-09-21 08:13:18
PR,Fix warning ' interpreted as argument prefix,This fixes following warning,,y-yagi,2017-09-21 04:36:19,2017-09-21 10:14:56
IS,Rolling back add index should use the same concurrently algorithm,Steps to reproduce Create and run the following migrations to create a products table with an index System configuration Rails version 5 0 0 beta3 Ruby version ruby 2 2 2,,,2016-03-14 15:30:49,2017-09-21 10:20:24
IS,ent version of rails,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2017-09-21 18:49:24,2017-09-21 18:59:02
IS,add column with type primary key is not compatible,add column is not compatible with option type primary key Confirmed with mysql2 adapter Steps to reproduce System configuration Rails version 5 1 2 Ruby version 2 3 1,,sgrif,2017-09-20 10:06:13,2017-09-21 23:28:58
IS,Rails 4 STI first or create callback problem,Steps to reproduce Run this code Expected behavior When having Animal Cat and Dog STI models Then Cat all should never return any Dog Actual behavior Cat all returns all animals when called inside Dog is after save callback when Dog is created using first or create System configuration Rails version 4 2 9 works in 5 Ruby version 2 3 1,,sgrif,2017-09-20 09:45:46,2017-09-21 23:29:21
IS,has one foreign type wrong default value on a polymorphic relationship,Steps to reproduce From the has one documentation on the foreign type option By default this is guessed to be the name of the polymorphic association specified on as option with a type suffix So a class that defines a has one tag as taggable association will use taggable type as the default foreign type System configuration Rails version 5 1 4 Ruby version ruby 2 3 4p301 2017 03 30 revision 58214 x86 64 darwin15,,sgrif,2017-09-18 16:24:03,2017-09-21 23:30:44
IS,ActiveRecord 5 0 0 1 5 0 6 nested join query syntax change,I had a query that was previously working in ActiveRecord 5 0 0 1 The two changes are that the inner keys needed to be strings and the trips key needed to be pluralized Then the query ran again Steps to reproduce Craft a query with a nested join and nested where clause operating on the join using the hash query syntax and symbol keys Expected behavior The query should run as it did in ActiverRecord 5 0 0 1 Actual behavior A NoMethodError is thrown for the first inner key in the where clause that the singularize method is not present System configuration Rails version 5 0 6 Ruby version 2 3 4,,"sgrif,kamipo",2017-09-21 15:25:08,2017-09-21 23:40:33
IS,Rails runner execution context redefines Task class name to Thor Command,Steps to reproduce Given that Task model or class exists in application Expected behavior bin rails runner Task inspect should return Task call 'Task connection' to establish a connection Actual behavior bin rails runner Task inspect returns Thor Command instead This leads to problems as Task is often used as a model name even in Rails own tests and runner scripts are sometimes used to invoke model is class methods i e Task process incoming It is unexpected that Task in such case is actually a Thor Command class Workaround Use ActiveRecord Base descendants find c c name 'Task' instead of Task in runner scripts System configuration Rails version 5 1 4 Ruby version 2 3 1,,,2017-09-18 10:58:47,2017-09-22 03:31:25
PR,Use TOPLEVEL BINDING in rails runner command,Binding to capture the local scope This means that if a constant with same name as constant specified by the user exists in local scope constant defined in local will use This is different from what the user expects Therefore fixed to use top level binding instead of local scope Fixes 30644,,y-yagi,2017-09-22 01:44:10,2017-09-22 03:31:25
PR,Add option to skip Rails' custom Minitest reporter,Summary Add an option for skipping Rails' custom Minitest reporter Due to how Minitest loads plugins alphabetical order is really hard to control how reporters will be configured Take the following scenario I want to use a custom reporter available through the gem minitest utils Minitest will load plugins using Gem find files 'minitest plugin rb' so this will always return Rails' plugin as the last one from the list Running tests will result in duplicated output even though minitest utils clears the existing reporters With the change proposed by this PR one can run tests like rails test skip reporter This approach is somewhat inspired by minitest pride L5 L7 which is enabled by pride Please also check 30555 which adds this feature to master 5 2 0,,kamipo,2017-09-09 06:20:33,2017-09-22 03:47:54
PR,Implement change table comment and change column comment,Implement change table comment and change column comment for MySql The two methods were defined in PR but only implemented for PostgreSQL,,"kamipo,kamipo,kamipo,kamipo",2017-09-21 17:34:14,2017-09-22 08:44:09
PR,Rubocop trailing comma cops enabling,Summary Hi guys Recently I found several trailing commas in one of active record files Searching by trailing comma was found several merged pull requests in which trailing commas were removed Rails use Rubocop for code analyze and Rubocop has two style cops for this issue TrailingCommaInArguments and TrailingCommaInLiteral In its turn Rubocop has three options for style cops that noted above no comma everything is clear here option choosed by Rubocop by default comma cop requires a comma after the last argument but only for parenthesized method calls where each argument is on its own line consistent comma cop requires a comma after the last argument for all parenthesized method calls with arguments I did not find anything in rails issues about this but I found debate about trailing comma in Multi Line Hashes Arrays and I like Bozhidar opinion issuecomment 4469903 about that I choosed no comma option for all cops and configured Rubocop by enabling TrailingCommaInArguments and TrailingCommaInLiteral to inspect all files of Rails for this purpose Rubocop inspected 2315 files and 136 offenses of this issue was been detected and corrected Result of this work attached as commit for this PR Probably rails community has own point of view about this issue I will be glad to read about it Thanks,,matthewd,2017-09-22 11:51:38,2017-09-22 12:31:42
PR,Ensure 1 AS one for SQL Server with Calculations,During the work done in a regression was caused for SQL Server where derived tables need to create references to column names For example this simple calculation example fails with VS Code screenshot to latest SQL Server on Linux connection screen shot 2017 09 22 at 9 31 54 pm The fix is simple we can use 1 AS one which is even referenced in a const already but in another module Open to alternatives if the usage is not ideal Also it would be super cool if this could be applied to 5 1 stable since v5 1 4 is now broken for us Thanks so much for whomever is time on this too Thanks y'all cc,,metaskills,2017-09-23 01:42:17,2017-09-23 01:47:50
PR,Make bang version work with InheritableOptions,Currently bang version does not work with InheritableOptions InheritableOptions treats the argument Hash as the default value However Hash fetch does not use the default value when key is not found so can not get the default value So in bang version should use Hash instead of Hash fetch,,y-yagi,2017-09-23 09:37:45,2017-09-23 11:51:37
PR,Fix email in Active Support Instrumentation ci skip,Summary s ddh dhh,,yhirano55,2017-09-24 02:28:00,2017-09-24 02:48:25
PR,Fix rails middleware list in api app guide ci skip,Summary It seems that middleware list on api mode is different from actual result MyApi Application Routes is a rack application not a middleware So I removed it,,"yhirano55,kamipo,yhirano55,yhirano55",2017-09-20 22:21:57,2017-09-24 04:47:27
PR,Update Action Mailer Basics ci skip,Summary Includes the ActionMailer Parameterized feature in the Action Mailer Basics guide with an example,,"kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth",2017-09-13 17:21:12,2017-09-24 16:38:15
PR,Add Key Rotation to MessageEncryptor and MessageVerifier and simplify the Cookies middleware,Summary This PR introduces ActiveSupport KeyRotator which wraps KeyGenerator as well as MessageEncryptor and MessageVerifier and provides an interface for easily rotating between different encryption ciphers or message digests salts and secrets This PR also simplifies the cookies middleware and removes several of the internal legacy middlewares Upgrading both signed and encrypted legacy cookies is now handled by rotation capable middlewares which each use a KeyRotator instance Is also introduces a new interface for configuring the middleware Other Information This feature spawned from discussions had in the Rails basecamp I still need to update the configuring and security markdown guides with details of this change I plan on adding a new section the security guide detailing how secrets and salts can be rotated I also want to add more rotation tests to railties test application middleware cookies test rb Any and all feedback is welcomed cc,,"mikeycgto,kaspth,mikeycgto,mikeycgto,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,mikeycgto,mikeycgto,rafaelfranca,kaspth,mikeycgto,rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,mikeycgto,mikeycgto,kaspth,kaspth,kaspth,kaspth,mikeycgto,mikeycgto,mikeycgto,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,mikeycgto,mikeycgto,mikeycgto,kaspth,kaspth,mikeycgto,kaspth,mikeycgto,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,mikeycgto,mikeycgto,mikeycgto,mikeycgto,mikeycgto,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,mikeycgto,mikeycgto,kaspth,kaspth,kaspth,mikeycgto,mikeycgto,kaspth,bdewater,mikeycgto,bdewater,bdewater,kaspth,mikeycgto,mikeycgto,mikeycgto,mikeycgto,mikeycgto,mikeycgto,kaspth,mikeycgto,mikeycgto,mikeycgto,kaspth,kaspth,kaspth,mikeycgto,mikeycgto,kaspth,mikeycgto,mikeycgto,mikeycgto,kaspth,mikeycgto,mikeycgto,kaspth,mikeycgto,kaspth,mikeycgto,kaspth,mikeycgto",2017-07-08 00:32:48,2017-09-24 16:57:53
PR,Refactor Css Generators ScaffoldGenerator,Summary define source root by source root method it do not create file but copy it,,yhirano55,2017-09-24 17:30:50,2017-09-24 19:43:54
PR,Fix links to RotationConfiguration class ci skip,Related to r,,"bogdanvlviv,kaspth",2017-09-24 18:11:07,2017-09-24 19:44:21
PR,Remove unused variable gem version from tasks release rb,,,"bogdanvlviv,kamipo,bogdanvlviv",2017-09-24 19:27:49,2017-09-24 22:36:46
PR,Update Form Helpers guide ci skip,Summary It looks that example codes are not based on actual output So I have fixed it Specifically There are no lines about utf 8 and authenticity token The submit button does not have data disabled with attribute Each attribute order of html element is different from actual ones,,"yhirano55,kamipo,yhirano55,yhirano55",2017-09-15 23:16:46,2017-09-24 23:05:11
IS,log tags do not show on every line for errors,In case of exceptions rails logs do not show log tags do not show on every line,,,2017-09-11 18:37:49,2017-09-25 10:49:19
IS,VERSION in environment value used for rake db migrate causing catastrophic issues,Steps to reproduce export VERSION 0 1 11 bundle exec rake db migrate Expected behavior DB Migration should happen without considering VERSION since VERSION variable was not set for this purpose It could have been set by an independent application In our case it was set as docker container version for the rails app to use and show in view Actual behavior VERSION variable is taken into account and rollback was executed to some random point System configuration Rails version 5 1 x Ruby version 2 4 1 PS Kindly do not say this is default or expected behaviour of rails or activerecord or rake Thank you,,"georgeclaghorn,matthewd,eileencodes,bogdanvlviv",2017-09-25 12:41:26,2017-09-25 13:00:38
PR,PERF Restore memoization when preloading associations,Extracted from Benchmark Script,,"tgxworld,tgxworld",2017-09-25 12:31:53,2017-09-25 13:58:46
PR,New missing backquotes ci skip,,,ydakuka,2017-09-25 12:09:30,2017-09-25 14:12:36
PR,Fix cookie key rotation tests,Summary This commit removes a few skips and fixes up a couple tests related to the cookies middleware key rotation There is also a small fix in this commit for the cookies middleware that properly truncates AES CBC encryption keys to 32 bytes Other Information r,,"mikeycgto,kaspth",2017-09-25 14:25:39,2017-09-25 18:32:15
PR,Fix minor CodeClimate issue,Just minor fix to make CodeClimate happy and to keep consistency with the code base,,"dixpac,kaspth,dixpac",2017-09-25 12:02:14,2017-09-25 18:45:33
PR,Respect quiet option in all process of rails new command,If specify the quiet option expect that no status will be shown However some process show status This suppresses all status output,,"y-yagi,kaspth",2017-09-25 04:26:43,2017-09-25 18:49:20
PR,Preload digest sha2 to avoid thread safe error,Summary I got this error in production using Puma in multi threaded mode Looks like Digest uses const missing to load Digest SHA256 L8 Other information,,"matthewd,matthewd",2017-09-25 12:13:43,2017-09-25 18:57:00
PR,Remove unused fixtures,about yml plugins is no longer used since 82b9b15,,y-yagi,2017-09-25 22:50:14,2017-09-26 00:09:56
IS,Problem in ActiveJob QueueAdapters SneakersAdapter JobWrapper reads only from default queue,There is a fundamental flaw in the ActiveJob Sneakers adaptor When you use enqueue you insert the job into the queue specified in the job So this job class MyJob ApplicationJob queue as my queue def perform puts working end end will correctly insert the job into the rabbit queue named my queue However the JobWrapper will never read from this queue The JobWrapper is hardcoded to read only from the default queue Which means that the message will be stuck in my queue forever never getting processed I'm not sure what the correct way to solve this particular problem is It seems that the JobWrapper should be able to take a parameter that specifies which queue to read from depending on the job it is wrapping If anyone else has run into the same problem I would love to know if you found a way to work around it This problem exists in every rails version that has ActiveJob as far as I can tell,,"utilum,utilum,y-yagi",2017-06-16 08:58:42,2017-09-26 08:34:46
IS,Interface of ajax callbacks,Based on source code fire call L61 and fire definition L22 ajax beforeSend ajax success ajax error and etc callbacks are fired by CustomEvent that contains event detail argument with an array of callback options Previously When we based on jquery ujs we have next interface I can attach PR with such implementation If current implementation is completely right i can build kind of documentation of such behaviour What do you think Thanks,,robin850,2017-05-18 19:29:21,2017-09-26 08:34:47
IS,Bring back before filter and friends as aliases,We deprecated before filter and friends in favor of before action That is a win for new applications but it is an undue burden for gem engines and people who use them While you can easily upgrade your own app it is a lot harder to just upgrade every dependency you rely on And that is just not a proportionate amount of pain to inflict on the ecosystem given the light weight of a few aliases So let is bring back before filter and friends as documented historical aliases to soothe the pain Mea culpa,,"dhh,simi,derekprior,dhh,rafaelfranca,dhh,simi,sikachu,dhh,dhh,kaspth,derekprior",2017-05-10 14:14:17,2017-09-26 08:34:48
IS,Rails5 concurrency with connection and executor wrap interaction,I am exploring concurrency involving new Rails5 API and ActiveRecord I am used to in Rails 4 wrapping all my AR use in 'created' threads in ActiveRecord Base connection pool with connection to ensure the connection is checked back in at end of block This is also one of the recommended ways to use AR with concurrency in the docs In Rails5 I learned from about Rails application executor wrap If I try to do some concurrency wrapping in both executor wrap and connection pool with connection it seems to deadlock This is in a rake task depending on environment in an app where cache classes eager load true to isolate AR issues from autoload issues ruby DEADLOCKS futures 100 times collect do i Concurrent Future execute do Rails application executor wrap do ActiveRecord Base connection pool with connection do SomeModel find or create by value i to s end end end end However the reverse does not deadlock an outer with connection wrapping an executor wrap ruby DOES NOT DEADLOCK futures 100 times collect do i Concurrent Future execute do ActiveRecord Base connection pool with connection do Rails application executor wrap do SomeModel find or create by value i to s end end end end The trick is the former deadlocking version seems quite likely to happen in real code to me Is the deadlock a bug or as intended designed Or is my use of Rails executor wrap in this context a bug for some reason My understanding is that it was required recommended in this case but I might still not get it Are new instructions explaining the AR concurrency contract needed in ConnectionPool to take account of interactions with new Rails5 executor interlock reloader stuff mentioned that he thought maybe Rails executor wrap made connection pool with connection unneccesary but I have not confirmed it yet it is difficult to confirm without monkey patching or reachign into internals of AR AR lacks good API for verifying if you have leaked connections or not In Rails4 connection pool with connection was the safe way to use ActiveRecord without having to know anything about your context If you happened to be a in a thread that had not set up anything AR related it would work great and was required But if you were actually in a Rails request loop action method I believe it would still work fine I think it even worked to nest connection pool with connection in itself So code could just do a with connection without having to have non local knowledge of what things lower in the call stack may have set up or not But with the above behavior if you write such code and then use it possibly indirectly via a call chain in a block that in an outer scope did executor wrap deadlock So the decision about how to handle ActiveRecord concurrency needs to be made at the same code level as the decision about how to deal with ActiveSupport issues handled by executor wrap in the same place coordinated This is unfortunate and makes it harder to write re usable AR code that is concurrency safe In fact I have run into a more complex issue in a real world app that I have not figured out yet To figure it out in the context of Rails5 I went back to some very basic demos to validate my understanding of what is going on and build basic building block knowledge This was the first mystery I encountered,,matthewd,2016-11-03 00:12:25,2017-09-26 08:34:49
PR,Fixed broken bundle exec rake install,I want to try to use edge rails But rake install is broken by activestorage I fixed it,,matthewd,2017-09-26 08:59:18,2017-09-26 10:36:55
PR,5 0 stable,rails update,,,2017-09-26 09:41:10,2017-09-26 10:40:01
PR,Fix typo in 'find in batches' example,Summary The documentation of find in batches used 'invoice' as parameter name but in the block uses 'invoices' For the given example invoices plural makes more sense since the parameter holds a list of objects instead of a single object,,matthewd,2017-09-26 11:58:36,2017-09-26 13:19:43
PR,PERF Partially recover some performance when preloading,Benchmark Script,,"tgxworld,tgxworld,kamipo,tgxworld,kamipo,kamipo,kamipo,tgxworld,tgxworld,tgxworld,kamipo,tgxworld,kamipo,tgxworld,tgxworld,kamipo,tgxworld,sgrif",2017-09-08 14:40:00,2017-09-26 19:04:27
IS,ORM creates wrong sql query if ids is kind of Set,Hi Rails 4 2 7 Ruby 2 2 4,,al2o3cr,2017-09-22 08:42:20,2017-09-26 19:25:48
IS,Rails has many collection create method raises ActiveRecord RecordNotUnique instead of ActiveRecord RecordInvalid,Steps to reproduce I have a model where name should be uniq for each company Expected behavior As per the doc collection create attributes method i has many Does the same as collection create but raises ActiveRecord RecordInvalid if the record is invalid Actual behavior Actually it raises ActiveRecord RecordNotUnique exception System configuration Rails version Rails 4 2 8 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin16,,"al2o3cr,sgrif,sgrif",2017-09-26 06:12:29,2017-09-26 19:35:11
PR,Add an space to RefineryCMS in Engine guide ci skip,Summary According to the official website it seems that RefineryCMS is Refinery CMS See at,,"yhirano55,javan",2017-09-25 19:09:53,2017-09-26 20:21:15
PR,Change github git source for bug report templates,github source uses git url by default https is recommended See security We do the same in our Gemfile and templates,,"bogdanvlviv,kaspth,kamipo",2017-09-26 21:11:12,2017-09-26 21:38:11
PR,Fix handling sets in where conditions,Summary Fixes 30684 Registered ArrayHandler for Set because it behaves like an array Other Information I'm not sure if 1 test case is enough and if this is a right place for this cause I could not find another place where this is tested Test case is here,,"bogdanvlviv,sgrif",2017-09-24 18:00:20,2017-09-26 22:43:08
PR,Use ActiveRecord ConnectionAdapters Quoting quote to quote bounds for a PostgreSQL range,Summary PostgreSQL 9 1 introduced range types and Rails added support for using this datatype in ActiveRecord However the serialization of PostgreSQL OID Range was incomplete because it did not properly quote the bounds that make up the range A clear example of this is a tsrange Normally ActiveRecord quotes Date Time objects to include the milliseconds However the way PostgreSQL OID Range serialized its bounds the milliseconds were dropped This meant that the value was incomplete and not equal to the submitted value An example of normal timestamps vs a tsrange Note how the bounds for the range do not include their milliseconds they were present in the ruby Range Other Information This commit includes tests to make sure the milliseconds are preserved in tsrange and tstzrange columns,,"sgrif,sgrif,sgrif,sgrif,matthewd,sgrif,sgrif,sgrif,sgrif,sgrif",2017-09-26 15:04:14,2017-09-27 00:08:21
PR,Ensure HashWithIndifferentAccess transform keys to return HashWithIndifferentAccess,Currently transform values select and reject return instance of HashWithIndifferentAccess But transform keys returns instance of Hash This behavior is a bit confusing I think that HashWithIndifferentAccess transform keys should also return instance of HashWithIndifferentAccess as well as other methods,,"y-yagi,kamipo,y-yagi,kamipo,matthewd,kamipo,matthewd",2017-09-27 05:09:16,2017-09-27 06:30:52
PR,Install JavaScript dependencies on bin update,Summary refs On above commit aimed to comment out the calling of bin yarn but it was removed from bin update in spite of remaining in bin setup I think it is helpful to us who are using yarn if generated bin update has this code,,"javan,dhh,javan,javan",2017-09-15 18:18:09,2017-09-27 10:12:43
IS,save raises exception on strings containing NULL byte in postgres,Steps to reproduce Given the following app System configuration Rails version 5 1 4 Ruby version 2 4 1 PostgreSQL 9 6 3 Thank you,,"kamipo,matthewd",2017-09-27 10:18:59,2017-09-27 13:11:16
PR,Fixed spelling format frontend application to front end application,Correction made in document,,,2017-09-27 13:08:54,2017-09-27 14:32:36
PR,Nested scaffold should be fine,Summary I run bin rails g scaffold conroller admin users model name User Its works fine but redirect or link url is wrong I fixed it,,,2017-09-27 05:32:30,2017-09-27 15:45:25
PR,Do not depend on the return value of normalize options,Hey all This change clarifies the expected behavior of normalize options Since the current implementation is vulnerable to bugs I think it is more than just a cosmetic change issuecomment 32746700 But I will be happy with whatever y'all decide Hope this helps and thanks for maintaining Rails Summary Currently when normalize options is overridden it always modifies the passed options in place but sometimes it acts as if it should pass the options back This made it a bit confusing when I was overriding this method in my own project and super unexpectedly returned a Proc L353 This PR makes it clear that normalize options is a command method that modifies options in place and that the return values should not be depended on Original Code for Reference actionpack lib abstract controller rendering rb 99 L99 L101,,"kamipo,tenderlove",2017-09-08 20:32:31,2017-09-27 17:02:21
PR,Fixed spelling format frontend to front end,Correction made in document,,,2017-09-27 14:28:14,2017-09-27 17:42:07
PR,activerecord Remove a redundant mutation tracker,cc Pull request added an extra mutation tracker to preserve the old changes behaviour but now that changes behaves the same way as changes to save we do not need both mutation tracker and mutations from database In fact the only time they reference a different object is within changes applied where it made the assignment mutations from database AttributeMutationTracker new attributes but then it called clear mutation trackers which set both mutation tracker and mutations from database to nil This PR removes mutation tracker and instead just uses mutations from database,,javan,2017-08-30 15:01:21,2017-09-27 18:07:13
PR,Add assert enqueued email with to ActionMailer TestHelper,Summary A proposal to add assert enqueued email with to ActionMailer TestHelper We already have assert enqueued email amount and although that certainly is sufficient for most cases it is sometimes nice to be a little bit more specific in what you are expecting I could not get the test suite to run without an exception that I could not diagnose so I hope this passes CI Got the suite to run with bundle exec eventually told me about bin test Is this documented anywhere Should probably add a test case for something with arguments as well Added a test with arguments Added support for parameterized emails,,"kaspth,georgeclaghorn,georgeclaghorn,georgeclaghorn,georgeclaghorn,georgeclaghorn,javan,georgeclaghorn,georgeclaghorn,georgeclaghorn,kaspth",2017-09-24 18:01:24,2017-09-27 21:45:29
PR,Set version in activestorage package json in proper format,5 2 0 alpha 5 2 0 alpha System versioning is not compliant with npm,,bogdanvlviv,2017-09-27 21:01:40,2017-09-28 00:16:08
IS,Nested arrays in parameters are incorrect inside a controller,In Rails 5 0 6 nested arrays params inside a controller have a behavior different from Rails 4 2 9 Steps to reproduce System configuration Rails version 5 0 6 Ruby version ruby 2 2 5p319 2016 04 26 revision 54774 x86 64 linux,,,2017-09-27 11:39:48,2017-09-28 00:29:52
PR,Define Setter methods in ActiveStorage Attached Macros,Summary Currently ActiveStorage Attached Macros has one attached or ActiveStorage Attached Macros has many attached defines only getter methods e g avatar But if it is able to define setter methods e g avatar when it assigns multiple attributes with Strong Parameters it will be more convenient Background views,,"yhirano55,georgeclaghorn,yhirano55",2017-09-28 01:03:35,2017-09-28 01:54:49
PR,Changed spelling CamelCased to CamelCase,Document correction,,georgeclaghorn,2017-09-28 03:13:26,2017-09-28 03:41:53
PR,Spelling correction,Correction made in document,,georgeclaghorn,2017-09-28 02:58:35,2017-09-28 03:42:46
IS,Active storage direct upload not working for s3,Steps to reproduce New rails app with active storage using amazon s3 for storage added policy to user and CORS config The model Finally I get an alert Error storing oceans mp4 Status 0 The submit button is disabled Is this some sort of request signing issue Hope you can help System configuration Rails version master revision 1bb106c0b7b918606a7e94a6abb6ade364cc4270 Ruby version 2 3 1,,,2017-09-26 11:49:09,2017-09-28 08:41:19
IS,Rails 5 1 x does blow up when queries are executed within model class definition,When an autoload for any model class is triggered and it has a querying code in its class definition then starting from Rails 5 1 0 it does not work anymore It happened to me in real life when running tests in CI by using devise for users helper from Devise library in routes which in turn does user contantize and this blows up since ActiveRecord tries to load users table which does not yet exist every time tests are ran it starts from scratch as usual I understand that having a query in model class definition might not be a good practice I'm using it to load administrators and cache them since it is a constant but it was working perfectly in Rails 5 1 0 this can be verified by changing RAILS VERSION constant to 5 0 3 within test script provided below and running it In addition to the crash itself why are routes even loaded when trying to run any db specific tasks Steps to reproduce Here is a code which can be ran in your terminal to reproduce the problem System configuration Rails version 5 1 1 Ruby version 2 3 1p112,,meinac,2017-06-11 16:29:07,2017-09-28 09:19:19
IS,Create association does not roll back,Rails 5 0 2 Ruby 2 3 1 I'm not sure whether this is a feature or a bug For the given models So even though the class Bar throws abort Rollback is not called If this is a feature and I rely on after rollback to undo something crucial elsewhere Then I should not count the create association as reliable or rethink the way I'm undoing crucial code,,al2o3cr,2017-03-22 23:19:55,2017-09-28 09:19:20
PR,Merge pull request 1 from rails master,update base Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-09-28 11:57:55,2017-09-28 11:58:03
PR,Backport Capybara puma defaults to 5 1 x,Summary fixed potential Puma configs in config puma rb overriding the desirable stack for SystemTests but could not be pulled into 5 1 x because it required a Capybara upgrade This just backports the fix to 5 1 x by manually copying over the missing options My first Rails PR Railsbot is but I think for a backport this base branch is correct cc,,"eileencodes,eileencodes,eileencodes,eileencodes,eileencodes",2017-09-25 18:17:43,2017-09-28 17:55:38
PR,Deprecate secret token,This is another take on 30138 where secret token is more strongly deprecated rather than removed following comments by and on Campfire I have created three commits to deal separately with Action Pack Guides and Railties I'm not 100 sure about this PR let me know if that is what you meant by stronger deprecation in 5 2 Thanks,,"claudiob,kaspth,kaspth,kaspth,kaspth,claudiob,kaspth,claudiob,kaspth",2017-08-22 23:55:38,2017-09-28 18:48:06
PR,Fixes for use authenticated cookie encryption,Summary Have the cookies middleware use CBC encryption is this configuration value is set to false Other Information r,,"mikeycgto,kaspth,mikeycgto,kaspth,mikeycgto,kaspth,mikeycgto",2017-09-25 14:27:30,2017-09-28 19:43:21
PR,Preview PDFs and videos,Add a mechanism for generating and storing previews images extracted from non image blobs Provide two built in previewers one that extracts the first frame from a video and one that extracts the first page from a PDF document The video previewer relies on FFmpeg and the PDF previewer relies on mupdf cc,,"georgeclaghorn,dhh,dhh,dhh,dhh,dhh,dhh,dhh,guilleiguaran,sgrif,sgrif,sgrif,dhh,dhh,dhh,kaspth,kaspth,kaspth,georgeclaghorn,dhh,simi,kaspth,dhh,matthewd,bdewater,simi,georgeclaghorn,georgeclaghorn",2017-09-20 18:04:41,2017-09-28 20:43:38
PR,Fix Typo in Testing Guide,,,,2017-09-28 22:52:14,2017-09-29 13:08:38
IS,Has Many association not working as expect,Not sure which gem cause this exception As you can see slot slot details should have two children slot details However it returns an empty array But I can get the two slot details by traversing to slot store then go back to the slot and show its children 5 pry RSpec ExampleGroups Slot slot slot details 6 pry RSpec ExampleGroups Slot slot store slots 0 slot details 0 SlotDetail 0x007fef2657f720 id 23 slot id 13 minimum seats 1 discount 1 5 deposit 1 5 deposit policy MyString created at Fri 29 Sep 2017 01 22 27 UTC 00 00 updated at Fri 29 Sep 2017 01 22 27 UTC 00 00 book type splittable available false remaining seats 5 available seats 5 1 SlotDetail 0x007fef2657f130 id 24 slot id 13 minimum seats 1 discount 1 5 deposit 1 5 deposit policy MyString created at Fri 29 Sep 2017 01 22 27 UTC 00 00 updated at Fri 29 Sep 2017 01 22 27 UTC 00 00 book type splittable available false remaining seats 10 available seats 10 source '' git source github do repo name repo name repo name repo name unless repo name include repo name git end Bundle edge Rails instead gem 'rails' github 'rails rails' gem 'rails' '5 1 3' Use mysql as the database for Active Record gem 'mysql2' ' 0 3 18' ' 0 5' Use Puma as the app server gem 'puma' ' 3 0' Use SCSS for stylesheets gem isass rails' ' 5 0' Use Uglifier as compressor for JavaScript assets gem 'uglifier' ' 1 3 0' Use CoffeeScript for coffee assets and views gem 'coffee rails' ' 4 2' See readme for more supported runtimes gem 'therubyracer' platforms ruby Use jquery as the JavaScript library gem 'jquery rails' Turbolinks makes navigating your web application faster Read more gem 'turbolinks' ' 5' Build JSON APIs with ease Read more gem 'jbuilder' ' 2 5' Use Redis adapter to run Action Cable in production gem aredis' ' 3 0' Use ActiveModel has secure password gem 'bcrypt' ' 3 1 7' Use Capistrano for deployment gem 'capistrano rails' group development group development test do Call 'byebug' anywhere in the code to stop execution and get a debugger console gem 'byebug' platform mri end group development do Access an IRB console on exception pages or by using console anywhere in the code gem 'web console' ' 3 3 0' gem 'listen' ' 3 0 5' Spring speeds up development by keeping your application running in the background Read more gem ispring' gem ispring watcher listen' ' 2 0 0' end Windows does not include zoneinfo files so bundle the tzinfo data gem gem 'tzinfo data' platforms mingw mswin x64 mingw jruby group test do gem guard gem guard rspec gem wouldatabase cleaner' gem 'email spec' gem ishoulda' '3 5 0' gem ishoulda matchers' '2 8 0' end group development test do gem 'rspec rails' gem ispring commands rspec' gem ispring' gem 'rspec deep ignore order matcher' gem capistrano 3 6 0 require false gem capistrano rails 1 1 require false gem capistrano rbenv 2 0 4 require false production server use rbenv gem 'capistrano puma' require false gem 'capistrano file permissions' gem 'god' gem rspec expectations gem 'cancancan' RSPEC gem 'launchy' end gem rails erd gem 'factory girl rails' gem 'factory girl' gem arecursive open struct' gem 'faker' gem 'annotate' show DB attrs gem 'pry awesome print' gem 'zeus' gem awesome print require ap,,al2o3cr,2017-09-29 01:26:47,2017-09-29 15:23:08
PR,Fix formatting in ActionDispatch SSL middleware docs,Before After ci skip,,"tjschuck,tjschuck,eileencodes",2017-09-27 18:53:46,2017-09-29 17:35:48
PR,Fix warning method redefined discarding old test scaffold plural names,Since warning was issued due to duplication of test names fix the test name to a meaningful name This fixes following warnings,,y-yagi,2017-09-29 23:51:08,2017-09-30 00:18:15
PR,Do not use Active Support where it is not needed,This code has been changed with diff 8e5f6b33c191ad6dec07f3288345a13fL47 However active support time is not load automatically so if use Action Pack alone days method can not use and an error occurs In this case I think that there is no problem by specifying a value with Integer,,"y-yagi,kamipo,y-yagi",2017-09-30 00:15:20,2017-09-30 00:40:06
PR,Remove unused methods from RenderPartialWithRecordIdentificationController,These methods no longer used since a3da293,,y-yagi,2017-09-30 08:41:23,2017-09-30 09:11:01
PR,Use add runtime dependency in gemspec,Preferred method for Gem Specification is add runtime dependency method i add runtime dependency add dependency is an alias and is confusing because does not convey the environment and in fact is not even mentioned in RubyGems Guide Specification Reference add runtime dependency Changing this will assure consistency with POLA,,matthewd,2017-09-30 08:36:51,2017-09-30 13:55:05
PR,Fix broken link to recaptcha net,The link to recaptcha net returns a 404 As far as I can tell the new link ought to be to ci skip,,,2017-09-30 19:43:57,2017-09-30 19:45:10
PR,Fix broken link to recaptcha net ci skip,The link to recaptcha net returns a 404 As far as I can tell the new link ought to be to,,,2017-09-30 19:48:24,2017-09-30 19:54:34
IS,How could I disable the buggy association cache,Let is say ReservationDetail is this child after save it will sync its status to its parent However the parent is status just can not be updated in the memory Still keep in the initial status class ReservationDetail ApplicationRecord belongs to reservation validates reservation id presence true validates associated reservation after save update status to reservation def update status to reservation reservation set status self status reservation save end end class Reservation ApplicationRecord has many reservation details def set status status self status status self save end end Another case I need to enforce the child detail 1 reload So that parent slot remaining seats can recalculate the children is value It does not make sense to do this all the time It error prone if we missed put the reload in the code Any idea to discard the buggy unfresh association cache it ishow update the sum up of availability seats back and forth' do slot create slot store date 2017 09 24 time DateTime parse 2017 09 24 20 00 00 detail 1 create slot detail available seats 5 slot id slot id detail 2 create slot detail available seats 10 slot id slot id slot reload expect slot remaining seats to eq 15 detail 1 remaining seats 0 detail 1 save detail 1 reload slot reload expect slot remaining seats to eq 10 end class Slot ApplicationRecord has many details foreign key slot id class name SlotDetail dependent destroy validates associated store validates store id presence true validates date uniqueness scope store id time def remaining seats remaining seats 0 details each do child if child available true remaining seats child remaining seats end end remaining seats end end,,sgrif,2017-09-30 20:26:15,2017-09-30 21:32:56
PR,Remove unused new credentials configuration,new credentials configuration is no longer used since 081a6ac6f7fd929798481f9ee333fb92b441356c,,y-yagi,2017-09-30 23:56:56,2017-10-01 01:19:38
IS,Rails 4 2 1 Cannot create record,,,kamipo,2017-10-01 05:24:57,2017-10-01 05:31:53
IS,Ca not find partial when controller subclasses another controller,Steps to reproduce 1 Generate new Rails app 1 Generate scaffold for Articles 1 Move article table row of index into partial its filepath is articles article to match its to partial path 1 Generate Articles DraftController which subclasses from ArticlesController 1 Route articles draft to Articles DraftController index Example repo I wrote seeds which create two articles for this example Expected behavior 3000 articles draft should find the article partial located in articles article and the page should render exactly the same as 3000 articles except with the published articles filtered out Actual behavior 3000 articles draft looks for the article partial at articles articles article and the page fails to render System configuration Rails version Rails 5 1 1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin16,,,2017-06-15 21:50:05,2017-10-01 10:10:38
IS,Rails 5 is taking off the array is nil values from params,Rails 5 0 6 is taking off the array is nil values from params Steps to reproduce Expected behavior params foobar should returns foo nil bar It is the behavior on 4 2 9 Actual behavior params foobar is returning a two elements array without the nil value foo bar System configuration Rails version Rails 5 0 6 Ruby version ruby 2 2 5p319 2016 04 26 revision 54774 x86 64 linux,,,2017-10-01 13:10:13,2017-10-01 18:10:58
PR,Docker,This is Ishmael the Hunter A bot that tries to dockerize your project This is a very very BETA ay In time Ishmael will become smarter,,,2017-10-02 06:19:40,2017-10-02 06:22:02
IS,Error when dropping a SQLite DB on MS Windows,O S MS Windows 10 but I guess also previous releases Ruby version 2 3 1 but I guess also previous releases ActiveRecord version 5 0 0 1 but I guess also previous releases RDBMS sqlite3 Framework Rails or Sinatra Running the rake db drop command you get the following error Permission denied unlink internal DB pathname follows Could not drop database wouldb development sqlite3' rake aborted Errno EACCES Permission denied unlink internal DB pathname follows Tasks TOP db drop unsafe See full trace by running task with trace It is NOT a matter of access privileges to the SQLite DB file An obvious workaround is to remove the file manually I went through the ActiveRecord source code and I think I found out why this happens When trying to drop the DB i e remove the DB file there is still a connection open to the DB which keeps the file locked preventing it from being deleted probably only on MS Windows systems such connection should be closed before removing the file In my opinion the source file gems activerecord 5 0 0 1 lib active record tasks sqlite database tasks rb should be modified as follows 1 Delegate also the remove connection method delegate connection establish connection remove connection to ActiveRecord Base 2 Modify the drop method as follows def drop require 'pathname' path Pathname new configuration wouldatabase' file path absolute path to s File join root path remove connection FileUtils rm file rescue Errno ENOENT error raise NoDatabaseError new error message error end,,"prathamesh-sonpatki,rafaelfranca",2016-11-11 15:52:14,2017-10-02 11:18:35
PR,Add link to Rack website,ci skip Summary Complete Getting Started with Rails guide by adding a link to Rack website,,"kamipo,kamipo",2017-10-02 11:45:46,2017-10-02 13:50:18
PR,2 3 stable,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-10-02 18:51:02,2017-10-02 18:59:02
PR,Mention bin test in contribution guides,The guides do not mention bin test As a very new contributor I needed to tell me to do so I had some troubles with ActiveRecord though As I understand it it is the only lib with special instructions adding the adapter argument I could not get it to work though bin test a mysql2 just ran it with sqlite3 ARCONN mysql2 bin test did pick it up I still need to describe how to Run bin test for ActiveRecord with a single adapter Run bin test for ActiveRecord with every adapter I looked at how CI runs them and it looks like they use the rake tasks So we could also just keep the AR docs as they are Any tips are greatly appreciated and I will update this accordingly I was also unsure if I should add a short explanation as to why we have this special setup But I could not decide if it was important for newcomers or just an unnecessary detail,,matthewd,2017-09-29 07:41:35,2017-10-02 21:33:53
PR,rails ujs Update README,Make various wording tweaks to cater to users who are viewing the README on NPM Notably do not highlight Yarn specifically in the installation instructions even though this is the preferred tool of choice especially in the Ruby community some people still use NPM and really ES2015 syntax has nothing to do with NPM or Yarn,,,2017-10-02 21:46:01,2017-10-02 22:40:17
PR,add the comment to the point rb file,,,kamipo,2017-10-02 23:34:18,2017-10-02 23:48:54
PR,Add test case for font url,Since test of font url was not in Action View is test suite so it added,,y-yagi,2017-10-02 23:54:36,2017-10-03 00:42:05
IS,previous changes is empty if two models have autosave true for each other,I have a code where previous changes are used in after commit callback But it shows empty previous changes when it should not so I created a test case to reproduce this I think this can be fixed in a way similar as in nested records changed for autosave i e adding special variable to avoid modifying root record Steps to reproduce Some explanations are provided in the gist Expected behavior previous changes should not be empty Actual behavior previous changes is empty System configuration Rails version 4 2 7 1 5 0 0 5 1 0rc1 tested on these versions I'm almost sure older versions affected too Ruby version 2 3 0,,,2017-03-20 15:23:49,2017-10-03 11:52:54
PR,Fix third party system libraries list in ActiveStorage Preview ci skip,Summary I removed needless indentation in the document of ActiveStorage Preview Before it seems that there are interpreted as code image After There are interpreted as the list image,,yhirano55,2017-10-03 18:40:37,2017-10-03 21:01:37
IS,Cannot unscope 'where' values that appear in quotes,Many publishing platforms use a where clause to filter articles by their publication date i e to hide articles with a publication date in the future However the where syntax does not offer a clean way to express gt lt relations leading to code like this in which the where clause is expressed as a string rather than a hash This works This can be cleanly unscoped However this seems extremely awkward and un Rails like Note that date ranges with negative infinity appear not to work hence the even more awkward not part of the clause Perhaps there is a more elegant solution here but this seems like a relatively common use case Would it be helpful to build in support for unscoping attributes that appear in the string part of where clauses If this seems useful I can look into making a PR for this If there s another easier solution entirely however I am all ears,,"brchristian,kamipo,brchristian",2017-10-03 16:47:41,2017-10-03 21:12:02
PR,Fix formatting of Time use zone ci skip,before before after after,,y-yagi,2017-10-04 09:24:17,2017-10-04 09:26:11
IS,HABTM broken when primary key prefix type set,HABTM defaults to expecting a join table without a primary key However if primary key prefix type is set inserts to the join table will attempt to write to its primary key Steps to reproduce Expected behavior The anonymous through model should not assume its table has a primary key but instead check with the db before attempting to insert Actual behavior The anonymous through model derives its primary key from the global primary key prefix type and assumes this key exists Note that changing the has and belongs to many to a has many through and using an explicit model lets you work around this by setting primary key nil but this defeats the purpose of has and belongs to many System configuration Rails version 5 0 2 Ruby version 2 3 1,,vipulnsward,2017-03-21 05:25:51,2017-10-04 12:07:35
PR,Encourage html safe API in layouts rendering guide,This is a second pass at cc Summary While the code example was not unsafe it encourages the use of confusingly unsafe APIs specifically html safe We have a safe alternative and we should encourage people to use it I do not know if there is an open issue for this but a quick search does not reveal one Other Information Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation I have added composed with html safe aware APIs I'm not sure if the language is OK or whether or not it should link to output safety for more details,,,2017-09-27 17:16:19,2017-10-04 12:43:22
PR,Implement H2 Early Hints for Rails,When puma puma 1403 is merged Puma will support the Early Hints status code for sending assets before a request has finished While the Early Hints spec is still in draft this PR prepares Rails to allowing this status code If the proxy server supports Early Hints it will send H2 pushes to the client This PR adds a method for setting Early Hints Link headers via Rails and also automatically sends Early Hints if supported from the stylesheet link tag and the javascript include tag Once puma supports Early Hints the early hints argument can be passed to the server to enable this Note that for Early Hints to work in the browser the requirements are 1 a proxy that can handle H2 and 2 HTTPS To start the server with Early Hints enabled pass early hints to rails s This has been verified to work with h2o Puma and Rails with Chrome The commit adds a new option to the rails server to enable early hints for Puma Early Hints spec cc who I worked with on this feature In the screenshot below you can see the pushes from early hints screen shot 2017 09 26 at 1 26 57 pm,,"eileencodes,kaspth,kaspth,kaspth,kaspth,kaspth,kaspth,matthewd,kaspth,grosser,grosser,matthewd,eileencodes,eileencodes,eileencodes,eileencodes,eileencodes,grosser,eileencodes,eileencodes,eileencodes,guilleiguaran,eileencodes",2017-09-28 18:50:53,2017-10-04 13:48:37
PR,Add newline before git source in Gemfile templates,Related to a151d8ad89a3d353160d85945ab9ad44cb9e6f7a issuecomment 332452556 cc,,"bogdanvlviv,matthewd",2017-10-04 20:56:42,2017-10-04 21:32:00
IS,Reloading has and belongs to many association before persisting results in strange behavior,Specifically for has and belongs to many associations not reproducible for has many I tried appending to a collection and then reloading before persisting the parent object clears the association Script to reproduce Note that reloading before saving post results in post comments first nil but post comments first is a Comment without the reload Steps to reproduce Script to reproduce Expected behavior Objects in the association should be accessible Actual behavior Objects in the association are missing System configuration Rails version 5 3 1 Ruby version 2 4 2,,,2017-10-05 02:43:43,2017-10-05 02:48:35
PR,ActionCable use find method when unsubscribing,Summary If a frontend for some reason tries to unsubscribe from a non existing action cable subscription the following error is logged It is a subtle difference but it helps a lot when debugging,,kamipo,2017-09-25 10:03:15,2017-10-05 09:30:30
IS,Inflector I18n fallbacks do not play well together,Steps to reproduce System configuration Rails version 5 0 2 Ruby version 2 4 1p111,,maclover7,2017-05-03 13:05:23,2017-10-05 12:35:35
PR,Accept requests sent with no referrer in Chrome,Summary Fixes When a meta tag is set for referrer no referrer Firefox omits the Origin header while Chrome sets it to a string containing null This change ensures Rails behaves consistently across browsers,,"maclover7,sgrif",2017-03-06 00:49:06,2017-10-05 18:55:11
IS,Rails can not save model with serialized Array when column has null false,Steps to reproduce Open activerecord test cases serialized attribute test rb and update the following test by adding the last line assert equal light save true System configuration Rails version 4 2 10 but this code is unchanged in all newer versions and I expect the same bug and behavior everywhere Ruby version 2 4 2 MRI,,"sgrif,sgrif,matthewd",2017-10-05 08:29:46,2017-10-05 20:36:31
PR,Use callee to pass alias instead of original method name,Summary left joins is alias for left outer joins in ActiveRecord QueryMethods I think passing callee to check if method has arguments makes more friendly error message for the users Before Other Information none,,,2017-10-05 04:51:19,2017-10-05 20:39:39
PR,link tags should not depend on the request,Summary commitcomment 24791215 Thanks for contributing to Rails,,"rafaelfranca,rafaelfranca",2017-10-05 21:38:27,2017-10-05 23:59:00
IS,validates numericality greater than other method fails with non numeric comparison values,Given this class I would like to write a patch and PR to turn this into a validation error rather than an exception but I'm unsure of how to structure the validation message since the error involves another attribute Advice is appreciated,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-02-10 23:07:55,2017-10-06 03:20:06
IS,Association with scope generates the right SQL but returns the wrong records,Steps to reproduce System configuration Rails version Rails Master Ruby version ruby 2 4 2p198 2017 09 14 revision 59899 x86 64 linux,,"tgxworld,kamipo,tgxworld",2017-10-06 02:21:30,2017-10-06 03:42:18
PR,Remove redundant argument connection,It is not used anymore since 60440a68b13a5408cd9c492cc2eaed2e68f95bd7,,"bogdanvlviv,kamipo",2017-10-06 05:03:25,2017-10-06 06:15:36
IS,undefined method find in source paths,L55 Can anybody help me locate this method It throws NoMethodError on using migration template method,,,2017-10-06 10:22:12,2017-10-06 11:35:40
IS,Session in controller to not always have the same class,Steps to reproduce Retrieving the session from the controller does not always return the same object type Normally the session would be of type ActionDispatch Request Session but there are cases where it will be an empty Hash This makes it hard to use method that are only available in the Session class eg session loaded Around rails code there are conditionals to go around this by adding a conditional around the object type L73 L75 In some other cases it check if the session respond to a specific method L327 I tried to poke around myself to open a draft but this is spread all across the place There seems to be session logic in many layers that do not have full context on the store being used The current code path I'm working on can reproduce the issue as I invoke a rails engine directly L520 L524 I suspect there are easier way to reproduce the same result And then from a controller retrieving session gives me an empty Hash Expected behavior I would expect a call to session from a controller to always return a ActionDispatch Request Session or a nil Actual behavior Calling session can return a ActionDispatch Request Session or a Hash depending on different factors System configuration Rails version 5 0 3 Ruby version 2 3 3p222,,,2017-06-13 18:12:10,2017-10-06 12:44:49
IS,Params wrapper is trying to safe constantize wrong class based on url instead of what is present,Steps to reproduce 1 Clone and run this app 2 Run below curl command Expected behavior Looks like params wrapper is assuming there must be a class named Star in star rb based on passed URL but that is wrong the related model class does not exist but a name scoped class class Galaxy Star actually exist there Actual behavior Should not throw the error System configuration Rails version I have used Rails 5 1 2 but error exists for 5 0 1 app too Ruby version ruby 2 3 3p222,,"anildigital,rafaelfranca,anildigital,rafaelfranca,matthewd,anildigital",2017-06-29 12:26:21,2017-10-06 12:44:50
PR,Missing backquotes in the guides,Add backquotes where missing,,"ydakuka,matthewd,eileencodes",2017-10-06 06:10:15,2017-10-06 12:45:52
IS,Upload from URL with ActiveStorage,Is it possible yet to do an upload from a remote URL with ActiveStorage Solutions like CarrierWave Upload remote image urls to your seedfile offer this possibility which is extremely useful in many cases Happy to provide a PR to do this,,georgeclaghorn,2017-10-06 08:32:27,2017-10-06 13:16:00
PR,Bring back overridable Rails confirm dialogs,Summary My PR brings back overridable confirm dialogs making it an overridable function Rails confirm which was removed when Rails stopped using jQuery and all rails ujs code was rewritten in pure javascript as now is very difficult to implement custom dialogs and keeping it simple using data confirm attributes,,,2017-10-06 07:59:45,2017-10-06 13:18:22
PR,Added a way to silence test output,details summary Weird output with a custom reporter summary details If an app decide to have custom test output using a different reporter it would not display nice as rails will output things as well The custom reporter can of course take care of disabling the Rails TestUnitReporter the same way rails does by disabling L42 Minitest default reporter The problem is that the custom reporter needs to be loaded after the rails one minitest loads the plugin alphabetically L92 I feel like having an explicit configuration flag make things much easier,,"Edouard-chin,Edouard-chin,kirs,Edouard-chin,Edouard-chin",2017-07-27 18:05:56,2017-10-06 14:27:30
PR,Add v5 1 to earlier releases list in guide ci skip,Summary Added v5 1 link to earlier releases list,,"yhirano55,prathamesh-sonpatki",2017-10-07 02:23:35,2017-10-07 02:28:32
PR,Remove needless setup from InfoTest,The abstract unit loads rails all Therefore Rails is definitely defined Also since Info is autoloaded do not need to explicitly load the file L29,,y-yagi,2017-10-07 02:57:40,2017-10-07 03:21:40
PR,Update Instrumentation guide for Active Storage ci skip,Summary Added Active Storage section to Active Support Instrumentation guide Sources ActiveStorage Service instrument L109 L113 service upload active storage L19 L22 service streaming download active storage L27 L33 service download active storage L35 L37 service delete active storage L42 L48 service exist active storage L52 L56 service url active storage L60 L76 generated page image image,,yhirano55,2017-10-07 03:30:39,2017-10-07 03:40:03
PR,Fix where with relations in an array,Reopen 28539 Subqueries cannot be in the IN so it should be excluded in values Fixes 26541,,"kamipo,sgrif,kamipo",2017-07-25 10:45:00,2017-10-07 05:07:52
PR,ci skip Fix typo,,,kamipo,2017-10-06 21:59:28,2017-10-07 06:05:37
IS,action cable disconnects when files change,Steps to reproduce Touch an application source file i e a view Do an HTTP request on the server Action Cable connection is closed It will immediately open again if you do a connection open on the client This prevents tools like js hot reloader from working Expected behavior There should be some kind of documented signal callback so that the application knows that connection is offline Better yet would be some way to turn off this behavior or choose what you want to do,,matthewd,2017-06-07 15:16:09,2017-10-07 12:41:50
IS,rails new edge Could not find gem 'arel 9 0 0 alpha,Hello I thought I would start a side project using edge rails for the first time but I could not get the install script to complete due to a missing dependency on arel 9 0 0 alpha Steps to reproduce rails new demo edge Expected behavior The install script should complete without errors Actual behavior The application cannot be bundled the same error is repeated for actionview activemodel activesupport as for activerecord below System configuration Rails version master Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin15,,,2017-10-08 08:08:56,2017-10-08 08:13:12
PR,Fix default of String to time ci skip,The default of String to time is local since b79adc4,,y-yagi,2017-10-08 09:38:20,2017-10-08 11:01:49
PR,Fix radio button tag comment,Summary Fix radio button tag comment Colons periods etc can also be included in id The sanitize to id method does not remove them,,eileencodes,2017-10-08 01:30:47,2017-10-08 12:05:07
PR,Add security txt to rails app template,Summary Security txt defines a standard to help organizations define the process for security researchers to securely disclose security vulnerabilities Other Information,,"georgeclaghorn,georgeclaghorn,matthewd,matthewd",2017-10-07 14:02:40,2017-10-08 14:35:27
PR,Exception message for SystemTestCase get etc,If I call get on SystemTestCase it say 'NoMethodError NoMethodError' It is hard to know what happen,,"kamipo,kamipo,kamipo,eileencodes,eileencodes,matthewd,eileencodes",2017-10-06 06:28:19,2017-10-08 15:03:45
IS,ActiveStorage variant raises Errno ENAMETOOLONG,Steps to reproduce Expected behavior no Errno ENAMETOOLONG exception Actual behavior Errno ENAMETOOLONG exception is raised because the file name is too long System configuration Rails version master 07bac9ef93d98a1e31cd5b2ce2aabc1e57816604 Ruby version 2 3 5 OS Ubuntu 16 04,,,2017-09-20 07:00:21,2017-10-08 21:30:44
PR,Break long variant filenames into path chunks,Summary If a variant has a large set of options associated with it the generated filename will be too long causing Errno ENAMETOOLONG to be raised This change adds intermediary paths that retain the uniqueness of the variant while not raising the aforementioned error until the overall 1024 path limit is exceeded Fixes 30662 Other Information Initially I was worried about needing to join the chunked paths in order to be able to decode the data back into the variant information I'm no longer sure if that is a valid use case Any insight as to the validity of this belief would be useful Also all this code basically came from the reporter,,"rafaelfranca,georgeclaghorn,matthewd,georgeclaghorn,georgeclaghorn,georgeclaghorn,georgeclaghorn,georgeclaghorn,matthewd,georgeclaghorn,matthewd,georgeclaghorn",2017-10-04 19:34:45,2017-10-08 21:30:44
PR,Fixes ActiveSupport Cache FileStore cleanup bug which prevented it from removing expired entries,Summary ActiveSupport Cache FileStore cleanup implementation was silently failing to remove expired entries from the cache storage directory This was due to the implementation itself failing to read the entry properly during the cleanup call The read entry method here should receive the actual fname instead of key to retrieve this entry otherwise it will just return nil and never calls delete entry This was already reported here,,,2017-10-03 07:50:30,2017-10-08 21:40:40
PR,Adapters bubble up gem version mismatches for their dependencies,Deal with 30527 misleading error when an optional adapter fails to load its required dependencies Distinguish missing adapter gems from load errors within the adapter When the adapter is missing raise an exception that points out config typos and missing Gemfile entries We can assume that a non builtin adapter was used since these are always available When loading an adapter raises a LoadError prefix its error message to indicate that the adapter is likely missing an optional dependency References 30748,,"jeremy,matthewd,matthewd,matthewd,jeremy,matthewd,jeremy",2017-09-30 03:47:33,2017-10-08 23:14:03
IS,redis gem 4 incompatibility Specified aredis' for Action Cable pubsub adapter but the gem is not loaded,Steps to reproduce Using ActionCable 5 1 3 with the redis gem upgraded from 3 3 3 to 4 0 0 and attempting to broadcast on a channel seems to yield this exception Going back to 3 3 makes AC work again as expected Expected behavior AC should work Actual behavior An exception is raised indicating the gem is not loaded but it seems to be Going back to 3 3 makes AC work again as expected System configuration Rails version 5 1 3 Ruby version 2 4 1,,matthewd,2017-09-05 20:49:58,2017-10-08 23:14:56
PR,redis rb 4 0 support,Loosen Redis version dep to 3 3 5 Bump redis namespace for looser Redis version dep Avoid using the underlying redis client directly Use Redis new instead of Redis connect Pending gem releases for Sidekiq redis namespace and resque scheduler Fixes 30527,,"jeremy,matthewd,jeremy,eileencodes",2017-09-29 05:12:41,2017-10-08 23:14:56
PR,Fix typo in loading error message,s Action Record Active Record,,y-yagi,2017-10-08 23:54:44,2017-10-09 00:20:42
PR,Fix the result of rails routes in Guide ci skip,Summary It seems that the result of bin rails routes is different between guide and actual According to the guide getting up and running it defines get 'welcome index' in routes But the result of bin rails routes does not welcome index GET webcome index format welcome index So I fixed it,,"yhirano55,kamipo",2017-10-09 00:50:29,2017-10-09 01:14:38
IS,ActionCable upgrade to Redis 4,Steps to reproduce bundle up without a constraint on the Redis version Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Action Cable works Actual behavior Tell us what happens instead ActionCable fails and reports that the Redis gem is missing System configuration Rails version 5 1 4 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin17 ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,kamipo,2017-10-09 02:22:51,2017-10-09 02:32:41
PR,Use form with instead of form for in engine guide ci skip,Summary Currently in scaffold generator it use form with instead of form for So I think that it is better to replace form for with form with in the guide And partial file app views blorgh articles form html erb is actually defined as form with So I replaced f label with form label Because the block argument is not f but form Please check here L1,,"yhirano55,kamipo,yhirano55",2017-10-09 01:25:03,2017-10-09 02:56:25
PR,Add datalist option to text field helpers,Summary This is a new PR to try and add support for associating a HTML datalist with a given input by passing a datalist option to the form helper and form tag helper methods For example Other Information Previously 26398 was opened to create new form helper and form tag helper methods for datalists and the text type input,,,2017-10-05 04:26:25,2017-10-09 02:57:00
IS,bind index out of range,Steps to reproduce Expected behavior SELECT comments FROM comments INNER JOIN posts ON posts id comments entity id AND comments id IN SELECT comments id FROM comments WHERE comments entity type 1 no exception Actual behavior 4 2 9 mysql OK postgres OK sqlite OK 5 1 4 stable mysql OK postgres ActiveRecord StatementInvalid PG IndeterminateDatatype ERROR could not determine data type of parameter 2 SELECT comments FROM comments INNER JOIN posts ON posts id comments entity id AND comments id IN SELECT comments id FROM comments WHERE comments entity type 1 sqlite ActiveRecord StatementInvalid SQLite3 RangeException bind or column index out of range SELECT comments FROM comments INNER JOIN posts ON posts id comments entity id AND comments id IN SELECT comments id FROM comments WHERE comments entity type 5 2 0 master mysql ActiveRecord StatementInvalid Mysql2 Error Not unique table alias 'comments' SELECT comments FROM comments INNER JOIN posts ON posts id comments entity id INNER JOIN comments ON comments entity id posts id AND comments entity type 'Post' AND comments id IN SELECT comments id FROM comments WHERE comments entity type 'Post' postgres ActiveRecord StatementInvalid PG DuplicateAlias ERROR table name comments specified more than once SELECT comments FROM comments INNER JOIN posts ON posts id comments entity id INNER JOIN comments ON comments entity id posts id AND comments entity type 1 AND comments id IN SELECT comments id FROM comments WHERE comments entity type 2 sqlite ActiveRecord StatementInvalid SQLite3 SQLException ambiguous column name main comments id SELECT comments FROM comments INNER JOIN posts ON posts id comments entity id INNER JOIN comments ON comments entity id posts id AND comments entity type AND comments id IN SELECT comments id FROM comments WHERE comments entity type System configuration Ruby version ruby 2 4 3p200 2017 09 15 revision 59914 x64 mingw32,,,2017-09-21 22:23:34,2017-10-09 07:17:14
PR,Use released sidekiq instead of master version,The sidekiq 5 0 5 includes redis rb 4 0 support Ref 505,,y-yagi,2017-10-09 11:53:31,2017-10-09 15:26:34
IS,InvalidAuthenticityToken raised when setting Referrer Policy no referrer header,Steps to reproduce 1 Set the following in application rb or an environment file And request origin 'null' returns true because Chrome now sets it to a string of null This would be a great issue to fix since we set this header for strict privacy reasons see here,,sgrif,2017-09-19 20:29:13,2017-10-09 18:29:19
IS,initialize' uninitialized constant Pry WorkSpace NameError,Steps to reproduce System configuration Rails version 5 1 4 Ruby version 2 3 1,,sgrif,2017-10-09 18:00:03,2017-10-09 19:09:49
PR,Express change column comment as public api,Implemented by 22911 Related to 30677,,bogdanvlviv,2017-10-04 11:06:31,2017-10-09 19:11:13
PR,Simplify parse arguments in ConsoleTest,If need a parse result of arguments can obtain it by creating an instance of the command,,y-yagi,2017-10-08 04:14:38,2017-10-09 19:21:47
IS,Meta referrer no referrer causes all posts to fail in Chrome,Steps to reproduce Add this to your head meta name referrer content no referrer Create a form with method 'post' that points to a route on the same origin go to the form in Google Chrome and click submit Expected behavior I'm reporting this as an issue instead of a PR because I'm not quite sure of the expected behavior The request is failing because Chrome sets the Origin header to the string null My instinct is that the request should succeed since the valid request origin method allows for the Origin header to be missing altogether L400 However I'm not an expert in CSRF and recognize the proper solution might be not to utilize this meta tag in the head Actual behavior The request fails during the valid request origin check System configuration Rails version 5 0 2,,"pixeltrix,pixeltrix,sgrif,sgrif,sgrif,sgrif",2017-03-05 21:23:18,2017-10-09 19:36:42
PR,ActiveRecord Relation should never return nil,If you try to compare ActiveRecord Relation with something other than Associations CollectionProxy AssociationRelation itself or Array you will get nil But I think it is common for methods to return booleans,,sgrif,2017-10-07 10:57:42,2017-10-09 19:39:44
PR,Include Mutex m into GeneratedAttributeMethods instead of extending instance,Summary An instance of the GeneratedAttributeMethods class is included into every AR model as a module on which to define attribute methods with define attribute methods It is therefore quite an important module in a model is ancestors but currently it is quite hard to distinguish from other modules Here is an example of an ancestor chain Although this is a small change I think the visibility of the module in the ancestor chain is valuable for debugging and generally understanding where methods are being defined,,"shioyama,matthewd,shioyama,shioyama,matthewd",2017-10-08 12:42:38,2017-10-09 20:40:37
PR,Improve railties' tests,Remove redundant execution of Dir chdir app path in railties' tests strike Improve RakeTest test not protected when previous migration was not production strike strike Allow failure for db test prepare to ensure the test wou not raise error RuntimeError rails command failed 1 bin rails db test prepare 2 1 strike strike Prevent redundant execution of bin rails test inside the test strike strike Invoke rails command inside the railties' test app with TestHelpers Generation rails See 30520 Improve RakeTest test db test prepare when using sql format Remove redundant setting RAILS ENV for db test prepare db test prepare does not require it cc,,"bogdanvlviv,matthewd,bogdanvlviv,matthewd,bogdanvlviv,matthewd,bogdanvlviv,matthewd,bogdanvlviv,matthewd,bogdanvlviv,matthewd,bogdanvlviv,matthewd,bogdanvlviv,bogdanvlviv,bogdanvlviv",2017-09-13 21:40:19,2017-10-09 20:43:17
IS,some api docs pages have unescaped html in meta tag content attributes,,,"matthewd,fxn,fxn,robin850,fxn,fxn,fxn",2017-10-04 18:25:15,2017-10-09 21:12:37
IS,Possible Feature Discussion Optional Predicate Methods For AR Scopes,So I have not really contributed code to rails before and it is entirely possible this has been rejected previously though I did perform an obligatory search but if I for instance had,,sgrif,2017-10-07 23:02:55,2017-10-09 21:43:42
IS,Use lazy url for into link to,Hello I notice that here L197 in link to we always construct the URL not taking into account if it is gonna be used or not The current implementation is,,rafaelfranca,2017-10-10 09:44:24,2017-10-10 13:22:30
PR,Remove to hash deprecation message when params are permitted,Hello rails team Remove to hash deprecation message when params are permitted to hash deprecation makes things a bit tricky for a developer to find out what in their app they need to modify in order to safely turn on the raise on unfiltered parameters flag in production The message is the same whether the params are permitted or not Removed the deprecation message when to hash gets called on a permitted params cc,,"Edouard-chin,rafaelfranca,matthewd,matthewd,rafaelfranca,Edouard-chin,matthewd,rafaelfranca,matthewd,rafaelfranca,Edouard-chin,matthewd,Edouard-chin,matthewd,matthewd,Edouard-chin",2017-10-03 20:27:40,2017-10-10 13:53:12
PR,Update security guide for signed cookie rotations,Summary The signed cookies example in the security guide was slightly incorrect This commit also adds a test case for this example to cookies middleware unit tests This PR is related to PR rails rails 29716 cc,,mikeycgto,2017-10-10 01:15:50,2017-10-10 14:13:58
PR,Add allow other host option to redirect back method,This PR adds allow other host option to redirect back method When allow other host false redirection back to URLs from different host is not allowed allow other host is true by default to make it backward compatible,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca,bogdanvlviv",2017-10-10 11:21:35,2017-10-10 16:51:03
PR,ci skip Fix grammar and punctuations,,,matthewd,2017-10-11 00:43:18,2017-10-11 01:36:32
PR,Fix some typos ci skip,Found a few misspellings and fixed them,,,2017-10-11 03:13:45,2017-10-11 03:29:36
IS,Join Queries Defined in Scopes Disappear when Eager Loading,Brief Explanation This is a bug with the includes eager loading system where join queries defined in scopes disappear causing invalid SQL to be generated Model Setup Example ThingWhichHasEvents For some reason the join needed for the user events scope in Event was removed System configuration Rails version 5 0 2 Ruby version ruby 2 3 3p222 2016 11 21 x86 64 linux gnu Database Postgres 9 5,,kamipo,2017-10-11 15:59:56,2017-10-11 23:21:50
IS,Eager loading a scope with a join results in the join disappearing,Brief Explanation This is a bug with the includes eager loading system where join queries defined in scopes disappear causing invalid SQL to be generated Model Setup Example ThingWhichHasEvents For some reason the join needed for the user events scope in Event was removed System configuration Rails version 5 0 2 Ruby version ruby 2 3 3p222 2016 11 21 x86 64 linux gnu Database Postgres 9 5,,"meinac,kamipo",2017-10-11 16:03:39,2017-10-11 23:34:33
PR,Backport fix for through scope association on STI tables,values includes in reflection scope is not compatible with through scope Without this fix preloading comments with include will cause the following error Summary This is a backport of the fix merged here,,kamipo,2017-10-11 20:13:20,2017-10-11 23:45:14
IS,ActiveSupport Cache FileStore cleanup does not remove expired entries from cache,Steps to reproduce Expected behavior The number of entries in the cache store directory should equal the number of non expired entries after the cleanup call Actual behavior The cleanup call is not removing the expired entries from the cache directory The test was returning a false positive since it was relying exclusively on the ActiveSupport Cache Store exist implementation which returns false if the entry still exists in the storage but is expired System configuration Rails version 5 1 0 but also affects earlier versions checked also with 5 0 0 Ruby version 2 4 2,,y-yagi,2017-10-03 07:35:01,2017-10-12 07:18:47
PR,Fix warning assigned but unused variable message,Ruby 2 5 warns about this Ref,,"y-yagi,kamipo,y-yagi",2017-10-12 06:07:24,2017-10-12 07:23:56
PR,ci skip Enable link to ActionDispatch Integration Session process in rdoc,before image after image,,willnet,2017-10-12 07:52:22,2017-10-12 08:00:22
PR,fix the description for the select all ci skip,,,aditya-kapoor,2017-10-12 10:25:42,2017-10-12 10:37:02
PR,Introduce ActiveStorage Blob representation,You often want to display a thumbnail for a file of indeterminate type This method returns an ActiveStorage Preview instance for a previewable blob or an ActiveStorage Variant instance for an image blob making it easier to do that,,georgeclaghorn,2017-10-12 15:04:18,2017-10-12 15:47:21
PR,Yield with an error instance instead of error class,The code comment says This block is yielded with the job instance as the first and the error instance as the second parameter so I think the block should be yielded with an actual error instance instead of error class,,"kamipo,kamipo",2017-09-29 09:23:24,2017-10-13 03:58:49
PR,Bump RuboCop 0 50 0,Summary RuboCop 0 50 0 was released And rubocop 0 50 channel is available in Code Climate issuecomment 336234260 This PR will bump RuboCop to 0 50 0 There are no new offences in this change,,koic,2017-10-13 03:04:29,2017-10-13 04:06:10
PR,5 0 stable import,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-10-13 06:29:10,2017-10-13 06:32:40
PR,Add process action mailer notification to Instrument guide ci skip,I Added process action mailer notification to Active Support Instrumentation guide The implementation of ActionMailer Base process is here L599 L610,,yhirano55,2017-10-13 13:29:50,2017-10-13 13:40:37
PR,Add Action Cable notifications to instrument guide ci skip,Summary I Added action cable notifications to Active Support Instrumentation Guide Source perform action action cable L166 L169 transmit action cable L214 L217 transmit subscription confirmation action cable L284 transmit subscription rejection action cable L299 broadcast action cable L45 L49 Generated guide,,yhirano55,2017-10-13 14:28:12,2017-10-13 22:06:20
PR,Added test case for starting rails with daemon option,Summary Currently there is no test for testing that daemon is set correctly when provided by the user when starting rails using rails s d The two test cases makes sure that the options daemonize is set to true when the argument d is given,,,2017-10-13 13:31:25,2017-10-13 22:08:23
PR,Use dir in activestorage,Define path with dir in activestorage Related to 29176 Use require relative instead of require with full path in activestorage Related to 29417 Would be great to keep consistency ActiveStorage codebase with Rails since ActiveStorage is part of Rails cc,,bogdanvlviv,2017-10-13 18:11:17,2017-10-13 22:13:40
PR,Remove unsued jquery rails,This has been added by 8f8cb1baa3b5609969805fcdd7295f3d7de2bd6b But now it is unnecessary because it is not used in the test,,"y-yagi,kamipo,y-yagi",2017-10-13 09:13:14,2017-10-13 22:29:50
PR,Fix test name for daemon option test,In this test file server option refers to the server used to start Rails e g puma thin But this test server option is not specified Therefore I think that it is incorrect that server option is included in the test name,,y-yagi,2017-10-13 22:34:15,2017-10-14 02:23:45
PR,Add unpermitted parameters hook to instrumentation guide ci skip,Summary Added unpermitted parameters action controller notification to Active Support Instrumentation guide Source is here L868 L869,,yhirano55,2017-10-13 23:14:07,2017-10-14 03:21:04
IS,Invalid SQL when using distinct group limit and count,I believe the commit has introduced a regression Using distinct group limit and count without an explicit select causes an invalid SQL statement being generated Steps to reproduce Run following in a Rails console with 5 1 4 error and 5 1 3 ok SomeModel group id order '1 DESC' limit 30 distinct count in the samples below my model was Device Expected behavior It should create a valid SQL statement and execute it Something like SELECT COUNT DISTINCT devices id AS count id devices id AS devices id FROM devices GROUP BY devices id ORDER BY 1 DESC LIMIT 1 Actual behavior Creates invalid SQL SELECT COUNT DISTINCT AS count all devices id AS devices id FROM devices GROUP BY devices id ORDER BY 1 DESC LIMIT 1 The SELECT COUNT DISTINCT fragment is invalid System configuration Postgres 9 6 Rails version Fails with Rails 5 1 4 Works with Rails 5 1 3 5 1 2,,kamipo,2017-10-13 17:16:04,2017-10-14 04:45:39
PR,Add accept charset to the output of form with in JS guide ci skip,Summary In Working with JavaScript in Rails guide I found the difference between actual and guide and added accept charset UTF 8 to the output of form with,,yhirano55,2017-10-14 17:14:33,2017-10-15 04:19:00
PR,Modify so that preloader is not initialized each time exec queries is called,Fixed as build preloader used in ActiveRecord Relation exec queries was not working properly Fix this commit 27030 1 build preloader is an instance of ActiveRecord Associations Preloader class that does't hold instance variables 2 build preloader preload does not manipulate instance variables other than records 3 The owner of records is not a build preloader For these 3 reasons I think that it is not necessary to initialize preloader with nil each time exec queries is called Modify this commit 27030,,"kamipo,kamipo,kamipo,eugeneius,kamipo,kamipo",2017-10-14 12:07:38,2017-10-15 07:47:52
PR,Remove unused before filters,This method added by 1008511 It is unnecessary because it is no longer called by 19c3495,,y-yagi,2017-10-15 07:10:04,2017-10-15 07:51:52
IS,Got an error while configuring the nextRTC websocket Error during WebSocket handshake Unexpected response code 404,I am having an issue while using the nextRTC websocket in my java spring project i am trying to use the NEXTRTC as reference in my java app I have succesfully run the java app in https in local environment I have the following code in my videochat jsp script src resources js nextRTC js script script src script var nextRTC new NextRTC required wsURL 'wss 8443 eBaithak signaling' required mediaConfig video true sdpConstraints 'mandatory' 'OfferToReceiveVideo' true audio true optional in local network peerConfig 'iceServers' url stun stun l google com 19302 iceTransportPolicy 'all' rtcpMuxPolicy 'negotiate' And i am using the serverEndPoint value ServerEndpoint value signaling decoders MessageDecoder class encoders MessageEncoder class public class MyEndpoint extends NextRTCEndpoint THis is as same as in the reference provided by the nextRTC But when i go to 8443 eBaithak videochat i get an error saying Error during WebSocket handshake Unexpected response code 404 Please help me reolve this issue,,,2017-10-15 07:33:12,2017-10-15 08:33:58
IS,ActiveRecord AUTO INCREMENT on composite key can not dump,I use partition table on MySQL Partition table have composite key This column set AUTO INCREMENT but it not wrote auto increment true on db schema rb Steps to reproduce System configuration Rails version 5 1 4 Ruby version 2 4 2 MySQL version 2 4 2 mysql2 gem version 0 4 9,,kamipo,2017-10-15 02:15:22,2017-10-15 11:49:10
PR,Add connection active record to instrument guide ci skip,Summary Added connection active record to Active Support instrumentation guide Source is here L881 L901,,"yhirano55,kamipo",2017-10-14 16:47:26,2017-10-15 12:24:27
PR,Update Gemfile with comment for Active Storage group,Summary Just a comment in the Gemfile for Active Storage to align the syntax with the other groups of gems,,,2017-10-11 19:35:01,2017-10-15 13:54:01
IS,Long model names break db schema load on Postgres,Steps to reproduce 1 rails new issue reproduction database postgresql 1 rails g scaffold MyVeryLongExampleModelNameBecauseIThinkSchemaLoadBreaksSometimes title string body text 1 rails db create db migrate 1 rails db drop db create db schema load Example repo Single file reproduction Expected behavior rails db schema load should succeed without errors Actual behavior The command fails with System configuration Rails version 5 0 2 5 1 0 beta1 Ruby version 2 2 3p173 Postgres version 9 5 4 Additional information I can reproduce this error with ActiveRecord 5 0 2 and 5 1 0 beta1 I did not try against master I cannot reproduce this error against ActiveRecord 4 2 8 Apologies for the rough single file reproduction this error does not occur against SQLite so I made an attempt at adjusting the default template for Postgres rails db structure load succeeds in the example application when a structure sql is dumped rails db drop db create db migrate succeeds in the example application,,"pixeltrix,kamipo",2017-03-07 15:30:19,2017-10-15 14:22:34
PR,Fix longer sequence name detection for serial columns,Fixes 28332,,"kamipo,pixeltrix,kamipo,pixeltrix,matthewd,kamipo",2017-03-08 05:27:58,2017-10-15 14:22:34
IS,eager loading has one association not taking default scoped order into account,If we have a has one relationship with a scope defining an order this order is not taken into accounting during the eager loading Using preload works as expected Here is the test case that fails Unless I made a mistake it fails on 4 2 but also on current master I wondered if it was an issue similar to 28415 so I tested it also against pull request 29154 but it looks like it still fails,,,2017-07-07 15:32:01,2017-10-15 15:49:09
IS,Rails stats command counts files only from the hardcoded list,Steps to reproduce 1 rails new myapp 2 Create app policies my policy rb that would contain a hundred lines of code 3 bin rails stats output wo not include any files in app policies The issue comes from the fact that rails stats is using a hardcoded list of directories to count stats Which obviously wo not include anything custom like app policies or app services I think we could potentially leverage Rails application config paths to make stats command use all directories in the app and calculate more realistic stats This would require loading environment right now the stats task does not load it Thoughts I have a draft of the patch that I will be happy to submit,,"kirs,rafaelfranca,kirs,gaurish,kirs,matthewd,kirs",2017-06-18 20:51:27,2017-10-15 15:49:10
IS,ApplicationController is not initialized,Steps to reproduce 1 rails new my app api 2 rails g model my model title string write some seeds 3 create controller within folder with name api e g My 4 Inherit the controller from ApplicationController 5 Write the resources in 'api' namespace in routes The problem is that if I create a folder with name like api or some other name which satisfies myfoldername 'ApplicationController' equation ex 'Aaa' 'Abc' folders The ApplicationContoller is not required before all of controllers in this folders Since ApplicationController is de facto used as basis parent class by many developers I think this behaviour must be fixed somehow Expected behavior No error at all Actual behavior superclass mismatch for class Api V1 MyController System configuration Rails version 5 1 4 Ruby version 5 4 1,,,2017-10-15 16:03:40,2017-10-15 16:17:44
PR,Capitalize sprockets in Engine guide ci skip,I capitalized sprockets in Engine guide,,yhirano55,2017-10-13 00:04:04,2017-10-15 17:22:38
PR,Remove a needless space in Action View Guide ci skip,I removed a needless space in Action View Guide,,yhirano55,2017-10-12 00:13:41,2017-10-15 17:22:54
PR,Remove association true references from docs ci skip,Passing true to force an association to reload its records from the database was deprecated in 5 0 by and removed in 5 1 by,,eugeneius,2017-10-15 23:48:41,2017-10-16 00:59:56
PR,Underscore unused block vars in ActionController TestCase,Underscore unused block variables as per the style guide underscore unused vars,,georgeclaghorn,2017-10-16 17:31:15,2017-10-16 18:01:06
PR,Fix to s db for range comprising of alphabets,Calling to s db on the Range comprising of alphabets gives an ArgumentError The current fix checks for the type of start and end value in the formatter,,aditya-kapoor,2017-10-16 12:40:22,2017-10-17 01:24:45
PR,upgrade mail to at least 2 5 5,to avoid CVE 2015 9097 mikel mail 1097,,jeremy,2017-10-16 22:52:30,2017-10-17 01:42:37
PR,Update mailing list URL in I18n guide ci skip,Summary Updated mailing list URL in I18n guide,,yhirano55,2017-10-17 06:21:39,2017-10-17 06:29:19
IS,Deadlock between ParamsWrapper model and Loadable require or load,Steps to reproduce 1 Create a Rails 5 1 2 app with Postgres DB pg 0 20 puma server puma 3 9 1 5 threads 2 Add some models and RESTful controllers Keep default wrap parameters format json 3 Make a large number e g 5 of simultaneous GET requests to the controllers with Accept application json and Content Type application json charset utf 8 headers Expected behavior Requests succeed Actual behavior Requests cause a hangup almost consistently Further investigation with ActionDispatch DebugLocks shows file 2 rails deadlock log threads end up deadlocked System configuration Rails version 5 1 2 Ruby version 2 4 1,,,2017-07-06 01:17:53,2017-10-17 20:54:10
PR,Add headless chrome driver to System Tests,Currently Headless Chrome seems to be stable I think there is no problem in using it for testing Therefore I think that it is good to add to the driver that System test supports by default r,,"y-yagi,eileencodes,y-yagi,eileencodes,y-yagi",2017-10-13 06:33:24,2017-10-17 22:30:10
PR,42 compatibility use int instead of bigint,Summary Rails version 4 2 x ok 5 1 4 ok master fails Other Information related commit diff 21d4fbe002689dc4b0ab29f021585457,,kamipo,2017-10-17 21:39:07,2017-10-17 23:18:41
PR,Convert AttributeMethodMatcher to Module Builder,This is quite a large and substantial refactor of two core modules ActiveModel AttributeMethods and ActiveRecord AttributeMethods The inspiration for this PR is this blog post on the module builder pattern which I wrote a few months ago the end of the post discusses a change to AM AttributeMethods which is almost the same to the one here I had intended only to change ActiveModel but the two modules are so heavily coupled that it was impossible to change one without the other I have tried to make the absolute minimal changes to achieve the goal of de coupling described below and wherever possible I have moved methods without actually altering their logic There are still some points to discuss and more tests to write so this is not a finished PR for now I would just like to get some feedback on the general idea and current implementation Summary ActiveModel and ActiveRecord provide a simple mechanism for defining prefixed suffixed affixed attribute methods whereby you call a class method like attribute method prefix etc with a prefix or suffix affix then call define attribute methods to actually define the attribute methods Under the hood calling one of these class methods creates an instance of a class AttributeMethodMatcher which stores the prefix and or suffix and appends the instance onto a class attribute attribute method matchers Similar for defining aliases L387 L412 When you actually call an attribute method i e a method with a prefix suffix AR AM dispatches to a handler using one of two mechanisms AM AttributeMethods overrides method missing L425 L432 to dispatch calls for a method say reset foo to default to reset attribute to default foo if foo is a key on the hash stored in the hash returned by the attributes method This one is actually not very well documented In addition by calling define attribute methods you can convert these prefixes suffixes affixes into actual methods which are defined on instances of an anonymous module in ActiveModel or instances of a named module GeneratedAttributeMethods in ActiveRecord While it works there are a few problems with the current implementation the major one being that the components attribute method matchers on the class instance methods on generated attribute methods etc are heavily coupled to each other making it hard to read the code and even harder to extend it This is even more clear when you look at how heavily coupled AR AttributeMethods is to the internals of AM AttributeMethods I recently wrote a blog post where toward the end of the post I discuss the problems with this approach This PR is an attempt to implement what I describe in the post The basic concept here is to convert the matcher class ActiveModel ClassMethods AttributeMethodMatcher into a subclass of Module which I have promoted in namespace to ActiveModel AttributeMethodMatcher Since the matcher has the prefix and or suffix you can define the method missing respond to overrides and also define attribute methods and aliases themselves on the matcher and include it into the class Coupling is vastly reduced since everything is encapsulated in one place The first commit in this PR does this in AM which is quite a simple change and passes tests easily The hard part is to make this work in ActiveRecord since AR currently overrides private methods like generated attribute methods However what is pleasantly surprising is that making a similar change in AR also yields cleaner code Whereas currently AR AttributeMethods has to override many methods in AM AttributeMethods here the customization happens instead by subclassing ActiveModel AttributeMethodMatcher the class which generates the matcher modules By doing this a number of the private methods added to the model class are instead moved to the matcher module avoiding namespace pollution and keeping the implementation more encapsulated Concretely the following AR methods are moved out of the model class generated attribute methods define method attribute define proxy call attribute method matchers cache attribute method matchers matching In addition initialize generated modules is no longer used but still required for generated association methods and the define method matcher method missing target pattern of methods are all moved to the matcher so this method namespace is now free in the model class The biggest change is when you look at the ancestors of an AR class Since the modules are now each associated with their prefix suffix and I have overridden inspect to show you the corresponding regex you can actually see all the matchers applied to the class So instead of this Here you can see that methods are defined for the to be saved suffix other modules are similar Other Information Another thing that I noticed while working on this change is that currently each AR Base subclass includes its own generated attribute methods instance where it defines its attribute methods This means that if I have a class SuperPost which inherits from Post then I will actually include three modules one defined in ActiveRecord which has no actual attribute methods defined on it one on Post which will have attribute methods defined on it and another one defined in SuperPost which has generally the same or a subset of attribute methods defined on it There is no need to have these duplicate modules AFAICT but the current code does not work without doing it this way With the change here although there are many more modules one per prefix suffix they are only included once in the first subclass of ActiveRecord Base This avoids defining a potentially large number of methods multiple times if you have a deep inheritance tree One point that I feel is still problematic is the method instance method already implemented Currently the AR AttributeMethodMatcher class just calls through to the model class method which is simple but creates coupling I was hoping to avoid For now I have left this since I want to avoid making any more changes before discussion but this is one point I'm still not really happy with Thanks for reading I'm happy and ready to explain any and all changes here,,"shioyama,shioyama,eileencodes,eileencodes,matthewd,shioyama,shioyama,shioyama,shioyama,shioyama,shioyama,matthewd,shioyama,shioyama",2017-10-15 05:34:35,2017-10-18 00:03:52
IS,Rails 5 1 STI STI associations cannot be used with has one,Steps to reproduce Run the following test Also verified with the mysql2 adapter System configuration Rails 5 1 1 Cannot repro on Rails 5 1 Ruby 2 4 1 Can repro with 2 3 3 Only gems installed active are bundler activerecord and sqlite3 sqlite3 1 3 13 Base system is OSX 10 12,,"kamipo,kamipo",2017-05-31 18:42:21,2017-10-18 02:35:45
IS,Rails server do not output any logs when run as a daemon,Steps to reproduce I use RAILS ENV development puma d to launch server and it works so it is not a puma bug Expected behavior Server log should output to log development log just like non daemon mode Actual behavior nothing output System configuration Rails version Rails 5 1 4 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16 Puma version puma version 3 10 0,,"y-yagi,y-yagi,y-yagi",2017-09-11 11:45:02,2017-10-18 03:48:49
PR,Fix typo in allow failure argument ci skip,Ref L243,,y-yagi,2017-10-18 05:35:11,2017-10-18 05:39:29
PR,Remove unnecessary allow failure true option,routes task always returns zero to status so status is not to non zeno Ref L30,,y-yagi,2017-10-18 06:02:51,2017-10-18 06:42:53
PR,Remove unused UnknownController class,UnknownController was added in b1999be but it is not used anywhere,,y-yagi,2017-10-18 07:31:18,2017-10-18 07:59:56
IS,Enum conflict detection disallows common values between different enum fields,Steps to reproduce I have an ActiveRecord model Account with two different enum fields which share common values For example enum billing frequency monthly 1 quarterly 2 enum statement frequency quarterly 1 yearly 2 Expected behavior The above is allowed Actual behavior I get error message Users username rvm gems ruby 2 4 1 gems activerecord 5 1 3 lib active record enum rb 230 in raise conflict error' You tried to define an enum named statement frequency on the model Account but this will generate a instance method quarterly which is already defined by another enum ArgumentError I guess ActiveRecord creates methods like monthly quarterly on the object But it is ambiguous compare account monthly with account billing frequency monthly The latter is clearly more clear in intent System configuration Rails version 5 1 3 Ruby version 2 4 1,,,2017-10-18 10:36:43,2017-10-18 11:37:34
IS,Rails 5 1 4 with Ruby 2 3 3 load slow,I am creating an app with Rails 5 but the problem is that it loads really slow around 10 15 seconds This is only the first time loading right after start the server Puma It doesn' t matter is it development or production mode it take more than 10 seconds to load simple page which is 11Kb I made and test with new Rails app The page which is by default loads normal but if I create a route controller and simple empty view without assets it loads slow This is happen only the first time after starting server If I load page stop and start server and reload page it is slow too But if I load page after first time loading after server starting it loads normal I am using Windows 10 but it is same on the Ubuntu too I am using Chrome and Firefox This is from my test app console Started GET test for 127 0 0 1 at 2017 10 13 02 17 18 Processing by TestController index as HTML Rendering test index html erb within layouts application Rendered test index html erb within layouts application 1 0ms Completed 200 OK in 380ms Views 223 3ms and this is from WEB console test document 2 2KB 10 91s,,,2017-10-12 23:31:51,2017-10-18 11:48:55
PR,Add mention how to delete several records in bulk to Active Record Basics Guides ci skip,,,bogdanvlviv,2017-10-18 12:09:26,2017-10-18 12:21:37
PR,Set proper migration' version in bug report templates,,,bogdanvlviv,2017-10-18 13:29:00,2017-10-18 13:57:29
PR,Enable hstore extention disabled at the end of test migrate enable and disable extension,Summary Enable hstore extention disabled at the end of InvertibleMigrationTest test migrate enable and disable extension to avoid failure of PostgresqlArrayTest test schema dump with shorthand which expects hstore extension enabled This pull request addresses PostgresqlArrayTest test schema dump with shorthand failure reported at Steps to reproduce,,yahonda,2017-10-18 15:16:58,2017-10-18 16:01:49
PR,Rollbacks for deadlocks,sorry will resubmit with codeclimate fixes and a proper writeup,,,2017-10-18 16:09:21,2017-10-18 16:25:16
PR,Improve out of box experience with System tests including chromedriver helper by default,Summary This includes chromedriver helper in default Gemfile this gem installs the chromedriver executable in the user is gem path allowing to run the tests without installing anything else I think this will offer a better out of box experience to newcomers when running Rails system tests img width 656 alt screen shot 2017 10 18 at 10 20 35 src,,"guilleiguaran,eileencodes",2017-10-18 17:12:18,2017-10-18 17:17:46
IS,System test with Selenium Fails with EOFError,Steps to reproduce Create a scaffold resource and run rails test system Here is the repo Expected behavior The system test generated by the scaffold should run in the browser Actual behavior System configuration Rails version 5 1 Ruby version ruby 2 4 0p0 2016 12 24 revision 57164 x86 64 darwin14 ChromeDriver 2 9 Capybara 2 13 0 Mac OS 10 10 5 Chrome 58 0 3029 81 64 bit,,"maclover7,eileencodes,eileencodes,alexcameron89,eileencodes",2017-04-30 22:22:42,2017-10-18 17:23:00
IS,Test database is created with environment wouldevelopment' when running rake db test prepare,Steps to reproduce Just run the rake tasks below in a new rails 5 app after having configured your database yml System configuration Rails version 5 0 0 1 Ruby version 2 3 1 Database MariaDB mysql2 gem,,"prathamesh-sonpatki,bogdanvlviv,stevenharman,prathamesh-sonpatki",2016-10-07 18:11:45,2017-10-18 19:24:07
PR,Fix bin rails db setup and bin rails db test prepare create wrong ar internal metadata is data for a test database,Before Fixes 26731,,"bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv",2017-09-12 06:40:25,2017-10-18 19:24:07
PR,Remove unused FixtureTemplate class,FixtureTemplate is no longer used since 3d7892d,,y-yagi,2017-10-18 23:32:43,2017-10-19 02:12:22
PR,Remove include FileUtils from bin templates,Summary When creating a new Rails application with rails new a top level include is used in two files bin setup and bin update This PR makes FileUtils an explicit receiver instead of a top level include This change removes the top level include affecting Object from the templates of a Rails application created with rails new By writing include FileUtils at the top level it can call abbreviated methods like chdir cp and others but here it seems that there is not much merit These are templates for short scripts of processes but I think that it is preferable not to affect Object Other Information I found it by investigating a Rails applications when making,,"koic,matthewd,koic",2017-10-19 09:49:32,2017-10-19 11:32:31
PR,Fix callback in rails ujs,Steps to reproduce Hi I'm using rails 5 1 1 and faced with next unexpected behaviour According to documentation Ajax request should not happen if I will return false from ajax before or ajax beforeSend events Even test suits in current Rails version check that But tests stop at runtime they just halt Tests call remote callback L90 module inside actionview test ujs test folder Expected behavior return false inside ajax beforeSend should prevent request Actual behavior return false inside ajax beforeSend does not prevent request Furthermore if BeforeSend Return false L24 send request happens L27 System configuration Rails version 5 1 1 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin15 Other Information In current PR Remove test suite binding to ajax send event to call jquery methods on ajax object L261 because we do not have jQuery XHR abort function If i did something wrong missed something or remove useful stuff please let me know Thanks,,guilleiguaran,2017-05-17 20:32:06,2017-10-19 14:13:32
PR,Create hh,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-10-18 15:04:42,2017-10-19 14:16:20
PR,PhantomJS is abandoned replace it with Selenium Chrome headless,PhantomJS was abandoned and Chrome headless is seeing a major adoption,,guilleiguaran,2017-10-19 16:07:21,2017-10-19 17:00:48
PR,Change method of retrieving secret key base in secrets yml to fix breakage,Summary Changed output of railties lib rails generators rails app templates config secrets yml to produce reference to SECRET KEY BASE using ENV fetch SECRET KEY BASE to replace current method of ENV SECRET KEY BASE because that method of accessing SECRET KEY BASE no longer works on an actual production server Linux tested with Rails 5 1 4 and Ruby 2 5 0,,"rafaelfranca,georgeclaghorn",2017-10-19 19:03:01,2017-10-19 19:18:45
IS,Best practice to use ActionCable with multiple identification methods,In my Rails app I successfully authenticate users via Devise for several ActionCable channels Now I want to add a second type of channels which does not require any user authentification I intend to identify those anonymous users with a random UUID I managed to implement both identification methods separately Authenticated user What is the best practice to use both identification methods for different channels in the same Rails app System configuration Rails version 5 1 1 Ruby version 2 4 1,,rafaelfranca,2017-10-18 15:10:16,2017-10-19 19:33:58
IS,Module Enumerable not implement all methods in ruby 4 2,I got a NoMethodError after run my rspec tests with shoulda matchers library L365 System configuration Rails version 5 1 4 Ruby version 2 4 2p198,,,2017-10-19 21:37:37,2017-10-19 21:43:37
PR,Return correct exit status of ujs test,The Process Status to i returns the bits in stat If need exit status we need to use exitstatus Ref method i to i,,"y-yagi,y-yagi",2017-04-23 01:44:38,2017-10-20 05:37:53
IS,HABTM query not using the join table,Hi I believe I have found a bug with ActiveRecord I have spent quite a while trying to figure out if there is a problem with my models but I could not find it in any case I do not discard that option Steps to reproduce As you can see the query it tries to execute is SELECT tweets FROM tweets WHERE tweets user id IN 2 3 but I think it should be SELECT tweets FROM tweets INNER JOIN retweets ON retweets tweet id tweets id WHERE retweets user id IN 2 3 System configuration Rails version rails 5 0 0 beta3 from git at master 8f22006 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 darwin14,,"maclover7,bquorning,vipulnsward,vipulnsward,vipulnsward,kamipo",2016-04-24 16:17:07,2017-10-20 05:51:00
IS,Building through a scope with a where id foo clause where foo length 1 results in primary key exceptions,Steps to reproduce I would expect a call to build to always result in a record that can be saved but if you are calling through a scope that used id to build the association it will fail if comment ids length 1 It tries to create a new record with the same id and throw an ActiveRecord RecordNotUnique exception It will correctly provide a nil id if comment ids length 1 Expected behavior build always results in a nil id on the new object Actual behavior The id is set to whatever was provided in the scope System configuration Rails version Edge Ruby version Ruby 2 3 3p222,,kamipo,2017-10-02 15:57:20,2017-10-20 06:02:52
IS,Preloading generates invalid SQL for associations with custom relations,Steps to reproduce System configuration Rails version 5 1 4 Ruby version 2 3 4,,"kamipo,kamipo",2017-10-01 04:45:31,2017-10-20 06:06:42
IS,Eager load populating wrong number of records for through associations,Steps to reproduce System configuration Rails version 5 1 4 Ruby version 2 3 4,,kamipo,2017-10-01 04:38:41,2017-10-20 06:13:25
IS,ActiveRecord query with order on an included relation is readonly,It appears that queries with an order on an included relationship are causing the readonly flag to be set on the related model in Rails 5 Using the following models Is this a regression or expected behavior in Rails 5,,"maclover7,maclover7,maclover7,kamipo",2016-07-14 19:44:42,2017-10-20 06:39:14
IS,Incorrect SQL resulted for 3 embedded model merge,Steps to reproduce Create 5 models 4 tables with has many relations Expected behavior I use the scope by okpd code of Organization So I should get the following sequenced SQL SELECT organizations FROM organizations INNER JOIN lots ON lots customer id organizations id LEFT OUTER JOIN lot items ON lot items lot id lots id LEFT OUTER JOIN tree classifiers ON tree classifiers id lot items okpd id AND tree classifiers type IN 'Okpd' WHERE organizations id IN SELECT DISTINCT lots customer id FROM lots AND tree classifiers code '60 77 43' When Actual behavior But I get the SQL which I see left join on tree classifiers before left join on lot items as expected in SELECT organizations FROM organizations INNER JOIN lots ON lots customer id organizations id LEFT OUTER JOIN tree classifiers ON tree classifiers id lot items okpd id AND tree classifiers type IN 'Okpd' LEFT OUTER JOIN lot items ON lot items lot id lots id WHERE organizations id IN SELECT DISTINCT lots customer id FROM lots AND tree classifiers code '60 77 43' So when I issue the SQL request I get db exception including the same in psql console But when I see the embedded scope I see the correct sequence SELECT lots FROM lots INNER JOIN lot items ON lot items lot id lots id LEFT OUTER JOIN tree classifiers ON tree classifiers id lot items okpd id AND tree classifiers type IN 'Okpd' WHERE tree classifiers code '60 77 43' System configuration Rails version 4 2 6 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 linux,,"maclover7,maclover7,maclover7,kamipo",2016-07-13 08:43:57,2017-10-20 06:46:23
PR,Return correct exit status of ujs test,The Process Status to i returns the bits in stat If need exit status need to use exitstatus Ref method i to i,,y-yagi,2017-10-20 06:10:47,2017-10-20 08:04:32
IS,Documentation for html escape implies that it is needed if you want to escape content in ERB templates,The documentation for ERB Util html escape includes the following taken from L15 and visible at method c html escape This sentence and example appear to have been added in a1b0349362fd6c17af5aeff481996f6fac235828 see actionpack lib action view template handlers erb rb which was from Rails 2 1 My understanding is that since Rails 3 it is been redundant to use h within a section Seeing this documentation has confused me though Is it correct that the use in the documentation would be redundant in modern Rails If yes would the preference be to delete this example or try to rework it into a more relevant one,,rafaelfranca,2017-10-19 16:13:28,2017-10-20 08:09:08
PR,Remove obsolete documentation for html escape,There was out of date documentation for h html escape that suggested you should use it in ERB templates to escape unsafe content This has been unnecessary since Rails 3 started escaping everything by default If it would be better to replace it with a more up to date example instead of just removing it let me know I could not think of anything that added to the remaining documentation Resolves 30931,,kamipo,2017-10-20 02:47:35,2017-10-20 08:09:08
PR,Allow symbol list for ignored columns,Summary ActiveRecord ModelSchema ignored columns is used to except columns on loading schema This works for a list of string but does not works for a list of symbol just ignored This pull request enable to use a list of symbol for ignored columns before Background ignored columns excepts the columns from schema cache so is often used in the purpose of deleting some columns without stopping the application Currently when a user mistakes that ignored columns accepts Array Symbol the column deletion causes many application errros So it is better to do any of the following ignored columns behaves indifferent does not distinct symbol from string on loading schema ignored columns checks the type of elements ignored columns convert the type of elements to string,,"kamipo,kamipo,kamipo,kamipo,kamipo,kamipo,matthewd,kamipo,kamipo",2017-10-19 08:00:52,2017-10-20 11:21:50
IS,Undefined Symbol OPENSSL init ssl when starting server,I have tried everything I could think of to fix the issue before posting here I have uninstalled and reinstalled openssl changed the config etc and nothing helps Steps to reproduce Generate new rails app via rails new app bundle install Start server via bin rails server Expected behavior Server should start Actual behavior Server exits with var lib gems 2 3 0 gems activesupport 5 0 6 lib active support dependencies rb 293 in require' var lib gems 2 3 0 gems puma 3 10 0 lib puma puma http11 so undefined symbol OPENSSL init ssl var lib gems 2 3 0 gems puma 3 10 0 lib puma puma http11 so LoadError System configuration Running on ElementaryOS 0 4 1 Loki built on Ubuntu 16 04 3 LTS Path to openssl usr bin openssl Rails version Rails 5 0 6 Ruby version ruby 2 3 1p112 2016 04 26 x86 64 linux gnu,,rafaelfranca,2017-10-19 22:20:52,2017-10-20 14:53:33
PR,Deprecate support of script rails to load application,We are using bin directory since Rails 4 0 Since sufficient time has passed I think that support of the old script is a timing that can be removed,,"y-yagi,matthewd,rafaelfranca",2017-10-20 09:21:42,2017-10-20 14:57:50
IS,Model ActiveRecord Relation Set as private constant,Steps to reproduce countries Country where name 'Brazil' Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Checking to make sure the query is valid countries is a Country ActiveRecord Relation the outcome should be true since countries class Country ActiveRecord Relation Actual behavior Tell us what happens instead NameError private constant Class 0x00007fed48f5b5a8 ActiveRecord Relation referenced System configuration Rails version 5 1 4 Ruby version 2 4 2,,"rafaelfranca,rafaelfranca,rafaelfranca",2017-10-20 14:37:33,2017-10-20 15:00:15
IS,select adding limit on query but not in database on sqlite and mysql,Steps to reproduce Run query Company select id name see logs and data Expected behavior Select query add LIMIT 11 to each query in sqlite and mysql database but it is not applying on database lavel I got all record of table but logs show me limit 11 Company select id name SELECT test development companies id test development companies name FROM test development companies Actual behavior current behaviour Company select id name SELECT test development companies id test development companies name FROM test development companies LIMIT 11 System configuration Rails 5 1 1 ruby 2 4 1p111,,"kamipo,kamipo",2017-09-01 12:57:07,2017-10-20 15:49:22
IS,Scopes fail to use aliased table names if their associated table gets aliased for a join,Steps to reproduce Have model that somehow reference another table in two ways Then try including both of them with a query For example System configuration Rails version Rails 4 2 7 1 Not sure if applicable to 5 x Ruby version 2 3 4p301 Notes If you only have a scope on one of the two relations listing it first in includes may solve the issue May need to add references things to the all includes query Whichever item is included last will trigger a requery instead of result access even it was successfully queried for In this example result 0 things will likely trigger a requery of data that was in the original result,,kamipo,2017-08-31 17:25:53,2017-10-20 16:11:08
IS,Rails 5 0 2 Collection size error with counter cache,Steps to reproduce then correct result is returned System configuration Rails version Rails 5 0 2 Ruby version ruby 2 3 3p222 2016 11 21 revision 56859 x86 64 darwin15,,"rafaelfranca,rafaelfranca,maclover7,kamipo",2017-03-27 17:31:00,2017-10-20 17:40:35
IS,ActiveRecord StatementInvalid in v4 2 when using except on default scope with where clause hash conditions,In ActiveRecord 4 2 xx a relation with a default scope that uses except will throw a ActiveRecord StatementInvalid error if the default scope is a where condition with a hash as arguments The issue was possibly introduced by 11e8badb Expected behavior Assuming a typical Rails setup with the following models Running git bisect with a variation of the script above indicated that commit 11e8badb may have introduced the issue System configuration Rails version 4 2 8 Ruby version 2 3 1 I hope that is all clear Thanks,,"maclover7,kamipo",2017-03-21 16:07:39,2017-10-20 17:50:55
IS,Scopes are not working with AR Store Postgres Jsonb,Steps to reproduce 1 Have a jsonb column 2 Use AR Store 3 Create a scope for a json attribute Expected behavior It should return the records matched by that scope Actual behavior It returns My guess is that because it is serialized in the db normal queries does not work Example code Check this dummy app The only difference between Car and BadCar model is that BadCar is using AR Store I would have expected same results Because it is better to see some code System configuration Rails version 5 Ruby version 2 3 1,,"maclover7,kamipo,kamipo",2016-09-28 12:57:44,2017-10-20 17:58:50
IS,Getting started md Basic Auth required twice,Steps to reproduce After following the guide to create a basic rails app basic authentication the authentication has to be provided twice when creating a new article or editing article Basic Authentication has following code in ArticlesController Expected behavior The user is asked to enter name password when creating editing deleting article only once during the process Actual behavior The user has to authenticate twice first when clicking new edit article method new create is called and a second time after clicking create in the articles new or articles edit method create is called System configuration Rails version 5 1 1 Ruby version 2 3 1,,"al2o3cr,rafaelfranca",2017-06-11 20:02:03,2017-10-20 18:18:24
IS,require relative cannot be used if gem is installed in symlinked directory,Steps to reproduce Run ruby guides bug report templates active record master rb in rails repository Expected behavior exit normally Actual behavior I think this is default for brew install rbenv,,amatsuda,2017-07-19 05:37:40,2017-10-22 00:41:02
PR,Change require relative to require so that Rails can run on symli,nked installation Summary Since 29638 Rails does not run if gem is installed into symlinked directory This should be minimal change that can run even on such environment rails s etc still outputs bunch of already initialized constant warnings but this PR fixes critical error due to loading same file twice e g ActiveSupport Concern MultipleIncludedBlocks or swapping implemention with alias method Other Information I tested this patch like the following on local machine but do not know hot to make it CI friendly Also vanilla rails new application seems to work Fixes 29846,,amatsuda,2017-09-17 08:45:03,2017-10-22 00:44:06
IS,ActiveSupport Array to code refactor,Was looking through the code of active support Array to code for it is and all the test passes If this is a scope to reduce lines of code and refactor do let me know and I will send a PR,,matthewd,2017-10-22 07:08:51,2017-10-22 09:16:37
PR,Adds descriptions to rails ujs methods ci skip,Summary Provides new or additional documentation for the following rails ujs functions Rails fire Rails matches Rails delegate,,,2017-07-07 07:36:49,2017-10-22 12:55:45
IS,Rails remote form js handler no longer returns extra parameters for rails ujs,Steps to reproduce Using rails ujs not jquery ujs The following remote form System configuration Rails version 5 1 4 Ruby version 2 4 1,,guilleiguaran,2017-10-13 12:58:36,2017-10-22 13:27:58
PR,Backport 30579,Backport 30579 r,,bogdanvlviv,2017-10-18 22:05:37,2017-10-22 15:35:53
PR,Backport 30579,Backport 30579 r,,bogdanvlviv,2017-10-18 22:05:33,2017-10-22 15:36:18
PR,ActiveStorage install note skip ci,Summary Just a note about how to get migrations over as it is not obvious that you need to look for it via rails T,,,2017-10-06 19:53:39,2017-10-22 15:36:59
PR,Add changelog entry about new allow other host option for redirect back method,Related to 30850,,"bogdanvlviv,eileencodes,bogdanvlviv,eileencodes,bogdanvlviv",2017-10-21 15:06:22,2017-10-22 16:12:49
PR,Extract metadata from images and videos,Provide two built in analyzers one for images and the other for videos Analyze a blob when it s attached for the first time,,"georgeclaghorn,rafaelfranca,rafaelfranca,georgeclaghorn,georgeclaghorn,rafaelfranca,rafaelfranca,dhh,matthewd",2017-10-20 15:26:01,2017-10-22 17:17:00
PR,Backport perf changes,r,,tgxworld,2017-09-27 02:56:41,2017-10-22 17:55:15
IS,undefined method ' ' for nil NilClass on actioncable connection,Hi I am seeing the following in production on connections to actioncable websockets undefined method ' ' for nil NilClass bundle ruby 2 4 0 gems websocket driver 0 6 5 lib websocket driver hybi rb 11 in 'generate accept' bundle ruby 2 4 0 gems websocket driver 0 6 5 lib websocket driver hybi rb 76 in 'initialize' bundle ruby 2 4 0 gems websocket driver 0 6 5 lib websocket driver rb 158 in 'new' bundle ruby 2 4 0 gems websocket driver 0 6 5 lib websocket driver rb 158 in 'rack' bundle ruby 2 4 0 gems actioncable 5 1 4 lib action cable connection client socket rb 45 in 'initialize' bundle ruby 2 4 0 gems actioncable 5 1 4 lib action cable connection web socket rb 8 in 'new' bundle ruby 2 4 0 gems actioncable 5 1 4 lib action cable connection web socket rb 8 in 'initialize' bundle ruby 2 4 0 gems actioncable 5 1 4 lib action cable connection base rb 57 in 'new' bundle ruby 2 4 0 gems actioncable 5 1 4 lib action cable connection base rb 57 in 'initialize' bundle ruby 2 4 0 gems actioncable 5 1 4 lib action cable server base rb 28 in 'new' bundle ruby 2 4 0 gems actioncable 5 1 4 lib action cable server base rb 28 in 'call' bundle ruby 2 4 0 gems actionpack 5 1 4 lib action dispatch routing mapper rb 17 in 'block in class Constraints ' bundle ruby 2 4 0 gems actionpack 5 1 4 lib action dispatch routing mapper rb 46 in iserve' bundle ruby 2 4 0 gems actionpack 5 1 4 lib action dispatch journey router rb 50 in 'block in serve' bundle ruby 2 4 0 gems actionpack 5 1 4 lib action dispatch journey router rb 33 in 'each' bundle ruby 2 4 0 gems actionpack 5 1 4 lib action dispatch journey router rb 33 in iserve' bundle ruby 2 4 0 gems actionpack 5 1 4 lib action dispatch routing route set rb 834 in 'call' bundle ruby 2 4 0 gems rack 2 0 3 lib rack etag rb 25 in 'call' bundle ruby 2 4 0 gems rack 2 0 3 lib rack conditional get rb 25 in 'call' bundle ruby 2 4 0 gems rack 2 0 3 lib rack head rb 12 in 'call' bundle ruby 2 4 0 gems rack 2 0 3 lib rack session abstract id rb 232 in 'context' bundle ruby 2 4 0 gems rack 2 0 3 lib rack session abstract id rb 226 in 'call' Steps to reproduce I am not clear on how to reproduce this or what it is impact is to the client Also I am not even sure that this a problem in actioncable it might be the fault of websocket driver or the client I am a little out of my depth in trying to understand exactly what could be happening from the source code I have the following environment information from a failed request GATEWAY INTERFACE CGI 1 2 HTTP ACCEPT ENCODING gzip deflate br HTTP ACCEPT LANGUAGE en US en q 0 8 HTTP CACHE CONTROL no cache HTTP CONNECTION upgrade HTTP PRAGMA no cache HTTP USER AGENT Mozilla 5 0 Windows NT 6 1 Win64 x64 AppleWebKit 537 36 KHTML like Gecko Chrome 61 0 3163 100 Safari 537 36 REQUEST METHOD GET REQUEST URI ws SERVER PROTOCOL HTTP 1 1 Expected behavior An exception probably should not occur Or at least it should have sensible error message so the people know what went wrong Actual behavior undefined method ' ' for nil NilClass System configuration Rails version Rails 5 1 4 Ruby version ruby 2 4 2p198 2017 09 14 revision 59899 x86 64 linux gnu Puma version 3 10 0 Nginx version nginx 1 12 1,,eileencodes,2017-10-17 18:58:44,2017-10-22 20:23:33
IS,unit test failed to run single test,Steps to reproduce go to your unit test project and run below commands Expected behavior It should run only one testcase i e test should run this test case Actual behavior It is running all test cases under current Test file e g all test cases under my controller test rb System configuration Rails version Rails 4 2 7 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 darwin16,,eileencodes,2017-10-16 06:09:57,2017-10-22 20:29:40
IS,ActiveRecord conflict in foreign key names,Steps to reproduce The following migration code,,"al2o3cr,eileencodes",2017-10-13 00:25:09,2017-10-22 20:31:08
IS,ActiveRecord serialize with Marshal as coded does not work,I cannot use the Marshal class directly for the ActiveRecord serialize feature method i serialize When I do this and try to save the object I get an error Steps to reproduce Create an ActiveRecord model with a binary column which is serialized through Marshal i e bin rails g model MyModel data binary app models my model rb And try to instantiate and save the model MyModel create Problem also occurs when filling data with something e g a Hash with some key values Expected behavior I expect the instance to be stored in the database where the given data is serialized using Marshal dump Actual behavior I get an error TypeError instance of IO needed System configuration Rails version 5 0 4 Ruby version 2 4 1 Cause and potential solution The error is caused by the calling Marshal load nil in ActiveRecord Type Serialized default value L53 which is called from the deserialize method in the same file It can be fixed by by creating a coder class in the spirit of ActiveRecord Coders YAMLColumn where Marshal load data is only performed if data not nil obj Marshal load marshal unless marshal nil The coder class should then be used in the ActiveRecord model serialize data MarshallCoder new data However I do not know if this is the way to go Should serialize always be used with a special coder object or should it also be possible to use Serialization classes like YAML and Marshall directly The documentation is a bit vague on that In case of the first then it probably would be nice to add a MarshallColumn coder class to active record coders as well In case of the latter the serialized type should be fix to not call coder load nil but not sure how maybe rescue from exception in which case default value always returns false,,"eileencodes,sgrif",2017-10-11 12:58:20,2017-10-22 20:40:31
IS,rails 5 1 validates associated in polymorphic associations parent is not set,First of all you can checkout a project where this can be reproduced under The scenario is as follows I have 3 models one of which is the parent Character and the other two are associations of it Inventory and SkillSet Inventory is polymorphic Here they are Is there any reason why this is so I tried a couple of alternatives a just remove the validates associated In this case character gets saved but the validations for inventory are not run So even if I force inventory to be invalid note fake validation I activate it in this scenario it gets saved Not good b remove validates associated and turn has one inventory in character into has one inventory validate true Same behaviour c remove validates associated and turn belongs to parent polymorphic true in inventory into belongs to parent polymorphic true validate true Inventory is not saved but character is I'm honestly at a loss here Am I doing something wrong Did I stumble upon a bug,,,2017-05-17 08:50:50,2017-10-22 22:08:55
PR,Master,,,,2017-10-22 22:14:45,2017-10-22 22:22:25
IS,activerecord Duplicate aliases in generated query when combining joins and left outer joins with common join dependencies,It is possible to generate queries with duplicate aliases when combining Relation joins and Relaction left outer joins that have common join dependencies Steps to reproduce Considering the following schema I have a PR that fixes this on master I can backport for 5 1 5 0 if needed cc Expected behavior The LEFT OUTER JOIN fragment of that query should alias the posts table and the resulting query should be executable Actual behavior Both joins are generated with their own alias tracker and end up either not using aliases in this case or could be using colliding aliases if more joins where added by chaining additional associations in either the inner or left joins depending on posts System configuration Rails version 5 0 x 5 1 x 5 2 0 alpha Ruby version 2 3 2 4,,,2017-09-01 17:30:43,2017-10-23 13:41:56
PR,Fix duplicate aliases when combining inner left joins dependencies,This fixes a duplicate aliases query generation issue when combining Relation joins and Relaction left outer joins that have common join dependencies Fixes 30504 Considering the following schema The issue seems to be that alias tracking assignment is done per join type JoinDependency and not across all the joins of a query To work around this issue this updates JoinDependency to be optionally built with an external alias tracker which is used to share alias tracking between the inner left join dependencies at arel query building time It is not clear to me if we should not just make this stricter and always provide an AliasTracker to JoinDependency,,kamipo,2017-08-25 18:32:03,2017-10-23 13:41:56
PR,improve time zone deprecation warning,Summary The deprecation warning about the new time zone aware columns is Rails 5 1 is a little unclear It suggests that adding config active record time zone aware types datetime time to your project will merely silence the deprecation warning when in fact it will make your project use the new behaviour Other Information I did not add any information to the changelog here because one could argue that this is a documentation change I would be more than happy to add it though if needed Thanks a bunch tada sparkles,,"eileencodes,eileencodes",2017-10-23 13:49:18,2017-10-23 14:17:04
PR,Performance improvements related to string allocations,Summary Cache various string allocations that I discovered were the same string or similar strings mostly while rendering links on a page in my app that has potentially 1000s of links Details and Benchmarking info actionview lib action view helpers url helper rb add method to attributes Add a cache to save the method to s downcase call This change prevents a string allocation for each time the method is called with performance changes within margin of error activesupport lib active support core ext object acts like rb acts like Add a case statement to use direct symbols instead of string interpolation for the three scenarios I found in the Rails codebase time date and string For time date string this change prevents two string allocations for each time the method is called and speeds up the method by 2 7x For other arguments there is no memory difference and performance difference is within margin of error activesupport lib active support inflector methods rb dasherize Add a cache to save the dasherized word so that we only generate the string once This change prevents a string allocation for each time the method is called with a speed up of 1 3x for small strings 5 10 chars and 2 4x for large strings 50 chars activesupport lib active support time with zone rb zone Add a cache for the stringified zone identifier so that we only generate a string once per zone This change prevents a string allocation for each time the method is called with performance changes within margin of error strftime Add a cache for the gsubbed format so that we only generate a string once per format This change prevents three string allocations and one IMEMO allocation for each time the method is called with performance changes between margin of error and 1 3x improvement Profiling code below,,"oniofchaos,tenderlove",2017-10-21 00:12:22,2017-10-23 16:45:08
PR,5 1 stable,Summary Add disabled attribute to prompt options of select tag as this should be informative and should not be able to select it in the actual view rendered by the browser Code changes in actionview lib action view helpers form tag helper rb def select tag name option tags nil options if prompt options delete prompt code change add disabled option as it should be only informative option tags content tag option freeze prompt value disabled true safe concat option tags end end form tag helper txt,,rafaelfranca,2017-10-23 16:57:25,2017-10-23 17:01:41
IS,Rails UJS Are all the features documented anywhere,I have googled a lot but I cannot find a list of Rails jQuery UJS features functions anywhere I just want to make sure I do not reinvent the wheel and add redundant page load scripts in my own project when I could have just put a data attribute on a tag,,rafaelfranca,2017-10-18 17:40:02,2017-10-23 17:09:22
PR,Remove CHANGELOG entry for the change that was backported to 5 1 stable ci skip,It was backported in and is present in Rails 5 1 3,,"prathamesh-sonpatki,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-10-23 14:36:17,2017-10-23 17:09:42
PR,Fix deprecation warnings from with lock,Currently with lock checks whether the record has changed but when called within a callback changed triggers deprecation warnings Instead use has changes to save These deprecation warnings have been removed from master so this is only necessary for 5 1 Fixes 30307,,,2017-10-23 14:55:53,2017-10-23 17:10:52
PR,Remove deprecations,Remove all deprecated code from 5 2,,"rafaelfranca,matthewd,matthewd,matthewd,rafaelfranca,rafaelfranca,matthewd,rafaelfranca",2017-10-20 18:36:57,2017-10-23 17:24:19
PR,Remove mention about Evented Redis ci skip,Evented Redis is removed from Rails See 30945,,"bogdanvlviv,rafaelfranca,bogdanvlviv",2017-10-23 18:09:03,2017-10-23 18:25:00
PR,Start bringing attributes API to AM,Summary This is the first PR of a WIP to bring the attributes API to ActiveModel It is not yet ready for public API Other Information The attributes dirty test rb file was created based on dirty test rb and the simplifications in the diff do much to motivate this change r,,"lugray,sgrif,yahonda,lugray,yahonda",2017-10-18 16:02:44,2017-10-23 18:48:47
IS,cannot load such file capybara minitest LoadError,Steps to reproduce We have Capybara locked at version 2 7 1 and see the error below when trying to require system tests Will we be unable to load system tests until we can upgrade Capybara Related to this issue on the rspec rails gem issuecomment 338520428 Expected behavior Tests should run Actual behavior An error is thrown System configuration Rails version 5 1 4 Ruby version 2 4 2,,"y-yagi,rafaelfranca",2017-10-23 00:36:38,2017-10-23 18:54:55
PR,specify minimum capybara version for system tests,Resolves 30952 Upgraded rails applications may have a Gemfile without a new enough capybara to run system tests Setting a version here gives the user a more direct error message than they get otherwise,,rafaelfranca,2017-10-23 18:09:02,2017-10-23 18:54:55
IS,active support json does not handle IO objects correctly,Steps to reproduce System configuration Rails version master 5 1 0 alpha Ruby version 2 3 1p112,,sgrif,2016-08-12 06:16:53,2017-10-23 19:35:26
PR,Fix to json for IO objects fixes 26132,Summary Fixes Before For unreadable IO objects to json would raise an IOError For readable IO objects to json would cause a side effect by reading the contents of the stream After IO to json returns the to s representation for both readable and unreadable IO objects,,,2017-10-23 10:26:46,2017-10-23 19:35:26
PR,Performance improvements for acts like method,Continuation of activesupport lib active support core ext object acts like rb acts like Add a case statement to use direct symbols instead of string interpolation for the three scenarios I found in the Rails codebase time date and string For time date string this change prevents two string allocations for each time the method is called and speeds up the method by 2 7x For other arguments there is no memory difference and performance difference is within margin of error,,oniofchaos,2017-10-23 18:59:02,2017-10-23 19:59:02
PR,Remove supports disable referential integrity,Summary supports disable referential integrity used to handle if PostgreSQL database supports ALTER TABLE table name DISABLE ENABLE TRIGGER statements Refer These statements have been documented since 8 1 DISABLE ENABLE TRIGGER Now Rails supports PostgreSQL 9 1 or higher only No need to handle supports disable referential integrity anymore Also this method does not exist in any other adapters including AbstractAdapter,,yahonda,2017-10-23 20:14:12,2017-10-23 21:44:07
IS,PG ConnectionBad PQsocket can not get socket descriptor SELECT,This error started appearing when upgrading to Rails 5 1 Where a small number of queries would fail raising PG ConnectionBad PQsocket can not get socket descriptor SELECT Expected behavior The db connection should be reconnected if it experiences an issue Actual behavior Rails checks out a connection and verifies that is is valid And then when it is time to execute a query PQsocket returns 1 indicating the socket has closed Causing the error Although in this comment issuecomment 303268979 it appear that is may be difficult to reestablish the connection due to potential state However this seems like a different case since it is just a small number of request that are failing and postgres is not being reset I also noticed that there are suggestions to set a reaping frequency Since this error can be an indication that the connection pool has been exhausted However this does not seem like it would help since the connection is being verified as active when it is checked out StackTrace System configuration Rails version 5 1 3 Ruby version 2 4 1,,matthewd,2017-10-24 04:33:50,2017-10-24 05:05:09
PR,5 1 stable,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-10-24 11:26:33,2017-10-24 11:33:10
PR,Space between and missing,Improve code style recommendation following Rubocop as described in,,kamipo,2017-10-24 00:22:59,2017-10-24 15:42:04
IS,Documentation wrongly suggests that Time extensions to Numeric include methods months and years,Steps to reproduce Expected behavior Get the equivalent of calling ActiveSupport Duration months 5 and ActiveSupport Duration years 5 respectively The documentation suggests so time However months and years are and have been Integer specific for quite a long time commitcomment 8715 Actual behavior You get a NoMethodError as these extensions are in active support core ext integer time System configuration Rails version 5 1 3 Ruby version 2 3 4,,,2017-10-24 14:09:39,2017-10-24 17:28:05
PR,Make clear that Time core extensions are split between Numeric and Integer,Summary The documentation wrongly suggests that Time extensions to Numeric include methods months and years when these belong to Integer Update both classes and guides Fixes 30971,,,2017-10-24 14:28:14,2017-10-24 17:28:05
PR,Simplify API documentation of methods that return a Duration,Related to 30972,,bogdanvlviv,2017-10-24 21:09:11,2017-10-24 21:19:20
PR,supports extensions return always true since PostgreSQL 9 1,Summary since the minimum version of PostgreSQL currently Rails supports is 9 1 there is no need to handle if supports extensions Refer CREATE EXTENSION,,yahonda,2017-10-24 21:51:48,2017-10-24 22:30:48
IS,will ruby rails support web workers,Service Workers with rails PWA ServiceWorker Rails when i installed for the first time i have seen the service worker working in the Chorme dev tools after i have unregistered manually in the dev tools and not i am unable to to service working again in the chrome dev tools Question i am thinking to make my app PWA could anyone suggest is this a good way or do u have any other idea to create a pwa on rails we are using node modules and we are not using Assets pipeline Installing issue with application js we are not using application js in the project when i try to install i get this message Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 1 4 lib rails app loader rb 40 warning Insecure world writable dir Users sbandaru rbenv versions in PATH mode 040777 rdc seo 0 1 78 running in verbose mode create app assets javascripts manifest json erb create app assets javascripts serviceworker js erb create app assets javascripts serviceworker companion js create config initializers serviceworker rb append app assets javascripts application js Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor actions inject into file rb 95 in binread' No such file or directory rb sysopen Users sbandaru rdc next app assets javascripts application js Errno ENOENT from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor actions inject into file rb 95 in replace ' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor actions inject into file rb 56 in invoke ' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor actions rb 95 in action' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor actions inject into file rb 27 in insert into file' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor actions file manipulation rb 180 in append to file' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems serviceworker rails 0 5 5 lib generators serviceworker install generator rb 23 in update application js' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor command rb 27 in run' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor invocation rb 126 in invoke command' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor invocation rb 133 in block in invoke all' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor invocation rb 133 in each' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor invocation rb 133 in map' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor invocation rb 133 in invoke all' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor group rb 232 in dispatch' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor base rb 444 in start' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 1 0 lib rails generators rb 269 in invoke' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 1 0 lib rails commands generate generate command rb 24 in perform' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor command rb 27 in run' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor invocation rb 126 in invoke command' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems thor 0 19 4 lib thor rb 369 in dispatch' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 1 0 lib rails command base rb 63 in perform' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 1 0 lib rails command rb 44 in invoke' from Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 1 0 lib rails commands rb 16 in top required ' from bin rails 4 in require' from bin rails 4 in main ' when i create a application js in assets javascript sbandaru rails g serviceworker install Users sbandaru rbenv versions 2 3 1 lib ruby gems 2 3 0 gems railties 5 1 4 lib rails app loader rb 40 warning Insecure world writable dir Users sbandaru rbenv versions in PATH mode 040777 rdc seo 0 1 78 running in verbose mode identical app assets javascripts manifest json erb identical app assets javascripts serviceworker js erb identical app assets javascripts serviceworker companion js identical config initializers serviceworker rb append app assets javascripts application js append config initializers assets rb insert app views layouts application html erb create public offline html sbandar01scl rdc next sbandaru do u have any idea how do i need to add the require serviceworker companion statement System configuration Rails version ruby 2 3 1p112 Ruby version Rails 5 1 4 Gem 2 6 14 Bundler Bundler version 1 15 4,,georgeclaghorn,2017-10-24 22:57:23,2017-10-25 00:37:16
PR,Change VENDOR PATH to APP ROOT in bin yarn,This variable was initially used to hold the vendor directory Therefore the variable name VENDOR PATH was appropriate However package json is now placed in the root of the project Therefore like other bin scripts I think the variable name APP ROOT is appropriate L5 L5,,y-yagi,2017-10-24 22:51:33,2017-10-25 00:42:18
PR,WIP ActiveStorage Add remote url option,Allow uploads from remote urls By passing a url through the remote url option it is possible to attach a remote file Feedback would be greatly appreciated I have 2 questions should I make a dedicated class for remote files will be useful to extend it in the future where should I define error classes I at least need a DownloadError class,,georgeclaghorn,2017-10-08 08:57:12,2017-10-25 01:01:30
IS,number to human size does not distinguish between singular and plural,Steps to reproduce Expected behavior Actual behavior Is it should get 1 Byte here System configuration Rails version 5 1 1 Ruby version 2 3 1,,,2017-10-25 03:08:58,2017-10-25 04:52:19
IS,disabled fields in remote forms,Steps to reproduce when this form is submitted as html then data not sent when submitted as remote true data is sent form for happening search Happening4acqSearch new url search happenings url method get do f hidden field tag link acquisitions class form control f text field text search placeholder 'Search' value hello you submit tag Search Happenings class btn btn outline success btn sm acquisitionSearch id search happenings submit data search class happening end Expected behavior disabled items form data is not sent Actual behavior data from disabled items is sent System configuration Rails version Rails 5 1 3 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,,2017-08-28 14:33:24,2017-10-25 12:10:38
PR,Does not include disabled element in params,In the case of remote it should be the same behavior as submitting HTML form Fixes 30444,,"y-yagi,amatsuda",2017-09-03 08:07:20,2017-10-25 12:10:38
PR,ci skip Add space before closing curly brace,tiny fix sample code in rails guides,,willnet,2017-10-25 04:32:11,2017-10-25 15:22:58
PR,Do not use Arel star when ignored columns,Summary If there are any ignored columns we will now list out all columns we want to be returned from the database Other Information Includes a regression test Re the test I had to change it should have never been passing in the first place due to the ignored first name column on Developer,,"maclover7,composerinteralia,eugeneius,sgrif,maclover7,sgrif,rafaelfranca,kirs,matthewd,rafaelfranca,maclover7,rafaelfranca",2017-02-05 21:47:11,2017-10-25 15:25:33
IS,Index order desc is not saved into schema rb after migration,Steps to reproduce I tried to create a bugreport testcase but could not figure out all the API calls needed to reproduce entirely so here are manual steps,,,2017-10-16 16:00:32,2017-10-25 15:44:09
PR,Save index order desc to schema rb sqlite Fixes 30902,Summary Fixes 30902 Although the sqlite adapter supports index sort orders they were not being written to db schema rb This uses index xinfo pragma index xinfo instead of index info pragma index info which was used previously as the latter does not contain information about the sort order,,rafaelfranca,2017-10-24 13:56:46,2017-10-25 15:44:09
PR,Remove CHANGELOG entry that was backported to Rails 5 1 3 ci skip,Backport commit,,prathamesh-sonpatki,2017-10-25 17:26:17,2017-10-25 17:26:39
PR,Move extensions to PostgreSQL SchemaDumper,Summary Since 30337 every database adapter has its own SchemaDumper extensions are only supported by PostgreSQL database and postgresql database adapter,,"yahonda,rafaelfranca,yahonda,yahonda",2017-10-25 12:25:47,2017-10-25 17:50:52
IS,Combining references includes and left joins produces invalid queries,Steps to reproduce When constructing a query using references at some point joining the same belongs to relation with both includes and left joins will produce a query containing 2 identical left outer join statements raising a MySQL exception This only happens when using references at some point referencing either the same or any other relation with a belongs to relation has many works fine and left joins joins is also fine System configuration Rails version 5 0 6 5 1 4 Ruby version 2 3 1,,"rafaelfranca,rafaelfranca,kamipo,kamipo",2017-10-24 20:26:36,2017-10-25 17:54:52
PR,Wrap accepted nested attributes params,Summary Fix for 17216 Closes 19254 as this is providing that functionality When a model for a corresponding controller has attributes and an association for which it accepts nested attributes the controller by default will only wrap the attribute names in the root param This PR adds functionality to include the accepted nested attributes in the wrapped root by default,,"rafaelfranca,kamipo",2017-10-23 22:28:36,2017-10-25 18:00:16
PR,Remove unused secrets yml template,secrets yml no longer used since 30067 Together removed app secret method that only used in secrets yml,,"y-yagi,georgeclaghorn",2017-10-06 00:32:46,2017-10-25 18:44:42
IS,Active Record 'Is not null' query very slow,Expected behavior Expect return data is not null more fast Actual behavior I'm try run this query but is very slow spend so much time If I run without 'is not null' statement is pretty fast result to sql SELECT DISTINCT servicos id servicos titulo as service title sum quantidade erros as qtd FROM dados inspecao INNER JOIN fvs metodos verificados ON fvs metodos verificados id dados inspecao fvs metodos verificados id INNER JOIN fvs preenchimento ON fvs preenchimento id fvs metodos verificados fvs preenchimento id INNER JOIN fvs ON fvs id fvs preenchimento fvs id AND fvs empresas id 44093 INNER JOIN atividade ON atividade id fvs preenchimento atividade id AND atividade empresas id 44093 INNER JOIN servicos ON servicos id atividade servicos id AND servicos empresas id 44093 INNER JOIN local ON local id atividade local id INNER JOIN obras ON obras id local obras id AND obras empresas id 44093 WHERE obras id 96520 AND dados inspecao quantidade erros 0 AND dados inspecao quantidade erros IS NULL GROUP BY servicos id I already try this and I had no success ActiveRecord Base connection execute Q SELECT DISTINCT servicos id servicos titulo as service title sum quantidade erros as qtd FROM dados inspecao INNER JOIN fvs metodos verificados ON fvs metodos verificados id dados inspecao fvs metodos verificados id INNER JOIN fvs preenchimento ON fvs preenchimento id fvs metodos verificados fvs preenchimento id INNER JOIN fvs ON fvs id fvs preenchimento fvs id AND fvs empresas id 44093 INNER JOIN atividade ON atividade id fvs preenchimento atividade id AND atividade empresas id 44093 INNER JOIN servicos ON servicos id atividade servicos id AND servicos empresas id 44093 INNER JOIN local ON local id atividade local id INNER JOIN obras ON obras id local obras id AND obras empresas id 44093 WHERE obras id 96520 AND dados inspecao quantidade erros 0 AND dados inspecao quantidade erros IS NULL GROUP BY servicos id System configuration Rails version 4 2 0 Ruby version 2 2 5,,"rafaelfranca,rafaelfranca,rafaelfranca,rafaelfranca",2017-10-25 19:54:28,2017-10-25 19:58:00
IS,namespaced controller inside engine cannot be called in production,Steps to reproduce create a mountable engine tickets in this engine rails g controller api v1 tickets it should create controller that looks like System configuration Rails version 5 1 2 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,,2017-07-20 05:40:01,2017-10-25 23:10:38
IS,Polymorphic has many through association does not delete existing join records if source is polymorphic,Bonus bug The Book can find the genres it is tagged with but those genres cannot find the book they are tagging Test System configuration Rails version 5 1 2 Ruby version 2 4 1,,meinac,2017-07-18 11:20:58,2017-10-25 23:10:39
IS,Unnecessary number of deprecation warnings in ActiveRecord AttributeMethods Dirty,Steps to reproduce In an ApplicationRecord instance call an attribute was method Expected behavior Output 1 deprecation warning System configuration Rails version 5 1 2 5 1 3r rc1 Ruby version 2 3 1 2 3 3 2 4 1 I am gonna open a PR to fix this opening this issue so that it is tracked,,,2017-07-20 15:44:08,2017-10-25 23:10:40
PR,remove incorrect comment about serializable transactions,using serializable isolation would prevent the duplicate insert as done in the example from happening you would get a deadlock in mysql and an error on commit in postgresql,,"kamipo,kamipo,kamipo",2017-10-26 02:52:35,2017-10-26 05:23:10
PR,Remove mention about Evented Redis ci skip,Evented Redis adapter was removed in 48766e32d31651606b9f68a16015ad05c3b0de2c,,y-yagi,2017-10-26 05:34:42,2017-10-26 05:36:55
IS,present called on activerecord record does not return true,Steps to reproduce Expected behavior User create name 'John' returns true User first present returns true in older version of rails Actual behavior User create name 'John' returns true User first present returns FALSE System configuration Rails version 5 1 4 Ruby version 2 3 5,,"matthewd,rafaelfranca",2017-10-25 07:02:10,2017-10-26 13:24:32
PR,Minor fix ci skip,,,"ydakuka,rafaelfranca",2017-10-26 14:51:01,2017-10-26 14:59:36
IS,Ruby On Rails When play video it shows no pictures only audio can be heard why is that,Steps to reproduce When playing a video on ruby on rails website every time only audio play It does'nt play video Current i am using ffmpeg software it is work on local system but not working on live server Hostgrator System configuration Rails version Rails 5 1 3 Ruby version Ruby 2 4 0,,rafaelfranca,2017-10-26 06:12:03,2017-10-26 15:06:17
IS,Terminal corruption when backgrounding then restoring rails console,Steps to reproduce rails c means rails console Control z to minimize fg to un minimize terminal corruption2 Expected behavior The rails console should work Actual behavior The terminal is corrupted What I type is not what is interpreted by the repl The prompt also looks weird at times exit does not get me back to bash the bash command reset also canno't be used at this prompt System configuration rbenv shell 2 4 1 bash 3 2 57 gem install rails v 5 1 4 rc1 macOS 10 12 6,,"matthewd,rafaelfranca",2017-09-07 00:57:15,2017-10-26 15:12:06
PR,Allow passing a Proc or Symbol as an argument to length validator values,This brings the Length validator in line with the Numericality validator which currently supports Proc Symbol arguments An example ruby class Topic include ActiveModel Validations attr accessor title foo validates title length maximum topic topic max length for title def max length for title if foo 5 else 10 end end,,,2017-09-21 13:51:12,2017-10-26 15:27:22
IS,extensions added postgresql schemas are not properly save it into the schema rb file,Steps to reproduce 1 create a migration to add an extension for example Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen It should create the extensions in the correct Postgres schema in my example in shared extensions schema Actual behavior Tell us what happens instead It created the extensions in the current schema used in most of the cases is public But if you are using a different schema and run the migration for the first time these extensions are installed on that schema System configuration Rails version 5 4 1 Ruby version 2 4 1 I have created a possible solution that is working like a charm for my projects If you think that it is the correct one I can start the process of creating the test and all things needed to do the pull request The solution is here in the extensions with schemas fix branch You can see my last 2 commits Cheers,,rafaelfranca,2017-10-26 04:35:33,2017-10-26 19:14:27
IS,after initialize callbacks missing associations on records created by multi layered nested attribute chain,Steps to reproduce The following executable as according to the current active record bug report template will throw an exception caused by the problem When this submit reaches the controller all three records are built at the same time by rails itself and therefore it seems reasonable to assume that all the associations in the chain are going to be present in after initialize callbacks since it is A that creates B and B that creates C Actual behavior Though rails has had problems with the after initialize callback not having proper associations loaded in the past in issues like after initialize no longer has access to associations the direct associations are present in after initialize now for quite some time In an after initialize callback in C its B association that created it is present and working However in the after initialize of C the association between A and B is not present even though it was A that created B and it feels like it should be It forces us to be careful about which associations are used in after initialize callbacks because they might not be present yet in at least this specific rails handled situation System configuration Rails version 5 0 1 Ruby version 2 3 0,,"al2o3cr,tekin",2017-02-14 18:54:04,2017-10-26 23:37:54
PR,fix initial count,Summary NoMethodError undefined method ' for nil NilClass activesupport lib active support core ext enumerable rb 39 in inject' introduced by diff f7f4d3aa7f5b4498d75e823790062246 Other Information custom joins do not have 0 as a default value aliases Hash new 0,,rafaelfranca,2017-10-26 21:22:33,2017-10-27 00:18:36
PR,delegate scope for on PolymorphicReflection,Summary scope for method is undefined on a PolymorphicReflection diff 1663e5f930ac83fef235d7e2aa5edf65L209 works fine on 5 1 4 but fails on master,,"kamipo,kamipo,kamipo,kamipo",2017-09-21 23:28:57,2017-10-27 00:32:41
PR,added welcome message,Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,,2017-10-27 04:32:22,2017-10-27 07:11:28
PR,Remove mention of X Post Data Format header ci skip,Support for this header was removed when actionpack xml parser was extracted and has since been dropped from the gem,,eugeneius,2017-10-27 23:46:27,2017-10-28 05:47:51
PR,Add load hook for ActionDispatch SystemTestCase,This is useful to extend SystemTestCase Also since other test classes already have load hooks should also be in SystemTestCase Ref 0510208dd1ff23baa619884c0abcae4d141fae53,,"y-yagi,rafaelfranca",2017-10-28 03:53:21,2017-10-28 05:53:32
PR,Removed unnecessary semicolons,Summary I just removed unnecessary semicolons like below before,,matthewd,2017-10-28 08:44:56,2017-10-28 12:30:04
PR,5 1 release notes include more removals ci skip,Updated 5 1 release notes md to include support to text and nothing in render,,"kamipo,kamipo",2017-10-26 22:18:38,2017-10-28 13:31:47
PR,ci skip Update the documentation about the primary key type,Summary Replace the primary key type integer in docs with bigint ref 26266,,kamipo,2017-10-28 14:56:32,2017-10-28 15:39:22
IS,Reseeding ignores engines' migrations paths,Steps to reproduce Create a new Rails app 5 0 3 with some migrations Create an engine with some migrations and append the path to the migrations paths Run rake db reset or rake db drop db setup Expected behavior The schema migrations table should contain the application is migrations versions AND the engine is migrations versions Actual behavior Only the application is migrations versions are stored in the schema migrations table This causes problems with later migrations System configuration Rails version 5 0 3 Ruby version 2 3 1,,y-yagi,2017-07-19 15:19:28,2017-10-30 00:58:30
PR,Call Rails ajax without beforeSend,When we call Rails ajax outside rails ujs js we must define beforeSend even though it is empty function I think Rails ajax is not private api so it is more useful before,,,2017-10-28 03:18:22,2017-10-30 04:28:17
IS,ActionCable NoMethodError in websocket driver hybi rb in generate accept,NoMethodErrorwebsocket driver hybi rb in generate accept at line 11 Steps to reproduce This bug popped up in our sentry and unfortunately I do not know why exactly occurred But I think maybe you guys want to dig into this Actual behavior Ruby version ruby 2 3 5p376 2017 09 14 revision 59905 x86 64 linux,,rafaelfranca,2017-10-27 08:38:56,2017-10-30 23:39:48
PR,Remove unused MissingRequestError,MissingRequestError is no longer used since 1e2b0ce,,y-yagi,2017-10-30 23:52:59,2017-10-30 23:59:20
IS,Error in production env not manifested in dev test environments,Steps to reproduce Standard out of the box rails installation One of the views has an internationalized field translated with an interpolation argument like t ' greeting' name 'Wilma' so the locale file has en greeting 'hello name but due to a coding error this translation is called without the interpolation argument at some point t ' greeting' Expected behavior Integration tests should fail because in the production environment this will cause a failure and the page will not render Therefore we need to discover this error in the development and test environments too Actual behavior In development and test environments the translated locale string in the above example simply renders as Hello name But in the production environment where the standard out of the box i18n configuration in environments production rb has config i18n fallbacks true an error is raised in i18n and the page does not render System configuration Rails version 5 1 2 This problem did not exist in 5 0 x I do not know why i18n version 0 8 5 Ruby version 2 4 0 Solution configuring config i18n fallbacks true in environments development rb and environments test rb solves the problem but since this has only come about in Rails 5 1 2 it is possible that there is a more appropriate solution My proposal then is for the standard rails dev test environment config files to have config i18n fallbacks true It is possible that the root cause of the error here is in the i18n gem or it may be intentional behaviour of the i18n gem but nevertheless b c the configuration in production is different from development test the error is not caught,,"Edouard-chin,Edouard-chin,meinac,Edouard-chin,sgrif,meinac,sgrif",2017-07-11 15:14:52,2017-10-31 01:06:58
PR,Remove redundant return statements,Summary I just removed redundant return statements like below before,,,2017-10-28 08:27:37,2017-10-31 05:47:36
PR,Prevent source line wrapping in rescue layout,Summary Long source lines cause line wrapping in the extracted source section of the rescue handler page which can make the line numbers not match up with the source lines Other Information Here are before after screenshots error with wrapping error without wrapping,,,2017-10-31 09:33:04,2017-10-31 15:10:18
IS,Any more information available regarding Active Storage JavaScript events,Hello I am reading the Active Storage documentation available here direct upload javascript events and I am trying to find out how to display a progress bar Just to test I added the following code inside my application js The image gets uploaded on amazon just fine but I see nothing in browser is console I would like to know how to make use of the events available I just want to console something when the event fires,,rafaelfranca,2017-10-31 10:46:20,2017-10-31 15:20:27
IS,Rails adding too many decimals to datetime precision in MySQL,Steps to reproduce I have attached a testing file for this You will need a MySQL database Expected behavior I want a particular table is created at and updated at to be stored in the database with millisecond precision like 2017 10 20 18 31 23 234 The way we have done that in my app with Rails 3 1 thru 4 1 is twofold 1 Define the datetime columns for this table in the migration with precision 3 such as t datetime created at precision 3 null false That creates the table in MySQL as a datetime 3 so it can store the milliseconds 2 Override the db Date Format in Rails so that Rails will actually put the precise time in Time DATE FORMATS db ' Y m d H M S 3N' What has always happened in Rails 3 1 4 1 is that for all datetime fields with no precision in the migration the dates were merely stored without the precision such as 2017 10 19 18 31 23 IF you happened to define the field with precision 3 then the date would be inserted with the decimals to 3 places like 2017 10 20 18 31 23 234 Actual behavior Starting in 4 2 what is happening is that Rails is putting an extra decimal on the date before it inserts it like 2017 10 20 18 31 23 234 234 Here is the error right from the test attached ActiveRecord StatementInvalid Mysql2 Error Incorrect datetime value '2017 10 20 13 09 18 031 031' for column 'created at' at row 1 INSERT INTO payments created at VALUES '2017 10 20 13 09 18 031 031' Not sure what to do because if I remove the precision 3 from the migration the date is not stored in the database with the precision If I do not override the db time format Rails does not put the precision on the date before it saves it So it seems I can either have no precision or have Rails create the decimal portion twice System configuration Rails version 4 2 9 Ruby version 2 3 4 MySQL 2 Gem Version 0 3 21 create precise table zip,,"rafaelfranca,pixeltrix,pixeltrix",2017-10-20 13:31:45,2017-10-31 17:40:13
IS,Grammer Issue in RELEASING RAILES md,Steps to reproduce Look at the RELEASING RAILS md file Expected behavior The note in the Send Rails release announcements section should say NOTE For patch releases there is a rake announce task to generate the release post It supports multiple patch releases too Actual behavior It says NOTE For patch releases there is a rake announce task to generate the release post It supports multiple patch releases too Missing a comma after releases,,,2017-10-31 17:39:11,2017-10-31 17:55:24
PR,Ability to disable lazy singular associations,Summary It can be difficult to track down N 1 problems Even really great tools such as Bullet have a tendency to miss lazily loaded associations This would allow a developer to disable lazy evaluation for singular resources in certain situations This seems like a good solution for collections that iterate and lazy load associated records For instance an index action on a controller might iterate a collection of records like so,,"rafaelfranca,rafaelfranca",2017-10-31 18:20:38,2017-10-31 18:37:12
PR,Address incorrect number of queries executed at Oracle enhanced adapter,Summary This pull request addresses these 17 failures when tested with Oracle enhanced adapter All of these failures are due to the incorrect number of queries Here is the first one,,yahonda,2017-10-31 19:55:01,2017-10-31 20:12:40
PR,Avoid bundler 1 16 0 for now,It is causing bug report template tests to fail This seems an issue of bundler Ref,,y-yagi,2017-11-01 00:31:20,2017-11-01 00:38:30
PR,Remove bundler 1 16 0,Since 1 16 0 is installed by default it seems that the newer one will be used even if specify an older version Ref L1718 Follow up of 31023,,"y-yagi,y-yagi",2017-11-01 01:33:52,2017-11-01 01:46:34
IS,Class specific virtual attribute not writable after using becomes,If using STI and there s a subclass containing a virtual attribute not backend by a database column this attribute can not be written on instances created by superclass instance becomes Subclass Steps to reproduce Observations Reading the virtual attribute does not raise an error it returns nil If the virtual attribute is defined on the superclass instead everything works as expected If the attribute is backed by a column in the database everything works as expected,,,2017-07-25 22:23:23,2017-11-01 01:55:15
PR,Remove bundler 1 16 0,Since 1 16 0 is installed by default it seems that the newer one will be used even if specify an older version Ref L1718 Follow up of 31023,,"y-yagi,koic,rafaelfranca,y-yagi,rafaelfranca",2017-11-01 01:56:13,2017-11-01 02:02:30
PR,Workaround for ActionMailer failures by not installing mail 2 7,Summary This pull request should workaround these 4 failures reported at This should be a workaround commit to make CI green cc yagi,,"yahonda,y-yagi,rafaelfranca,jeremy",2017-11-01 02:49:52,2017-11-01 03:16:15
IS,Inflector configuration in engine not isolated 4 2 0,Steps to reproduce Create Rails application Make an controller helper anything else inside module e g Bcv TestController in controllers bcv test controller rb Create Gemified Engine In engine is config initializers inflections rb add configuration such as inflect acronym 'BCV' Include engine Expected behavior I would expect that engine inflector configuration would not affect the main app inflector configuration and main app is Bcv TestController to load Actual behavior Engine inflector configuration affects the main app influencing how autoloading occurs making Bcv TestController unreachable unless it is renamed to BCV TestController System configuration Rails version 4 2 0 Ruby version 2 2 4 Additional notes While I given bcv as an example what happened for me was that api was inflected I'm not really sure how the Engine should behave in that scenario is it problem of my perception and understanding of engines or actual problem with engine inclusion If you find it global problem I think that adding api as default acronym would probably cover most of the use cases and break a lot of in production apps as well,,"maclover7,pixeltrix,matthewd,rafaelfranca",2017-03-31 10:16:13,2017-11-01 04:27:09
PR,Read and clear ENV RAILS MASTER KEY,Summary After reading ENV RAILS MASTER KEY this variable is cleared to prevent attackers with access to ENV from stealing secrets This was reported in issue 30338 Other Information I decided to open this PR after asking here issuecomment 324426268 if it made sense to implement this within 30067,,"albertoalmagro,albertoalmagro,kaspth,albertoalmagro,kaspth,albertoalmagro,kaspth,albertoalmagro,albertoalmagro,albertoalmagro,albertoalmagro,albertoalmagro,matthewd,albertoalmagro",2017-09-02 16:04:17,2017-11-01 16:01:18
PR,Ignore gem bundler cannot be uninstalled because it is a default gem error when tested with ruby head,Summary This pull request attempts to ignore the following error when tested with ruby head which has bundler as a default gem Refer L1801 This workaround should be removed once is addressed Since Rails unit test cannot run on a forked repository I need to open a pull request to see if it works,,"yahonda,yahonda,yahonda,yahonda",2017-11-01 13:33:04,2017-11-01 21:39:51
IS,Ca not use full Rails engine without database ActiveRecord,I'm trying to create a Rails engine for use in my application that does not interface with a database at all Steps to reproduce 1 Create a new Rails engine and omit ActiveRecord my understand is that this is what I need to do if I'm not using a database Expected behavior The dummy application should load successfully and show the Yay You re on Rails page Actual behavior A 500 error occurs as a result of there being no database configuration System configuration Rails version 5 1 4 Ruby version 2 4 0,,eugeneius,2017-11-01 21:40:00,2017-11-02 00:45:54
PR,Fix warning instance variable not initialized,Currently the following error is shows only when run the test using bin test In AVLogSubscriberTest if the Rails root is not defined define the method and undef it in teardown L21 L33 However in bin test Rails root is defined which results in referring to uninitialized variables and warnings,,y-yagi,2017-11-02 01:10:57,2017-11-02 01:55:40
IS,All the activerecord learn more links are defunct,Steps to reproduce Go to and click on learn more links Expected behavior Links on should work Actual behavior Get 404s,,georgeclaghorn,2017-11-02 13:34:32,2017-11-02 14:16:47
PR,ci skip Fix typo in comments,Fix typo in comments,,eileencodes,2017-11-02 15:41:08,2017-11-02 15:48:21
PR,Faster Log Subscriber Check,,,"schneems,schneems,jeremy,rafaelfranca",2017-11-02 19:34:50,2017-11-02 20:19:19
PR,Remove unused classes,HasManyThroughCantDissociateNewRecords and HasManyThroughCantAssociateNewRecords are no longer used since f6b12c1 ReadOnlyAssociation is no longer used since 0da426b,,y-yagi,2017-11-03 01:26:09,2017-11-03 02:07:47
PR,Fix guides build,Summary Specify bundler version in template files We have already specified to install bundler 1 15 4 in travis yml L31 L32 However bundler 1 16 0 may be used in the test L2208 The test failed due to this influence In order to avoid this specifying bundler version in bug report templates,,"y-yagi,yahonda,kamipo,y-yagi,kamipo",2017-11-03 06:29:17,2017-11-03 13:42:42
IS,Action controller load hooks getting executed twice,This is a followup of a merit gem issue here Issue is Action controller load hooks get executed twice so that re initialization of the constant giving the warning message Steps to reproduce Executable script to reproduce the issue Expected behaviour Load hooks should not be loaded twice Actual behaviour Load hooks gets loaded twice System configuration Rails version 5 1 4 Ruby version 2 4 2,,rafaelfranca,2017-11-03 13:30:54,2017-11-03 16:55:07
PR,Save an allocation when using FILE when manipulating backtraces in ActiveSupport Dependencies,FILE allocates a new object each time you invoke it If you throw a lot of NameError s for whatever reason especially deep down a stack ActiveSupport Dependencies ends up allocating a string for each line of the stack when invoking FILE to compare against In some synthetic benchmarking I was doing this string which is super duper fixed was the most allocated string only to be tossed away completely every GC We can save an allocation by just referencing and freezing once I do not think that FILE can change for already loaded code and if the class gets reloaded through whatever magic I put my frozen constant inside it such that it should be reloaded as well so I think it is safe to freeze,,"rafaelfranca,matthewd,rafaelfranca,matthewd",2017-11-03 18:42:25,2017-11-03 19:13:43
IS,rails new myapp with rspec,Using RSpec with Rails is extremely popular combination numbers on this vs this suggest about 30 of all Rails project use RSpec not hard data but sounds like decent ballpark figure Right now it is a multistep process to setup google instructions in case you forgot exact commands since you last did it rails new myapp T cd myapp manually edit Gemfile putting gem rspec rails in proper group bundle install bundle exec rails g rspec install This really deserves to be simplified into something like rails new myapp with rspec or rails new myapp test rspec or something like that analogously to how database and webpack options are handled It is sort of minor inconvenience per use but it adds up and Rails one command setup is a big advantage over other frameworks Similar argument could be made for other popular variants of Rails setup if there are any,,rafaelfranca,2017-11-03 20:04:22,2017-11-03 20:58:36
PR,Now the reaper can handle inactive connections,Summary Sometimes services like pgpool will kill client connections client application pgpool due to timeouts These connections from active record is perspective are busy but are actually gone The current reaper does not know how to deal with these inactive connections which leaves an application open to connection starvation This pull request does two things Gives connections a more helpful set of functions to determine their state Makes the reaper better understand the types of requests to reap,,"rafaelfranca,matthewd,matthewd,matthewd,matthewd,matthewd,matthewd",2017-11-03 19:17:47,2017-11-04 00:35:11
PR,Remove unused calculate rounded number and digit count,These methods unused since 5533696,,y-yagi,2017-11-04 04:51:18,2017-11-04 06:22:12
PR,Improve docs of ActionDispatch Routing Mapper,,,bogdanvlviv,2017-11-03 23:35:32,2017-11-04 07:00:25
IS,ActiveRecord dependent destroy requires id on the associated object raises NoMethodError undefined method to sym' for nil NilClass,Steps to reproduce Expected behavior The resource should be destroyed without raising an error Actual behavior NoMethodError undefined method to sym' for nil NilClass System configuration Rails version ruby 2 4 2p198 2017 09 14 revision 59899 x86 64 linux Ruby version Rails 5 0 6,,"al2o3cr,kamipo",2017-10-31 22:21:02,2017-11-04 07:16:40
IS,ActiveSupport Inflector parameterize differs from doc because of special dash and underscore behavior,Steps to reproduce Direct call to ActiveSupport Inflector parameterize or String parameterize Expected behavior Parameterize should replace any group of nonalphanumeric chars with the separator Example from the documentation method i parameterize More info parameterize always had special behavior for dashes and underscores there are even tests for that L212 L222 It removes all special chars except for dashes and underscores This behavior is present since Rails 4 Technically the doc should be updated to explain this special case but IMO the special case should be removed it is counter intuitive and does not seem to be useful System configuration Rails version 5 1 4 Ruby version 2 4 2p198,,"rafaelfranca,rafaelfranca",2017-10-29 00:07:38,2017-11-04 13:32:25
PR,ci skip show the correct example to demonstrate inflections,Show the correct example as mentioned in 31008 Closes 31008,,"aditya-kapoor,aditya-kapoor,rafaelfranca,aditya-kapoor",2017-10-31 10:17:13,2017-11-04 13:32:25
PR,Fix Capybara Webkit Driver resize window deprecation warning,DEPRECATION Capybara Webkit Driver resize window is deprecated Please use Capybara Window resize to instead L135 L139,,"NARKOZ,rafaelfranca,NARKOZ,eileencodes",2017-11-03 20:44:55,2017-11-04 18:22:22
IS,invalid byte sequence in request with proprietary format,In one of our controllers we process requests from PayPal about processed transactions This comes in a format we do not particularly care for We just pass it into the PayPal client to verify it and we are good The request spec for that randomly fails though because Instrumentation tries to parse it as UTF8 and depending on who is faster the controller or Instrumentation the request either fails or it does not We have not seen it in production lately since not every request contains invalid encoding and we are also not sure whether this is something that was fixed in a later Rails version Is there any way to tell Instrumentation to ignore specific parameters or apply sanitation only for Instrumentation Any other ideas The backtrace from the test looks like this System configuration Rails version 5 0 6 Ruby version 2 4 2p198,,"al2o3cr,eugeneius,eugeneius,al2o3cr",2017-11-01 12:24:01,2017-11-05 11:38:04
PR,Show RequestForgeryProtection methods in api doc ci skip,Several methods of RequestForgeryProtection are not showed in the api doc even though doc is specified e g form authenticity param These methods are listed in the doc of v4 1 This is due to the influence of nodoc added in 18102 methods after CROSS ORIGIN JAVASCRIPT WARNING not showed from the doc Therefore in order to show the method like originally added startdoc after CROSS ORIGIN JAVASCRIPT WARNING,,y-yagi,2017-11-05 12:25:37,2017-11-05 14:10:46
PR,Generate the correct path in nested scaffold generator,Currently namespaced scaffold generator will generate an incorrect path and the generated file will not work properly This is because combine controller class path and singular table name to generate route L172 Normally if using namspaced generator table name already contains namespace Therefore adding controller class path adds extra namespace Since it is special only when explicitly specifying model name it is modified to change the value only when model name is specified Follow up of 30729,,"y-yagi,eileencodes,y-yagi",2017-11-05 04:50:23,2017-11-05 14:40:57
IS,collection cache key generates invalid SQL for relations with joins,Steps to reproduce Test case Expected behavior Rails should generate a cache key Actual behavior Rails generates a select statement that does not join the right tables but still includes them in the where clause This results in an invalid SQL statement that causes a database exception Workarounds If you call load on the relation before trying to generate a cache key it is able to calculate the key on the data in memory which avoids making any SQL statements Of course that means now all your data has been loaded into memory which is probably what you were trying to avoid by using caching System configuration Rails version 5 1 3 test case is against master Ruby version 2 3 3,,,2017-08-18 17:38:57,2017-11-05 18:38:59
IS,ActiveRecord includes ignored when using update all,Steps to reproduce System configuration Rails version Rails 5 0 2 Ruby version ruby 2 4 1p111 2017 03 22 revision 58053 x86 64 darwin16,,st0012,2017-04-25 00:20:09,2017-11-05 19:14:07
IS,ActiveRecord includes with polymorphic association ignores source in some cases,Steps to reproduce,,,2017-10-16 22:42:00,2017-11-05 21:07:58
IS,Preloading nested through association ignores source type,Steps to reproduce Expected behavior The found cake designers should have size 1 and only contain the cake designer Actual behavior The found cake designers contained the cake designer and the drink designer System configuration Rails version master 5 0 3 Ruby version 2 3 1p112,,,2017-08-14 05:16:05,2017-11-05 22:13:54
PR,fix preloading polymorphic source on multi level has many through,Summary Preloading multi level has many through association is currently discarding source type option Reproduction The through scope 1 is the source type constraint which should be applied to C The through scope 1 is passed to the next level as preload scope and reflection scope 2 should merge preload scope to yield right answer However the preload scope parameter is currently used nowhere For has many through more than two levels the patch should work correctly as well Any advice is welcome,,,2017-08-04 17:26:37,2017-11-05 22:13:54
IS,Deprecation warnings from ActiveRecord AttributeMethods Dirty when calling with lock,I have 2 models Account and PayoutMethod where an account has many payout methods In PayoutMethod I have the following code The warning points to line 80 it is self account with lock do Rails 5 1 3,,"gsamokovarov,rafaelfranca,rafaelfranca,kamipo",2017-08-18 11:04:33,2017-11-05 23:28:15
IS,Using unscoped on an STI base class breaks queries for subclass entities,We hit an interesting gotcha with STI models where one queries the base model using the unscoped relation The problem is that any queries for subclass models will not include the type condition if those queries occur in a stack frame that is beneath the call to unscoped Here is a gist with a test case that recreates the issue To explain the problem a bit more clearly consider the case where we have the following STI hierarchy SubPost Post ActiveRecord Base SubPost includes an after save callback that queries the database for SubPost records Code like this will work as expected We are happy to try to fix this but we wanted to get some feedback on whether code like this should work From our perspective having callback code that dramatically changes its query based on the calling frame is very surprising cc,,kamipo,2016-02-09 19:49:08,2017-11-05 23:29:41
PR,scoping should respect current class and STI constraint,A relation includes klass so it can not be used as it is if current class is different from current scope klass It should be created new relation by current class to respect the klass and STI constraint Fixes 17603 Fixes 23576,,kamipo,2017-05-24 01:02:52,2017-11-05 23:29:41
PR,Merge through reflection scope properly,If through reflection has the same target class with root reflection the through scope should be mereged without dropping any conditions,,"kamipo,kamipo,kamipo",2017-07-02 18:27:43,2017-11-06 00:26:35
PR,Explicitly pass window handle to resize window to,Unlike resize window resize window to has three arguments L135 L143 Therefore if pass only width and height just like resize window ArgumentError will be raised To prevent this explicitly pass window handler Follow up of 31046 r,,y-yagi,2017-11-06 04:18:43,2017-11-06 04:45:31
PR,Remove unused require,Since f182831 this file does not use methods added by module introspection,,y-yagi,2017-11-06 07:54:45,2017-11-06 08:59:33
PR,edit link from guides getting started md,Summary I fixed a code that did not link properly,,"y-yagi,kamipo",2017-11-06 06:29:04,2017-11-06 09:31:03
PR,Mirror the API of Ruby stdlib for prev day next day prev month next month prev year next year,Add same method signature for Time prev day Time next day Time prev month Time next month Time prev year Time next year in accordance with Date prev day Date next day Date prev month Date next month Date prev year Date next year Allows pass argument for Time prev day Time next day Time prev month Time next month Time prev year Time next year Before,,"bogdanvlviv,tenderlove,bogdanvlviv,pixeltrix,bogdanvlviv,bogdanvlviv,pixeltrix,bogdanvlviv",2017-09-16 18:41:42,2017-11-06 11:54:47
PR,Fix french spelling mistake,Summary Minor fix in comment In french we do not write 'Tr s' but 'Tr s' Other Information,,pixeltrix,2017-11-06 09:56:01,2017-11-06 13:52:11
IS,Inconsistent handling of acronyms with humanize,Steps to reproduce Define acronyms initializers inflectors rb ActiveSupport Inflector inflections do inflect inflect acronym 'LAX' inflect acronym 'SFO' end Format strings with defined acronyms Expected behavior Acronyms should be formatted consistently regardless of the initial casing of the input Actual behavior Upper case or capitalized input does not behave properly Lower case input does System configuration Rails version 4 2 6 Ruby version 2 3 0,,,2017-11-05 01:36:48,2017-11-06 14:50:09
IS,Comparing TimeWithZones to Dates returns incorrect results depending on your time zone,Depending on the value of Time zone comparing a TimeWithZone to a Date might return incorrect or at least inconsistent results These results are different than the result of comparing a DateTime to a Date Steps to reproduce Consider the following code automated test case available Expected behavior All comparisons return true in all time zones Actual behavior In time zones that are less than UTC e g America New York the DateTime comparisons return true but the TimeWithZone comparisons return false If you switched the direction of the comparisons i e switch to and vice versa I believe time zones greater than UTC would exhibit the error though I have not tested I believe what is happening is that at some point the Date gets converted to midnight UTC regardless of the value of Time zone Midnight in America New York UTC 4 is greater than midnight UTC and the comparison fails It is possible this behavior is by design The Date to time coercion could be defined to mean midnight UTC on the given date regardless of the time zone of the time you are comparing it to but I think that leads to pretty confusing behavior System configuration Rails version I tested on 5 1 4 and on master Ruby version 2 4 2,,pixeltrix,2017-10-12 16:08:24,2017-11-06 15:23:16
IS,Rails DateTime silent data modification,Steps to reproduce 1 Load a datetime select helper for a datetime that falls on an ambiguous local time when rails has a time zone configured For example 2017 10 29 1 00 UTC in the Europe London timezone is '2017 10 29 1 00' However '2017 10 29 1 00' in the Europe London timezone happens at two different times in UTC 2017 10 29 1 00 UTC 2017 10 29 0 00 UTC 2 Submit the form updating the time Rails will convert localtime to UTC before writing to the database But the time is ambiguous and Rails resolves this by choosing the first time The time is now changed even though the user did not modify it on the form Expected behavior If you only have a single timezone configured for your application then this is not such a big problem because existing data wo not be silently changed Though there is still the problem of allowing the user to specify the actual time they want but this is a problem that a lot applications that show a time in local time struggle with But if you have multiple users sharing the a rails application with different time zones then it is possible for users to inadvertently corrupt the times other users have created even though they are not editing that field if they are in different time zones There is also documentation in rails about how you might set up different time zones for different users so presumably this is a supported use case L27 I think there needs to be consideration to throwing an exception in these cases when there is an ambiguity rather than have the risk of data being silently changed or at least give users the option of throwing the exception and keeping the current behaviour as the default Actual behavior The date was silently changed System configuration Rails version 5 1 4 Ruby version 2 4 0,,pixeltrix,2017-10-04 22:22:58,2017-11-06 17:35:13
PR,Resolve Minitest 6 deprecation in assert no changes,These changes resolve a deprecation warning in assert no changes when asserting that an expression evaluates to nil before and after the passed block is evaluated The smallest demonstration of this edge case Minitest 5 issues a deprecation warning and Minitest 6 will fail completely For additional context the motivations and implications of this change to Minitest have been discussed at length in seattlerb minitest 666 seattlerb minitest 666,,,2017-11-06 17:18:34,2017-11-06 18:26:22
IS,Belongs to relation does not accept dependent nullify,Steps to reproduce Expected behavior Since the relation can include also an optional true I expected that I can nullify after destroy the related entity Does it make sense Actual behavior Raises an ArgumentError The dependent option must be one of destroy delete but is nullify ArgumentError Related code L13 L15 System configuration Rails version 5 0 0 1 Ruby version 2 3 1,,rafaelfranca,2017-11-06 17:52:44,2017-11-06 18:36:26
PR,PostgreSQL boolean is called boolean,In PostgreSQL the type bool does not exist it is called boolean I do not know why it partially works but it causes a Ruby false value to be stored as NULL instead of FALSE That causes an error if the column is NOT NULL,,"rafaelfranca,kamipo",2017-11-06 18:46:10,2017-11-06 19:43:36
PR,Handle Timeout timeout in rails queries,TL DR If a Timeout timeout is triggered in Transaction within new transaction an exception is thrown,,"al2o3cr,rafaelfranca",2017-03-09 16:52:40,2017-11-06 22:20:45
IS,Add skip active storage and do so automatically when skip active record is used,You should be able to get Rails without Active Storage so let is implement the standard opt out And let is invoke this out out when the skip active record flag is set as well You can not use Active Storage without Active Record,,dhh,2017-08-06 21:10:26,2017-11-06 22:25:55
PR,Provide initialization of Active Storage,issuecomment 320523143 Closes 30102,,"bogdanvlviv,rafaelfranca,rafaelfranca,bogdanvlviv,bogdanvlviv,yhirano55,bogdanvlviv,y-yagi,y-yagi,bogdanvlviv,bogdanvlviv,bogdanvlviv,rafaelfranca,willnet,bogdanvlviv,bogdanvlviv,rafaelfranca,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv,georgeclaghorn,y-yagi,y-yagi,bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-08-06 20:59:14,2017-11-06 22:25:55
IS,rails not verifying authenticity token in remote form,Steps to reproduce Hello everyone i have an issue with authenticity token in form with remote true Expected behavior Tell us what should happen We should not be able to submit a remote form if the authenticity token value has chenged Actual behavior When i change the authenticity token value i can still submit the form But if i render the form in html not js i can not System configuration Rails version 4 2 9 Ruby version ruby 2 2 2p95 2015 04 13 revision 50295 x86 64 linux,,"y-yagi,y-yagi,y-yagi,y-yagi",2017-11-03 13:16:25,2017-11-06 23:01:30
PR,Execute ConfirmationValidator validation when confirmation is value is false,In according to our documentation ConfirmationValidator validation should not be executed only if confirmation is value is nil confirmation L60 L62,,bogdanvlviv,2017-11-05 19:33:12,2017-11-06 23:13:38
IS,ActiveStorage download with block not working for S3 or Azure Storage,I think I have identified an issue that affects the download method for the Azure Storage and S3 ActiveStorage services I first became aware of it when ActiveStorage AnalyzeJob was failing because it could not download the file but I have found the same issue occurs when you try to download a preview or download with a block I discovered the issue with S3 but having a look at the code I believe it would affect Azure Storage too This is the error I'm seeing Expected behavior The download method should work with a block and allow the ActiveStorage AnalyzeJob and previews to work for the Azure Storage and S3 drivers Actual behavior An undefined local variable or method 'block' for ActiveStorage Service S3Service 0x00000000069ebbb8 error is raised System configuration Rails version Rails 5 2 0 alpha Ruby version ruby 2 4 2p198,,georgeclaghorn,2017-11-06 23:49:54,2017-11-07 02:29:38
PR,Fix streaming downloads from S3 Azure Storage,Closes 31073,,georgeclaghorn,2017-11-07 00:10:48,2017-11-07 02:29:38
PR,Fix bin rails db migrate with specified VERSION,Fix bin rails db migrate with specified VERSION bin rails db migrate with empty VERSION behaves as without VERSION Check a format of VERSION Allow a migration version number or name of a migration file Raise error if format of VERSION is invalid Raise error if target migration does not exist Related to 30707 cc,,"bogdanvlviv,eileencodes,matthewd,matthewd,matthewd,matthewd,bogdanvlviv,bogdanvlviv,bogdanvlviv,rafaelfranca,bogdanvlviv,eileencodes,bogdanvlviv,matthewd,matthewd,bogdanvlviv,bogdanvlviv,bogdanvlviv,bogdanvlviv",2017-09-25 21:16:06,2017-11-07 02:58:15
PR,Update Active Record Validations Guide ci skip,,,"bogdanvlviv,rafaelfranca,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-11-05 21:24:34,2017-11-07 03:09:21
PR,Add cases to test combining validation conditions,Test condition that is defined by array of conditions Test condition that is defined by combining if and unless Test local condition that is defined by if Test local condition that is defined by unless See combining validation conditions,,"bogdanvlviv,rafaelfranca,bogdanvlviv,bogdanvlviv",2017-11-05 22:41:16,2017-11-07 03:48:03
PR,Prevent extra string allocations when no arel' arg passed,Do a check if the arel' argument is passed in and simply set it to 'nofollow' if arel' was not passed in This prevents three string allocations for each call to link to in that scenario In the scenario where the arel' argument is passed in performance is around the same as before as the key check is very fast Also I removed the freeze calls because this file has frozen string literal true at the top,,"oniofchaos,oniofchaos,oniofchaos,oniofchaos",2017-10-27 01:26:19,2017-11-07 04:39:09
PR,Make it easy to get the controller from the route,Summary While the router should know how to get to the controller it does not This can be annoying for metaprogramming gems I know this is probably not the right way to do it but I would love this functionality so any guidance on how rails would love to do this would be much appreciated,,"rafaelfranca,rafaelfranca,rafaelfranca,matthewd,pixeltrix",2017-11-04 17:44:47,2017-11-07 05:00:35
PR,Override host in before setup on system test,Summary We do not mind whether setup or before setup we should call host in This fix enables to override host in before setup too Other Information Sample system test is below,,"rafaelfranca,rafaelfranca",2017-11-05 10:15:54,2017-11-07 05:06:52
PR,Fix comment in check class collision ci skip,ScaffoldBase was changed to ResourceHelpers by 0efedf2,,y-yagi,2017-11-07 05:26:16,2017-11-07 05:33:48
IS,ActiveSupport TimeZone gives incorrect offsets for dates grossly in the future,Steps to reproduce Dates significantly into the future are producing incorrect timezone offset Specifically DST is not applied This conflicts with the behaviour we have in Postgres which does apply DST correctly Expected behaviour System configuration Rails version 5 0 2 Ruby version 2 3 3,,pixeltrix,2017-08-25 16:35:22,2017-11-07 07:53:15
PR,Add Proc as json method,Added Proc as json to allow procs to be passed to json encoder Supposed to be used when data is generated lazily due to heavy operations It is required when same structures are used to be converted to JSON and in other places that allow the lazy data evaluation in my case Liquid Templates,,"bogdan,matthewd,bogdan,pixeltrix,rafaelfranca,bogdan",2017-11-06 09:56:09,2017-11-07 09:15:31
IS,ActiveModel Error add JSON API code property to errors,I have a JSON API built with Rails API I'm following JSON API spec for creating responses for my API How could I add code property to errors as described in the spec errors I use ActiveModel Errors add method to add an error to the object,,al2o3cr,2017-11-07 10:11:20,2017-11-07 21:01:04
PR,Modify belongs to relation to support more dependent options,Summary Modify belongs to valid dependent options to support also nullify restrict with error or restrict with exception As said here 31070 the actual behaviour is something expected to avoid orphan objects However I have found some situations and relationships that could need nullify instead of destroy since the models are not heavily related My approach now is quite simple just enabling all kinds of dependent options always but could be modified to just support the new ones when optional is set to true If you need more details I can attach our example,,"rafaelfranca,rafaelfranca",2017-11-06 21:13:43,2017-11-07 22:40:53
PR,Update websocket driver dependency constraint,Summary This updates the dependency constraint for websocket driver in actioncable rack test is the only gem that appears as outdated when running bundle outdated on a fresh installation of Rails I have checked the changelog for websocket driver and it does not appear to have breaking changes and the actioncable tests passed locally for me after the change,,,2017-10-16 23:01:44,2017-11-08 03:07:19
PR,Do not run active storage install when bundle install is skipped,In order to execute the rails command need to run bundle install in advance Therefore if skipped bundle install rails command may fail and should not do it,,"y-yagi,bogdanvlviv",2017-11-08 03:37:05,2017-11-08 07:57:16
PR,Fix output of select tag with include blank true ci skip,Since 24923 if use select tag with include blank true an empty label is added,,y-yagi,2017-11-08 07:51:33,2017-11-08 08:04:35
PR,Use released redis namespace instead of master version,The redis namespace 1 6 0 includes redis rb 4 0 support,,y-yagi,2017-11-08 08:11:29,2017-11-08 08:29:17
PR,AbstractController Base action methods refactoring,Consider the example So in this PR I made Rails go the first way,,,2017-09-01 23:13:44,2017-11-08 18:31:02
PR,Remove redundant passing skip active storage in test cases,These were added in 30101 after 31084 it became redundant cc yagi,,bogdanvlviv,2017-11-08 21:44:24,2017-11-08 22:39:42
PR,Change output log about skipping instalation of Active Storage,Using of is preferable over ' to express console command in output log,,bogdanvlviv,2017-11-08 22:13:53,2017-11-08 23:03:52
PR,Allow ConcurrentTransactionTest can run with Oracle enhanced adapter,Summary Not only postgresql or mysql2 adapter Oracle enhanced adapter pass these two test cases ConcurrentTransactionTest test transaction per thread ConcurrentTransactionTest test transaction isolation read committed Related with,,"yahonda,kamipo,yahonda,rafaelfranca,yahonda,kamipo,rafaelfranca,yahonda",2017-11-08 21:40:51,2017-11-09 01:50:37
IS,,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen log Actual behavior Tell us what happens instead System configuration Rails version 5 1 3 Ruby version 2 3 4p301,,rafaelfranca,2017-11-09 02:08:06,2017-11-09 03:11:31
PR,Correctly kill the server started with ujs test,Kernel spawn execute command via the shell if contains shell metacharacters in the command In that case return value of spawn is pid of the shell not the server Therefore just killing the pid will leave the process of server In order to correctly kill the server send a signal to the process group not the process,,y-yagi,2017-11-09 02:42:15,2017-11-09 03:16:46
IS,How to listener client disconnect network,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen when client disconnection network Server how process that Actual behavior Tell us what happens instead System configuration Rails version 5 1 3 Ruby version 2 3 4p301,,,2017-11-09 03:45:00,2017-11-09 03:58:44
PR,Update links in README ci skip,Summary Update some broken links in README,,rafaelfranca,2017-11-09 04:04:59,2017-11-09 05:02:34
PR,Use warn instead of stderr puts in bin yarn,Using stderr puts triggers the Style StderrPuts rubocop cop they have a good reason to recommend using warn instead This cop identifies places where stderr puts can be replaced by warn The latter has the advantage of easily being disabled by e g the W0 interpreter flag or setting VERBOSE to nil,,rafaelfranca,2017-11-09 03:30:19,2017-11-09 05:03:50
PR,Fix typoes on ActionDispatch HTTP FilterParameters,Summary I have fixed 2 typoes on the comment of ActionDispatch HTTP FilterParameters Add a continuative relative pronoun and an additional definite article for more understandable document Use present tense on method description,,,2017-11-07 09:35:07,2017-11-09 05:53:40
PR,Use plain assert in assert changes to avoid MT6 refutes,Seeing the previously issued PRs about it we can avoid the nil comparisons that can happen in assert changes by using plain assert calls This is to avoid a deprecation warning about comparing nil values in assert equal for Minitest 5 and a crash in Minitest 6 You can see the preparations done in assert equal ae You can also see that assert a does not care about nil s ae L159 L188 a L131 L142,,gsamokovarov,2017-11-07 08:47:55,2017-11-09 05:57:22
IS,Test ISSUE,Steps to reproduce Guidelines for creating a bug report are available here creating a bug report Expected behavior Tell us what should happen Actual behavior Tell us what happens instead System configuration Rails version Ruby version,,,2017-11-09 11:06:14,2017-11-09 11:07:45
PR,Do not show credentials in generators help,Since credentials generator is executed via the credentials command and does not need to be executed directly so it is not necessary to show it in help,,y-yagi,2017-11-09 12:00:56,2017-11-09 12:49:08
PR,Allow Range include on TWZ ranges,In 11474 we prevented TWZ ranges being iterated over which matched Ruby is handling of Time ranges and as a consequence include stopped working with both Time ranges and TWZ ranges However in ruby ruby b061634 support was added for include to use cover for 'linear' objects Since we have no way of making Ruby consider TWZ instances as 'linear' we have to override Range include,,"pixeltrix,pixeltrix,pixeltrix,al2o3cr,matthewd,pixeltrix,pixeltrix,pixeltrix",2017-11-07 11:35:54,2017-11-09 13:50:51
IS,DateTime range include returns wrong output or so I think,Steps to reproduce System configuration Rails version 5 1 3 Ruby version 2 4 2,,"al2o3cr,pixeltrix",2017-10-04 13:06:53,2017-11-09 13:52:49
IS,Rails 5 1 4 Empty request param parsed to array with empty string,Steps to reproduce f e on patch request send entity title params will have title Expected behavior expect get empty array System configuration Rails version 5 1 4 Ruby version 2 4 1,,"al2o3cr,pixeltrix,rafaelfranca",2017-09-28 08:21:38,2017-11-09 14:22:36
PR,Change template files extensions to rb erb,Summary Template files with rb extensions were causing problems with static analysis tools Fixes 30690 Other Information This is not just cosmetic change the issue was causing problems with the Travis This is my first contribution and after reading all the docs about it I think I should not update the CHANGELOG but please correct me if I'm wrong,,"y-yagi,pixeltrix",2017-09-24 06:38:14,2017-11-09 14:52:41
IS,ActionView Helpers AssetUrlHelper asset path is inconsistent with blank and nil source,Steps to reproduce It is not really a bug but more like inconsistency about how argument source is handled If source nil an error is raised If source blank an empty string is returned Is it really a good thing to raise an error for nil source Expected behavior asset path return asset path nil return Actual behavior asset path return asset path nil raise ArgumentError System configuration Rails version 5 1 4 Ruby version 2 3 1,,"y-yagi,pixeltrix",2017-09-21 09:27:17,2017-11-09 14:58:11
IS,Query with symbols does not accept keys from ActionController Parameters,Steps to reproduce params ActionController Parameters new statuses 'Something' permit AModel where status in statuses params to sql Expected behavior Output select from a table WHERE status in 'Something' Actual behavior Output select from a table WHERE status in statuses System configuration Rails version 5 0 Ruby version 2 4 1,,pixeltrix,2017-11-09 14:50:42,2017-11-09 15:20:44
PR,Fix after commit on create being fired twice if save is called within,Fixes,,,2017-11-09 15:39:18,2017-11-09 15:40:20
PR,fixed typo between 'bin rails' and 'bin rake',below command does not exists it would be typo of bin rake db migrate,,guilleiguaran,2017-11-09 15:43:36,2017-11-09 15:46:48
PR,Use Tempfile create,Instead of Dir Tmpname make tmpname an internal method which does not guarantee uniqueness use Tempfile create Summary Provide a general description of the code changes in your pull request were there any bugs you had fixed If so mention them If these bugs have open GitHub issues be sure to tag them here as well to keep the conversation linked together Other Information If there is anything else that is important and relevant to your pull request mention that information here This could include benchmarks or other information If you are updating any of the CHANGELOG files or are asked to update the CHANGELOG files by reviewers please add the CHANGELOG entry at the top of the file Finally if your pull request affects documentation or any non code changes guidelines for those changes are available here contributing to the rails documentation Thanks for contributing to Rails,,"kamipo,kamipo,rafaelfranca,yahonda,yahonda",2017-11-09 08:13:14,2017-11-09 17:00:25
PR,field error proc wrap form select optgroup and separator option,Background The field error proc L145 is responsible for decorating input tags that refer to attributes with errors This default build in rails feature wrap invalid form elements with additional markup div class field with errors div Bug on form select with grouped options The optgroup of a select collection is wraped by the field error proc Notice Chrome Web Inspector did not render div elements inside a select guess because it is invalid html It is only visible in the raw source code System configuration Ruby v2 4 2 Rails v5 1 4 Fix for field error proc wraps form select optgroup Fix for field error proc wraps form select divider option Add tests for uncovered elements with errors Test coverage test select grouped options with errors test time zone select with priority zones and errors Extend test coverage test collection select with errors test label with errors test check box with errors test check boxes with errors test radio button with errors test radio buttons with errors test collection check boxes with errors test collection radio buttons with errors,,rafaelfranca,2017-11-08 12:02:26,2017-11-09 18:10:53
IS,Move away from Erubi s,Hello Erubi maintainer claims that this bug will not be fixed Rails should consider moving to ERB or allow other ERB renderers not sure if it is possible now There is no point in switching to Erubi if bugs albeit rare are not going to be fixed Steps to reproduce Render the following ERB block from 18098 System configuration Rails version Any recent one tested on 4 2 10 Ruby version Any tested on 2 3 5,,rafaelfranca,2017-11-09 19:28:39,2017-11-09 19:35:01
PR,Move Attribute and AttributeSet to ActiveModel,Summary Use Attribute and AttributeSet to back the attributes API Stop automatically including ActiveModel Dirty in ActiveModel Attributes and make it optional Other Information Long term I would expect to see us deprecate ivar backed attributes and eventually change ActiveModel Dirty to stop supporting them having it include ActiveModel Attributes and remove things like previously changed attributes changed by setter and the use of ActiveModel NullMutationTracker r,,"lugray,rafaelfranca,sgrif,sgrif,sgrif,sgrif,lugray,lugray,lugray,sgrif,lugray,lugray,lugray,matthewd,lugray,sgrif,lugray",2017-10-25 13:39:24,2017-11-09 20:12:39
PR,Split up the railties tests for CI,,,"bogdanvlviv,bogdanvlviv,matthewd",2017-08-17 22:11:20,2017-11-09 21:05:33
IS,Malformed parameters could make an example of ActionController raise NoMethodError,Steps to reproduce For example method i permit,,rafaelfranca,2017-09-04 09:30:49,2017-11-09 21:19:11
PR,MySQLDatabaseTasks create could not create database but rails db create task says Created database,When MySQL is not running rails db create command will exit normally I expect rails db create to exit with an error,,"rafaelfranca,matthewd",2017-07-05 06:20:43,2017-11-09 22:21:37
PR,Simplify implementation of MySQLDatabaseTasks,Raise error if unsupported charset for mysql blog bin rails db create Before Closes 29683 Related to 27398 hr Simplify implementation of MySQLDatabaseTasks Do not process MySQL ERROR 1045 raise error instead Make behavior of MySQLDatabaseTasks more consistent with behavior of PostgreSQLDatabaseTasks,,"bogdanvlviv,bogdanvlviv,bogdanvlviv,rafaelfranca,bogdanvlviv",2017-08-25 21:15:57,2017-11-09 22:21:38
IS,FATAL Peer authentication failed for a database user when creating a test database ONLY,Hello I have got a credential error when trying to create drop development and testing databases The error says System configuration Rails version Rails 5 0 0 1 Ruby version ruby 2 3 1p112 2016 04 26 revision 54768 x86 64 linux,,bogdanvlviv,2016-12-18 19:50:42,2017-11-09 22:50:09
PR,Fixed typo in test for activesupport parameterize,I found a typo for StringToParameterizePreserceCaseWithUnderscore where Preserce should be Preserve,,"aditya-kapoor,aditya-kapoor",2017-11-01 11:03:10,2017-11-09 23:25:08
IS,RAILS MASTER KEY should be read very early in startup and then cleared,Steps to reproduce Use secrets yml enc and provide the key to your app via the environment variable RAILS MASTER KEY Expected behavior The secret key should not remain in your environment after it is read by Rails otherwise you are simply making it ever so slightly more difficult for an attacker to steal your secrets Actual behavior The environment still contains your secret key and your secrets can be stolen with little additional effort 3rd party gems run in process and can steal the key even if you provide the key in the command itself e g RAILS MASTER KEY abc123 bin rails start instead of exporting it to prevent forked spawned processes from inheriting it System configuration Rails version 5 1 Ruby version Any,,"albertoalmagro,albertoalmagro,albertoalmagro",2017-08-20 16:51:31,2017-11-09 23:25:25
IS,read attribute with something that is not an attribute does not return the result of calling its block,Steps to reproduce 1 Have an instance of a model 1 Have an attribute name not found on the columns for that model is table 1 Have a block that returns some value 1 Call read attribute method i read attribute on that instance passing it that attribute and block Expected behavior read attribute should return the result of calling the block The docs do not specify this I am assuming that is the expected behavior because read attribute essentially delegates to read attribute L50 and read attribute uses fetch value with the same block L66 Actual behavior read attribute returns nil System configuration Rails version 5 0 0 1 edge Ruby version ruby 2 3 4p301 Test,,"rafaelfranca,rafaelfranca,matthewd",2017-10-31 16:43:47,2017-11-10 00:08:22
PR,Bump RuboCop to 0 51 0,Summary RuboCop 0 51 0 was released And rubocop 0 51 channel is available in Code Climate This PR will bump RuboCop to 0 51 0 and fixes the following new offenses,,"koic,yahonda,koic",2017-11-10 01:41:03,2017-11-10 04:15:13
